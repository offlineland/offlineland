/*

Are you a programmer? Please say "To Code Island" in Manyland.

Manyland.js (c) 2013-2020 Philipp Lenssen & Scott Lowe
jQuery (c) 2005, 2014 jQuery Foundation, Inc.
*/
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});!function(a,b){"use strict";function c(a,b){var c,d;b=b||{},a="raven"+a.substr(0,1).toUpperCase()+a.substr(1),document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(a,!0,!0)):(c=document.createEventObject(),c.eventType=a);for(d in b)j(b,d)&&(c[d]=b[d]);if(document.createEvent)document.dispatchEvent(c);else try{document.fireEvent("on"+c.eventType.toLowerCase(),c)}catch(e){}}function d(a){this.name="RavenConfigError",this.message=a}function e(a){var b=Q.exec(a),c={},e=7;try{for(;e--;)c[P[e]]=b[e]||""}catch(f){throw new d("Invalid DSN: "+a)}if(c.pass)throw new d("Do not specify your private key in the DSN!");return c}function f(a){return"undefined"==typeof a}function g(a){return"function"==typeof a}function h(a){return"string"==typeof a}function i(a){for(var b in a)return!1;return!0}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){var c,d;if(f(a.length))for(c in a)j(a,c)&&b.call(null,c,a[c]);else if(d=a.length)for(c=0;d>c;c++)b.call(null,c,a[c])}function l(){J="?sentry_version=4&sentry_client=raven-js/"+O.VERSION+"&sentry_key="+H}function m(a,b){var d=[];a.stack&&a.stack.length&&k(a.stack,function(a,b){var c=n(b);c&&d.push(c)}),c("handle",{stackInfo:a,options:b}),p(a.name,a.message,a.url,a.lineno,d,b)}function n(a){if(a.url){var b,c={filename:a.url,lineno:a.line,colno:a.column,"function":a.func||"?"},d=o(a);if(d){var e=["pre_context","context_line","post_context"];for(b=3;b--;)c[e[b]]=d[b]}return c.in_app=!(!M.includePaths.test(c.filename)||/(Raven|TraceKit)\./.test(c["function"])||/raven\.(min\.)?js$/.test(c.filename)),c}}function o(a){if(a.context&&M.fetchContext){for(var b=a.context,c=~~(b.length/2),d=b.length,e=!1;d--;)if(b[d].length>300){e=!0;break}if(e){if(f(a.column))return;return[[],b[c].substr(a.column,50),[]]}return[b.slice(0,c),b[c],b.slice(c+1)]}}function p(a,b,c,d,e,f){var g,h;b+="",("Error"!==a||b)&&(M.ignoreErrors.test(b)||(e&&e.length?(c=e[0].filename||c,e.reverse(),g={frames:e}):c&&(g={frames:[{filename:c,lineno:d,in_app:!0}]}),b=r(b,100),M.ignoreUrls&&M.ignoreUrls.test(c)||(!M.whitelistUrls||M.whitelistUrls.test(c))&&(h=d?b+" at "+d:b,t(q({exception:{type:a,value:b},stacktrace:g,culprit:c,message:h},f)))))}function q(a,b){return b?(k(b,function(b,c){a[b]=c}),a):a}function r(a,b){return a.length<=b?a:a.substr(0,b)+""}function s(){var a={url:document.location.href,headers:{"User-Agent":navigator.userAgent}};return document.referrer&&(a.headers.Referer=document.referrer),a}function t(a){v()&&(a=q({project:I,logger:M.logger,site:M.site,platform:"javascript",request:s()},a),a.tags=q(M.tags,a.tags),a.extra=q(M.extra,a.extra),i(a.tags)&&delete a.tags,i(a.extra)&&delete a.extra,G&&(a.user=G),g(M.dataCallback)&&(a=M.dataCallback(a)),(!g(M.shouldSendCallback)||M.shouldSendCallback(a))&&(E=a.event_id||(a.event_id=x()),u(a)))}function u(a){var b=new Image,d=F+J+"&sentry_data="+encodeURIComponent(JSON.stringify(a));b.onload=function(){c("success",{data:a,src:d})},b.onerror=b.onabort=function(){c("failure",{data:a,src:d})},b.src=d}function v(){return L?F?!0:(y("error","Error: Raven has not been configured."),!1):!1}function w(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],h(b)?c.push(b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")}function x(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}function y(b,c){a.console&&console[b]&&O.debug&&console[b](c)}function z(){var b=a.RavenConfig;b&&O.config(b.dsn,b.config).install()}var A={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7},B=[].slice,C="?";A.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw A.report(b),b}}return b},A.report=function(){function c(a){h(),o.push(a)}function d(a){for(var b=o.length-1;b>=0;--b)o[b]===a&&o.splice(b,1)}function e(){i(),o=[]}function f(a,b){var c=null;if(!b||A.collectWindowErrors){for(var d in o)if(j(o,d))try{o[d].apply(null,[a].concat(B.call(arguments,2)))}catch(e){c=e}if(c)throw c}}function g(a,b,c,d,e){var g=null;if(r)A.computeStackTrace.augmentStackTraceWithInitialElement(r,b,c,a),k();else if(e)g=A.computeStackTrace(e),f(g,!0);else{var h={url:b,line:c,column:d};h.func=A.computeStackTrace.guessFunctionName(h.url,h.line),h.context=A.computeStackTrace.gatherContext(h.url,h.line),g={message:a,url:document.location.href,stack:[h]},f(g,!0)}return m?m.apply(this,arguments):!1}function h(){n||(m=a.onerror,a.onerror=g,n=!0)}function i(){n&&(a.onerror=m,n=!1,m=b)}function k(){var a=r,b=p;p=null,r=null,q=null,f.apply(null,[a,!1].concat(b))}function l(b,c){var d=B.call(arguments,1);if(r){if(q===b)return;k()}var e=A.computeStackTrace(b);if(r=e,q=b,p=d,a.setTimeout(function(){q===b&&k()},e.incomplete?2e3:0),c!==!1)throw b}var m,n,o=[],p=null,q=null,r=null;return l.subscribe=c,l.unsubscribe=d,l.uninstall=e,l}(),A.computeStackTrace=function(){function b(b){if(!A.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},d=c();return d.open("GET",b,!1),d.send(""),d.responseText}catch(e){return""}}function c(a){if(!h(a))return[];if(!j(v,a)){var c="";-1!==a.indexOf(document.domain)&&(c=b(a)),v[a]=c?c.split("\n"):[]}return v[a]}function d(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,g=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,h="",i=10,j=c(a);if(!j.length)return C;for(var k=0;i>k;++k)if(h=j[b-k]+h,!f(h)){if(d=g.exec(h))return d[1];if(d=e.exec(h))return d[1]}return C}function e(a,b){var d=c(a);if(!d.length)return null;var e=[],g=Math.floor(A.linesOfContext/2),h=g+A.linesOfContext%2,i=Math.max(0,b-g-1),j=Math.min(d.length,b+h-1);b-=1;for(var k=i;j>k;++k)f(d[k])||e.push(d[k]);return e.length>0?e:null}function g(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function i(a){return g(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function k(a,b){for(var d,e,f=0,g=b.length;g>f;++f)if((d=c(b[f])).length&&(d=d.join("\n"),e=a.exec(d)))return{url:b[f],line:d.substring(0,e.index).split("\n").length,column:e.index-d.lastIndexOf("\n",e.index)-1};return null}function l(a,b,d){var e,f=c(b),h=new RegExp("\\b"+g(a)+"\\b");return d-=1,f&&f.length>d&&(e=h.exec(f[d]))?e.index:null}function m(b){for(var c,d,e,f,h=[a.location.href],j=document.getElementsByTagName("script"),l=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<j.length;++o){var p=j[o];p.src&&h.push(p.src)}if(e=m.exec(l)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=g(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(g(l).replace(/\s+/g,"\\s+"));if(f=k(d,h))return f;if(e=n.exec(l)){var s=e[1];if(c=i(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=k(d,h[0]))return f;if(d=new RegExp(c),f=k(d,h))return f}return null}function n(a){if(!a.stack)return null;for(var b,c,g=/^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,h=/^\s*(\S*)(?:\((.*?)\))?@((?:file|https?|chrome).*?):(\d+)(?::(\d+))?\s*$/i,i=a.stack.split("\n"),j=[],k=/^(.*) is undefined$/.exec(a.message),m=0,n=i.length;n>m;++m){if(b=h.exec(i[m]))c={url:b[3],func:b[1]||C,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else{if(!(b=g.exec(i[m])))continue;c={url:b[2],func:b[1]||C,line:+b[3],column:b[4]?+b[4]:null}}!c.func&&c.line&&(c.func=d(c.url,c.line)),c.line&&(c.context=e(c.url,c.line)),j.push(c)}return j.length?(j[0].line&&!j[0].column&&k?j[0].column=l(k[1],j[0].url,j[0].line):j[0].column||f(a.columnNumber)||(j[0].column=a.columnNumber+1),{name:a.name,message:a.message,url:document.location.href,stack:j}):null}function o(a){for(var b,c=a.stacktrace,f=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,g=c.split("\n"),h=[],i=0,j=g.length;j>i;i+=2)if(b=f.exec(g[i])){var k={line:+b[1],column:+b[2],func:b[3]||b[4],args:b[5]?b[5].split(","):[],url:b[6]};if(!k.func&&k.line&&(k.func=d(k.url,k.line)),k.line)try{k.context=e(k.url,k.line)}catch(l){}k.context||(k.context=[g[i+1]]),h.push(k)}return h.length?{name:a.name,message:a.message,url:document.location.href,stack:h}:null}function p(b){var f=b.message.split("\n");if(f.length<4)return null;var g,h,l,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),s=[];for(h in r)j(r,h)&&!r[h].src&&s.push(r[h]);for(h=2,l=f.length;l>h;h+=2){var t=null;if(g=n.exec(f[h]))t={url:g[2],func:g[3],line:+g[1]};else if(g=o.exec(f[h])){t={url:g[3],func:g[4]};var u=+g[1],v=s[g[2]-1];if(v&&(m=c(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(g=p.exec(f[h])){var x=a.location.href.replace(/#.*$/,""),y=g[1],z=new RegExp(i(f[h+1]));m=k(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=d(t.url,t.line));var A=e(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===f[h+1].replace(/^\s*/,"")?A:[f[h+1]],q.push(t)}}return q.length?{name:b.name,message:f[0],url:document.location.href,stack:q}:null}function q(a,b,c,f){var g={url:b,line:c};if(g.url&&g.line){a.incomplete=!1,g.func||(g.func=d(g.url,g.line)),g.context||(g.context=e(g.url,g.line));var h=/ '([^']+)' /.exec(f);if(h&&(g.column=l(h[1],g.url,g.line)),a.stack.length>0&&a.stack[0].url===g.url){if(a.stack[0].line===g.line)return!1;if(!a.stack[0].line&&a.stack[0].func===g.func)return a.stack[0].line=g.line,a.stack[0].context=g.context,!1}return a.stack.unshift(g),a.partial=!0,!0}return a.incomplete=!0,!1}function r(a,b){for(var c,e,f,g=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,h=[],i={},j=!1,k=r.caller;k&&!j;k=k.caller)if(k!==s&&k!==A.report){if(e={url:null,func:C,line:null,column:null},k.name?e.func=k.name:(c=g.exec(k.toString()))&&(e.func=c[1]),f=m(k)){e.url=f.url,e.line=f.line,e.func===C&&(e.func=d(e.url,e.line));var n=/ '([^']+)' /.exec(a.message||a.description);n&&(e.column=l(n[1],f.url,f.line))}i[""+k]?j=!0:i[""+k]=!0,h.push(e)}b&&h.splice(0,b);var o={name:a.name,message:a.message,url:document.location.href,stack:h};return q(o,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),o}function s(a,b){var c=null;b=null==b?0:+b;try{if(c=o(a))return c}catch(d){if(u)throw d}try{if(c=n(a))return c}catch(d){if(u)throw d}try{if(c=p(a))return c}catch(d){if(u)throw d}try{if(c=r(a,b+1))return c}catch(d){if(u)throw d}return{}}function t(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return s(b,a+1)}}var u=!1,v={};return s.augmentStackTraceWithInitialElement=q,s.guessFunctionName=d,s.gatherContext=e,s.ofCaller=t,s}();var D,E,F,G,H,I,J,K=a.Raven,L=!(!a.JSON||!a.JSON.stringify),M={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],collectWindowErrors:!0,tags:{},extra:{}},N=!1,O={VERSION:"1.1.16",debug:!0,noConflict:function(){return a.Raven=K,O},config:function(a,b){if(F)return y("error","Error: Raven has already been configured"),O;if(!a)return O;var c=e(a),d=c.path.lastIndexOf("/"),f=c.path.substr(1,d);return b&&k(b,function(a,b){M[a]=b}),M.ignoreErrors.push("Script error."),M.ignoreErrors.push("Script error"),M.ignoreErrors.push("Javascript error: Script error on line 0"),M.ignoreErrors.push("Javascript error: Script error. on line 0"),M.ignoreErrors=w(M.ignoreErrors),M.ignoreUrls=M.ignoreUrls.length?w(M.ignoreUrls):!1,M.whitelistUrls=M.whitelistUrls.length?w(M.whitelistUrls):!1,M.includePaths=w(M.includePaths),H=c.user,I=c.path.substr(d+1),F="//"+c.host+(c.port?":"+c.port:"")+"/"+f+"api/"+I+"/store/",c.protocol&&(F=c.protocol+":"+F),M.fetchContext&&(A.remoteFetching=!0),M.linesOfContext&&(A.linesOfContext=M.linesOfContext),A.collectWindowErrors=!!M.collectWindowErrors,l(),O},install:function(){return v()&&!N&&(A.report.subscribe(m),N=!0),O},context:function(a,c,d){return g(a)&&(d=c||[],c=a,a=b),O.wrap(a,c).apply(this,d)},wrap:function(a,c){function d(){for(var b=[],d=arguments.length,e=!a||a&&a.deep!==!1;d--;)b[d]=e?O.wrap(a,arguments[d]):arguments[d];try{return c.apply(this,b)}catch(f){throw O.captureException(f,a),f}}if(f(c)&&!g(a))return a;if(g(a)&&(c=a,a=b),!g(c))return c;if(c.__raven__)return c;for(var e in c)j(c,e)&&(d[e]=c[e]);return d.__raven__=!0,d.__inner__=c,d},uninstall:function(){return A.report.uninstall(),N=!1,O},captureException:function(a,b){if(!(a instanceof Error))return O.captureMessage(a,b);D=a;try{A.report(a,b)}catch(c){if(a!==c)throw c}return O},captureMessage:function(a,b){return t(q({message:a+""},b)),O},setUserContext:function(a){return G=a,O},setExtraContext:function(a){return M.extra=a||{},O},setTagsContext:function(a){return M.tags=a||{},O},lastException:function(){return D},lastEventId:function(){return E}};O.setUser=O.setUserContext;var P="source protocol user pass host port path".split(" "),Q=/^(?:(\w+):)?\/\/(\w+)(:\w+)?@([\w\.-]+)(?::(\d+))?(\/.*)/;d.prototype=new Error,d.prototype.constructor=d,z(),a.Raven=O,"function"==typeof define&&define.amd&&define("raven",[],function(){return O})}(this),function(a,b,c){"use strict";if(c){var d=c.event.add;c.event.add=function(a,e,f,g,h){var i;return f&&f.handler?(i=f.handler,f.handler=b.wrap(f.handler)):(i=f,f=b.wrap(f)),f.guid=i.guid?i.guid:i.guid=c.guid++,d.call(this,a,e,f,g,h)};var e=c.fn.ready;c.fn.ready=function(a){return e.call(this,b.wrap(a))};var f=c.ajax;c.ajax=function(a,d){var e,g=["complete","error","success"];for("object"==typeof a&&(d=a,a=void 0),d=d||{};e=g.pop();)c.isFunction(d[e])&&(d[e]=b.wrap(d[e]));try{return f.call(this,a,d)}catch(h){throw b.captureException(h),h}}}}(this,Raven,window.jQuery),function(a,b){"use strict";var c=function(c){var d=a[c];a[c]=function(){var a=[].slice.call(arguments),c=a[0];return"function"==typeof c&&(a[0]=b.wrap(c)),d.apply?d.apply(this,a):d(a[0],a[1])}};c("setTimeout"),c("setInterval")}(this,Raven);
(function(){Number.prototype.map=function(a,b,c,d){return c+(d-c)*((this-a)/(b-a))};Number.prototype.limit=function(a,b){return Math.min(b,Math.max(a,this))};Number.prototype.round=function(a){a=Math.pow(10,a||0);return Math.round(this*a)/a};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Array.prototype.erase=function(a){for(var b=this.length;b--;)this[b]===a&&this.splice(b,1);return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(a){var b=this;return function(){var c=Array.prototype.slice.call(arguments);return b.apply(a||null,c)}};window.ml={};window.ig={game:null,debug:null,version:"1.20",global:window,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:window.ImpactPrefix||
"",lib:"lib/",_current:null,O4397:[],O1346:0,$:function(a){return"#"==a.charAt(0)?document.getElementById(a.substr(1)):document.getElementsByTagName(a)},$new:function(a){return document.createElement(a)},copy:function(a){if(!a||"object"!=typeof a||a instanceof HTMLElement||a instanceof ig.Class)return a;if(a instanceof Array)for(var b=[],c=0,d=a.length;c<d;c++)b[c]=ig.copy(a[c]);else for(c in b={},a)b[c]=ig.copy(a[c]);return b},merge:function(a,b){for(var c in b){var d=b[c];if("object"!=
typeof d||d instanceof HTMLElement||d instanceof ig.Class)a[c]=d;else{if(!a[c]||"object"!=typeof a[c])a[c]=d instanceof Array?[]:{};ig.merge(a[c],d)}}return a},ksort:function(a){if(!a||"object"!=typeof a)return[];var b=[],c=[],d;for(d in a)b.push(d);b.sort();for(d=0;d<b.length;d++)c.push(a[b[d]]);return c},O5091:function(a,b){var c=b.charAt(0).toUpperCase()+b.substr(1);return a[b]||a["ms"+c]||a["moz"+c]||a["webkit"+c]||a["o"+c]},O5910:function(a,b){var c=ig.O5091(a,
b);!a[b]&&c&&(a[b]=c)},module:function(a){if(ig._current)throw"Module '"+ig._current.name+"' defines nothing";if(ig.modules[a]&&ig.modules[a].body)throw"Module '"+a+"' is already defined";ig._current={name:a,requires:[],loaded:!1,body:null};ig.modules[a]=ig._current;ig.O4397.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(a){ig._current.body=a;ig._current=null;ig.O1247()},O6944:function(a){ig.resources.push(a)},
setNocache:function(a){ig.nocache=a?"?"+Date.now():""},log:function(){},assert:function(a,b){},show:function(a,b){},mark:function(a,b){},O96:function(a,b){ig.modules[a]={name:a,requires:[],loaded:!1,body:null};ig.O1346++;var c=ig.prefix+ig.lib+a.replace(/\./g,"/")+".js"+ig.nocache,d=ig.$new("script");d.type="text/javascript";d.src=c;d.onload=function(){ig.O1346--;ig._execModules()};d.onerror=function(){throw"Failed to load module "+a+" at "+c+" required from "+b;};ig.$("head")[0].appendChild(d)},
_execModules:function(){for(var a=!1,b=0;b<ig.O4397.length;b++){for(var c=ig.O4397[b],d=!0,e=0;e<c.requires.length;e++){var f=c.requires[e];ig.modules[f]?ig.modules[f].loaded||(d=!1):(d=!1,ig.O96(f,c.name))}d&&c.body&&(ig.O4397.splice(b,1),c.loaded=!0,c.body(),a=!0,b--)}if(a)ig._execModules();else if(!ig.baked&&0==ig.O1346&&0!=ig.O4397.length){a=[];for(b=0;b<ig.O4397.length;b++){d=[];f=ig.O4397[b].requires;for(e=0;e<f.length;e++)c=ig.modules[f[e]],(!c||
!c.loaded)&&d.push(f[e]);a.push(ig.O4397[b].name+" (requires: "+d.join(", ")+")")}throw"Unresolved (circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules:\n"+a.join("\n");}},O5847:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig.O5847,13);ig.modules["dom.ready"].loaded=!0;ig.O1346--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=
window.devicePixelRatio||1;ig.ua.viewport={width:window.innerWidth,height:window.innerHeight};ig.ua.screen={width:window.screen.availWidth*ig.ua.pixelRatio,height:window.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent)||0<=navigator.userAgent.indexOf("Macintosh")&&navigator.maxTouchPoints&&3<=navigator.maxTouchPoints;ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.mac=
-1!=navigator.userAgent.indexOf("Mac OS");ig.ua.chrome=0<=navigator.userAgent.indexOf("Chrome");ig.ua.chromebook=ig.ua.chrome&&0<=navigator.userAgent.indexOf("CrOS");ig.ua.firefox=0<=navigator.userAgent.indexOf("Firefox");ig.ua.windowsPhone=0<=navigator.userAgent.indexOf("Windows Phone");var a=ig.ua,b=-1,c=window.navigator.userAgent,d=c.indexOf("MSIE "),e=c.indexOf("Trident/");0<d?b=parseInt(c.substring(d+5,c.indexOf(".",d)),10):0<e&&(b=c.indexOf("rv:"),b=parseInt(c.substring(b+3,c.indexOf(".",b)),
10));a.iexplorer=!!(-1<b&&b);ig.ua.isIOsUIWebView=/(iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)||/(iPhone).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);ig.ua.isKindleSilk=0<=navigator.userAgent.indexOf("Silk");ig.ua.isKindleSilkHdx=ig.ua.isKindleSilk&&!!navigator.userAgent.match(/(KFTHWI|KFTHWA|KFAPWI|KFAPWA)/g);ig.ua.isKindleHdxWebApp=0<=navigator.userAgent.indexOf("AmazonWebAppPlatform")&&-1==navigator.userAgent.indexOf("Android 2")&&-1==navigator.userAgent.indexOf("Android 4.0");
a="undefined"!=typeof document.documentElement.ontouchstart;ig.ua.windowsTablet=0<=navigator.platform.toLowerCase().indexOf("win")&&(0<=navigator.userAgent.toLowerCase().indexOf("touch")||a);a=0<=navigator.userAgent.toLowerCase().indexOf("silk")||0<=navigator.userAgent.indexOf("AmazonWebAppPlatform");ig.ua.kindle=a;ig.ua.steam=0<=navigator.userAgent.indexOf("manyland-steam");ig.ua.isSteamBigPictureMode=ig.ua.steam&&Boolean(window.isSteamBigPictureMode);window.isSteamBigPictureMode=void 0;ig.ua.iOS=
ig.ua.iPhone||ig.ua.iPad||ig.ua.isIOsUIWebView;ig.ua.isAnylandBrowser=0<=navigator.userAgent.indexOf("Anyland Browser");ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.kindle||ig.ua.windowsPhone;ig.ua.phone=ig.ua.windowsPhone||ig.ua.iPhone||ig.ua.android;ig.ua.isFramed=window!=window.top&&!ig.ua.isIOsUIWebView&&!ig.ua.isKindleHdxWebApp;ig.ua.isAndroidApp=!1;ig.ua.androidAppVersion=-1;(a=window.location.hash)&&0<=a.indexOf("&isTablet=true")?(a=a.replace("&isTablet=true",""),ig.ua.tablet=!0,localStorage.setItem("isTablet",
"true")):"true"==localStorage.getItem("isTablet")?ig.ua.tablet=!0:ig.ua.tablet=ig.ua.mobile&&!ig.ua.phone;ig.ua.tablet&&(ig.ua.phone=!1);if(a&&0===a.indexOf("#androidAppVersion="))a=window.location.hash.substr(19),a=parseInt(a),isNaN(a)||(ig.ua.isAndroidApp=!0,ig.ua.androidAppVersion=a,localStorage.setItem("androidAppVersion",ig.ua.androidAppVersion)),window.location.replace("#");else if(a=localStorage&&localStorage.getItem("androidAppVersion"))ig.ua.isAndroidApp=!0,a=parseInt(a),isNaN(a)||(ig.ua.androidAppVersion=
a);ig.ua.shouldGetAds=!(ig.ua.mobile||ig.ua.steam||ig.ua.isAnylandBrowser)&&"true"!=localStorage.closeAd;0===window.location.href.indexOf("http://127.0.0.1")&&(ig.ua.shouldGetAds=!1);ig.ua.adWidth=0;ig.ua.adHeight=600;ig.ua.useYollaAds=!0;ig.ua.adPaddingX=7;ig.ua.adWidth=ig.ua.useYollaAds?350:160+ig.ua.adPaddingX+150},O1247:function(){ig.modules["dom.ready"]?ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig.O1346++,"complete"===document.readyState?
ig.O5847():(document.addEventListener("DOMContentLoaded",ig.O5847,!1),window.addEventListener("load",ig.O5847,!1)))}};for(var a=["ms","moz","webkit","o"],b=0;b<a.length&&!window.requestAnimationFrame;b++)window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"];if(window.requestAnimationFrame){var c=1,d={};window.ig.O7036=function(a,b){var e=c++;d[e]=!0;var f=function(){d[e]&&(window.requestAnimationFrame(f,b),a())};window.requestAnimationFrame(f,b);return e};window.ig.O3450=
function(a){delete d[a]}}else window.ig.O7036=function(a,b){return window.setInterval(a,1E3/60)},window.ig.O3450=function(a){window.clearInterval(a)};var e=!1,f=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;window.ig.Class=function(){};var g=function(a){var b=this.prototype,c={},d;for(d in a)"function"==typeof a[d]&&"function"==typeof b[d]&&f.test(a[d])?(c[d]=b[d],b[d]=function(a,b){return function(){var d=this.parent;this.parent=c[a];var e=b.apply(this,arguments);this.parent=d;return e}}(d,
a[d])):b[d]=a[d]};window.ig.Class.extend=function(a){function b(){if(!e){if(this.O5428){var a=this.O5428.apply(this,arguments);if(a)return a}for(var c in this)"object"==typeof this[c]&&(this[c]=ig.copy(this[c]));this.init&&this.init.apply(this,arguments)}return this}var c=this.prototype,d=function(){};d.prototype=this.prototype;var d=new d,n;for(n in a)"function"==typeof a[n]&&"function"==typeof c[n]&&f.test(a[n])?d[n]=function(a,b){return function(){var d=this.parent;this.parent=
c[a];var e=b.apply(this,arguments);this.parent=d;return e}}(n,a[n]):d[n]=a[n];b.prototype=d;b.constructor=b;b.extend=window.ig.Class.extend;b.inject=g;return b}})();window.ig=window.ig;ig.baked=!0;
ig.module("impact.image").defines(function(){ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,O6093:null,path:"",O5428:function(a){return null==a?null:ig.Image.cache[a]||null},init:function(a,b,c,d){this._scale=ig.system.scale;if(d)this.O3630(d);else{this.mlandCallback=b;this.mlandCallbackContext=c;if(null==a)return null;this.path=a;this.load()}},load:function(a){this.loaded?a&&a(this.path,!0):(!this.loaded&&ig.ready?(this.O6093=a||
null,this.data=new Image,this.data.crossOrigin="anonymous",this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.O6944(this),ig.Image.cache[this.path]=this)},O3630:function(a){this.data=a;this.width=this.data.width/ig.system.scale;this.height=this.data.height/ig.system.scale;this.loaded=!0;this.load()},reload:function(){this.loaded=!1;this.data=new Image;this.data.crossOrigin="anonymous";this.data.onload=
this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(a){this.width=this.data.width;this.height=this.data.height;this.O2508(ig.system.scale);this.loaded=!0;this.O6093&&this.O6093(this.path,!0);this.mlandCallback&&this.mlandCallback.call(this.mlandCallbackContext,this.data)},onerror:function(a){this.failed=!0;console.log(a);console.log("error loading image:"+this.path);this.O6093&&this.O6093(this.path,!1);this.mlandCallback&&this.mlandCallback.call(this.mlandCallbackContext,
null)},resize:function(a){var b=this.width*a,c=this.height*a,d=document.createElement("canvas");d.width=this.width;d.height=this.height;d=d.getContext("2d");try{d.drawImage(this.data,0,0,this.width,this.height,0,0,this.width,this.height)}catch(e){throw Error("Error resizing image : "+this.path+" - "+typeof this.data);}var d=d.getImageData(0,0,this.width,this.height),f=document.createElement("canvas");f.width=b;f.height=c;for(var g=f.getContext("2d"),h=g.getImageData(0,0,b,c),k=0;k<c;k++)for(var l=
0;l<b;l++){var m=4*(Math.floor(k/a)*this.width+Math.floor(l/a)),n=4*(k*b+l);h.data[n]=d.data[m];h.data[n+1]=d.data[m+1];h.data[n+2]=d.data[m+2];h.data[n+3]=d.data[m+3]}g.putImageData(h,0,0);this.data=f},O2508:function(a){var b=this.width*a;a*=this.height;var c=document.createElement("canvas");c.width=b;c.height=a;var d=c.getContext("2d");d.imageSmoothingEnabled=!1;d.mozImageSmoothingEnabled=!1;d.oImageSmoothingEnabled=!1;d.webkitImageSmoothingEnabled=!1;d.drawImage(this.data,0,0,b,a);this.data=
c},draw:function(a,b,c,d,e,f){if(this.loaded){var g=ig.system.scale;e=(e?e:this.width)*g;f=(f?f:this.height)*g;ig.system.context.drawImage(this.data,c?c*g:0,d?d*g:0,e,f,ig.system.O4928(a),ig.system.O4928(b),e,f);ig.Image.drawCount++}},O7417:function(a,b,c,d,e,f,g){e=e?e:d;if(this.loaded&&!(d>this.width||e>this.height)){var h=ig.system.scale,k=Math.floor(d*h),l=Math.floor(e*h),m=f?-1:1,n=g?-1:1;if(f||g)ig.system.context.save(),ig.system.context.scale(m,n);ig.system.context.drawImage(this.data,
Math.floor(c*d)%this.width*h,Math.floor(c*d/this.width)*e*h,k,l,ig.system.O4928(a)*m-(f?k:0),ig.system.O4928(b)*n-(g?l:0),k,l);(f||g)&&ig.system.context.restore();ig.Image.drawCount++}},O6963:function(a,b,c,d,e,f,g,h){if(this.loaded){var k=ig.system.scale;ig.system.context.drawImage(this.data,e?e*k:0,f?f*k:0,g*k,h*k,ig.system.O4928(a),ig.system.O4928(b),c*k,d*k);ig.Image.drawCount++}}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.O2602=function(){for(var a in ig.Image.cache)ig.Image.cache[a].reload()}});
ig.baked=!0;
ig.module("impact.font").requires("impact.image").defines(function(){ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,O2670:1,O5173:0,onload:function(a){this.O4050(this.data);this.parent(a)},O6289:function(a){if(!a)return 0;if(-1!==a.indexOf("\n")){a=a.split("\n");for(var b=0,c=0;c<a.length;c++)b=Math.max(b,this.O6540(a[c]));return b}return this.O6540(a)},O6540:function(a){for(var b=0,c=0;c<a.length;c++)b+=this.widthMap[a.charCodeAt(c)-this.firstChar]+
this.O2670;return b},O1057:function(a){return a.split("\n").length*(this.height+this.O5173)},draw:function(a,b,c,d){if("undefined"!=typeof a)if("string"!=typeof a&&(a=a.toString()),-1!==a.indexOf("\n")){a=a.split("\n");for(var e=this.height+this.O5173,f=0;f<a.length;f++)this.draw(a[f],b,c+f*e,d)}else{if(d==ig.Font.ALIGN.RIGHT||d==ig.Font.ALIGN.CENTER)f=this.O6540(a),b-=d==ig.Font.ALIGN.CENTER?f/2:f;1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(f=
0;f<a.length;f++)d=a.charCodeAt(f),b+=this.O1974(d-this.firstChar,b,c);1!==this.alpha&&(ig.system.context.globalAlpha=1);ig.Image.drawCount+=a.length}},O1974:function(a,b,c){if(!this.loaded||0>a||a>=this.indices.length)return 0;var d=ig.system.scale,e=this.widthMap[a]*d,f=(this.height-2)*d;ig.system.context.drawImage(this.data,this.indices[a]*d,0,e,f,ig.system.O4928(b),ig.system.O4928(c),e,f);return this.widthMap[a]+this.O2670},O4050:function(a){this.height=a.height-
1;this.widthMap=[];this.indices=[];var b=ig.$new("canvas");b.width=a.width;b.height=a.height;b=b.getContext("2d");b.drawImage(a,0,0);for(var b=b.getImageData(0,a.height-1,a.width,1),c=0,d=0,e=0;e<a.width;e++){var f=4*e+3;0!=b.data[f]?d++:0==b.data[f]&&d&&(this.widthMap.push(d),this.indices.push(e-d),c++,d=0)}this.widthMap.push(d);this.indices.push(e-d)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=!0;
ig.module("impact.sound").defines(function(){ig.O1520=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(Audio){for(var a=new Audio,b=0;b<ig.Sound.use.length;b++){var c=ig.Sound.use[b];if(a.canPlayType(c.mime)){this.format=c;break}}this.format||(ig.Sound.enabled=!1)}else ig.Sound.enabled=!1},load:function(a,b,c){var d=ig.prefix+a.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[a]){if(b&&this.clips[a].length<ig.Sound.channels)for(b=this.clips[a].length;b<ig.Sound.channels;b++){var e=
new Audio(d);e.load();this.clips[a].push(e)}return this.clips[a][0]}var f=new Audio(d);c&&(f.addEventListener("canplaythrough",function h(b){f.removeEventListener("canplaythrough",h,!1);c(a,!0,b)},!1),f.addEventListener("error",function(b){c(a,!1,b)},!1));f.preload="auto";f.load();this.clips[a]=[f];if(b)for(b=1;b<ig.Sound.channels;b++)e=new Audio(d),e.load(),this.clips[a].push(e);return f},get:function(a){a=this.clips[a];for(var b=0,c;c=a[b++];)if(c.paused||c.ended)return c.ended&&(c.O6918=
0),c;a[0].pause();a[0].O6918=0;return a[0]},stopAll:function(){for(var a in this.clips)for(var b=0;b<this.clips[a].length;b++)if(this.clips&&this.clips[a]&&this.clips[a][b])try{this.clips[a][b].pause(),this.clips[a][b].O6918=0}catch(c){}}});ig.Music=ig.Class.extend({tracks:[],O4024:{},O5120:null,O6350:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,O3588:null,O6628:null,init:function(){this.O6628=this.O2899.bind(this);Object.defineProperty?
(Object.defineProperty(this,"volume",{get:this.O8191.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.O8074.bind(this),set:this.O8099.bind(this)})):this.__defineGetter__&&(this.__defineGetter__("volume",this.O8191.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.O8074.bind(this)),this.__defineSetter__("loop",this.O8099.bind(this)))},add:function(a,b){if(ig.Sound.enabled){var c=
ig.O3970.load(a instanceof ig.Sound?a.path:a,!1);c.loop=this._loop;c.volume=this._volume;c.addEventListener("ended",this.O6628,!1);this.tracks.push(c);b&&(this.O4024[b]=c);this.O5120||(this.O5120=c)}},next:function(){this.tracks.length&&(this.stop(),this.O6350=this.random?Math.floor(Math.random()*this.tracks.length):(this.O6350+1)%this.tracks.length,this.O5120=this.tracks[this.O6350],this.play())},pause:function(){this.O5120&&
this.O5120.pause()},stop:function(){this.O5120&&(this.O5120.pause(),this.O5120.O6918=0)},play:function(a){if(ig.game.settings.doPlaySound){if(a&&this.O4024[a])a=this.O4024[a],a!=this.O5120&&(this.stop(),this.O5120=a);else if(!this.O5120)return;this.O5120.play()}},O8074:function(){return this._loop},O8099:function(a){this._loop=a;for(var b in this.tracks)this.tracks[b].loop=a},O8191:function(){return this._volume},
setVolume:function(a){this._volume=a.limit(0,1);for(var b in this.tracks)this.tracks[b].volume=this._volume},fadeOut:function(a){this.O5120&&(clearInterval(this._fadeInterval),this.O6658=new ml.Timer(a),this._fadeInterval=setInterval(this.O3515.bind(this),50))},O3515:function(){var a=this.O6658.delta().map(-this.O6658.target,0,1,0).limit(0,1)*this._volume;0.01>=a?(this.stop(),this.O5120.volume=this._volume,clearInterval(this._fadeInterval)):this.O5120.volume=
a},O2899:function(){this._loop?this.play():this.next()}});ig.Sound=ig.Class.extend({path:"",volume:1,O6256:null,O6326:!0,init:function(a,b){this.path=a;this.O6326=!1!==b;this.load()},load:function(a){ig.Sound.enabled?ig.ready?ig.O3970.load(this.path,this.O6326,a):ig.O6944(this):a&&a(this.path,!0)},play:function(){ig.Sound.enabled&&(this.O6256=ig.O3970.get(this.path),this.O6256.volume=ig.O3970.volume*this.volume,this.O6256.play())},
stop:function(){this.O6256&&(this.O6256.pause(),this.O6256.O6918=0)}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3];ig.Sound.channels=3;ig.Sound.enabled=!0});ig.baked=!0;
ig.module("impact.loader").requires("impact.font","impact.sound").defines(function(){ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],O2128:0,O3537:0,O4914:null,init:function(a,b){this.gameClass=a;this.resources=b;this.O4914=this.O4752.bind(this);for(var c=0;c<this.resources.length;c++)this._unloaded.push(this.resources[c].path)},load:function(){ig.system.clear("#FFF");if(this.resources.length){for(var a=0;a<this.resources.length;a++)this.O6500(this.resources[a]);
this.O3537=setInterval(this.draw.bind(this),16)}else this.end()},O6500:function(a){a.load(this.O4914)},end:function(){this.done||(this.done=!0,clearInterval(this.O3537),ig.system.setGame(this.gameClass))},draw:function(){this.O2128+=(this.status-this.O2128)/5;var a=ig.system.scale,b=0.6*ig.system.width,c=0.1*ig.system.height,d=ig.system.widthHalf-b/2,e=ig.system.O8417-c/2;ig.system.context.fillStyle="#000";ig.system.context.fillRect(0,0,480,320);ig.system.context.fillStyle=
"#fff";ig.system.context.fillRect(d*a,e*a,b*a,c*a);ig.system.context.fillStyle="#000";ig.system.context.fillRect(d*a+a,e*a+a,b*a-a-a,c*a-a-a);ig.system.context.fillStyle="#fff";ig.system.context.fillRect(d*a,e*a,b*a*this.O2128,c*a)},O4752:function(a,b){if(b)this._unloaded.erase(a);else throw"Failed to load resource: "+a;this.status=1-this._unloaded.length/this.resources.length;0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})});ig.baked=!0;
ig.module("impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(a){this.last=this.base=ig.Timer.time;this.target=a||0},set:function(a){this.target=a||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var a=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:a},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||
(this.pausedAt=ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}});ig.Timer._last=0;ig.Timer.time=0;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var a=Date.now();ig.Timer.time+=Math.min((a-ig.Timer._last)/1E3,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=a}});ig.baked=!0;
ig.module("mlframe.timer").defines(function(){ml.Timer=function(a){this.pausedAt=this.last=this.base=this.target=0;this.last=this.base=ml.Timer.prototype.time;this.target=a||0};ml.Timer.prototype.set=function(a){this.target=a||0;this.base=ml.Timer.prototype.time;this.pausedAt=0};ml.Timer.prototype.reset=function(){this.base=ml.Timer.prototype.time;this.pausedAt=0};ml.Timer.prototype.tick=function(){var a=ml.Timer.prototype.time-this.last;this.last=ml.Timer.prototype.time;return this.pausedAt?0:a};
ml.Timer.prototype.delta=function(){return(this.pausedAt||ml.Timer.prototype.time)-this.base-this.target};ml.Timer.prototype.pause=function(){this.pausedAt||(this.pausedAt=ml.Timer.prototype.time)};ml.Timer.prototype.unpause=function(){this.pausedAt&&(this.base+=ml.Timer.prototype.time-this.pausedAt,this.pausedAt=0)};ml.Timer.prototype._last=0;ml.Timer.prototype.time=0;ml.Timer.prototype.timeScale=1;ml.Timer.prototype.maxStep=0.05;ml.Timer.prototype.step=function(){var a=Date.now();ml.Timer.prototype.time+=
Math.min((a-ml.Timer.prototype._last)/1E3,ml.Timer.prototype.maxStep)*ml.Timer.prototype.timeScale;ml.Timer.prototype._last=a}});ig.baked=!0;
ig.module("impact.system").requires("impact.timer","mlframe.timer").defines(function(){ig.System=ig.Class.extend({fps:30,width:320,height:240,widthHalf:160,O8417:120,realWidth:320,O1709:240,scale:1,tick:0,O5448:0,O3921:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(a,b,c,d,e){this.fps=b;this.clock=new ml.Timer;this.canvas=ig.$(a);this.resize(c,d,e);this.context=this.canvas.getContext("2d",{alpha:!1});this.O4928=ig.System.drawMode},resize:function(a,
b,c){this.width=a;this.height=b;this.widthHalf=0.5*a;this.O8417=0.5*b;this.scale=c||this.scale;this.realWidth=this.width*this.scale;this.O1709=this.height*this.scale;this.realWidthHalf=0.5*this.realWidth;this.O1709Half=0.5*this.O1709;this.canvas.width=this.realWidth;this.canvas.height=this.O1709},setGame:function(a){this.running?this.O3921=a:this.O344(a)},O344:function(a){ig.game=new a},O3187:function(){ig.O3450(this.O5448);this.running=
!1},O670:function(){this.O3187();this.O5448=ig.O7036(this.run.bind(this),this.canvas);this.running=!0},clear:function(a){this.context.fillStyle=a;this.context.fillRect(0,0,this.realWidth,this.O1709)},run:function(){ml.Timer.prototype.step();this.tick=this.clock.tick();ig.game.run();ig.input.O3472();this.O3921&&(this.O344(this.O3921),this.O3921=null)},O1059:function(){return this.height>this.width},O1004:function(){return this.width>
this.height},O4928:null});ig.System.DRAW={AUTHENTIC:function(a){return Math.round(a)*this.scale},SMOOTH:function(a){return Math.round(a*this.scale)},SUBPIXEL:function(a){return a*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH});ig.baked=!0;
ig.module("impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MOUSE_MIDDLE:-6,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,FIRE_TV_TOGGLE_PAUSE:179,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,
Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:0<=navigator.userAgent.indexOf("Mac OS X")?0<=navigator.userAgent.indexOf("Firefox")?224:91:17,ALT:18,EQUAL:0<=navigator.userAgent.indexOf("Firefox")?61:187,COMMA:188,MINUS:0<=navigator.userAgent.indexOf("Firefox")?
173:189,PERIOD:190,BACKQUOTE:192,BACKSLASH:220,FORWARDSLASH:191,SEMICOLON:0<=navigator.userAgent.indexOf("Firefox")?59:186,APOSTROPHE:192,SINGLE_QUOTE:222,QUESTION:63,SQUAREBRACKET_OPEN:219,SQUAREBRACKET_CLOSE:221,BACKWARDSLASH:220};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},O7196:!1,O3510:!1,O2357:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},O3870:!1,O1960:function(){if(!this.O7196){this.O7196=!0;var a=this.mousewheel.bind(this);
ig.system.canvas.addEventListener("mousewheel",a,!1);ig.system.canvas.addEventListener("DOMMouseScroll",a,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.system.canvas.addEventListener("touchstart",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("touchend",
this.keyup.bind(this),!1);ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1)}},O1678:function(){this.O3510||(this.O3510=!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},O155:function(){this.O2357||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(a){var b=this.bindings[0<(a.wheelDelta?a.wheelDelta:-1*
a.detail)?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN];b&&(this.actions[b]=!0,this.presses[b]=!0,this.delayedKeyup[b]=!0,a.stopPropagation(),a.preventDefault())},mousemove:function(a){for(var b=ig.system.canvas,c=0,d=0;null!=b;)c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;var b=a.pageX,e=a.pageY;a.touches&&(b=a.touches[0].clientX,e=a.touches[0].clientY);this.mouse.x=(b-c)/ig.system.scale;this.mouse.y=(e-d)/ig.system.scale},contextmenu:function(a){this.bindings[ig.KEY.MOUSE2]&&(a.stopPropagation(),a.preventDefault())},
keypress:function(a){a=a||window.event;console.log(String.fromCharCode("undefined"==typeof a.which?a.keyCode:a.which))},O6836:function(a){var b="text password search email number date".split(" ");if(!ig.ua.firefox||!ig.game||!(ig.game.writableDialog&&ig.game.writableDialog.isOpen||ig.game.friendsDialog&&ig.game.friendsDialog.isOpen))return!0;if(!a.readOnly&&!a.disabled){var c=a.tagName.toLowerCase();if(a instanceof HTMLTextAreaElement||"input"==c&&(a=a.type.toLowerCase(),
0<=b.indexOf(a)))return!0}return!1},O6152:function(a,b){var c=null;if(a.type==b)c=a.keyCode;else switch(a.button){case 1:c=ig.KEY.MOUSE_MIDDLE;break;case 2:c=ig.KEY.MOUSE2;break;default:c=ig.KEY.MOUSE1}return c},keydown:function(a){if(ig.ua.mac&&a.metaKey&&81==a.which)return a.cancelBubble=!1,a.returnValue=!0;if(a.keyCode==ig.KEY.BACKSPACE&&!this.O6836(a.target)||a.keyCode==ig.KEY.TAB&&ig.ua.isSteamBigPictureMode)a.preventDefault();else if("text"!=a.target.type){var b=
this.O6152(a,"keydown");("touchstart"==a.type||"mousedown"==a.type)&&this.mousemove(a);ig.game.O6576&&1<=b&&ig.game.O6576.push(b);if(b=this.bindings[b]){this.actions[b]=!0;this.locks[b]||(this.presses[b]=!0,this.previousPressAction=this.lastPressAction,this.lastPressAction=b,this.locks[b]=!0);var c=Boolean(ig.game&&ig.game.alertDialog&&ig.game.alertDialog.isOpen);if((!c||c&&"areaThumbs"==ig.game.alertDialog.contextId)&&(!ig.game||!ig.game.areaDialog||!ig.game.areaDialog.isOpen)&&
(!ig.game||!ig.game.writableDialog||!ig.game.writableDialog.isOpen)&&(!ig.game||!ig.game.friendsDialog||!(ig.game.friendsDialog.isOpen&&"f1"!=b))&&(!ig.game||!ig.game.painter||!ig.game.painter.interactingDialog||!ig.game.painter.interactingDialog.isOpen)&&(!ig.game||!ig.game.userScriptEditor||!(ig.game.userScriptEditor.O2262()&&"f10"!=b)))a.stopPropagation(),a.preventDefault()}}},keyup:function(a){if(ig.ua.mac&&a.metaKey&&81==a.which)return a.cancelBubble=!1,a.returnValue=!0;if("text"!=
a.target.type){a.getModifierState&&(this.O3870=a.getModifierState("CapsLock"));var b=this.O6152(a,"keyup");if(b=this.bindings[b])this.delayedKeyup[b]=!0,a.stopPropagation(),a.preventDefault()}},devicemotion:function(a){this.accel=a.accelerationIncludingGravity},bind:function(a,b){0>a?this.O1960():0<a&&this.O1678();this.bindings[a]=b},O5426:function(a,b){var c=ig.$(a),d=this;c.addEventListener("touchstart",function(a){d.O3581(a,b)},!1);c.addEventListener("touchend",function(a){d.O5958(a,
b)},!1)},unbind:function(a){this.delayedKeyup[this.bindings[a]]=!0;this.bindings[a]=null},O1782:function(){this.bindings={};this.actions={};this.presses={};this.locks={};this.delayedKeyup={}},state:function(a){return this.actions[a]},pressed:function(a){return this.presses[a]},O1855:function(a){return this.previousPressAction==a},released:function(a){return this.delayedKeyup[a]},O3472:function(){for(var a in this.delayedKeyup)this.actions[a]=!1,this.locks[a]=!1;this.delayedKeyup=
{};this.presses={}},O3581:function(a,b){this.actions[b]=!0;this.presses[b]=!0;a.stopPropagation();a.preventDefault();return!1},O5958:function(a,b){this.delayedKeyup[b]=!0;a.stopPropagation();a.preventDefault();return!1}})});ig.baked=!0;
ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){ig.main=function(a,b,c,d,e,f,g){ig.system=new ig.System(a,c,d,e,f||1);ig.input=new ig.Input;ig.O3970=new ig.O1520;ig.music=new ig.Music;ig.ready=!0;(new (g||ig.Loader)(b,ig.resources)).load()}});ig.baked=!0;
ig.module("mlframe.image").defines(function(){ml.Image=function(a,b,c,d){ml.Image.prototype.instanceCount++;this.data=null;this.height=this.width=0;this.failed=this.loaded=!1;this.retryCount=0;this.O6093=null;this.path="";this.timeoutTimerId=null;this._scale=ig.system.scale;this.mlandCallback=b;this.mlandCallbackContext=c;if(d)this.O3630(d);else{if(null==a)return null;this.path=a;this.load()}};ml.Image.prototype.load=function(a){this.loaded?a&&a(this.path,!0):!this.loaded&&ig.ready?
(this.O6093=a||null,this.data=new Image,this.data.crossOrigin="anonymous",this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.O6944(this)};ml.Image.prototype.O3630=function(a){this.data=a;this.width=this.data.width/ig.system.scale;this.height=this.data.height/ig.system.scale;this.loaded=!0;this.mlandCallback&&this.mlandCallback.call(this.mlandCallbackContext,this.data)};ml.Image.prototype.reload=
function(){this.loaded=!1;this.data=new Image;this.data.crossOrigin="anonymous";this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()};ml.Image.prototype.onload=function(a){this.width=this.data.width;this.height=this.data.height;if(ig.ua.iexplorer)try{this.resize(ig.system.scale)}catch(b){this.O2508(ig.system.scale)}else this.O2508(ig.system.scale);this.loaded=!0;this.O6093&&this.O6093(this.path,!0);this.mlandCallback&&this.mlandCallback.call(this.mlandCallbackContext,
this.data)};ml.Image.prototype.onerror=function(a){console.log("error loading image:"+this.path);if(this.retryCount<this.maxRetries){var b=this;setTimeout(function(){b.load(b.O6093)},1E3+1E3*this.retryCount);this.retryCount++;window.consoleref.log("image load retry #"+this.retryCount)}else this.failed=!0,console.log("image load failed: "+this.path),this.O6093&&this.O6093(this.path,!1),this.mlandCallback&&this.mlandCallback.call(this.mlandCallbackContext,null)};ml.Image.prototype.checkTimeout=
function(a){!a.loaded&&!a.failed&&(this.retryCount<this.maxRetries?(setTimeout(function(){a.load(a.O6093)},8E3+1E3*a.retryCount),a.retryCount++,ig.game.errorManager.logInfo("retrying image load"),console.log("image timeout retry #"+a.retryCount)):(a.failed=!0,ig.game.errorManager.warn("image load failed (timeout)",this.path),a.O6093&&a.O6093(a.path,!1),a.mlandCallback&&a.mlandCallback.call(a.mlandCallbackContext,null)))};ml.Image.prototype.resize=function(a){var b=this.width*
a,c=this.height*a,d=document.createElement("canvas");d.width=this.width;d.height=this.height;d=d.getContext("2d");try{d.drawImage(this.data,0,0,this.width,this.height,0,0,this.width,this.height)}catch(e){throw Error("Error resizing image : "+this.path+" - "+typeof this.data);}var d=d.getImageData(0,0,this.width,this.height),f=document.createElement("canvas");f.width=b;f.height=c;for(var g=f.getContext("2d"),h=g.getImageData(0,0,b,c),k=0;k<c;k++)for(var l=0;l<b;l++){var m=4*(Math.floor(k/a)*this.width+
Math.floor(l/a)),n=4*(k*b+l);h.data[n]=d.data[m];h.data[n+1]=d.data[m+1];h.data[n+2]=d.data[m+2];h.data[n+3]=d.data[m+3]}g.putImageData(h,0,0);this.data=f};ml.Image.prototype.O2508=function(a){var b=this.width*a;a*=this.height;var c=document.createElement("canvas");c.width=b;c.height=a;var d=c.getContext("2d");d&&(d.imageSmoothingEnabled=!1,d.mozImageSmoothingEnabled=!1,d.oImageSmoothingEnabled=!1,d.webkitImageSmoothingEnabled=!1,d.drawImage(this.data,0,0,b,a));this.data=c};ml.Image.prototype.draw=
function(a,b,c,d,e,f){if(this.loaded){var g=ig.system.scale;e=(e?e:this.width)*g;f=(f?f:this.height)*g;ig.system.context.drawImage(this.data,c?c*g:0,d?d*g:0,e,f,ig.system.O4928(a),ig.system.O4928(b),e,f)}};ml.Image.prototype.O7417=function(a,b,c,d,e,f,g){e=e?e:d;if(this.loaded&&!(d>this.width||e>this.height)){var h=ig.system.scale,k=Math.floor(d*h),l=Math.floor(e*h),m=f?-1:1,n=g?-1:1;if(f||g)ig.system.context.save(),ig.system.context.scale(m,n);ig.system.context.drawImage(this.data,Math.floor(c*
d)%this.width*h,Math.floor(c*d/this.width)*e*h,k,l,ig.system.O4928(a)*m-(f?k:0),ig.system.O4928(b)*n-(g?l:0),k,l);(f||g)&&ig.system.context.restore()}};ml.Image.prototype.O6963=function(a,b,c,d,e,f,g,h){if(this.loaded){var k=ig.system.scale;ig.system.context.drawImage(this.data,e?e*k:0,f?f*k:0,g*k,h*k,ig.system.O4928(a),ig.system.O4928(b),c*k,d*k)}};ml.Image.prototype.drawCount=0;ml.Image.prototype.O7417Count=0;ml.Image.prototype.instanceCount=0;ml.Image.prototype.maxRetries=
1;ml.Image.prototype.timeOutMs=3E3;ml.Image.prototype.cache={};ml.Image.prototype.O2602=function(){for(var a in ml.Image.prototype.cache)ml.Image.prototype.cache[a].reload()};ml.Image.prototype.resizeTimeMs=0});ig.baked=!0;
ig.module("mlframe.animation").requires("mlframe.timer","mlframe.image").defines(function(){ml.AnimationSheet=function(a,b,c,d){this.width=b;this.height=c;if(d)this.image=d;else{var e=jQuery.Deferred();this.image=new ml.Image(a,function(){e.resolve()},this);this.loadedPromise=e.promise()}};ml.Animation=function(a,b,c,d,e,f){this.name=e;this.altSheet=f;this.sheet=a;this.frameTime=b;this.sequence=c;this.stop=!!d;this.flip={x:!1,y:!1};this.pivot={x:a.width/2,y:a.height/2};this.timer=new ml.Timer;this.tile=
this.sequence[0];this.loopCount=this.frame=0;this.alpha=1;this.angle=0};ml.Animation.prototype.rewind=function(){this.timer.reset();this.loopCount=0;this.tile=this.sequence[0];return this};ml.Animation.prototype.O1584=function(a){this.timer.set(this.frameTime*-a);this.update()};ml.Animation.prototype.O95=function(){this.O1584(Math.floor(Math.random()*this.sequence.length))};ml.Animation.prototype.update=function(){var a=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=
Math.floor(a/this.sequence.length);this.frame=this.stop&&0<this.loopCount?this.sequence.length-1:a%this.sequence.length;this.tile=this.sequence[this.frame]};ml.Animation.prototype.draw=function(a,b,c){if(this.sheet.image){var d=Math.max(this.sheet.width,this.sheet.height);a>ig.system.width||(b>ig.system.height||0>a+d||0>b+d)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),this.angle&&ml.Misc.O4473(this.sheet)&&(this.angle=0),this.angle?(ig.system.context.save(),
c?ig.system.context.translate(ig.system.O4928(a+Math.floor(this.pivot.x)),ig.system.O4928(b+Math.floor(this.pivot.y))):ig.system.context.translate(ig.system.O4928(a+this.pivot.x),ig.system.O4928(b+this.pivot.y)),ig.system.context.rotate(this.angle),this.sheet.image.O7417(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()):this.sheet.image.O7417(a,b,this.tile,this.sheet.width,this.sheet.height,this.flip.x,
this.flip.y),1!=this.alpha&&(ig.system.context.globalAlpha=1))}}});ig.baked=!0;
ig.module("impact.entity").requires("mlframe.animation","impact.impact").defines(function(){ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,O199:1,standing:!1,bounciness:0,O716:40,anims:{},O463:[],O7778:null,animSheet:null,O1457:null,health:10,type:0,O6821:0,collides:0,_killed:!1,O224:!0,slopeStanding:{min:(44).toRad(),
max:(136).toRad()},init:function(a,b,c){this.id=++ig.Entity._lastId;this.pos.x=a;this.pos.y=b;ig.merge(this,c)},addAnim:function(a,b,c,d){if(!this.animSheet)throw"No animSheet to add the animation "+a+" to.";b=new ml.Animation(this.animSheet,b,c,d,a);this.anims[a]=b;this.O463.push(b);b.O463Index=this.O463.length-1;this.O1457||(this.O1457=b,this.O7778=b.O463Index);return b},O6412:function(){return this.backgroundEntity?!0:this.O224=
ig.game.O4872(this.pos)},update:function(){this.O4886||(this.last.x=this.pos.x,this.last.y=this.pos.y,this.vel.y+=ig.game.gravity*ig.system.tick*this.O199,this.vel.x=this.O5351(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x),this.vel.y=this.O5351(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y),this._mx=this.vel.x*ig.system.tick,this._my=this.vel.y*ig.system.tick,this._res=ig.game.O2846.trace(this.pos.x,this.pos.y,this._mx,this._my,
this.size.x,this.size.y),this.O28(this._res));this.O1457&&this.O1457.update()},O5351:function(a,b,c,d){isNaN(a)&&(a=0);return b?(a+b*ig.system.tick).limit(-d,d):c?(b=c*ig.system.tick,0<a-b?a-b:0>a+b?a+b:0):a.limit(-d,d)},O28:function(a){this.standing=!1;a.collision.y&&(0<this.bounciness&&Math.abs(this.vel.y)>this.O716?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));a.collision.x&&(0<this.bounciness&&Math.abs(this.vel.x)>
this.O716?this.vel.x*=-this.bounciness:this.vel.x=0);if(a.collision.slope){var b=a.collision.slope;if(0<this.bounciness){var c=this.vel.x*b.nx+this.vel.y*b.ny;this.vel.x=(this.vel.x-2*b.nx*c)*this.bounciness;this.vel.y=(this.vel.y-2*b.ny*c)*this.bounciness}else c=(this.vel.x*b.x+this.vel.y*b.y)/(b.x*b.x+b.y*b.y),this.vel.x=b.x*c,this.vel.y=b.y*c,b=Math.atan2(b.x,b.y),b>this.slopeStanding.min&&b<this.slopeStanding.max&&(this.standing=!0)}this.pos=a.pos},draw:function(){this.O224&&
this.O1457&&(this.O1457.draw(this.pos.x-this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y),ig.Entity.ActiveDrawCount++)},kill:function(){ig.game.O154(this)},O4217:function(a,b){this.health-=a;0>=this.health&&this.kill()},touches:function(a){return a&&!this.O6454&&!(this.pos.x>=a.pos.x+a.size.x||this.pos.x+this.size.x<=a.pos.x||this.pos.y>=a.pos.y+a.size.y||this.pos.y+this.size.y<=a.pos.y)},O5320:function(a){if(a){var b=this.pos.x+
this.size.x/2-(a.pos.x+a.size.x/2);a=this.pos.y+this.size.y/2-(a.pos.y+a.size.y/2);return Math.sqrt(b*b+a*a)}},angleTo:function(a){return Math.atan2(a.pos.y+a.size.y/2-(this.pos.y+this.size.y/2),a.pos.x+a.size.x/2-(this.pos.x+this.size.x/2))},check:function(a){},O3141:function(a,b){},ready:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={LIQUID:-1,NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.O4443=function(a,b){a.O6821&b.type&&
a.check(b);b.O6821&a.type&&b.check(a);(a.collides&&b.collides&&a.collides+b.collides>ig.Entity.COLLIDES.ACTIVE||a.collides&&b.collides==ig.Entity.COLLIDES.LIQUID)&&ig.Entity.O2631(a,b)};ig.Entity.O2631=function(a,b){if(!a.O7742||!b.O7742)if(!(a.O7742&&b instanceof EntityCrumbling||b.O7742&&a instanceof EntityCrumbling)){var c=null;if(a.collides==ig.Entity.COLLIDES.LITE||b.collides==ig.Entity.COLLIDES.FIXED)c=a;else if(b.collides==ig.Entity.COLLIDES.LITE||
a.collides==ig.Entity.COLLIDES.FIXED)c=b;a.last.x+a.size.x>b.last.x&&a.last.x<b.last.x+b.size.x?(a.last.y<b.last.y?ig.Entity.O2995(a,b,c):ig.Entity.O2995(b,a,c),a.O3141(b,"y"),b.O3141(a,"y")):a.last.y+a.size.y>b.last.y&&a.last.y<b.last.y+b.size.y&&(a.last.x<b.last.x?ig.Entity.O5562(a,b,c):ig.Entity.O5562(b,a,c),a.O3141(b,"x"),b.O3141(a,"x"))}};ig.Entity.O5562=function(a,b,c){var d=a.pos.x+a.size.x-b.pos.x;c?(c.vel.x=-c.vel.x*
c.bounciness+(a===c?b:a).vel.x,b=ig.game.O2846.trace(c.pos.x,c.pos.y,c==a?-d:d,0,c.size.x,c.size.y),c.pos.x=b.pos.x):(c=(a.vel.x-b.vel.x)/2,a.vel.x=-c,b.vel.x=c,c=ig.game.O2846.trace(a.pos.x,a.pos.y,-d/2,0,a.size.x,a.size.y),a.pos.x=Math.floor(c.pos.x),a=ig.game.O2846.trace(b.pos.x,b.pos.y,d/2,0,b.size.x,b.size.y),b.pos.x=Math.ceil(a.pos.x))};ig.Entity.O2995=function(a,b,c){var d=a.pos.y+a.size.y-b.pos.y;if(c){b=a===c?b:a;c.vel.y=-c.vel.y*c.bounciness+b.vel.y;var e=
0;c==a&&Math.abs(c.vel.y-b.vel.y)<c.O716&&(c.standing=!0,e=b.vel.x*ig.system.tick);a=ig.game.O2846.trace(c.pos.x,c.pos.y,e,c==a?-d:d,c.size.x,c.size.y);c.pos.y=a.pos.y;c.pos.x=a.pos.x}else ig.game.gravity&&(b.standing||0<a.vel.y)?(c=ig.game.O2846.trace(a.pos.x,a.pos.y,0,-(a.pos.y+a.size.y-b.pos.y),a.size.x,a.size.y),a.pos.y=c.pos.y,0<a.bounciness&&a.vel.y>a.O716?a.vel.y*=-a.bounciness:(a.standing=!0,a.vel.y=0)):(c=(a.vel.y-b.vel.y)/2,a.vel.y=-c,b.vel.y=c,e=
b.vel.x*ig.system.tick,c=ig.game.O2846.trace(a.pos.x,a.pos.y,e,-d/2,a.size.x,a.size.y),a.pos.y=c.pos.y,a=ig.game.O2846.trace(b.pos.x,b.pos.y,0,d/2,b.size.x,b.size.y),b.pos.y=a.pos.y)};ig.Entity.ActiveUpdateCount=0;ig.Entity.ActiveDrawCount=0});ig.baked=!0;
ig.module("impact.map").defines(function(){ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(a,b){this.tilesize=a;this.data=b;this.height=b.length;this.width=b[0].length},getItem:function(a,b){var c=Math.floor(a/this.tilesize),d=Math.floor(b/this.tilesize);return 0<=c&&c<this.width&&0<=d&&d<this.height?this.data[d][c]:0},setTile:function(a,b,c){a=Math.floor(a/this.tilesize);b=Math.floor(b/this.tilesize);0<=a&&a<this.width&&(0<=b&&b<this.height)&&(this.data[b][a]=
c)}})});ig.baked=!0;
ig.module("impact.collision-map").requires("impact.map").defines(function(){ig.O4041=ig.Map.extend({lastSlope:1,tiledef:null,init:function(a,b,e){this.parent(a,b);this.tiledef=e||ig.O4041.defaultTileDef;for(var f in this.tiledef)f|0>this.lastSlope&&(this.lastSlope=f|0)},trace:function(a,b,e,f,g,h){var k={collision:{x:!1,y:!1,slope:!1},pos:{x:a,y:b},tile:{x:0,y:0}},l=Math.ceil(Math.max(Math.abs(e),Math.abs(f))/this.tilesize);if(1<l)for(var m=e/l,n=f/l,p=0;p<l&&(m||n)&&!(this.O2919(k,
a,b,m,n,g,h,e,f,p),a=k.pos.x,b=k.pos.y,k.collision.x&&(e=m=0),k.collision.y&&(f=n=0),k.collision.slope);p++);else this.O2919(k,a,b,e,f,g,h,e,f,0);return k},O2919:function(a,b,e,f,g,h,k,l,m,n){a.pos.x+=f;a.pos.y+=g;var p=0;if(f){var q=0<f?h:0,s=0>f?this.tilesize:0,p=Math.max(Math.floor(e/this.tilesize),0),r=Math.min(Math.ceil((e+k)/this.tilesize),this.height);f=Math.floor((a.pos.x+q)/this.tilesize);var v=Math.floor((b+q)/this.tilesize);if(0<n||f==v||0>v||v>=this.width)v=-1;if(0<=f&&f<this.width)for(var u=
p;u<r&&!(-1!=v&&(p=this.data[u][v],1<p&&p<=this.lastSlope&&this.O3193(a,p,b,e,l,m,h,k,v,u)));u++)if(p=this.data[u][f],1==p||p>this.lastSlope||1<p&&this.O3193(a,p,b,e,l,m,h,k,f,u)){if(1<p&&p<=this.lastSlope&&a.collision.slope)break;a.collision.x=!0;a.tile.x=p;b=a.pos.x=f*this.tilesize-q+s;l=0;break}}if(g){q=0<g?k:0;g=0>g?this.tilesize:0;p=Math.max(Math.floor(a.pos.x/this.tilesize),0);s=Math.min(Math.ceil((a.pos.x+h)/this.tilesize),this.width);u=Math.floor((a.pos.y+q)/this.tilesize);
r=Math.floor((e+q)/this.tilesize);if(0<n||u==r||0>r||r>=this.height)r=-1;if(0<=u&&u<this.height)for(f=p;f<s&&!(-1!=r&&(p=this.data[r][f],1<p&&p<=this.lastSlope&&this.O3193(a,p,b,e,l,m,h,k,f,r)));f++)if(p=this.data[u][f],1==p||p>this.lastSlope||1<p&&this.O3193(a,p,b,e,l,m,h,k,f,u)){if(1<p&&p<=this.lastSlope&&a.collision.slope)break;a.collision.y=!0;a.tile.y=p;a.pos.y=u*this.tilesize-q+g;break}}},O3193:function(a,b,e,f,g,h,k,l,m,n){var p=this.tiledef[b];if(!p)return!1;b=(p[2]-
p[0])*this.tilesize;var q=(p[3]-p[1])*this.tilesize,s=p[4];k=e+g+(0>q?k:0)-(m+p[0])*this.tilesize;l=f+h+(0<b?l:0)-(n+p[1])*this.tilesize;if(0<b*l-q*k){if(0>g*-q+h*b)return s;m=Math.sqrt(b*b+q*q);n=q/m;m=-b/m;var r=k*n+l*m,p=n*r,r=m*r;if(p*p+r*r>=g*g+h*h)return s||0.5>b*(l-h)-q*(k-g);a.pos.x=e+g-p;a.pos.y=f+h-r;a.collision.slope={x:b,y:q,nx:n,ny:m};return!0}return!1}});var a=1/3,b=2/3;ig.O4041.defaultTileDef={5:[0,1,1,b,!0],6:[0,b,1,a,!0],7:[0,a,1,0,!0],3:[0,1,1,0.5,!0],4:[0,0.5,1,0,!0],2:[0,
1,1,0,!0],10:[0.5,1,1,0,!0],21:[0,1,0.5,0,!0],32:[b,1,1,0,!0],43:[a,1,b,0,!0],54:[0,1,a,0,!0],27:[0,0,1,a,!0],28:[0,a,1,b,!0],29:[0,b,1,1,!0],25:[0,0,1,0.5,!0],26:[0,0.5,1,1,!0],24:[0,0,1,1,!0],11:[0,0,0.5,1,!0],22:[0.5,0,1,1,!0],33:[0,0,a,1,!0],44:[a,0,b,1,!0],55:[b,0,1,1,!0],16:[1,a,0,0,!0],17:[1,b,0,a,!0],18:[1,1,0,b,!0],14:[1,0.5,0,0,!0],15:[1,1,0,0.5,!0],13:[1,1,0,0,!0],8:[0.5,1,0,0,!0],19:[1,1,0.5,0,!0],30:[a,1,0,0,!0],41:[b,1,a,0,!0],52:[1,1,b,0,!0],38:[1,b,0,1,!0],39:[1,a,0,b,!0],40:[1,0,
0,a,!0],36:[1,0.5,0,1,!0],37:[1,0,0,0.5,!0],35:[1,0,0,1,!0],9:[1,0,0.5,1,!0],20:[0.5,0,0,1,!0],31:[1,0,b,1,!0],42:[b,0,a,1,!0],53:[a,0,0,1,!0],12:[0,0,1,0,!1],23:[1,1,0,1,!1],34:[1,0,1,1,!1],45:[0,1,0,0,!1],110:[0,1,1,0,!1],111:[0,0,1,1,!1],112:[1,1,0,0,!1],113:[1,0,0,1,!1]};ig.O4041.staticNoCollision={trace:function(a,b,e,f){return{collision:{x:!1,y:!1,slope:!1},pos:{x:a+e,y:b+f},tile:{x:0,y:0}}}}});ig.baked=!0;
ig.module("impact.background-map").requires("impact.map","mlframe.image").defines(function(){ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},areaDriftOffset:{x:0,y:0},distance:1,repeat:!1,O6403:"",foreground:!1,enabled:!0,preRender:!1,O3697:null,chunkSize:512,O5713:!1,anims:{},init:function(a,b,c){this.parent(a,b);this.O8060(c)},O8060:function(a){this.O6403=a instanceof ml.Image?a.path:a;this.tiles=new ml.Image(this.O6403);this.O3697=
null},O7477:function(a,b){this.scroll.x=a/this.distance+this.areaDriftOffset.x;this.scroll.y=b/this.distance+this.areaDriftOffset.y},O7197:function(){var a=this.width*this.tilesize*ig.system.scale,b=this.height*this.tilesize*ig.system.scale,c=Math.ceil(a/this.chunkSize),d=Math.ceil(b/this.chunkSize);this.O3697=[];for(var e=0;e<d;e++){this.O3697[e]=[];for(var f=0;f<c;f++)this.O3697[e][f]=this.O8253(f,e,f==c-1?a-f*this.chunkSize:this.chunkSize,
e==d-1?b-e*this.chunkSize:this.chunkSize)}},O8253:function(a,b,c,d){var e=c/this.tilesize/ig.system.scale+1,f=d/this.tilesize/ig.system.scale+1,g=a*this.chunkSize/ig.system.scale%this.tilesize,h=b*this.chunkSize/ig.system.scale%this.tilesize;a=Math.floor(a*this.chunkSize/this.tilesize/ig.system.scale);b=Math.floor(b*this.chunkSize/this.tilesize/ig.system.scale);var k=ig.$new("canvas");k.width=c;k.height=d;c=ig.system.context;ig.system.context=k.getContext("2d");for(d=0;d<e;d++)for(var l=
0;l<f;l++)if(d+a<this.width&&l+b<this.height){var m=this.data[l+b][d+a];m&&this.tiles.O7417(d*this.tilesize-g,l*this.tilesize-h,m-1,this.tilesize)}ig.system.context=c;return k},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.O5123():this.O1208())},O5123:function(){this.O3697||this.O7197();var a=ig.system.O4928(this.scroll.x),b=ig.system.O4928(this.scroll.y);this.repeat&&(a%=this.width*this.tilesize*ig.system.scale,
b%=this.height*this.tilesize*ig.system.scale);var c=Math.max(Math.floor(a/this.chunkSize),0),d=Math.max(Math.floor(b/this.chunkSize),0),e=Math.ceil((a+ig.system.realWidth)/this.chunkSize),f=Math.ceil((b+ig.system.O1709)/this.chunkSize),g=this.O3697[0].length,h=this.O3697.length;this.repeat||(e=Math.min(e,g),f=Math.min(f,h));for(var k=0;d<f;d++){for(var l=0,m=c;m<e;m++){var n=this.O3697[d%h][m%g],p=-a+m*this.chunkSize-l,q=-b+d*this.chunkSize-k;ig.system.context.drawImage(n,
p,q);this.O5713&&(ig.system.context.strokeStyle="#f0f",ig.system.context.strokeRect(p,q,this.chunkSize,this.chunkSize));this.repeat&&(n.width<this.chunkSize&&p+n.width<ig.system.realWidth)&&(l=this.chunkSize-n.width,e++)}this.repeat&&(n.height<this.chunkSize&&q+n.height<ig.system.O1709)&&(k=this.chunkSize-n.height,f++)}},O1208:function(){for(var a=0,b=(this.scroll.x/this.tilesize).toInt(),c=(this.scroll.y/this.tilesize).toInt(),d=this.scroll.x%this.tilesize,e=this.scroll.y%this.tilesize,
f=-d-this.tilesize,d=ig.system.width+this.tilesize-d,g=ig.system.height+this.tilesize-e,h=-1,e=-e-this.tilesize;e<g;h++,e+=this.tilesize){var k=h+c;if(k>=this.height||0>k){if(!this.repeat)continue;k=0<k?k%this.height:(k+1)%this.height+this.height-1}for(var l=-1,m=f;m<d;l++,m+=this.tilesize){var n=l+b;if(n>=this.width||0>n){if(!this.repeat)continue;n=0<n?n%this.width:(n+1)%this.width+this.width-1}(a=this.data[k][n])&&this.tiles.O7417(m,e,a-1,this.tilesize)}}}})});ig.baked=!0;
ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],O1888:[],O421:{},O2846:ig.O4041.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:32,O5965:[],O3439:null,O6759:!1,O1877:!0,O3150:null,
checkEntitiesOnScreenPeriod:0.5,O7137:60,O7911:20,O220:null,O6149:2.1,O3032:0,O568:!1,O5428:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;ig.game=this;this.O3150=new ml.Timer;this.O220=new ml.Timer;this.O568&&this.O3198();return null},O8412:function(a){return this.O421[a]},
getEntityByName:function(a){return this.namedEntities[a]},O594:function(a){a="string"===typeof a?ig.global[a]:a;for(var b=[],c,d=0;d<this.entities.length;d++)c=this.entities[d],c instanceof a&&!c._killed&&b.push(c);return b},spawnEntity:function(a,b,c,d){var e="string"===typeof a?ig.global[a]:a;if(!e)throw"Can't spawn entity of type "+a;a=new e(b,c,d||{});this.entities.push(a);ig.game.O440=!0;a.name&&(this.namedEntities[a.name]=a);a.O2507&&(this.O421[a.O2507]=
a);this.O568&&this.O6490(a);return a},O6879:function(a,b,c,d){(d&&d.uiEntity||this.O4872({x:b,y:c}))&&this.spawnEntity(a,b,c,d)},O154:function(a){a.name&&delete this.namedEntities[a.name];a.O2507&&delete this.O421[a.O2507];this.O568&&this.O2699(a);a._killed=!0;a.type=ig.Entity.TYPE.NONE;a.O6821=ig.Entity.TYPE.NONE;a.collides=ig.Entity.COLLIDES.NEVER;
this.O5965.push(a)},O6490:function(a){for(var b=this.O5339(a),c=0;c<b.length;c++)b[c].push(a)},O2699:function(a){for(var b=this.O5339(a),c=0;c<b.length;c++)for(var d=b[c],e=0;e<d.length;e++)if(a.id===d[e].id){d.splice(e,1);break}},O5339:function(a){var b=[];a.O6454?b.push(this.O413.ui):a.O5742?b.push(this.O413.light):a.isBehind?
b.push(this.O413.environment):a.O7175?b.push(this.O413.O4964):a.O1018?b.push(this.O413.environment):a.O766?(b.push(this.O413.default),b.push(this.O413.O5635)):a.isLiquid?(b.push(this.O413.default),b.push(this.O413.liquid)):a.betweenDefaultAndPlayer?b.push(this.O413.betweenDefaultAndPlayer):a.O7046?b.push(this.O413.O7046):
a.backgroundEntity?b.push(this.O413.background):a instanceof EntityPlayer?b.push(this.O413.player):a.O3045?b.push(this.O413.foreground):a.uiEntity?b.push(this.O413.ui):a.decorative?a.O1313?b.push(this.O413.O2788):b.push(this.O413.decoEffects):a.O5892?(b.push(this.O413.environment),b.push(this.O413.default),b.push(this.O413.foreground)):b.push(this.O413.default);
return b},O3198:function(){this.O413={background:[],environment:[],O4964:[],"default":[],light:[],betweenDefaultAndPlayer:[],player:[],O7046:[],foreground:[],O5635:[],O5196:[],liquid:[],O2788:[],decoEffects:[],ui:[]}},O5939:function(){this.entities.sort(this.sortBy)},O3750:function(){this.O6759=!0},run:function(){var a=Date.now();this.update();this.draw();
this.O3032=Date.now()-a},update:function(){if(this.O6759||this.autoSort)this.O5939(),this.O6759=!1;this.O3075();this.O1877&&this.O3150.delta()>this.checkEntitiesOnScreenPeriod&&(this.O749(),this.O3150.reset());this.checkEntities();for(var a=0;a<this.O5965.length;a++)this.entities.erase(this.O5965[a]),this.O1877&&this.O1888.erase(this.O5965[a]),
ig.game.O440=!0;this.O5965.length=0},O3075:function(){var a=Date.now();ig.Entity.ActiveUpdateCount=0;for(var b=ig.Entity.ActiveDrawCount=0;b<this.entities.length;b++)this.entities[b].update(),ig.Entity.ActiveUpdateCount++;b=Date.now();ig.game.debugUpdateEntitiesTime=b-a;if(this.O1877&&this.O220.delta()>this.O6149){for(b=0;b<this.O1888.length;b++)this.O1888[b].update(),
ig.Entity.ActiveUpdateCount++;this.O220.reset()}},O749:function(){for(var a,b=0,c=0,d=[],e=[],f=0;f<this.entities.length&&!(a=this.entities[f],!a.uiEntity&&!a.O7168&&(this.entities[f].O6412()||(d.push(this.entities[f]),b++),b>this.O7911));f++);for(f=0;f<this.O1888.length&&!(this.O1888[f].O6412()&&(e.push(this.O1888[f]),c++),c>this.O7137);f++);
for(f=0;f<d.length;f++)this.O3186(d[f]);for(f=0;f<e.length;f++)this.O598(e[f])},O598:function(a){this.entities.push(a);this.O1888.erase(a);ig.game.O440=!0},O3186:function(a){this.O1888.push(a);this.entities.erase(a);ig.game.O440=!0},O4872:function(a){return a.x>this.screenPlusMargin.x1&&a.y>this.screenPlusMargin.y1&&a.x<this.screenPlusMargin.x2&&a.y<this.screenPlusMargin.y2},
checkEntities:function(){var a=Date.now(),b={},c,d,e,f,g,h,k;for(d=0;d<this.entities.length;d++)if(c=this.entities[d],!(c.type==ig.Entity.TYPE.NONE&&c.O6821==ig.Entity.TYPE.NONE&&c.collides==ig.Entity.COLLIDES.NEVER)){if(500<=c.size.x)break;h={};var l=Math.floor(c.pos.y/this.cellSize),m=Math.floor((c.pos.x+c.size.x)/this.cellSize)+1,n=Math.floor((c.pos.y+c.size.y)/this.cellSize)+1;for(e=Math.floor(c.pos.x/this.cellSize);e<m;e++)for(f=l;f<n;f++)if(b[e])if(b[e][f]){k=b[e][f];for(g=0;g<k.length;g++)c.touches(k[g])&&
!h[k[g].id]&&(h[k[g].id]=!0,ig.Entity.O4443(c,k[g]));k.push(c)}else b[e][f]=[c];else b[e]={},b[e][f]=[c]}b=Date.now();ig.game.debugCheckEntitiesTime=b-a}});ig.Game.SORT={Z_INDEX:function(a,b){return a.zIndex-b.zIndex},POS_X:function(a,b){return a.pos.x+a.size.x-(b.pos.x+b.size.x)},POS_Y:function(a,b){return a.pos.y+a.size.y-(b.pos.y+b.size.y)}}});ig.baked=!0;
ig.module("mlframe.misc").defines(function(){ml.Misc={getDateOfMongoId:function(a){var b=null;a&&("string"===typeof a&&8<=a.length)&&(a=a.toString().substring(0,8),b=new Date(1E3*parseInt(a,16)));return b},O2616:function(){var a=!1;if(ig.game.O413&&ig.game.O413.player)for(var b=0;b<ig.game.O413.player.length;b++)if(ig.game.O413.player[b].isFullAccount){a=!0;break}return a},O7257:function(a,b){var c=!1,d=b;!b&&(ig.game&&ig.game.O4269)&&
(d=ig.game.O4269.O2507);ig.game&&(a&&a.creatorId&&ig.game.settings)&&(c=d==a.creatorId||!ig.game.settings.disallowSandboxItemsByOthers);return c},isAdmin:function(){return ig.game.O4269&&10<=ig.game.O4269.rank},O1651:function(a){ig.ua.android||(ig.system.context.globalCompositeOperation=a)},O13:function(){this.O1651("source-over")},O2858:function(a,b,c){var d=ig.game.strings.trim(a[c]);for(c+=1;c<a.length;c++)d+=b+a[c];return d},O4110:function(a){var b=
ig.system.scale;return{x:a.x*b,y:a.y*b,width:a.width*b,height:a.height*b}},O8210:function(a,b,c){var d=this.O4110(a);a=ig.system.context;void 0===b&&(b=3);b*=ig.system.scale;var e=d.x,f=d.y,g=d.x+d.width,d=d.y+d.height;a.beginPath();a.moveTo(e+b,f);a.lineTo(g-b,f);a.lineTo(g,f+b);a.lineTo(g,d-b);a.lineTo(g-b,d);a.lineTo(e+b,d);a.lineTo(e,d-b);a.lineTo(e,f+b);c?a.stroke():a.fill();a.closePath()},O711:function(a){var b=3600;a&&parseInt(a)==
a&&(a=parseInt(a),1<=a&&a<=this.O1080()&&(b=a));return b},O1080:function(){return 31536E3},O2046:function(){ig.game.O2944?(window.consoleref.log("The area-global Interacting here reads:"),ig.game.O4961.getItem_P(ig.game.O2944.thingTypeId,"misc1").done(function(a){window.consoleref.log(a.textData)})):window.consoleref.log("There's no area-global Interacting here.")},
toggleAutoBuildToCheckIssuesWhileAway:function(){ig.game.O4504&&ig.game.O4504.timeoutId?clearTimeout(ig.game.O4504.timeoutId):(ig.game.O4504={actionIndex:0,timeoutId:null,alarmSongUrl:"https://soundcloud.com/bobby-previte/set-the-alarm-for-monday"},this.O6885())},O6885:function(){var a=["build","checkIsBuilt","delete","checkIsDeleted"],b=ig.game.isLocal?"5245e732be4cdf1b3f000014":"50372a99f5d33dc56f000001",
c=ig.game.O4269,d={x:parseInt((c.pos.x+c.O7704Offset.x)/ig.game.tileSize),y:parseInt((c.pos.y+c.O7704Offset.y-2*ig.game.tileSize)/ig.game.tileSize)},e=null!==ig.game.O7715.O8268(d),f=a[ig.game.O4504.actionIndex],g="Performing auto build action: "+f;window.consoleref.log(ig.game.strings.O6374(),g);c.say(g.toLowerCase());g=!1;switch(f){case "build":ig.game.O7715.O4202(b,0,0,d,null,!0);break;case "checkIsBuilt":e||
(g=!0);break;case "delete":ig.game.O7715.deleteThingAt(d.x,d.y);break;case "checkIsDeleted":e&&(g=!0)}g?(g="Detected issue during this action. Cancelling autobuild.",window.consoleref.log(g),c.say(g.toLowerCase()),this.O6896(ig.game.O4504.alarmSongUrl,ig.game.O4269.O2507),this.toggleAutoBuildToCheckIssuesWhileAway()):(ig.game.O4504.actionIndex++,ig.game.O4504.actionIndex>a.length-1&&(ig.game.O4504.actionIndex=0),ig.game.O4504.timeoutId=
setTimeout(function(){ml.Misc.O6885()},5E3))},O4473:function(a){var b=!1;ig.ua.steam&&(a&&a.image&&a.image.data)&&(b=63990<=a.image.data.width*a.image.data.height);return b},O7149:function(a){for(var b=1;8>=b;b++)if(a=="area "+b){a=String(b);break}return a},O3056:function(a,b){var c=a.indexOf(b);0<=c&&a.splice(c,1);return a},O774:function(){ig.game.writableDialog&&ig.game.writableDialog.close();
ig.game.readableDialog&&ig.game.readableDialog.close()},O8018:function(a,b){var c=6<ig.system.scale?6:ig.system.scale;void 0!==b&&(c=b);return ig.game.staticResourcePrefix+"media/"+a+"/"+c+".png?v="+ig.game.version},O2868:function(){ig.ua.mobile=!ig.ua.mobile;ig.game.O3459=!ig.ua.mobile;ig.game.virtualJoystick.O2659()},O5620:function(a,b){var c=0;a.totalVisitors>b.totalVisitors?c=-1:a.totalVisitors<b.totalVisitors&&(c=1);return c},O6635:function(a){var b=
null;a&&(a=new Date(a),a=Math.abs((new Date).getTime()-a.getTime()),b=Math.floor(a/864E5));return b},O1267:function(a){if(a&&ig.game.O4269&&10<=ig.game.O4269.rank){window.consoleref.clear();window.consoleref.log("---- Diagnostics -----");for(var b=0;b<a.length;b++)window.consoleref.log(a[b]);window.consoleref.log("----------------------")}},O4478:function(){ig.game.O6310||ig.game.writableDialog&&ig.game.writableDialog.isOpen||(ig.game.isFullAccount?
ig.game.O2052||ig.game.O7421.O3311(ig.game.areaId).done(function(a){a&&Boolean(a[ig.game.O4269.O2507])!=ig.game.isEditorHere&&location.reload()}):location.reload())},O1098:function(){var a=!1;return a=ig.ua.steam?ig.game.steamManager.isWindowFullScreen():screen.width==ig.system.realWidth&&screen.height==ig.system.O1709},O2254:function(){var a=0;if(ig.game.O4269&&ig.game.O413.player&&2<=ig.game.O413.player.length)for(var b=
Math.max(ig.system.widthHalf,ig.system.O8417)+50,c=0;c<ig.game.O413.player.length;c++){var d=ig.game.O413.player[c];if(d.O3739&&(d.O4102||d.O5320(ig.game.O4269)<=b))if(a++,2<=a)break}return 2<=a},O4734:function(){ml.Misc.O2254()&&ig.game.O413.player.sort(function(a,b){var c=0;return c=a.pos.y>b.pos.y?1:a.pos.y<b.pos.y?-1:a.pos.x>b.pos.x?1:a.pos.x<b.pos.x?-1:a.id<b.id?1:-1})},O632:function(a){var b=null,
c=null;if(ig.game.O413.player)if(1==ig.game.O413.player.length)b=ig.game.O413.player[0];else for(var d=0;d<ig.game.O413.player.length;d++){var e=ig.game.O413.player[d],f=a.O5320(e);if(null==c||f<c)b=e,c=f}return b},O7522:function(a,b){var c=ig.game.alertDialog&&ig.game.alertDialog.isOpen;ig.game.O7673();ig.game.writableDialog&&ig.game.writableDialog.isOpen&&ig.game.writableDialog.close();ig.game.sounds.actionSoft.play();
var d=ig.game.O8430.getAttributeFromSingleAttributes(a,"HELPER");ig.game.virtualJoystick.O3096();switch(d){case "toArea":b=ig.game.strings.O1360(b,"to ");ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest(b);break;case "areaInfo":ig.game.areaDialog&&(ig.game.areaDialog.isOpen?ig.game.areaDialog.close():ig.game.areaDialog.open());break;case "findAreas":ig.game.areaSearchDialog&&(ig.game.areaSearchDialog.isOpen?ig.game.areaSearchDialog.close():ig.game.areaSearchDialog.open());
break;case "findAreasByName":console.log("findAreasByName",b);ig.game.areaSearchDialog&&(ig.game.areaSearchDialog.isOpen?ig.game.areaSearchDialog.close():ig.game.areaSearchDialog.open(b,!0));break;case "visitedAreas":ig.game.areaList.O5908(!0,!0);break;case "createdAreas":ig.game.areaList.O5908(!1,!0,!0);break;case "settings":ig.game.settings.openDialog();break;case "toElsewhere":ig.game.O5699?ig.game.O884.O2127("i am already elsewhere"):ig.game.portaller.startExitAreaTeleportingRequest();
break;case "profile":ig.game.playerDialog.isOpen?ig.game.playerDialog.close():ig.game.playerDialog.O3657();break;case "createAreaOrSubArea":ig.game.areaDialog.O1641();break;case "friends":ig.game.isFullAccount?ig.game.friendsDialog.isOpen?ig.game.friendsDialog.close():ig.game.friendsDialog.open():ig.game.bottomMenu.showLoginDialog(!0);break;case "snapshot":ig.game.isFullAccount&&(c=ig.game.bottomMenu.subMenus[0])&&c.O597();break;case "boosts":ig.game.boostDialog&&
ig.game.O4269&&ig.game.O4269.rank>=ig.game.boostDialog.O1657?ig.game.boostDialog.isOpen?ig.game.boostDialog.close():ig.game.boostDialog.open():ig.game.O4132.O2959();break;case "map":ig.game.isFullAccount&&ig.game.userMapDialog.O768();break;case "paste":ig.game.isFullAccount?ml.Misc.O6167():ig.game.O884.O2127("i need to login to paste");break;case "areasOfTheHour":ig.game.randomAreasDialog.open();break;case "toHome":ig.game.O5442?
ig.game.portaller.O4154(ig.game.O5442):(ig.game.O884.O2127("i need to set a home"),setTimeout(function(){ig.game.O884.O2127("in my album first")},1500));break;case "login":ig.game.bottomMenu.showLoginDialog();break;case "help":ml.Misc.O284(!0);break;case "news":c||ig.game.bottomMenu.O7334();break;case "areaAds":ig.game.adCampaignsDialog&&(ig.game.adCampaignsDialog.isOpen?ig.game.adCampaignsDialog.close():ig.game.adCampaignsDialog.open());
break;case "myStates":ig.game.isEditorHere?ig.game.O6401&&ig.game.O6401.showPlayerStates():ig.game.O884&&ig.game.O884.O8271("editorOnly")}},O6674:function(a){return this.O6680(a)&&parseInt(a)==a},O3254:function(a){return"boolean"===typeof a},O6680:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isEven:function(a){return 0==a%2},O2017:function(a){return"string"===typeof a},O5179:function(a,b,c){a<b?a=b:a>c&&(a=c);
return a},O1613:function(a,b,c){a<b?a=b:a>c&&(a=c);return a},O5830:function(a,b){a<-b?a=-b:a>b&&(a=b);return a},O6736:function(a,b){void 0===b&&(b=1E4);Infinity===a||!a?a=0:a<-b?a=-b:a>b&&(a=b);return a},O284:function(a){var b="/info";ig.ua.mobile?b+="-mobile":ig.ua.steam&&(b+="-steam",a=!0);ml.Misc.openUrl(b,a)},openUrl:function(a,b){if(a&&"string"===typeof a&&ig.game.alertDialog&&!ig.game.strings.O1933(a)){var c=(0===a.indexOf("http://manyland.com/")||
0===a.indexOf("https://manyland.com/"))&&-1===a.indexOf("info")&&-1===a.indexOf("support")&&!b;c?window.location.href=a:ig.ua.mobile&&!c||b?(ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),0===a.indexOf("http://manyland.com/")||0===a.indexOf("https://manyland.com/")||0===a.indexOf("/")?this.O39(a):(a=ig.game.strings.replaceAll(a,"http://",""),a=ig.game.strings.replaceAll(a,"https://",""),ig.game.alertDialog.open("<p>Please open<br/><br/>"+ig.game.strings.O4334(a)+"<br/><br/>in your browser</p>",
!0))):ig.ua.steam?ig.game.steamManager.openUrl(a):(c=!0,0<=a.indexOf(":")&&((c=ig.game.validations.O2960(a))||ig.game.sounds.nocando.play()),c&&window.open(a,"_blank"))}},O39:function(a){this.O5752()&&(a=ig.game.strings.replaceAll(a,"http://manyland.com/","/"),a=ig.game.strings.replaceAll(a,"https://manyland.com/","/"));jQuery.ajax({type:"GET",url:a,dataType:"html",success:function(b){var c=0<=b.indexOf('<body id="body">')?'<body id="body">':"<body>";if(b=ig.game.strings.O3802(b,
c,"</body>"))-1===a.indexOf("/info-mobile")&&-1===a.indexOf("/info-steam")&&(b+='<div class="buttonPart"><a href="javascript:ig.game.alertDialog.O8312()" class="okButton">OK</a></div>'),b=ig.game.strings.replaceAll(b,"<script>",'<div style="display: none">'),b=ig.game.strings.replaceAll(b,"<script ",'<div style="display: none" '),b=ig.game.strings.replaceAll(b,"\x3c/script>","</div>"),b=ig.game.strings.replaceAll(b,"\x3c!-- <ignore-if-inline> --\x3e","\x3c!-- "),b=ig.game.strings.replaceAll(b,
"\x3c!-- </ignore-if-inline> --\x3e"," --\x3e"),b=ig.game.strings.replaceAll(b,"\x3c!-- <include-if-inline>",""),b=ig.game.strings.replaceAll(b,"<include-if-inline> --\x3e",""),c=["inlineHtmlHelp"],ig.game.isFullAccount&&c.push("isFullAccount"),b='<div class="'+c.join(" ")+'">'+b+"</div>",ig.game.alertDialog.open(b,!0,null,null,!0,!0,!0)}})},O6802:function(a){return ig.game.blockedTypesForTest&&0<=ig.game.blockedTypesForTest.indexOf(a)},O8094:function(a,b,c){var d=
"";if(ig.game.painter){for(var d=[],e=0;e<a.length;e++){var f=ig.game.painter.O6687(a[e]);d[e]=f?ig.game.painter.types[f].title:a[e]}2<=d.length&&(b?d[d.length-1]="and "+d[d.length-1]:c&&(d[d.length-1]="or "+d[d.length-1]));d=d.join(", ");b?d=ig.game.strings.replaceAll(d,", and "," and "):c&&(d=ig.game.strings.replaceAll(d,", or "," or "))}return d},O7937:function(a,b){var c=0;if("string"===typeof a)for(var d=a.length,e=0;e<d;e++)c+=a.charCodeAt(e);return c%
b+1},O2875:function(a){var b="";1<ig.game.O2051&&(b=this.O7937(a,ig.game.O2051));var c="d3t4ge0nw63pin d3sru0o8c0d5ho d39pmjr4vi5228 djaii3xne87ak d1qx0qjm5p9x4n d1ow0r77w7e182 d12j1ps7u12kjc dzc91kz5kvpo5 d3jldpr15f31k5 d2r3yza02m5b0q dxye1tpo9csvz".split(" ");""!=b&&0<=b&&b<c.length||(b=0);return"//"+c[b]+".cloudfront.net/"+a},O3941:function(a,b,c,d,e,f){var g=ig.Font.ALIGN.CENTER;void 0===d&&(d=1);void 0===e&&(e=0.35);void 0===
f&&(f=0.85);ig.system.context.globalAlpha=e*d;ig.game.blackSmallFont.draw(a,b-1,c,g);ig.game.blackSmallFont.draw(a,b+1,c,g);ig.game.blackSmallFont.draw(a,b,c-1,g);ig.game.blackSmallFont.draw(a,b,c+1,g);ig.system.context.globalAlpha=f*d;ig.game.whiteSmallFont.draw(a,b,c,g);ig.system.context.globalAlpha=1},getTimestampFromObjectId:function(a){a=a.toString().substring(0,8);return new Date(1E3*parseInt(a,16))},O1099:function(a){var b=null;a&&(b=(new Date-Date.parse(a))/1E3/60/60/24);return b},
getNonCryptographicHash:function(a){for(var b=a.length,c=100^b,d=0,e;4<=b;)e=a.charCodeAt(d)&255|(a.charCodeAt(++d)&255)<<8|(a.charCodeAt(++d)&255)<<16|(a.charCodeAt(++d)&255)<<24,e=1540483477*(e&65535)+((1540483477*(e>>>16)&65535)<<16),e^=e>>>24,e=1540483477*(e&65535)+((1540483477*(e>>>16)&65535)<<16),c=1540483477*(c&65535)+((1540483477*(c>>>16)&65535)<<16)^e,b-=4,++d;switch(b){case 3:c^=(a.charCodeAt(d+2)&255)<<16;case 2:c^=(a.charCodeAt(d+1)&255)<<8;case 1:c^=a.charCodeAt(d)&255,c=1540483477*(c&
65535)+((1540483477*(c>>>16)&65535)<<16)}c^=c>>>13;c=1540483477*(c&65535)+((1540483477*(c>>>16)&65535)<<16);return(c^c>>>15)>>>0},O4361:function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b},O8083:function(a,b,c){switch(c){case "CHANGER":ig.game.painter.O2349(a,b)}},O2307:function(){var a=window.addEventListener?"addEventListener":"attachEvent";(0,window[a])("attachEvent"==a?"onmessage":"message",function(a){var c=a.message?"message":
"data";switch(a[c].internal_target){case "userScriptManager":ig.game.userScriptManager.receiveMessageFromExternal(a[c]);break;case "brainManager":ig.game.brainManager.receiveMessageFromExternal(a[c]);break;case "happening":if(ig.game.O3501.isRunning&&ig.game.O3501.O4644&&0===ig.game.O3501.O4644.indexOf("happening_"))for(var d=0;d<ig.game.O3501.entities.length;d++){var e=ig.game.O3501.entities[d];e&&(!e._killed&&e.subChannel==a[c].internal_subChannel)&&
e.receiveMessageFromExternal(a[c])}if(ig.game.O413&&ig.game.O413.default)for(d=0;d<ig.game.O413.default.length;d++)(e=ig.game.O413.default[d])&&(!e._killed&&e.subChannel==a[c].internal_subChannel)&&e.receiveMessageFromExternal(a[c]);break;default:ig.game.O6401.receiveMessageFromExternal(a[c])}},!1)},O959:function(a,b,c,d){var e=!1;d?e=ig.game.O18:a&&!ig.game.O67?e=!1:ig.game.O5298?
"INDIVIDUALS"==ig.game.O2714&&(e=2<=b||ig.game.O4109||!ig.game.isEditorHere&&c||!ig.game.O4269.isFullAccount):e=a||c;return Boolean(e)},O1461:function(a,b,c){var d={pos:ig.game.O5662(b.pos),size:ig.game.O5662(b.size)};b.attachments&&(b.attachments.b&&b.attachments.b.animSheet&&b.attachments.b.animSheet.height)&&(d.size={x:b.attachments.b.animSheet.width,y:b.attachments.b.animSheet.height},d.pos={x:b.pos.x-b.offset.x,y:b.pos.y-b.offset.y});
c&&(d.pos.x-=c,d.pos.y-=c,d.size.x+=2*c,d.size.y+=2*c);return a.touches(d)},O373:function(){if(ig.game.isFullAccount){ig.game.O2050=!ig.game.O2050;ig.game.virtualJoystick&&ig.game.virtualJoystick.O2659();ig.game.virtualKeyboard&&ig.game.virtualKeyboard.O8134();ig.game.motionDialog&&ig.game.motionDialog.O6678();ig.game.camera&&ig.game.camera.setOffset();ig.game.instrumentDialog&&ig.game.instrumentDialog.O4920(!0);if(!ig.game.O2050&&
ig.game.panelSet){var a=ig.game.panelSet.panels[ig.game.panelSet.tabEnum.search];a&&a.isOpen&&a.O605()}ig.game.boostDialog&&ig.game.boostDialog.isOpen&&ig.game.boostDialog.reInit()}},O7099:function(){if(ig.game.O4269&&ig.game.O4269.O2031("seeAllItems")){var a="background environment O4964 default light betweenDefaultAndPlayer player O7046 foreground O5635 liquid O2788 decoEffects farBack O5311".split(" ");
ig.system.context.globalCompositeOperation="lighter";for(var b=0;b<a.length;++b)for(var c=a[b],d=0;d<ig.game.O413[c].length;++d){var e=ig.game.O413[c][d];ig.game.chance(4)&&(e instanceof EntityLight||e instanceof EntityLighttop||e instanceof EntityVignette||e instanceof EntityFilllight||e instanceof EntityEnvironm||e instanceof EntityInteract||e instanceof EntityInterenv||e instanceof EntityHarm||e instanceof EntityHarmanim||e instanceof EntityDynathing||e instanceof EntityHappening||
e instanceof EntityDeadly||e instanceof EntityDeadlymv||e instanceof EntityDeadlyem||e instanceof EntityCrumbling||e instanceof EntityPlacename||e instanceof EntityGather||e instanceof EntityFarback||e instanceof EntityMusic)&&ig.game.decorator.O1805(e.pos.x,e.pos.y,e.size.x,e.size.y,!1,1)}ig.system.context.globalCompositeOperation="source-over"}},O4208:function(){ig.game.O5881+=0.25;ig.game.O5881>=ig.game.tileSize&&(ig.game.O5881=0);ig.game.O3675+=
0.175;ig.game.O3675>=ig.game.tileSize&&(ig.game.O3675=0)},O4704:function(){if(ig.ua.mobile&&(!ig.game.O5638&&void 0!=window.orientation)&&ig.system.width<ig.system.height!=(0==window.orientation||180==window.orientation))console.log("Reloading - adjust to orientation"),ig.game.O5638=!0,window.location.reload()},O3636:function(){if(ig.game.areaDrift&&0!=ig.game.areaDrift.speed){var a=ml.Misc.O7683(ig.system.tick);
ig.game.backgroundMaps[0].areaDriftOffset.x-=a.x;ig.game.backgroundMaps[0].areaDriftOffset.y-=a.y}},O7683:function(a){a||(a=1);a*=2*ig.game.areaDrift.speed;var b=0.7*a;return{a270:{x:0,y:a},a315:{x:-b,y:b},a0:{x:-a,y:0},a45:{x:-b,y:-b},a90:{x:0,y:-a},a135:{x:b,y:-b},a180:{x:a,y:0},a225:{x:b,y:b}}["a"+ig.game.areaDrift.angle]},O4768:function(a){a.x+=ig.game.areaAngleDriftVelocity.x;a.y+=ig.game.areaAngleDriftVelocity.y},O3887:function(){return ig.ua.isIOsUIWebView||
ig.ua.kindle},O4219:function(){!ig.game.O3603&&(ig.game.alertDialog&&ig.game.isFullAccount&&ig.game.O4269&&4<=ig.game.O5210&&2<=ig.game.O4269.rank)&&(ig.game.O3603=!0,(ig.ua.iPad||ig.ua.phone)&&!ig.game.O4803.check(ig.game.O4803.types.SAW_DIALOG_REVIEW_MOBILE)?ig.game.O4803.register(ig.game.O4803.types.SAW_DIALOG_REVIEW_MOBILE):ig.ua.steam&&!ig.game.O4803.check(ig.game.O4803.types.SAW_DIALOG_REVIEW_STEAM)?
ig.game.O4803.register(ig.game.O4803.types.SAW_DIALOG_REVIEW_STEAM):ig.game.O4803.check(ig.game.O4803.types.SAW_DIALOG_MOBILE_VERSION_AVAILABLE)||ig.game.O4803.register(ig.game.O4803.types.SAW_DIALOG_MOBILE_VERSION_AVAILABLE))},O4500:function(){if(!ig.game.isFullAccount&&!ig.ua.phone&&!ig.game.O4271&&ig.game.O5699&&ig.game.O4269&&ig.game.O4269.firstMoveTimer&&45<=ig.game.O4269.firstMoveTimer.delta()&&
ig.game.O4269.vel&&0==ig.game.O4269.vel.x&&0==ig.game.O4269.vel.y&&!ig.game.alertDialog.isOpen){if(!localStorage.getItem("didSeeTrailer")){var a=!1,b=ig.system.realWidth/2,c=ig.system.O1709/2;ig.system.O1709>ig.system.realWidth?(b=ig.system.realWidth-10,a=!0):ig.ua.phone&&(b=ig.system.realWidth-70,c=ig.system.O1709-50,a=!0);b=ml.Misc.O317(b,c);ig.game.alertDialog.open({html:b,doShowBig:a,O3468:!0,fullyOpaque:!0,O6353:!0,O7750:!0,O1987:!0,
O3409:!0});ig.game.O914.setItem("didSeeTrailer","1")}ig.game.O4271=!0}},O317:function(a,b){if(!a||!b)a=560,b=315;return'<iframe width="'+a+'" height="'+b+'" sandbox="allow-scripts allow-same-origin allow-pointer-lock allow-presentation" src="//www.youtube.com/embed/LFBfANLqjzw?rel=0&amp;showinfo=0&amp;autoplay=1&amp;autohide=1" frameborder="0" allowfullscreen></iframe>'},O672:function(){if((!ig.game.O4269||
!ig.game.O4269.attachments||!ig.game.O4269.attachments.br)&&ig.ua.isFramed){var a=8;ig.game.gameStartTimer&&8>=ig.game.gameStartTimer.delta()&&(a=0.5);ig.game.O970||(ig.game.O970=new ml.Timer);ig.game.O970.delta()>=a&&(window.focus(),ig.game.O970=new ml.Timer)}},O2230:function(){1<=ig.game.O4269.rank&&ig.game.O8053&&ig.game.isFullAccount?ig.game.isEditorHere?(ig.game.wasEditorHere=!0,ig.game.isEditorHere=
!1,ig.game.O2473=ig.game.isEditorHere,ig.game.O2050=!1,ig.game.O7510.O7206(ig.game.O4269),ig.game.panelSet.O3602(),ig.game.camera.setOffset(),ig.game.decorator.O7028()):ig.game.wasEditorHere?(delete ig.game.wasEditorHere,ig.game.isEditorHere=!0,ig.game.O2473=ig.game.isEditorHere,ig.game.O2050=!0,ig.game.panelSet.O3602(),ig.game.camera.setOffset()):ig.game.sounds.nocando.play():
ig.game.sounds.nocando.play()},O1659:function(a,b,c,d){if(d.animSheet&&(a.size.x=d.animSheet.width,a.size.y=d.animSheet.height,a.size.x!=ig.game.tileSize||a.size.y!=ig.game.tileSize))a.pos.x=Math.round(b+ig.game.O1990-a.size.x/2),a.pos.y=Math.round(c+ig.game.tileSize-a.size.y)},O2281:function(a,b){var c=null,d=ig.game.O413.default;if(d)for(var e=0;e<d.length;e++){var f=d[e];if(f instanceof b&&!f._killed&&a.touches(f)){c=f;break}}return c},
getGridNeighborOfTypes:function(a,b){for(var c,d=-1;1>=d;d++)for(var e=-1;1>=e;e++)if(!(0==d&&0==e)){var f=ig.game.O7715.O8268({x:a.x+d,y:a.y+e});if(f&&(f=ig.game.O4961.getItemBasic(f.tid,"mlf_misc"))&&0<=b.indexOf(f.base)){c=f;break}}return c},O2849:function(a){var b=null,c=ig.game.O413.player;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(!e._killed&&e.O2507==a){b=e;break}}return b},O6167:function(a){ig.game.O1217?ig.game.O4269&&
ig.game.O4269.rank>=ig.game.O2794&&(2<=ig.game.O4269.rank||ig.game.isEditorHere)?5>ig.game.O4269.rank&&ig.game.O172.O3820()&&ig.game.O5699?ig.game.O4269.say(ig.game.O172.O7190()):ig.game.alertDialog.O8429("Paste URL (special support for YouTube, Twitch, Imgur, Manyland Snapshots and SoundCloud):",a,function(a){null!=a&&""!=a&&(ml.Misc.O1220(a,ig.game.O4269.O2507)?ml.Misc.O6896(a,
ig.game.O4269.O2507,null,!0):ig.game.sounds.nocando.play())},null,null,!0):ig.game.O4132.O2959():ig.game.O884.O8271("cantPasteHere")},O1220:function(a,b){var c=!1,d=ml.Misc.O2849(b);a&&("string"==typeof a&&""!=a&&d)&&(c=0<=a.toLowerCase().indexOf("imgur")&&!d.isEditorHere?3:2,c=d.rank>=c&&ig.game.mediaDialog&&ig.game.mediaDialog.O4715(a)&&-1===a.indexOf("%30"));return c},O6896:function(a,b,c,d){var e=!1;if(ig.game.O4269){a=
ig.game.strings.replaceAll(a,"http://soundcloud.com/","https://soundcloud.com/");!ig.game.O4269.O2031("mutesAll")&&(!ig.game.O4269.O2031("mutesPastes")&&!(-1===a.indexOf("soundcloud.com")&&ig.game.writableDialog&&ig.game.writableDialog.isOpen))&&((e=ig.game.panelSet&&ig.game.panelSet.musicPlayer&&ig.game.panelSet.musicPlayer.O3289(a,b,c,d))?d=!1:e=ig.game.mediaDialog&&ig.game.mediaDialog.O3289(a,b,c));if(!e&&ig.game.mediaDialog&&
ig.game.mediaDialog.O4715(a)&&!c){var f=ml.Misc.O2849(b);f&&ig.game.O7421.O1818(b,ig.game.O172.O6722,ig.game.areaId).done(function(b){b&&b.hasMinfinity&&f.O4261(a,!0)})}d&&ig.game.O4349.O6577(a)}return e},O7871:function(a,b){var c=!1;if(a&&b&&200>=b.length)for(var d=b.split(","),e=0;e<d.length;e++){var f=ig.game.strings.trim(d[e]);if(3<=f.length&&0<=a.indexOf(f)){c=!0;break}}return c},O3785:function(a){return"number"===
typeof a&&a==parseInt(a)},O8132:function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)},O22:function(a){return ml.Misc.O3208({r:a[0],g:a[1],b:a[2]})},O1674:function(a){a=ml.Misc.O3824(a);return[a.r,a.g,a.b]},O3208:function(a){var b=[a.r,a.g,a.b],c,d,e,f;a=b[0];c=b[1];d=b[2];e=Math.min(a,c,d);b=Math.max(a,c,d);f=b-e;if(0!=b)e=f/b;else return{hue:-1,saturation:0,value:0};a=60*(a===b?(c-d)/f:c===b?2+(d-a)/f:4+(a-c)/f);0>a&&(a+=360);isNaN(a)&&
(a=0);return{hue:a,saturation:e,value:b}},O3824:function(a){a=[a.hue,a.saturation,a.value];var b,c,d,e,f;c=a[0];d=a[1];a=a[2];if(0===d)return b=d=a,{r:Math.floor(b).limit(0,255),g:Math.floor(d).limit(0,255),b:Math.floor(a).limit(0,255)};c/=60;b=Math.floor(c);e=c-b;c=a*(1-d);f=a*(1-d*e);e=a*(1-d*(1-e));switch(b){case 0:b=a;d=e;a=c;break;case 1:b=f;d=a;a=c;break;case 2:b=c;d=a;a=e;break;case 3:b=c;d=f;break;case 4:b=e;d=c;break;default:b=a,d=c,a=f}return{r:Math.floor(b).limit(0,255),g:Math.floor(d).limit(0,
255),b:Math.floor(a).limit(0,255)}},O1928:function(){ig.game.O7277&&ig.game.O7277.delta()>ig.game.O1173&&(ig.game.O7277.reset(),ig.game.O4349.O6221())},O5752:function(){return 0===window.location.href.indexOf("http://127.0.0.1")||0===window.location.href.indexOf("http://192.168.178.47")},O3512:function(a,b){return a+(b-a)*Math.random()},distort:function(a){return ml.Misc.O3512(-a,a)},O7969:function(a,
b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)},O8383:function(){var a="",b={GG:"Google",FB:"Facebook",AZ:"Amazon"};ig.game.O3902&&b[ig.game.O3902]&&(a=b[ig.game.O3902]);return a},O1649:function(){ig.game.namePxWidth=ig.game.whiteFont.O6289(ig.game.O4269.screenName);ig.game.healthBar.O4020(7,3)},O1954:function(){0>ig.game.O6225?(ig.game.O6225+=0.1,0<ig.game.O6225&&(ig.game.O6225=
0)):0<ig.game.O6225&&(ig.game.O6225-=0.1,0>ig.game.O6225&&(ig.game.O6225=0));ig.game.O6997<ig.game.O6225?ig.game.O6997+=10*ig.system.tick:ig.game.O6997>ig.game.O6225&&(ig.game.O6997-=10*ig.system.tick)},O1420:function(){if("#_=_"==window.location.hash)window.location.replace("#"),"function"==typeof window.history.replaceState&&history.replaceState({},"",window.location.href.slice(0,
-1));else if(0<=window.location.href.indexOf("?fb_ref=Default")||0<=window.location.href.indexOf("?post_id="))window.history&&window.history.pushState(void 0,void 0,"/"+(ig.game.O45?ig.game.O45:""))},O7323:function(a,b){void 0==a&&(a=!1);void 0==b&&(b=50>=ig.game.O5167(0,100));var c=ig.game.O5167(0,181),d=80>=ig.game.O5167(0,100)?1:2,e=1,f=b?"m":"f";a||(e=ig.game.O5167(1,2),d=ig.game.O5167(1,3));return c+"-"+d+"-"+e+"-"+f},O7388:function(a){return a.x>=
ig.game.screen.x&&a.x<=ig.game.screen.x+ig.system.width&&a.y>=ig.game.screen.y&&a.y<=ig.game.screen.y+ig.system.height},O1060:function(){if(ig.game.painter&&ig.game.O6310&&"pickColor"==ig.game.painter.O6592&&ig.input.pressed("click")){var a=Math.floor(ig.input.mouse.x*ig.system.scale),b=Math.floor(ig.input.mouse.y*ig.system.scale),c=null;try{c=ig.system.context.getImageData(a,b,1,1)}catch(d){ig.game.errorManager.warn("getImageData exception for world color picking");
return}c&&(a=c.data)&&ig.game.painter.O1006({r:a[0],g:a[1],b:a[2],alpha:1})}},O03:function(a){return(a=document.cookie.match("(^|;)\\s*"+a+"\\s*=\\s*([^;]+)"))?a.pop():""},O311:function(){},O5331:function(a,b){var c;c=setInterval(function(){a&&(clearInterval(c),b())},10)},O879:function(){var a=!1;try{require("process")}catch(b){a=!0}a||ig.game.errorManager.O7973("Client privileged access check error")}}});ig.baked=!0;
ig.module("game.entities.decorative.footdust").requires("impact.entity").defines(function(){window.EntityFootdust=ig.Entity.extend({size:{x:6,y:5},maxVel:{x:100,y:100},friction:{x:0,y:0},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:90,O4984:240,decorative:!0,init:function(a,b,c){this.parent(a,b,c);this.animSheet=new ml.AnimationSheet(null,this.size.x,this.size.y,ig.game.O5405.getImage(ig.game.O5405.dust));this.O199=0;
this.vel.y=Math.floor(-10*Math.random()+2);this.vel.x=Math.floor((60*Math.random()+10)*c.direction);this.addAnim("main",1,[0])},update:function(){this.opacity-=this.O4984*ig.system.tick;0>=this.opacity&&(this.opacity=0,this.kill());this.parent()},draw:function(){ig.system.context.globalAlpha=0.01*this.opacity;this.parent();ig.system.context.globalAlpha=1},O28:function(a){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick},check:function(){}})});
ig.baked=!0;
ig.module("game.entities.deadplayer").requires("impact.entity").defines(function(){window.EntityDeadPlayer=ig.Entity.extend({size:{x:16,y:19},offset:{x:3,y:3},maxVel:{x:100,y:500},friction:{x:0,y:0},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O3045:!0,O5951:0,O4343:0,O6609:!1,O291:400,O134:200,O4102:!1,O7168:!0,O6466:80,init:function(a,b,c){this.parent(a,b,c);this.player.attachments.b?(this.animSheet=
this.player.attachments.b.animSheet,this.addAnim("death",1,[6])):(this.animSheet=this.player.animSheet,this.addAnim("death",1,[5]));this.O1457=this.anims.death;this.O1457.flip.x=this.O6609;this.O5951=ml.Misc.O3512(-0.125,0.125);this.deathType==ig.game.deathTypes.FALL?(this.vel.y=500,ig.game.sounds.O7086(ig.game.sounds.dieFalling,this),this.O4102&&(ig.game.cameraTrackPlayer=!1)):this.deathType==ig.game.deathTypes.FOCUS?this.O6466=
1:this.deathType==ig.game.deathTypes.POISON?ig.game.sounds.dieOfPoison.play():(this.vel.y=-400,this.vel.x=Math.floor(400*Math.random()-200),ig.game.sounds.die.play())},update:function(){this.O4343++;this.O4343>this.O6466&&(this.kill(),this.O4102&&ig.game.O231.died(this.deathType));this.O1457&&(this.O1457.angle+=this.O5951);this.parent()},draw:function(){this.deathType==ig.game.deathTypes.FALL&&ig.game.decorator.O5972(this);
this.parent()},O28:function(a){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick}})});ig.baked=!0;
ig.module("game.ui.components.uiclicktext").defines(function(){window.UIClickText=ig.Class.extend({O2677:!1,isHovered:!1,O3628:!0,pos:{x:0,y:0},size:{x:0,y:0},O7225:!0,parent:null,margin:0,align:null,init:function(a,b,c,d,e,f,g){this.pos=a;this.text=b;this.font=c;this.color=d;this.alpha=e;this.size.x=this.text?this.font.O6289(this.text):0;this.size.y=this.font.height;f&&(this.O3628=!1);g&&(this.align=ig.Font.ALIGN.CENTER)},O3937:function(a){this.text=a;this.size.x=this.text?
this.font.O6289(this.text):0;this.size.y=this.font.height},update:function(){if(this.O3628){if(this.O2677=(this.isHovered=ig.game.O6099.O6849(this.pos.x-this.margin,this.pos.y-this.margin,this.pos.x+this.size.x+this.margin,this.pos.y+this.size.y+this.margin))&&ig.game.O6099.O5632())ig.game.O6099.O6375(!0),this.O5473();return this.O2677}},O5473:function(){this.onClick()},onClick:function(){},draw:function(){if(this.text){var a=
ig.system.context.globalAlpha;ig.system.context.globalAlpha=this.alpha;this.O8281(this.text,this.font,this.color,this.pos.x,this.pos.y);ig.system.context.globalAlpha=a}},O8281:function(a,b,c,d,e){var f=this.font==ig.game.blackWhiteFont?1:0;b.draw(a,d,e,this.align);a=b.O6289(a);b=b.height-1;if(this.O3628){var g=ig.system.context;g.webkitImageSmoothingEnabled=!1;g.mozImageSmoothingEnabled=!1;this.O7225&&(this.align==ig.Font.ALIGN.CENTER&&(d-=a/2),this.font==
ig.game.blackWhiteFont&&this.O4775(g,d+f,e,a,b),g.lineWidth=ig.system.scale,g.strokeStyle=c,g.beginPath(),g.moveTo(d*ig.system.scale-1+f*ig.system.scale,(e+b)*ig.system.scale),g.lineTo((d+a)*ig.system.scale-1+f*ig.system.scale,(e+b)*ig.system.scale),g.stroke())}},O4775:function(a,b,c,d,e){for(var f=-1;1>=f;f++){var g=0==f?1:0;a.lineWidth=ig.system.scale;a.strokeStyle="rgba(0,0,0,.6)";a.beginPath();a.moveTo((b-g)*ig.system.scale-1,(c+e+f)*ig.system.scale);a.lineTo((b+d+g)*ig.system.scale-
1,(c+e+f)*ig.system.scale);a.stroke()}},remove:function(){}})});ig.baked=!0;
ig.module("game.ui.speechdisplayline").requires("game.ui.components.uiclicktext").defines(function(){window.SpeechDisplayLine=ig.Class.extend({relpos:{x:0,y:0},basepos:{x:0,y:0},offset:{x:4,y:-14},O166:20,O530:2.2,O2484:5,O4251:6,O6832:8.8,timer:null,moving:!1,fading:!1,fadingIn:!0,full:!1,deleting:!1,ySpeed:-6,yAccel:0,fadeIncrement:1,expired:!1,keys:[],clickText:null,font:null,opacity:0.3,O4828:0.8,O6175:0,O110:!1,
isAmplified:!1,O6038:10,O6652:0,O8354:0.7,O3974:0.1,O2493:0,O444:0,O4586:!1,O2471:1,O2759:0,O2383:"",init:function(a,b,c,d,e){this.basepos=a;this.O110=b;this.font=e?e:ig.game.blackWhiteFont;this.timer=new ml.Timer;this.isAmplified=!!c;d&&(this.O166=d)},addItem:function(a){if("introHelp"==
a){if(ig.game.lastTimeIntroHelpSpoken&&15>=ig.game.lastTimeIntroHelpSpoken.delta())return;ig.game.lastTimeIntroHelpSpoken=new ml.Timer}if(this.O110&&"_~"==a)this.keys.pop();else if(this.O110&&"_|"==a)this.deleting=this.moving=this.full=!0;else if(this.keys.push(a),this.O6936(a),this.O110){var b=this.O4786().length;"_c "==a&&b>this.O166?this.moving=this.full=!0:b>1.5*this.O166&&(this.moving=this.full=!0)}else this.O4786().length>this.O166&&
(this.moving=this.full=!0);this.O110&&!this.full&&(this.timer=new ml.Timer)},update:function(a){this.atPos(a)||(this.moving=this.full=!0);this.clickText&&this.clickText.update();this.O110?(!this.moving&&this.timer.delta()>this.O4251&&(this.moving=!0),!this.fading&&this.timer.delta()>this.O6832&&(this.fading=!0)):(!this.moving&&this.timer.delta()>this.O530&&(this.moving=!0),!this.fading&&this.timer.delta()>this.O2484&&(this.fading=
!0));this.moving&&(-6<this.relpos.y?this.relpos.y+=3*this.ySpeed*ig.system.tick:(this.relpos.y+=this.ySpeed*ig.system.tick,this.ySpeed+=this.yAccel*ig.system.tick));this.fading&&(this.opacity=Math.max(0,this.opacity-this.fadeIncrement*ig.system.tick));this.fadingIn&&(this.opacity=Math.min(this.O4828,this.opacity+this.fadeIncrement*ig.system.tick),this.opacity==this.O4828&&(this.fadingIn=!1));this.deleting&&!this.isEmpty()&&this.keys.pop();0==this.opacity&&(this.expired=!0);this.keys.length!=
this.O2759&&(this.O2759=this.keys.length,this.O2383=this.O4786(),this.O444=Math.floor(this.font.O6289(this.O2383)/2));this.O444>this.O2493&&(this.O4586||(this.O6652=this.O8354,this.O4586=!0),this.O6652=this.O444-this.O2493<=this.O2471?
Math.max(0,this.O6652-this.O3974):this.O8354,this.moving||(this.O2493=Math.min(this.O444,this.O2493+this.O6652)),this.O444<=this.O2493&&(this.O4586=!1))},draw:function(){var a=this.basepos.x+this.relpos.x+this.offset.x-ig.game._rscreen.x,b=this.basepos.y+this.relpos.y+this.offset.y-ig.game._rscreen.y,c=this.O2383;
"_thumbsUp"==this.keys[0]||"_thumbsDown"==this.keys[0]?(a-=this.O444,"_thumbsUp"==this.keys[0]&&ig.game.O5405.O4918(a-4,b-1,this.opacity),a+=10):ig.game.speechData.vocabularySets.en[this.keys[0]]&&(a-=this.O444);this.clickText?(this.clickText.pos.x=a,this.clickText.pos.y=b,this.clickText.alpha=this.opacity,this.clickText.draw()):this.isAmplified?this.O3078(c,a,b):this.O5896(c,a,b)},O5896:function(a,b,c){ig.system.context.globalAlpha=
this.opacity;this.font.draw(a,b-this.O2493,c,ig.Font.ALIGN.LEFT);ig.system.context.globalAlpha=1},O3078:function(a,b,c){b-=this.O2493;1>=this.timer.delta()?this.O6175=this.opacity:this.O6175-=0.01;if(0<this.O6175){ig.system.context.globalAlpha=0.25*this.O6175;for(var d=-1;1>=d;d++)for(var e=-1;1>=e;e++)0==d&&0==e||this.font.draw(a,b+d,c+e,ig.Font.ALIGN.LEFT)}ig.system.context.globalAlpha=this.opacity;this.font.draw(a,b,
c,ig.Font.ALIGN.LEFT);ig.system.context.globalAlpha=1},shiftUp:function(){},isFull:function(){return this.full},isEmpty:function(){return 1>this.keys.length},O7623:function(){return!this.moving&&!this.isFull()},O2445:function(){this.moving=this.full=!0},atPos:function(a){return this.basepos.x-this.O6038<a.x&&this.basepos.x+this.O6038>a.x&&this.basepos.y-this.O6038<a.y&&this.basepos.y+this.O6038>a.y},O4786:function(){for(var a=
"",b,c=0;c<this.keys.length;c++)if("_"!=this.keys[c].charAt(0))a+=ig.game.speechData&&ig.game.speechData.vocabulary[this.keys[c]],c<this.keys.length-1&&(a+=" ");else{b=this.keys[c].substr(2);if("i"==this.keys[c].charAt(1)){var d=ig.game.O4961.getItemBasic(b,"ui_sdl"),a=a+(d?d.name:"");c<this.keys.length-1&&(a+=" ")}"p"==this.keys[c].charAt(1)&&(d=ig.game.O8412(b),!d&&b==ig.game.O4269.O2507&&(d=ig.game.O4269),a+=d?d.screenName:"",c<this.keys.length-1&&(a+=" "));"c"==this.keys[c].charAt(1)&&
(a+=this.keys[c].charAt(2))}return a},O6936:function(a){if("_thumbsDown"==a||"_thumbsUp"==a){var b=this.basepos.x+this.relpos.x+this.offset.x,c=this.basepos.y+this.relpos.y+this.offset.y;"_thumbsUp"==a&&ig.game.sounds.O153(ig.game.sounds.clap,{x:b,y:c})}}})});ig.baked=!0;
ig.module("game.ui.speechdisplay").requires("game.ui.speechdisplayline").defines(function(){window.SpeechDisplay=ig.Class.extend({O1423:[],pos:{x:0,y:0},player:null,O5589:0,O7238:null,init:function(a){this.player=a},update:function(a){this.pos=a;for(var b=0;b<this.O1423.length;b++)this.O1423[b].update(a),this.openPlayerProfileIfRightClicked(this.O1423[b]),this.O1423[b].expired&&(this.O1423[b]=null,this.O1423.splice(b,1))},openPlayerProfileIfRightClicked:function(a){if(ig.game.O6099.O2757()){var b=
a.basepos.x+a.relpos.x+a.offset.x-ig.game._rscreen.x,c=a.basepos.y+a.relpos.y+a.offset.y-ig.game._rscreen.y+4;ig.input.mouse.x>=b-a.O2493&&(ig.input.mouse.x<=b+a.O2493&&ig.input.mouse.y>=c-4&&ig.input.mouse.y<=c+4)&&(this.player&&this.player.O2507)&&(ig.game.sounds.click.play(),ig.game.O6099.O1788(),ig.game.playerDialog.openForPlayerId(this.player.O2507))}},draw:function(){for(var a=0;a<this.O1423.length;a++)this.O1423[a].draw()},O3281:function(a,
b){a=ig.game.strings.replaceAll(a,"_s","");for(var c=0;c<a.length;c++)this.addItem("_c"+a.charAt(c))},O6076:function(){this.O5589=0;this.O7238=null},O4865:function(){var a=0;if(this.O1423)for(var b=0;b<this.O1423.length;b++)this.O1423[b]&&this.O1423[b].keys&&(a+=this.O1423[b].keys.length);return a},addItem:function(a,b,c){var d=this.O4865()+a.length;if(75<a.length||250<d)c&&(c.exceededMax=!0);else{if((ig.game.isFullAccount&&
!this.player.O4102&&(!ig.game.settings||!ig.game.settings.showBlockedPeopleSpeech)&&ig.game.O4120.O2144(this.player.O2507)||0>=this.player.rank)&&"_nl"!=a)if(2>=this.O5589){if(a="_c.",this.O5589++,null==this.O7238){var e=this;this.O7238=setTimeout(function(){e.O6076()},3E4)}}else return;else if(0===a.indexOf("_s")){10>=this.O1423.length&&this.O3281(a,
b);return}"_nl"==a?this.O8238()&&this.O8238().O7623()&&this.O8238().O2445():(c=this.O8238())&&c.O7623()?c.addItem(a):"_~"!=a&&"_|"!=a&&this.addLine(a,b)}},O8238:function(){return this.O1423[this.O1423.length-1]},addLine:function(a,b){var c=this.player.O5560();c&&(a&&3>=a.length)&&(a=a.toLowerCase());c=new SpeechDisplayLine(this.pos,ig.game.O884.O6549(a),b,null,c);c.addItem(a);this.O1423.push(c);
if(1<this.O1423.length)for(c=0;c<this.O1423.length-1;c++)this.O1423[c].shiftUp()},O5804:function(a,b,c,d,e){var f=b&&(0<=b.indexOf("http://manyland.com/#")||0<=b.indexOf("https://manyland.com/#")||0<=b.indexOf("http://127.0.0.1:3000/#"));f&&(a="-> find");c=new SpeechDisplayLine(this.pos,!0,d,c?100:0);e&&(c.font=e);for(e=0;e<a.length;e++){var g=a.substring(e,e+1);c.addItem("_c"+g)}d&&(c.O4828=0.5);b&&!ig.game.strings.O1933(b)&&(0<=navigator.userAgent.indexOf("Firefox")&&
(ig.game.O4515=!1),c.clickText=new UIClickText({x:0,y:0},a,ig.game.blackWhiteFont,"#FFFFFF",c.opacity),c.clickText.align=ig.Font.ALIGN.CENTER,c.clickText.onClick=f?function(){var a=b.substring(b.indexOf("/#")+2);ig.game.O7421.O384(a).done(function(a){a&&(void 0!=a.x&&void 0!=a.y)&&ig.game.O5051.O248(a)})}:function(){ml.Misc.openUrl(b)});c.O4251=c.O530;c.full=!0;this.O1423.push(c);if(1<this.O1423.length)for(a=
0;a<this.O1423.length-1;a++)this.O1423[a].shiftUp()},O5536:function(){this.O8238()&&this.O8238().O2445()}})});ig.baked=!0;
ig.module("game.core.item").requires("mlframe.image","mlframe.misc").defines(function(){window.Item=function(a){this.id=a;this.imageURL="test"==ig.game.mlenv||"production"==ig.game.mlenv?ml.Misc.O2875(this.id):this.localMediaPath+this.id+".png";this.name="";this.colType=null;this.slope=this.flippable=this.rotatable=this.fg=!1;this.defRot=0;this.base=this.creatorId=null;this.isALiquid=this.givesBackFill=this.takesBackFill=!1;this.img=null;this.transformedImageData=[];this.imagesGenerated=
!1;this.transformedImages=[];this.basicDataLoading=null;this.basicDataLoaded=!1;this.dataLoading=null;this.dataLoadFailed=this.dataLoaded=!1;this.O336Scaled=this.tileWidthScaled=this.scaledHeight=this.scaledWidth=null;this.imagesBeingGenerated=new jQuery.Deferred;this.imagesBeingGeneratedPromise=this.imagesBeingGenerated.promise();this.basicDataLoading=new jQuery.Deferred;this.dataLoading=new jQuery.Deferred;this.tileWidthScaled=ig.game.tileSize*ig.system.scale;this.O336Scaled=ig.game.tileSize*
ig.system.scale};window.Item.prototype.localMediaPath="i/";window.Item.prototype.O8189=function(a,b){this.optionalCreationInfo=b;ml.Misc.O6802(a.base)?this.basicDataLoading.reject():this.basicDataLoaded||((!a||!a.base)&&ig.game.errorManager.warn("item O8189 called with no data/base for",this.id),this.O3942(a),this.basicDataLoading.resolve(),this.basicDataLoaded=!0)};window.Item.prototype.O2658=function(a){ml.Misc.O6802(a.base)?this.dataLoading.reject():
this.dataLoaded||(this.basicDataLoaded||this.O3942(a),this.dataLoadFailed=!1,this.creatorId=a.creator,a.prop&&a.prop.musicData&&(this.musicData=a.prop.musicData),a.prop&&a.prop.textData&&(this.textData=a.prop.textData),a.prop&&a.prop.thingRefs&&(this.thingRefs=a.prop.thingRefs),this.dataLoading.resolve(),this.dataLoaded=!0,this.basicDataLoaded||(this.basicDataLoading.resolve(),this.basicDataLoaded=!0))};window.Item.prototype.O3942=function(a){this.base=a.base;void 0!==a.name&&
(this.name=a.name);this.isALiquid="LQDFLIP"==this.base||"LIQUID"==this.base;this.takesBackFill=!("SOLID"==this.base||this.isALiquid||"DECOBG"==this.base||"WALKABLE"==this.base);this.givesBackFill="DECOBG"==this.base||this.isALiquid||"WALKABLE"==this.base;a.prop&&(void 0!==a.prop.rgb&&(this.rgb=a.prop.rgb),void 0!==a.prop.rgb2&&(this.rgb2=a.prop.rgb2),void 0!==a.prop.pitch&&(this.pitch=a.prop.pitch),void 0!==a.prop.ins&&(this.ins=a.prop.ins),void 0!==a.prop.oct&&(this.oct=a.prop.oct),void 0!==a.prop.useKeyword&&
(this.useKeyword=a.prop.useKeyword&&a.prop.useKeyword.toLowerCase()),void 0!==a.prop.clonedFrom&&(this.clonedFrom=a.prop.clonedFrom),void 0!==a.prop.changerId&&(this.changerId=a.prop.changerId),void 0!==a.prop.backTileCount&&(this.backTileCount=a.prop.backTileCount),void 0!==a.prop.specs&&(this.specs=a.prop.specs),void 0!==a.prop.atKeyword&&(this.atKeyword=a.prop.atKeyword&&a.prop.atKeyword.toLowerCase()),void 0!==a.prop.getId&&(this.getId=a.prop.getId),void 0!==a.prop.hasId&&(this.hasId=a.prop.hasId),
void 0!==a.prop.holdableId&&(this.holdableId=a.prop.holdableId),void 0!==a.prop.protectPercent&&(this.protectPercent=a.prop.protectPercent),void 0!==a.prop.wearableId&&(this.wearableId=a.prop.wearableId),void 0!==a.prop.emitsId&&(this.emitsId=a.prop.emitsId),void 0!==a.prop.secPerTransform&&(this.secPerTransform=a.prop.secPerTransform),void 0!==a.prop.environmentId&&(this.environmentId=a.prop.environmentId),void 0!==a.prop.soundId&&(this.soundId=a.prop.soundId),void 0!==a.prop.motionId&&(this.motionId=
a.prop.motionId),void 0!==a.prop.boundingBox&&(this.boundingBox=a.prop.boundingBox),void 0!==a.prop.boundingBox2&&(this.boundingBox2=a.prop.boundingBox2),void 0!==a.prop.rptype&&(this.rptype=a.prop.rptype),a.prop.offset&&(this.mountOffset=a.prop.offset),void 0!==a.prop.text&&(this.text=a.prop.text),void 0!==a.prop.url&&(this.url=a.prop.url),void 0!==a.prop.creditUrl&&(this.creditUrl=a.prop.creditUrl),void 0!==a.prop.throwDirection&&(this.throwDirection=a.prop.throwDirection),void 0!==a.prop.thingRefs&&
(this.thingRefs=a.prop.thingRefs),void 0!==a.prop.reactsTo&&(this.reactsTo=a.prop.reactsTo),void 0!==a.prop.checksNears&&(this.checksNears=a.prop.checksNears),void 0!==a.prop.textSize&&(this.textSize=a.prop.textSize),void 0!==a.prop.info&&(this.info=a.prop.info),a.prop.attr&&(ig.game.O8430.O4198(a),a.prop.attributes&&(this.attributes=ig.game.O8430.O5233(a.prop.attributes),this.horizontalBackFillOnly=this.attributes.horizontalOnly,this.verticalBackFillOnly=
this.attributes.verticalOnly)));if(this.name&&("DECOBG"==this.base||"DECO"==this.base)&&0<=this.name.toLowerCase().indexOf("window"))this.givesBackFill=this.takesBackFill=!1;this.attributes&&(this.attributes.dontTakeAutoFill&&(this.takesBackFill=!1),this.attributes.takeAutoFill&&(this.takesBackFill=!0),this.attributes.dontGiveAutoFill&&(this.givesBackFill=!1));this.defRot=a.defRot||0;this.colType=Item.prototype.BASE_TYPES[this.base]?Item.prototype.BASE_TYPES[this.base].ct:0;this.fg=Item.prototype.BASE_TYPES[this.base]&&
!0==Item.prototype.BASE_TYPES[this.base].fg&&!(this.attributes&&this.attributes.behind)||this.attributes&&this.attributes.inFront;this.rotatable=Item.prototype.BASE_TYPES[this.base]&&!0==Item.prototype.BASE_TYPES[this.base].rotatable;this.flippable=Item.prototype.BASE_TYPES[this.base]&&!0==Item.prototype.BASE_TYPES[this.base].flippable;this.slope=Item.prototype.BASE_TYPES[this.base]&&!0==Item.prototype.BASE_TYPES[this.base].slope;0<=ig.game.O3577.indexOf(this.base)&&("DYNATHING"!=this.base&&
"HAPPENING"!=this.base&&"MUSICSHEET"!=this.base&&"FARBACK"!=this.base&&"TRANSFORM"!=this.base)&&(this.needsOffsetDuringDrag=!0);this.O3050()};window.Item.prototype.O3050=function(){if(!ig.game.avoidDrawing){var a;a=this.imageURL;this.O1515();this.img=new ml.Image(a,this.O85,this,void 0)}};window.Item.prototype.O85=function(a){this.O4643(a)};window.Item.prototype.O1515=function(){ig.game.numberOfImagesLoading||(ig.game.numberOfImagesLoading=
0);ig.game.numberOfImagesLoading++};window.Item.prototype.O1597=function(){ig.game.numberOfImagesLoading--};window.Item.prototype.O4643=function(a){var b=Date.now();a?(this.scaledWidth=this.img&&this.img.width<=ig.game.tileSize?this.img.width:ig.game.tileSize,this.scaledHeight=this.img?this.img.height:ig.game.tileSize,this.scaledWidth*=ig.system.scale,this.scaledHeight*=ig.system.scale,this.cellCount=1,"MOTION"==this.base||"INTERMOT"==this.base||"HOLDER"==this.base?(this.cellCount=
3,this.scaledWidth=this.img.width/this.cellCount*ig.system.scale,this.scaledHeight=this.img.height*ig.system.scale):"DYNATHING"==this.base||"HAPPENING"==this.base?(this.cellCount=this.img?this.img.width/29:1,this.scaledWidth=this.img.width/this.cellCount*ig.system.scale,this.scaledHeight=this.img.height*ig.system.scale):"FARBACK"==this.base||"TRANSFORM"==this.base?(this.cellCount=this.img?this.img.width/ig.game.O5286:1,this.scaledWidth=this.img.width/this.cellCount*ig.system.scale,this.scaledHeight=
this.img.height*ig.system.scale):"MUSICSHEET"==this.base?(this.cellCount=this.img?this.img.width/32:1,this.scaledWidth=this.img.width/this.cellCount*ig.system.scale,this.scaledHeight=this.img.height*ig.system.scale):"DECOFB"==this.base||"MULTITHING"==this.base?(this.cellCount=2,this.scaledWidth=this.img.width/this.cellCount*ig.system.scale):0<=ig.game.O3577.indexOf(this.base)||"EMITTER"==this.base||"AIMABLE"==this.base?this.cellCount=2:"STACKWEAR"==this.base&&this.img&&this.img.width>2*
ig.game.tileSize?(this.cellCount=2,this.scaledWidth=ig.game.O5286*ig.system.scale):"STACKWEARB"==this.base?(this.cellCount=this.img.width/ig.game.O1509!=parseInt(this.img.width/ig.game.O1509)?ig.game.O2565:ig.game.O1509,this.scaledWidth=this.img.width/this.cellCount*ig.system.scale,this.scaledHeight=this.img.height*ig.system.scale):"DECOBIG"==this.base||"DECOVBIG"==this.base||"POINTER"==this.base||"PLACENAME"==this.base||"LIVING"==this.base?this.img&&(this.scaledWidth=
this.img.width*ig.system.scale,this.scaledHeight=this.img.height*ig.system.scale):a.width>this.tileWidthScaled&&(a.width==this.tileWidthScaled*ig.game.maxCells?this.cellCount=ig.game.maxCells:a.width==this.tileWidthScaled*ig.game.O1509?this.cellCount=ig.game.O1509:a.width==this.tileWidthScaled*ig.game.O2565&&(this.cellCount=ig.game.O2565)),this.tileWidthScaled=this.scaledWidth,this.O336Scaled=this.scaledHeight,this.transformedImageData[0]=a,this.imagesGenerated=
!0,this.imagesBeingGenerated.resolve(),this.O1597(),a=Date.now()-b,ig.game.imageGenTime=ig.game.imageGenTime?ig.game.imageGenTime+a:a):(console.log("Failed to load imgData for item "+this.id),ig.game.errorManager.warn("Image loading for "+this.base+" failed in O4643",this.id),this.dataLoadFailed=!0)};window.Item.prototype.O2826=function(a,b){var c=this.O5619(this.tileWidthScaled,this.O336Scaled,this.cellCount),d=c.getContext("2d"),e=a+4*b;if(1==
e)d.translate(this.tileWidthScaled/2,this.O336Scaled/2),d.rotate(Math.PI/2),d.drawImage(this.transformedImageData[0],-this.tileWidthScaled/2,-this.O336Scaled/2),1<this.cellCount&&d.drawImage(this.transformedImageData[0],-this.tileWidthScaled/2-this.tileWidthScaled,-this.O336Scaled/2-this.O336Scaled);else if(2==e)d.translate(this.tileWidthScaled/2,this.O336Scaled/2),d.rotate(2*(Math.PI/2)),d.drawImage(this.transformedImageData[0],-this.tileWidthScaled/2,-this.O336Scaled/
2),1<this.cellCount&&d.drawImage(this.transformedImageData[0],-this.tileWidthScaled/2-2*this.tileWidthScaled,-this.O336Scaled/2);else if(3==e)d.translate(this.tileWidthScaled/2,this.O336Scaled/2),d.rotate(3*(Math.PI/2)),d.drawImage(this.transformedImageData[0],-this.tileWidthScaled/2,-this.O336Scaled/2),1<this.cellCount&&d.drawImage(this.transformedImageData[0],-this.tileWidthScaled/2-this.tileWidthScaled,-this.O336Scaled/2+this.O336Scaled);else if(4<=e){var f,g;this.transformedImageData[4]?
f=this.transformedImageData[4]:(f=this.O5619(this.tileWidthScaled,this.O336Scaled,this.cellCount),g=f.getContext("2d"),g.translate(this.tileWidthScaled,0),g.scale(-1,1),g.drawImage(this.transformedImageData[0],0,0));4==e?c=f:5==e?(d.translate(this.tileWidthScaled/2,this.O336Scaled/2),d.rotate(Math.PI/2),d.drawImage(f,-this.tileWidthScaled/2,-this.O336Scaled/2)):6==e?(d.translate(this.tileWidthScaled/2,this.O336Scaled/2),d.rotate(2*(Math.PI/2)),d.drawImage(f,-this.tileWidthScaled/
2,-this.O336Scaled/2)):7==e?(d.translate(this.tileWidthScaled/2,this.O336Scaled/2),d.rotate(3*(Math.PI/2)),d.drawImage(f,-this.tileWidthScaled/2,-this.O336Scaled/2)):console.log("Bad seq no. (a)",a,b)}else console.log("Bad seq no. (b)",a,b);return c};window.Item.prototype.O5619=function(a,b,c){var d=document.createElement("canvas");d.width=a*c;d.height=b;return d};window.Item.prototype.draw=function(a,b,c,d,e,f){1!==e&&(ig.system.context.globalAlpha=e);c=c||0;d=d||0;a=ig.system.O4928(a);
b=ig.system.O4928(b);this.needsOffsetDuringDrag&&(this.scaledWidth=this.img.width/2*ig.system.scale,a-=this.img.width/4,b-=this.img.height/2);this.imagesGenerated&&(c=this.getImageDataCanvasForDraw(c,d),this.O6891()?ig.system.context.drawImage(c,0,0,this.scaledWidth,this.scaledHeight,a,b,this.scaledWidth,this.scaledHeight):(c||console.log("rotated image data is null! - is this a non-rotatable item with rotation set?"),ig.system.context.drawImage(c,0,0,this.scaledWidth,this.scaledHeight,a,
b,this.scaledWidth,this.scaledHeight),f&&(ig.system.context.globalAlpha=1,ig.system.context.drawImage(c,f*this.scaledWidth,0,this.scaledWidth,this.scaledHeight,a,b,this.scaledWidth,this.scaledHeight))));1!==e&&(ig.system.context.globalAlpha=1)};window.Item.prototype.O7417=function(a,b,c,d,e){this.O2268()||this.draw(a,b,c,d,e)};window.Item.prototype.getImageDataCanvasForDraw=function(a,b){var c=a+4*b;this.transformedImageData[c]||(this.transformedImageData[c]=this.O2826(a,
b));return this.transformedImageData[c]};window.Item.prototype.getImageForRotationFlip=function(a,b){this.imagesGenerated||(console.log("getImageForRotationFlip Called before images finished generating"),ig.game.errorManager.warn("getImageForRotationFlip Called before images finished generating",this.name));return this.O6891()?this.getImageDataCanvasForDraw(0,0):this.getImageDataCanvasForDraw(a,b)};window.Item.prototype.O7150=function(a,b){if(Item.prototype.BASE_TYPES[this.base]){var c=Item.prototype.BASE_TYPES[this.base].ct;
return 1==c.length?c[0]:c[a]}return Item.prototype.COL_TYPES.PASSABLE_UP};window.Item.prototype.O567=function(){return Item.prototype.BASE_TYPES[this.base]?Item.prototype.BASE_TYPES[this.base].name:""};window.Item.prototype.O7026=function(){return Item.prototype.BASE_TYPES[this.base]?Item.prototype.BASE_TYPES[this.base].verbose?Item.prototype.BASE_TYPES[this.base].verbose:Item.prototype.BASE_TYPES[this.base].name:""};window.Item.prototype.destroy=function(){};window.Item.prototype.isBouncey=
function(){return Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.BOUNCEY};window.Item.prototype.O407=function(){ig.game.typesSafeForRespawn||(ig.game.typesSafeForRespawn=[Item.prototype.BASE_TYPES.SOLID,Item.prototype.BASE_TYPES.SLIDEY,Item.prototype.BASE_TYPES.WALKABLE,Item.prototype.BASE_TYPES.PASS]);return 0<=ig.game.typesSafeForRespawn.indexOf(Item.prototype.BASE_TYPES[this.base])};window.Item.prototype.isSticky=function(){return Item.prototype.BASE_TYPES[this.base]==
Item.prototype.BASE_TYPES.STICKY};window.Item.prototype.O2646=function(){return Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.SLIDEY||Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.SLSLOPE};window.Item.prototype.O491=function(){return Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.CLIMB||Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.WALKABLE||this.attributes&&this.attributes.climbable};window.Item.prototype.isLiquid=
function(){return this.isALiquid};window.Item.prototype.O5772=function(){return Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.DECO};window.Item.prototype.O8207=function(){return Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.PUSH};window.Item.prototype.O499=function(){return Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.PUSHDIAG};window.Item.prototype.O6891=function(){return Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.MOVING||
Item.prototype.BASE_TYPES[this.base]==Item.prototype.BASE_TYPES.DEADLYMV};window.Item.prototype.O6842=function(){return Item.prototype.BASE_TYPES[this.base].O4547};window.Item.prototype.O2268=function(){return Item.prototype.BASE_TYPES[this.base]&&"E"==Item.prototype.BASE_TYPES[this.base].imp};window.Item.prototype.O7062=function(){var a=this.base&&this.base.toLowerCase();return"Entity"+(a&&a.charAt(0).toUpperCase()+a.slice(1))};window.Item.prototype.COL_TYPES=
{NOT_APPLICABLE:0,NO_COLLISION:0,SOLID:1,SLOPE_LD:2,SLOPE_RD:24,SLOPE_RU:35,SLOPE_LU:13,BOUNCEY_LD:82,BOUNCEY_RD:84,BOUNCEY_RU:86,BOUNCEY_LU:88,SLSLOPE_LD:92,SLSLOPE_RD:94,SLSLOPE_RU:96,SLSLOPE_LU:98,SLIDEY_UP:200,STICKY:201,BOUNCEY_UP:202,BOUNCEY_RIGHT:203,BOUNCEY_DOWN:204,BOUNCEY_LEFT:205,PASSABLE_UP:12,PASSABLE_RIGHT:34,PASSABLE_DOWN:23,PASSABLE_LEFT:45,PASSABLE_SLOPE_LD:110,PASSABLE_SLOPE_RD:111,PASSABLE_SLOPE_LU:112,PASSABLE_SLOPE_RU:113};window.Item.prototype.BASE_TYPES={SOLID:{name:"solid",
imp:"T",ct:[Item.prototype.COL_TYPES.SOLID],fg:!0,rotatable:!0,publicKey:"solid"},SLOPE:{name:"slope",imp:"T",ct:[Item.prototype.COL_TYPES.SLOPE_LD,Item.prototype.COL_TYPES.SLOPE_RD,Item.prototype.COL_TYPES.SLOPE_RU,Item.prototype.COL_TYPES.SLOPE_LU],rotatable:!0,slope:!0,fg:!0,publicKey:"slope"},PASSSLOPE:{name:"pass. slope",imp:"T",ct:[Item.prototype.COL_TYPES.PASSABLE_SLOPE_LD,Item.prototype.COL_TYPES.PASSABLE_SLOPE_RD,Item.prototype.COL_TYPES.PASSABLE_SLOPE_RU,Item.prototype.COL_TYPES.PASSABLE_SLOPE_LU],
rotatable:!0,slope:!0,fg:!0,verbose:"passable slope",publicKey:"passableSlope"},SLIDEY:{name:"slidey",imp:"T",ct:[Item.prototype.COL_TYPES.SLIDEY_UP],fg:!0,rotatable:!0,publicKey:"slidey"},SLSLOPE:{name:"slidey sl.",imp:"T",ct:[Item.prototype.COL_TYPES.SLSLOPE_LD,Item.prototype.COL_TYPES.SLSLOPE_RD,Item.prototype.COL_TYPES.SLSLOPE_RU,Item.prototype.COL_TYPES.SLSLOPE_LU],rotatable:!0,slope:!0,fg:!0,verbose:"slidey slope",publicKey:"slideySlope"},STICKY:{name:"sticky",imp:"T",ct:[Item.prototype.COL_TYPES.STICKY],
fg:!0,rotatable:!0,publicKey:"sticky"},BOUNCEY:{name:"bouncy",imp:"T",ct:[Item.prototype.COL_TYPES.BOUNCEY_UP,Item.prototype.COL_TYPES.BOUNCEY_RIGHT,Item.prototype.COL_TYPES.BOUNCEY_DOWN,Item.prototype.COL_TYPES.BOUNCEY_LEFT],rotatable:!0,publicKey:"bouncy"},DECOBG:{name:"back",imp:"T",ct:[Item.prototype.COL_TYPES.NO_COLLISION],rotatable:!0,publicKey:"back"},DECO:{name:"thing",imp:"T",ct:[Item.prototype.COL_TYPES.NO_COLLISION],rotatable:!0,flippable:!0,publicKey:"thing"},DECOFG:{name:"thing frnt.",
imp:"T",ct:[Item.prototype.COL_TYPES.NO_COLLISION],fg:!0,rotatable:!0,flippable:!0,verbose:"thing in front",publicKey:"thingInFront"},MIFT:{name:"mift",imp:"T",ct:[Item.prototype.COL_TYPES.NO_COLLISION],publicKey:"mift"},DECOFB:{name:"back+front",imp:"E",ct:[Item.prototype.COL_TYPES.NO_COLLISION],rotatable:!0,publicKey:"backAndFront"},MULTITHING:{name:"multi",imp:"E",ct:[Item.prototype.COL_TYPES.NO_COLLISION],publicKey:"multi"},DECOACT:{name:"chang. on activ.",imp:"E",ct:[Item.prototype.COL_TYPES.NO_COLLISION],
rotatable:!0,verbose:"changing on activator",publicKey:"changingOnActivator"},GATHER:{name:"gatherable",imp:"E",ct:[Item.prototype.COL_TYPES.NO_COLLISION],rotatable:!0,publicKey:"gatherable"},DECOTCH:{name:"chang. on touch",imp:"E",ct:[Item.prototype.COL_TYPES.NO_COLLISION],rotatable:!0,verbose:"changing on touch",publicKey:"changingOnTouch"},PUSH:{name:"pushing",imp:"T",ct:[Item.prototype.COL_TYPES.NO_COLLISION],fg:!0,rotatable:!0,publicKey:"pushing"},PUSHDIAG:{name:"dgn. pushing",imp:"T",ct:[Item.prototype.COL_TYPES.NO_COLLISION],
fg:!0,rotatable:!0,verbose:"diagonal pushing",publicKey:"pushingDiagonal"},CLIMB:{name:"climbable",imp:"T",ct:[Item.prototype.COL_TYPES.NO_COLLISION],rotatable:!0,publicKey:"climbable"},WALKABLE:{name:"walkable",imp:"T",ct:[Item.prototype.COL_TYPES.NO_COLLISION],rotatable:!0,publicKey:"walkable"},PASS:{name:"one-way",imp:"T",ct:[Item.prototype.COL_TYPES.PASSABLE_UP,Item.prototype.COL_TYPES.PASSABLE_RIGHT,Item.prototype.COL_TYPES.PASSABLE_DOWN,Item.prototype.COL_TYPES.PASSABLE_LEFT],rotatable:!0,publicKey:"oneWay"},
DEADLY:{name:"deadly",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"deadly"},MOVING:{name:"moving",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,O4547:!0,publicKey:"moving"},DEADLYMV:{name:"deadly mv.",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,O4547:!0,verbose:"deadly moving",publicKey:"deadlyMoving"},LIVMOV:{name:"mov. living",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],verbose:"moving living",publicKey:"movingLiving"},
ACTIVATOR:{name:"activator",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"activator"},OPENABLE:{name:"open on activ.",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,O4547:!0,verbose:"open on activate",publicKey:"openOnActivate"},PORTAL:{name:"transport.",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],verbose:"transporting",rotatable:!0,publicKey:"transporting"},PORTALDIR:{name:"dir. transp.",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],
rotatable:!0,verbose:"directional transporting",publicKey:"directionalTransporting"},PORTALR:{name:"ring portal",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"ringPortal"},CRUMBLING:{name:"crumbling",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],O4547:!1,publicKey:"crumbling"},THROWER:{name:"item thrower",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],O4547:!0,publicKey:"itemThrower"},NEEDSITEM:{name:"needs item",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE]},
DEADLYEM:{name:"deadly emerging",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"deadlyEmerging"},LQDFLIP:{name:"flp. liquid",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"flippingLiquid"},LIQUID:{name:"liquid",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"liquid"},HARM:{name:"harmful",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"harmful"},HARMANIM:{name:"chang. harmful",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],
verbose:"changing harmful",publicKey:"changingHarmful"},MEDIUM:{name:"medium",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"medium"},ENVIRONM:{name:"environm.",imp:"E",ct:[Item.prototype.COL_TYPES.NO_COLLISION],verbose:"environment",publicKey:"environment"},LIVING:{name:"living",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"living"},INTERACT:{name:"interacting",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"interacting"},INTERMOT:{name:"int. motion",
imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],verbose:"interacting motion",publicKey:"interactingMotion"},LIVANIM:{name:"chang. living",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],verbose:"changing living",publicKey:"changingLiving"},DECOFLIP:{name:"flipn deco",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],verbose:"flipping decorative",publicKey:"flippingDecorative"},DECOANIM:{name:"chng. thing",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,verbose:"changing thing",
publicKey:"changingThing"},SPARKLING:{name:"sparkling",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"sparkling"},FLEXIBLE:{name:"flexible",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"flexible"},POINTER:{name:"pointer",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"pointer"},PLACENAME:{name:"place name",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"placeName"},WRITABLE:{name:"writable",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],
rotatable:!0,flippable:!0,publicKey:"writable"},READABLE:{name:"readable",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,flippable:!0,publicKey:"readable"},DECOBIG:{name:"big thing",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],flippable:!0,publicKey:"bigThing"},DECOVBIG:{name:"very big thing",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],flippable:!0,publicKey:"veryBigThing"},FARBACK:{name:"far back",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"farBack"},
FURRY:{name:"furry",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"furry"},GENERATOR:{name:"generator",imp:"T",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],verbose:"area generator",publicKey:"generator"},DRIFTY:{name:"drifty",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"drifty"},CLOTHY:{name:"clothy",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"clothy"},LIVELY:{name:"lively thing",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"livelyThing",
rotatable:!0},VIEWABLE:{name:"viewable",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"viewable"},DYNATHING:{name:"dynamic",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"dynamic"},TRANSFORM:{name:"transforming",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"transforming"},HAPPENING:{name:"happening",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"happening"},CHANGER:{name:"changer",
imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"changer"},BRAIN:{name:"brain",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"brain"},LINER:{name:"liner",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"liner"},SOUND:{name:"sound",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"sound"},BOUNCEYT:{name:"bouncy tilt",imp:"T",ct:[Item.prototype.COL_TYPES.BOUNCEY_LD,Item.prototype.COL_TYPES.BOUNCEY_RD,
Item.prototype.COL_TYPES.BOUNCEY_RU,Item.prototype.COL_TYPES.BOUNCEY_LU],rotatable:!0,slope:!0,publicKey:"bouncyTilt"},LIGHT:{name:"light",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"light"},LIGHTTOP:{name:"top light",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"topLight"},VIGNETTE:{name:"surround light",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"surroundLight"},HELPER:{name:"helper",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],
rotatable:!0,flippable:!0,publicKey:"helper"},HOLDER:{name:"holder",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"holder"},FILLLIGHT:{name:"fill light",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"fillLight"},GLOW:{name:"light glow",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],fg:!0,publicKey:"lightGlow"},MUSICAL:{name:"musical",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"musical"},MUSIC:{name:"music",
imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!0,publicKey:"music"},MUSICSHEET:{name:"music sheet",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"musicSheet"},STACKHOLD:{name:"item",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"item"},EMITTER:{name:"emitter",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"emitter"},AIMABLE:{name:"aimable",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"aimable"},INTERENV:{name:"int. environment",
imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],verbose:"interactive environment",publicKey:"interactiveEnvironment"},EQUIPMENT:{name:"equipment",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"equipment"},CONSUMAB:{name:"consumable",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"consumable"},HOOK:{name:"swing line",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"swingLine"},STACKWEAR:{name:"wearable",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],
publicKey:"wearable"},STACKWEARB:{name:"body",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"body"},MOVER:{name:"mover",imp:"T",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"mover"},MNTGROUND:{name:"mountable",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"mountable"},MNTAIR:{name:"flying mountable",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"flyingMountable"},MNTWATER:{name:"swimming mountable",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE]},
STACKINSTR:{name:"instrument",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],publicKey:"instrument"},MOTION:{name:"motion",imp:"E",ct:[Item.prototype.COL_TYPES.NOT_APPLICABLE],rotatable:!1,publicKey:"motion"}};window.Item.prototype.drawCount=0});ig.baked=!0;
ig.module("game.entities.player").requires("impact.entity","game.entities.decorative.footdust","game.entities.deadplayer","game.ui.speechdisplay","game.core.item").defines(function(){window.EntityPlayer=ig.Entity.extend({toString:function(){return"PLAYER"},NAME:"PLAYER",O5443:1,O4387:0.79,O7438:1.6,O5316:300,O989:40,isFullAccount:!1,isSitting:!1,O3113:null,O572:null,isLying:!1,O2574:null,O3976:0,
O2613:50,O8036:40,O6529:500,O3484:400,voice:null,type:ig.Entity.TYPE.A,O6821:ig.Entity.TYPE.B,collides:ig.Entity.COLLIDES.PASSIVE,size:{x:10,y:16},sizeDefault:{x:10,y:16},sizeBigBody:{x:38,y:38},offset:{x:3,y:3},offsetDefault:{x:3,y:3},maxVel:{x:130,y:600},O7437:{x:700,y:700},O7437Diagonal:{x:450,y:450},O4595:{x:105,y:105},maxVelWalkable:{x:130,y:130},O958:{x:95,y:105},O958Thick:{x:47.5,y:52.5},O1969:{x:130,
y:500},O3836:{x:130,y:600},O3983:{x:130,y:600},maxVelHooked:{x:192,y:96},maxVelMountableGround:{x:180,y:600},maxVelMountableAir:{x:180,y:220},O3739:!1,friction:{x:900,y:0},O5769:{x:0,y:0},O8327:{x:4E5,y:4E5},O5628:{x:400,y:200},O6302:{x:90,y:0},frictionWalking:{x:900,y:0},O8409:{x:900,y:0},frictionMountableGround:{x:200,y:0},O986MountableGround:{x:200,y:0},frictionMountableAir:{x:100,y:0},O986:{x:400,y:0},saidIntroHelp:!1,
O4135edByUs:!1,O6155:null,O6731:!1,O5989:null,O3105:null,O6609:!1,O291:1300,O5429:1300,O134:900,O8385:900,O6213:120,O4817:120,O4125:80,O5266:600,O1918:120,O8144:500,O7387:{x:300,up:300,down:200},O6260:80,O2984:null,O3579:350,O199:1,O4085:1,O4404:0.1,
O4404Wearable:0.1,O5602:0.7,O7551:0.05,health:100,O4811:100,energy:100,maxEnergy:100,canJump:!0,O4102:!1,unfindable:!1,O4686:!1,O7060:null,O2865:0,O2558:{RUNNING:0,CLIMBING:1,SWIMMING:2},O274:null,O7704:null,avatarMountOffsetForThisFlip:{x:0,y:0},O2533:0.6,O4938:0,O8106:null,O2023:null,screenName:"explorer",rank:1,O1441:0.6,
O1441Running:0.02,O5928:null,O7367:0.5,O2196:null,O1430:50,O4722:0.1,O3659:0.08,O1157:{},O6210:null,O3592:null,lastMouse:{},O5475:200,O6233:null,prevVel:{x:0,y:0},O4831:null,O7975:null,blinkTime:0.12,O2359:1.3,O7918:1,O2511:120,O7430:120,O274Offset:{x:4,y:21},O7704Offset:{x:4,
y:8},O4270LeftPlayerOffset:{x:0,y:8},O4270RightPlayerOffset:{x:8,y:8},O7704sFeetOffset:{x:4,y:15},O7704sHeadOffset:{x:4,y:4},thingToLeftOfPlayerOffset:{x:-10,y:8},thingToRightOfPlayerOffset:{x:20,y:8},O1464:!1,O3727:{},maskAlpha:0,O1367:100,O2756:100,O5411:0.2,O628:0.3,O5253:0.6,rolling:!1,O3390:0,O5401:1,angle:0,twoPi:2*Math.PI,isDead:!1,isHovered:!1,O2677:!1,
baseSwimAngle:0.4,swimAngle:0.4,O1905:0.003,O5259:7,O7643:0.1,O2924:null,O8145:3,O6575:null,hasMoved:!1,O4645:!1,attachments:{},attachmentDrawOffsets:{wearable:{lx:-2,rx:-1,bx:-1,cx0:-1,cx1:-1,y:-3},holdable:{lx:10,rx:7,bx:0,cx0:0,cx1:0,y:10},holdableSmall:{lx:12,rx:4,bx:0,cx0:0,cx1:0,y:12}},attachmentDefaultPivots:{wearable:{x:9,y:12.5},holdable:{x:7,y:7}},O2125:0,O910:null,O1644:null,lastGain:{},
O7168:!0,O2356:null,O7105:[],boostData:null,O2082:{w:{x:0,y:0},h:{x:0,y:0},wp:{x:0,y:0}},O2124:{},O918:{},init:function(a,b,c){this.parent(a,b,c);this.animSheet=new ml.AnimationSheet(ig.game.staticResourcePrefix+"media/avatar-spritesheets/"+this.O7237+".png?v="+ig.game.version,16,19);this.avatarLoadedPromise=this.animSheet.loadedPromise;var d=this;this.O2986();this.O3579=this.O5316;
this.O199=this.O4085=this.O5443;this.O4102&&(this.O6210=new ml.Timer,this.checkedAutoTriggerForIdle=!1,a=localStorage.amIFlippedX,this.O6609Cached=this.O6609="1"==a?!0:"0"==a?!1:ig.game.chance(50));this.O1457.flip.x=this.O6609;this.O7975=new ml.Timer;this.O6575=new SpeechDisplay(this);this.O4102?(this.allIs=[],this.O895(),this.O1055(),this.isFullAccount=ig.game.isFullAccount,
this.saidIntroHelp=!!localStorage.getItem("saidIntroHelp"),this.isEditorHere=ig.game.isEditorHere,ig.game.O2473=ig.game.isEditorHere):(ig.game.isFullAccount&&ig.game.O4120.O3434(this.O2507,this).done(function(a){d.O4135edByUs=a}),this.removeFromAllIs=this.O5636=this.saveAreaAllIsData=this.O1055=null);"string"!=typeof this.voice&&(this.voice=null)},O2986:function(){var a=this.O1457&&this.O1457.name;
this.addAnim("idle",1,[0]);this.addAnim("run",0.15,[1,0]);this.addAnim("jump",1,[2]);this.addAnim("fall",1,[3]);this.addAnim("climbing",0.2,[6,7]);this.addAnim("climbingidle",1,[6]);this.addAnim("swimming",0.15,[1,0]);this.addAnim("swimmingidle",1,[1]);this.addAnim("creating",0.4,[8,9]);this.addAnim("afk",1,[10]);this.addAnim("harm",1,[5]);a&&this.setAnim(this.anims[a])},setAnim:function(a){a&&(this.O1457=a,this.O7778=a.O463Index,this.O1457.flip.x=this.O6609,
this.O4102&&(this.O6609Cached!=this.O6609&&ig.game.chance(3))&&(this.O6609Cached=this.O6609,localStorage.amIFlippedX=this.O6609?"1":"0"))},O850:function(a,b){this.O1457.flip.x=this.O6609=b;"number"===typeof a?this.O7778!==a&&this.setAnim(this.O463[a]):this.O1457!=this.anims[a]&&this.setAnim(this.anims[a])},update:function(){ig.game.multithingManager.O7878(this);if(!this.O4102&&void 0===
this.O2865)if(this.O7641(),this.O5170(),this.O4981(),3>=ig.game.O172.O3574(this.pos))this.O2865=this.O2558.running;else return;if(!this.isRingPortalling&&!this.O6684&&!(this.O4102&&ig.game.portaller.isRingPortalling||this.O4102&&ig.game.portaller.O6684))if(this.O3739=this.O3251(),this.O4102||ig.game.O4120.O4117(this),
!this.O3304()){this.isOnSolidMoverBody=!1;this.O6606();if(this.O4102){void 0!=ig.game.O2473&&(ig.game.isEditorHere&&ig.game.O2473!=ig.game.isEditorHere)&&ig.game.O7421.O698();ig.game.areaClosed||this.O778();this.O3504();this.O116();this.O6007();this.O1444();this.handleHarmfulStuck();this.O2100();ig.game.O3777.O5625(this);
if(0!=this.vel.x||0!=this.vel.y)this.keepEyesClosedDueToBoost=!1;this.O7060&&0.2<=this.O7060.delta()&&(this.O7060=null,(!ig.game.holderDialog||!ig.game.holderDialog.O4499())&&(!ig.game.O4269.O342()&&!ig.game.O4269.O1038())&&ig.game.playerDialog.O3657());this.miniJumpTimer&&0.5<=this.miniJumpTimer.delta()&&(this.miniJumpTimer=null);this.O8237();var a=ig.game.otherAreaWasFullInfo?10:2.5;if(!ig.game.isFullAccount&&
ig.game.O3459&&!this.saidIntroHelp&&0==ig.game.O1132&&(!ig.game.alertDialog||!ig.game.alertDialog.isOpen)&&ig.game.gameStartTimer&&ig.game.gameStartTimer.delta()>=a)this.saidIntroHelp=!0,ig.game.O914.setItem("saidIntroHelp",this.saidIntroHelp),ig.game.O884.O8271("introHelp")}else this.checkLadderInteraction_Remoteplayer(),this.O1491();this.O7863();this.O4143();this.O342()&&ig.game.O6775.O5625(this,
this.attachments.h.lines,this.attachments.h.linesData,this.attachments.h.attributes);this.O7641();this.O3378();this.O5278();this.O5852();this.O2725();this.O23();this.O5631();this.O1457==this.anims.creating&&ig.game.decorator.O3185(this.pos);this.O6173();this.O5170();if(this.O4743())ig.game.O7510.O6137(this),ig.game.O7510.O4164(this);
else if(this.avatarMountOffsetForThisFlip={x:0,y:0},this.O2031("heavy")||this.O4389("heavy"))a=this.O2222(70),this.vel.x=this.vel.x.limit(-a,a);else if(this.O2031("veryHeavy"))a=this.O2222(35),this.vel.x=this.vel.x.limit(-a,a);else if(this.O2031("fast")||this.O2031("veryFast"))a=this.O2222(130),this.maxVel.x<a&&(this.maxVel.x=
a),this.O3836.x<a&&(this.O3836.x=a);this.O4981();this.O2556();this.O7540();this.O371();this.O6548();this.O6234();this.O1171();this.parent();this.O3739&&(Math.abs(this.vel.x)==this.maxVel.x&&Math.abs(this.vel.y)==this.maxVel.y)&&(this.vel.x/=ig.game.O2683,this.vel.y/=ig.game.O2683);this.O3739Previous=
this.O3739;this.prevVel.x=this.vel.x;this.prevVel.y=this.vel.y}},O371:function(){this.attachments.wp&&this.attachments.wp.dynathingEntity&&this.attachments.wp.dynathingEntity.update(this);this.attachments.w&&this.attachments.w.dynathingEntity&&this.attachments.w.dynathingEntity.update(this)},O5223:function(){return this.O2031("pushFlying")||this.O2031("hoverFlying")},O4143:function(){if(this.O2031("pushFlying"))this.O199=
this.O4404Wearable,this.O2031("heavy")&&(this.O199*=2.5),this.O2031("veryHeavy")&&(this.O199*=5);else if(this.O2031("hoverFlying")&&!this.standing){if(this.O4102){var a=this.O2222(210)*ig.system.tick;ig.game.controlState_UP()?this.vel.y-=a:ig.game.O3326()&&(this.vel.y+=a)}this.O199=0;this.vel.y*=1-1.5*ig.system.tick}else this.O1463()?this.getMountableHasAttribute("heavy")?
this.O199=this.O5602:this.getMountableHasAttribute("lightweight")?this.O199=this.O7551:this.O199=this.O4404:0<this.vel.y&&(this.O2031("slowsFall")?(this.O199=0.1,this.vel.y=Math.min(this.vel.y,230)):this.O2031("slowsFallALot")&&(this.O199=0.025,this.vel.y=Math.min(this.vel.y,57.5)))},O3304:function(){var a=!1;if(this.dynathingWhichGrabbedMe&&!this.attachments.m&&
!this.O2031("disablesGrabbing")){var b=170>=this.O5320(this.dynathingWhichGrabbedMe),c=!1;this.O4102?ig.game.controlState_UP()||!b?c=!0:ig.game.O7759()&&(c=!0,ig.input.O3472()):b||(c=!0);c&&(this.vel.y-=20,this.accel.y-=10,this.O4102&&(this.forceSend=!0));ig.game.O1253()?(this.accel.x=-1,this.O6609=!1):ig.game.O7584()&&(this.accel.x=1,this.O6609=!0);this.O4194();0>this.vel.y&&(this.dynathingWhichGrabbedMe=
null,this.O1457&&this.O7319());this.dynathingWhichGrabbedMe&&(this.dynathingWhichGrabbedMe.O5608(this),a=!0)}return a},O8237:function(){if(ig.game.otherAreaWasFullInfo){if(!this.saidOtherWasFullInfo&&ig.game.gameStartTimer&&2.5<=ig.game.gameStartTimer.delta()){var a=ig.game.otherAreaWasFullInfo.areaName;this.saidOtherWasFullInfo=!0;this.say("oops! i was pushed out of "+a);setTimeout(function(){ig.game.O4269.say("as it was full")},1E3)}if(!this.emittedOtherWasFullDust&&
ig.game.gameStartTimer&&0.1<=ig.game.gameStartTimer.delta()){this.emittedOtherWasFullDust=!0;ig.game.decorator.O3185(this.pos);for(a=1;10>=a;a++){var b=ig.game.decorator.O8092(this.pos,10),c=ig.game.decorator.O8092(null,2);ig.game.O6879(EntityBigDust,b.x,b.y,{vel:c,decay:0.25});ig.game.sounds.collide.play();ig.game.camera.temporaryOffset.y-=0.25}}}},O4981:function(){var a=this.O369(!0);this.attachments.b&&(this.attachments.b.animSheet&&
this.attachments.b.animSheet.height&&!this.attachments.m)&&(this.attachments.b.isOld||(a.x+=this.O6130()),a.y+=ig.game.tileSize-this.attachments.b.animSheet.height);this.O6575.update(a)},O7863:function(){if(this.O2865==this.O2558.SWIMMING){var a=0;this.O7704HasAttribute("pushesLeft")?a=-1:this.O7704HasAttribute("pushesRight")&&(a=1);if(0!=a){var b=this.O7704HasAttribute("thick")?this.O958Thick.x:this.O958.x;
this.maxVelModifier.x=!this.O6609&&-1==a||this.O6609&&1==a?2*b:b;this.vel.x+=10*a;this.vel.x=this.vel.x.limit(-this.maxVelModifier.x,this.maxVelModifier.x)}}},O1171:function(){this.O4102&&0>=this.rank&&(this.attachments.b&&this.attachments.b&&!ig.game.O7510.O4053(this)?(ig.game.O7510.O3306(this,"b",!0),ig.game.O7510.O7069(this,"b",!0)):ig.game.O7510.O7485(this,
!0))},O6234:function(){this.O4102&&(!ig.game.isEditorHere&&this.O7704&&this.O7704.thing&&"SOLID"==this.O7704.thing.base&&ig.game.O8053&&!this.O3271()&&!this.O4389("instantTransporting")&&!this.O1552())&&this.kill(ig.game.deathTypes.DEADLY)},O3271:function(){var a=!1;if(this.O2356){var b=(new Date-Date.parse(this.O2356))/1E3,a=5>=
b;6<=b&&(this.O2356=null)}return a},O6548:function(){if(this.attachments.m&&this.attachments.m.attributes){var a=this.attachments.m.attributes,b=175;a.autoSpeedFast||(b*=0.5);a.autoSpeedLeft?this.vel.x=-b:a.autoSpeedRight?this.vel.x=b:a.autoSpeedUp?this.vel.y=-b:a.autoSpeedDown&&(this.vel.y=b)}},O5523:function(){ig.game.O4269&&(this.O2984=new ml.Timer,ig.game.sounds.shortWhoosh.play(),ig.game.O4269.O7692(this));
this.informBrainDidAction=!0},O7845:function(a,b,c,d){this.O2031("bumpResistant")||(b=b?2.5:1,this.vel.y=this.attachments&&this.attachments.m&&"MNTAIR"==this.attachments.m.base?this.vel.y-ig.game.O5167(20,40)*b:this.vel.y-ig.game.O5167(100,140)*b,c||(this.vel.x+=0.5*a*b),d&&ig.game.O6401.O5038(this,"touches",d))},O7692:function(a,b,c){c=b?c:a.attachments.h;var d=b?26:22;c&&(c.attributes&&c.attributes.widerRange)&&
(d=b?34:30);if((b||ml.Misc.O959(a.O4135edByUs,a.rank,a.isEditorHere,Boolean(a.attachments&&a.attachments.br)))&&c&&c.attributes&&this.O5320(a)<=d)if(c.attributes.clearsWearable&&(b=ig.game.O7510.slots.WEARABLE,this.attachments[b]&&ig.game.O7510.O3306(this,b,!0)),c.attributes.clearsHoldable&&(b=ig.game.O7510.slots.HOLDABLE,this.attachments[b]&&ig.game.O7510.O3306(this,b,!0)),c.attributes.clearsMountable&&
(b=ig.game.O7510.slots.MOUNTABLE,this.attachments[b]&&ig.game.O7510.O3306(this,b,!0)),c.attributes.heals)ig.game.O4269.health=(ig.game.O4269.health+40).limit(0,100),this.O7845(null,null,!0,c.name),ig.game.motionDialog&&ig.game.motionDialog.O5076("healed");else if(ig.game.O8430.O7339(c.attributes)&&!ig.game.O707&&1<=a.rank){b=!1;if(c.attributes.bumps||c.attributes.bumpsStrong||c.attributes.heals)b=ig.game.O5167(300,
450)*(this.pos.x>a.pos.x?1:-1),this.O7845(b,c.attributes.bumpsStrong,void 0,c.name),b=!0;c.attributes.slightlyHarmful||c.attributes.harmful?(ig.game.O231.O3585=!0,this.O4217(c.attributes.slightlyHarmful?15:40,this,!0),b||(b=ig.game.O5167(300,450)*(this.pos.x>a.pos.x?1:-1),this.O7845(b,void 0,void 0,c.name)),ig.game.motionDialog&&ig.game.motionDialog.O5076("harmed")):c.attributes.deadly&&(ig.game.O231.O3585=
!0,this.kill(ig.game.deathTypes.DEADLY))}},O2264:function(a){if(this.O4102){var b=!1;if(this.O6310||ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen&&!ig.game.userScriptEditor.runs)return b;var c=this.O4866("slowerToUse")?0.8:0.2;this.O2984&&this.O2984.delta()>c&&(this.O2984=null);if(!this.O2984){c=Boolean(this.attachments.h);ig.game.sounds.shortWhoosh.play();this.O2984=new ml.Timer;
this.standing&&(this.O2865!=this.O2558.SWIMMING&&this.attachments.h&&"EQUIPMENT"==this.attachments.h.base&&!this.attachments.m)&&this.O2741();ig.game.O4349.O3143();ig.game.brainManager.O4307(this,"acts");var d=a;a||(d=this.attachments.h?ig.game.O6401.O1665("touches",this.attachments.h.name,this.attachments.h):ig.game.O6401.O3011());ig.game.O7019.O4019(this);if(this.O7704&&
this.O7704.thing&&"GATHER"==this.O7704.thing.base&&(a=this.O2938())&&a.O4527){var e=null;this.attachments.h&&"EQUIPMENT"==this.attachments.h.base&&(e=this.attachments.h.name);a.O4527(e)}if(!d){var f=this.O4338();if(f){var b=!0,g=this,h=ig.game.O4961.getItemBasic(f,"ent_ply_awt");h.imagesBeingGenerated.done(function(){var a=ig.game.O7510.slots.HOLDABLE;
g.attachments.h&&"EQUIPMENT"==g.attachments.h.base&&(g.O5989=g.attachments.h.id);var b=ig.game.O7510.O969(h.base);g.attachments[a]&&ig.game.O4349.O3168(a,null);ig.game.O7510.O2135(g,b,f);ig.game.O4349.O3168(b,f);ig.game.sounds.pickup.play()})}else this.attachments.h&&"EQUIPMENT"==this.attachments.h.base?(ig.game.O6401.O5038(this,"uses",this.O804()),(c=this.O4103())&&
(!c.useKeyword||ml.Misc.O7871(this.attachments.h.name,c.useKeyword))&&c.O5679(this)):this.attachments.h&&c?"CONSUMAB"!=this.attachments.h.base&&(ig.game.O6401.O5038(this,"throws",this.O804()),ig.game.motionDialog&&ig.game.motionDialog.O5076("throw")):ig.game.O6401.O5038(this,"acts")}ig.game.O7510.O826(this)}this.informBrainDidAction=!0;return b}},O2938:function(){var a=
null,b=ig.game.O413.default;if(b)for(var c=0;c<b.length;c++){var d=b[c];if(!d._killed&&this.touches(d)){a=d;break}}return a},O4103:function(){var a=null,b=ig.game.O413.default;if(b)for(var c=0;c<b.length;c++){var d=b[c];if(!d._killed&&d instanceof EntityCrumbling&&ml.Misc.O1461(this,d,2)&&d.state===d.STATES.SOLID){a=d;break}}return a},O4338:function(){for(var a=null,b=[],c=[],d=this.attachments.h?this.attachments.h.name:
"",e=this.attachments.h&&"EQUIPMENT"==this.attachments.h.base?1:0,f=0;f<=e;f++){var g=null;if((g=0==f?this.O7704&&this.O7704.thing?ig.game.O4961.getItemBasic(this.O7704.thing.id,"ent_ply_ghi1"):null:this.O274&&this.O274.thing?ig.game.O4961.getItemBasic(this.O274.thing.id,"ent_ply_ghi2"):null)&&g.name&&"GATHER"!=g.base){var h=g.name.toLowerCase();"LIQUID"==g.base||"LQDFLIP"==g.base?h="liquid "+h:"SOLID"==g.base&&(h="solid "+
h);if(g=ig.game.O413.default)for(var k=0;k<g.length;k++){var l=g[k];if(!l._killed&&l instanceof EntityInterenv&&0<=!c.indexOf(l.thingTypeId)){var m=ig.game.O4961.getItemBasic(l.thingTypeId,"ent_ply_ghi3"),n=!m.useKeyword||ml.Misc.O7871(d,m.useKeyword),p=ml.Misc.O7871(h,m.atKeyword);n&&(p&&m.getId)&&(l=l.attributes?l.attributes:{},n=25,l.veryRare?n=3.125:l.rare?n=12.5:l.frequent&&(n=50),n*=0.2,(l.always||ig.game.chance(n))&&b.push(m.getId))}}}if(1<=b.length)break}1<=
b.length&&(a=b[ig.game.O5167(0,b.length-1)]);return a},O7540:function(){if(this.O557()){var a=ig.game.O5051.O3644;if(a){var b=this.O1463();this.O199=this.O1464||b?this.O4404:1;var c=b?this.O4817:this.O6213,d=2*ig.game.tileSize;a.x+d<this.pos.x?(this.accel.x=-c,this.O6609=!1):a.x-d>this.pos.x?(this.accel.x=c,this.O6609=!0):this.accel.x=0;b&&(this.accel.y=
a.y+d<this.pos.y?-c:a.y-d>this.pos.y?0.5*c:-100);(0!=this.accel.x||b&&0!=this.accel.y)&&ig.game.O7510.O3249(this,!0);this.jumping=!1;this.O7247();this.setAnim(this.anims.idle)}}},O557:function(){return this.O4102&&this.O4743()&&ig.game.O5051.O3717},O5852:function(){var a=ig.game.gameStartTimer&&2>=ig.game.gameStartTimer.delta(),b=ig.game.gameStartTimer&&3>=ig.game.gameStartTimer.delta(),c=this.isSitting;
b||(this.isSitting=!1);this.attachments.b&&!this.attachments.b.isOld&&this.O7704&&this.O7704.thing&&this.O7704.thing.name&&!this.O4743()?ig.game.strings.contains(this.O7704.thing.name,ig.game.O3966)?a?(this.O3113=new ml.Timer,c=this.isSitting=!0):this.O3113?0.75<=this.O3113.delta()&&(this.isSitting=!0):this.O3113=new ml.Timer:a||(this.O3113=null):a||(this.O3113=null);b||(this.isSitting!=
c&&(this.isSitting?(ig.game.O6401.O5038(this,"sits_on",this.O7704.thing.name),this.O4102&&ig.game.motionDialog&&ig.game.motionDialog.O5076("sit"),ig.game.decorator.O4309(this),this.vel.y=-70,ig.game.O8053&&(ig.game.O413&&ig.game.O413.player&&8<=ig.game.O413.player.length)&&ig.game.O4803.register(ig.game.O4803.types.SAT_DOWN_IN_BUSY_CREATED_AREA)):ig.game.decorator.O8115(this),
ig.game.sounds.O7086(ig.game.sounds.shortWhoosh,this,0.3)),this.isSitting&&(this.vel.x=this.vel.x.limit(-30,30)))},O2725:function(){var a=this.isLying;this.isLying=!1;this.attachments.b&&this.O7704&&this.O7704.thing&&this.O7704.thing.name&&!this.O4743()?ig.game.strings.contains(this.O7704.thing.name,ig.game.lieableNames)?this.O2574?0.75<=this.O2574.delta()&&(this.isLying=!0):this.O2574=new ml.Timer:this.O2574=
null:this.O2574=null;this.isLying!=a&&(this.isLying?(ig.game.O6401.O5038(this,"lies_on",this.O7704.thing.name),this.O4102&&ig.game.motionDialog&&ig.game.motionDialog.O5076("lie"),ig.game.decorator.O4309(this),this.vel.y=-70):ig.game.decorator.O8115(this),ig.game.sounds.O7086(ig.game.sounds.shortWhoosh,this,0.3));this.isLying&&(this.vel.x=this.vel.x.limit(-30,30),ig.game.O7510.O7436(this))},
handleHarmfulStuck:function(){this.O4866("stickyOnPeople")&&this.O4866("harmful")&&this.O4217(0.1,null,!1)},O3707:function(a,b){null==this.O6155&&(this.O6155=[]);for(var c=1;c<=a;c++)this.O6155.push(b)},O1972:function(){return null!=this.O6155&&1<=this.O6155.length},O1444:function(){if(this.O1972()){var a=this.O6155.pop(),b=50>this.health;ig.game.chance(4)&&
(b?ig.game.camera.shake(40,4):ig.game.camera.shake());if(ig.game.chance(10)){var c=this.pos.x+ig.game.O5167(-ig.system.widthHalf,ig.system.widthHalf),d=this.pos.y+ig.game.O5167(-ig.system.O8417,ig.system.O8417),e=0+ig.game.O5167(-25,25),f=0+ig.game.O5167(-5,5),b=b?2:ig.game.O5167(1,6);ig.game.O6879(EntitySpot,c,d,{O3726:ig.game.O5405["reflection"+b],O5561:1.5,O1271:2,fadingInc:5,O4895:100,O1018:!1,
attribute:"colorReflection",vel:{x:e,y:f}})}this.O4217(a,null,!1)}},O369:function(a){var b={x:this.pos.x,y:this.pos.y};this.avatarMountOffsetForThisFlip&&(this.attachments&&this.attachments.m&&this.attachments.m.avatarOffset)&&(b.x+=this.avatarMountOffsetForThisFlip.x,a||(b.y+=this.avatarMountOffsetForThisFlip.y));return b},O2556:function(){if(this.attachments.b&&this.attachments.b.animSheet&&this.attachments.b.animSheet.height){var a={pos:{x:this.pos.x-
this.offset.x,y:this.pos.y-this.offset.y},size:{x:this.attachments.b.animSheet.width,y:this.attachments.b.animSheet.height}};ig.game.decorator.O6341(a,this.attachments[ig.game.O7510.slots.BODY])}this.attachments.m&&(this.attachments.m.animSheet&&this.attachments.m.animSheet.height)&&(a={pos:{x:this.pos.x-this.offset.x,y:this.pos.y-this.offset.y},size:{x:this.attachments.m.animSheet.width,y:this.attachments.m.animSheet.height}},ig.game.decorator.O6341(a,
this.attachments[ig.game.O7510.slots.MOUNTABLE],ig.game.O7510.slots.MOUNTABLE));this.attachments.w&&(a=this.attachments.w,a.animSheet&&a.animSheet.height?(a={pos:{x:this.pos.x-this.offset.x,y:this.pos.y-this.offset.y},size:{x:a.animSheet.width,y:a.animSheet.height}},ig.game.decorator.O6341(a,this.attachments[ig.game.O7510.slots.WEARABLE],ig.game.O7510.slots.WEARABLE,void 0,!this.standing)):a.dynathingEntity&&(a.dynathingEntity.animSheet&&
a.dynathingEntity.animSheet.height)&&(a={pos:{x:this.pos.x-this.offset.x,y:this.pos.y-this.offset.y},size:{x:a.dynathingEntity.animSheet.width,y:a.dynathingEntity.animSheet.height}},ig.game.decorator.O6341(a,this.attachments[ig.game.O7510.slots.WEARABLE],ig.game.O7510.slots.WEARABLE,void 0,!this.standing)));this.isHooked||ig.game.decorator.O6341(this,this.attachments[ig.game.O7510.slots.HOLDABLE],ig.game.O7510.slots.HOLDABLE)},
getMountableHasAttribute:function(a){var b=this.attachments[ig.game.O7510.slots.MOUNTABLE];return!(!b||!b.attributes||!b.attributes[a])},O4866:function(a){var b=this.attachments[ig.game.O7510.slots.HOLDABLE];return!(!b||!b.attributes||!b.attributes[a])},O5217:function(a){for(var b=!1,c=0;c<a.length;c++)if(this.O4866(a[c])){b=!0;break}return b},O2031:function(a){var b=this.attachments[ig.game.O7510.slots.WEARABLE];
return Boolean(b&&b.attributes&&b.attributes[a])},O1751:function(a){var b=this.attachments[ig.game.O7510.slots.WEARABLE_PLUS];return Boolean(b&&b.attributes&&b.attributes[a])},O5952:function(a,b){var c=this.attachments[b];return Boolean(c&&c.attributes&&c.attributes[a])},O4389:function(a){var b=this.attachments[ig.game.O7510.slots.HOLDABLE];return Boolean(b&&"AIMABLE"==b.base&&this.O4866(a))},O4972:function(a){var b=
this.attachments[ig.game.O7510.slots.BRAIN];return Boolean(b&&b.attributes&&b.attributes[a])},O1463:function(){var a=this.attachments[ig.game.O7510.slots.MOUNTABLE];return Boolean(a&&"MNTAIR"==a.base)},O6606:function(){this.O7704sHeadOffset.y=this.attachments[ig.game.O7510.slots.BODY]?0.1:4;this.O274=ig.game.O7715.O3379({x:this.pos.x+this.O274Offset.x,y:this.pos.y+this.O274Offset.y});
this.thingWayBelowPlayer=ig.game.O7715.O3379({x:this.pos.x+this.O274Offset.x,y:this.pos.y+this.O274Offset.y+10});this.O7704=ig.game.O7715.O3379({x:this.pos.x+this.O7704Offset.x,y:this.pos.y+this.O7704Offset.y});this.O4270RightPlayer=ig.game.O7715.O3379({x:this.pos.x+this.O4270RightPlayerOffset.x,y:this.pos.y+this.O4270RightPlayerOffset.y});this.O4270LeftPlayer=
ig.game.O7715.O3379({x:this.pos.x+this.O4270LeftPlayerOffset.x,y:this.pos.y+this.O4270LeftPlayerOffset.y});this.O7704sFeet=ig.game.O7715.O3379({x:this.pos.x+this.O7704sFeetOffset.x,y:this.pos.y+this.O7704sFeetOffset.y});this.O7704sHead=ig.game.O7715.O3379({x:this.pos.x+this.O7704sHeadOffset.x,y:this.pos.y+this.O7704sHeadOffset.y});this.thingToLeftOfPlayer=
ig.game.O7715.O3379({x:this.pos.x+this.thingToLeftOfPlayerOffset.x,y:this.pos.y+this.thingToLeftOfPlayerOffset.y});this.thingToRightOfPlayer=ig.game.O7715.O3379({x:this.pos.x+this.thingToRightOfPlayerOffset.x,y:this.pos.y+this.thingToRightOfPlayerOffset.y})},O5170:function(){var a=!0;ig.input.state("ctrl")&&(a=this.O4102&&ig.game.O7510.O7582(this));if(a){a=this.O6439();a.x-=ig.game.screen.x;
a.y-=ig.game.screen.y;if(this.isHovered=ig.game.O6099.O4009(a.x,a.y,a.x+a.width,a.y+a.height))ig.game.O6099.O4013(),this.onHover();this.O2677=this.isHovered&&ig.game.O6099.O5632();this.isRightClicked=this.isHovered&&ig.game.O6099.O2757();if((this.O2677||this.isRightClicked)&&(!ig.game.panelSet||!ig.game.panelSet.O8171()))this.O2677?(ig.game.O6099.O6375(!1),this.onClick()):
this.isRightClicked&&(ig.game.O6099.O1788(!1),this.onClick(!0))}},O6439:function(){var a=this.O369(!0),a={x:a.x-4,y:a.y-4,width:this.size.x+7,height:this.size.y+7};this.attachments.b&&(this.attachments.b.animSheet&&this.attachments.b.animSheet.height&&!this.attachments.m)&&(a.x-=2,this.attachments.b.isOld||(a.x+=this.O6130()),a.y+=ig.game.tileSize-this.attachments.b.animSheet.height,a.width=this.attachments.b.animSheet.width,18>=a.width&&
(a.width+=8),a.height=this.attachments.b.animSheet.height);return a},O5631:function(){this.frictionModifier?(this.O8425(this.frictionModifier),this.frictionModifier=null):this.O6716();this.maxVelModifier?(this.O3919(this.maxVelModifier),this.maxVelModifier=null):this.O7135();this.O1464&&this.O4743()&&(this.maxVel={x:3*this.maxVelMountableGround.x,y:this.maxVelMountableGround.y})},O28:function(a){if(this.O1552())this.collides!=
ig.Entity.COLLIDES.NEVER&&(this.collides=ig.Entity.COLLIDES.NEVER),this.pos.x+=this.vel.x*ig.system.tick,this.pos.y+=this.vel.y*ig.system.tick;else{this.collides!=ig.Entity.COLLIDES.PASSIVE&&(this.collides=ig.Entity.COLLIDES.PASSIVE);this.O1464=!1;if(this.hook&&this.isHooked&&(this.maxVelModifier=this.maxVelHooked,a.collision.x||a.collision.y)){var b=10<=Math.abs(this.vel.x)&&40<=this.vel.y&&a.collision.y;if(this.hook&&(90>=this.hook.stickiness||b))this.hook.energy=0}if(this.O4743())this.O1463()?
ig.game.O7510.O3411(this,a):ig.game.O7510.O4502(this,a);else{a.tile.y==Item.prototype.COL_TYPES.SLIDEY_UP||this.O2031("slidey")||this.O2031("verySlidey")?(this.O4102&&(0!=this.vel.x&&!this.O427())&&this.setAnim(this.anims.idle),this.O6029("verySlidey")||this.O2031("verySlidey")?(this.frictionModifier={x:5,y:0},this.O291=this.O5429/
100):(this.frictionModifier=ig.game.O5662(this.O6302),this.O291=this.O5429/10),this.maxVelModifier=this.O1969):this.O291=this.O5429;this.O6379(a);a.tile.y==Item.prototype.COL_TYPES.STICKY&&0<=this.vel.y?(this.canJump=this.O6029("jumpable"),this.O6029("nonLowering")?this.offset.y=this.offsetDefault.y:this.offset.y=this.offsetDefault.y-3,this.O6029("steadySlowdown")?
this.maxVelModifier={x:90,y:this.canJump?600:60}:ig.game.chance(25)&&(this.maxVelModifier={x:55,y:60})):(this.canJump=!0,this.offset.y=this.offsetDefault.y);if(a.collision.slope&&this.O2865!=this.O2558.SWIMMING){if(a.collision.slope.tile==Item.prototype.COL_TYPES.SLOPE_LD||a.collision.slope.tile==Item.prototype.COL_TYPES.SLOPE_RD||a.collision.slope.tile==Item.prototype.COL_TYPES.SLOPE_RU||a.collision.slope.tile==Item.prototype.COL_TYPES.SLOPE_LU||a.collision.slope.tile==Item.prototype.COL_TYPES.PASSABLE_SLOPE_LD||
a.collision.slope.tile==Item.prototype.COL_TYPES.PASSABLE_SLOPE_RD||a.collision.slope.tile==Item.prototype.COL_TYPES.PASSABLE_SLOPE_RU||a.collision.slope.tile==Item.prototype.COL_TYPES.PASSABLE_SLOPE_LU){this.O1464=!0;this.O199>this.O4085&&(this.O199=this.O4085);if(0<this.vel.x&&!ig.game.O7584()||0>this.vel.x&&!ig.game.O1253())this.vel.x/=4;a.collision.slope.tile==Item.prototype.COL_TYPES.SLOPE_LD&&(0<this.vel.y&&ig.game.O7584())&&
(this.vel.y=0);a.collision.slope.tile==Item.prototype.COL_TYPES.SLOPE_RD&&(0<this.vel.y&&ig.game.O1253())&&(this.vel.y=0)}a.collision.slope.tile==Item.prototype.COL_TYPES.SLSLOPE_LD||a.collision.slope.tile==Item.prototype.COL_TYPES.SLSLOPE_RD||a.collision.slope.tile==Item.prototype.COL_TYPES.SLSLOPE_RU||a.collision.slope.tile==Item.prototype.COL_TYPES.SLSLOPE_LU?(this.O4102&&!this.O427()&&this.setAnim(this.anims.idle),this.frictionModifier=this.O6302,this.O291=
this.O5429/10,this.O199=this.O4085,this.maxVelModifier=this.O1969):this.O291=this.O5429;this.O6617(a)}!this.standing&&this.O2865==this.O2558.RUNNING&&(this.frictionModifier=this.O986);this.O2531(a);this.parent(a)}}},O6029:function(a){return Boolean(this.O274&&this.O274.thing&&this.O274.thing.attributes&&this.O274.thing.attributes[a])},
O7704HasAttribute:function(a){return Boolean(this.O7704&&this.O7704.thing&&this.O7704.thing.attributes&&this.O7704.thing.attributes[a])},O8387:function(a){return Boolean(this.O7704sFeet&&this.O7704sFeet.thing&&this.O7704sFeet.thing.attributes&&this.O7704sFeet.thing.attributes[a])},O2531:function(a){this.O2865==this.O2558.RUNNING&&(a.collision.y&&
(400<this.vel.y?(ig.game.sounds.O7086(ig.game.sounds.collide,this),ig.game.decorator.O04(this),ig.game.O3501.O2055(this),this.O4102&&ig.game.motionDialog&&(ig.game.motionDialog.O5076("hard landing"),this.O274&&this.O274.thing&&ig.game.O6401.O5038(this,"hard_lands_on",this.O274.thing.name))):100<this.vel.y?ig.game.O7510.O3196(this)||
(ig.game.sounds.O7086(ig.game.sounds.collideSoft,this),ig.game.decorator.O8115(this)):-100>this.vel.y&&!ig.game.O7510.O3196(this)&&(ig.game.sounds.O7086(ig.game.sounds.collideSoft,this),ig.game.decorator.O2197(this)),30<=this.vel.y&&ig.game.O3501.O2055(this)),a.collision.x&&90<Math.abs(this.vel.x)&&ig.game.sounds.O7086(ig.game.sounds.collideSoft,this))},O6379:function(a){this.getMountableHasAttribute("bouncy")&&
(a.tile.y==Item.prototype.COL_TYPES.SOLID&&this.vel.y>this.O2613||a.tile.y==Item.prototype.COL_TYPES.PASSABLE_UP&&5<this.vel.y)?(this.vel.y=-this.O6529*(ig.game.controlState_UP()?1.2:0.85),this.O199=this.O4085,this.accel.x=0,a.collision.y=!1,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this,0.1),ig.game.decorator.O7470(this),ig.game.O6401.O5038(this,"bounces"),this.O6233=Date.now()):a.tile.y==
Item.prototype.COL_TYPES.BOUNCEY_UP&&this.vel.y>this.O2613&&(this.vel.y=-this.O6529*(ig.game.controlState_UP()?1.25:1),this.O199=this.O4085,this.accel.x=0,a.collision.y=!1,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this,0.75),ig.game.decorator.O7470(this),ig.game.O6401.O5038(this,"bounces"),this.O6233=Date.now());a.tile.x==Item.prototype.COL_TYPES.BOUNCEY_RIGHT&&this.vel.x<-this.O8036&&
(this.vel.x=this.O3484,a.collision.x=!1,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this),ig.game.decorator.O7470(this),ig.game.O6401.O5038(this,"bounces"),this.O6233=Date.now());a.tile.y==Item.prototype.COL_TYPES.BOUNCEY_DOWN&&this.vel.y<-this.O2613&&(this.vel.y=this.O6529,a.collision.y=!1,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this),ig.game.decorator.O7470(this),ig.game.O6401.O5038(this,
"bounces"),this.O6233=Date.now());a.tile.x==Item.prototype.COL_TYPES.BOUNCEY_LEFT&&this.vel.x>this.O8036&&(this.vel.x=-this.O3484,a.collision.x=!1,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this),ig.game.decorator.O7470(this),ig.game.O6401.O5038(this,"bounces"),this.O6233=Date.now())},O6617:function(a){a.collision.slope.tile==Item.prototype.COL_TYPES.BOUNCEY_LD&&(a.collision.slope=!1,
this.vel.y=-this.O6529/1.1,this.vel.x=-this.O3484/1.1,this.O199=this.O4085,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this),this.O7942(-1,this.O5411,this.O1367),ig.game.O7510.O7436(this),ig.game.O6401.O5038(this,"bounces"),this.O6233=Date.now());a.collision.slope.tile==Item.prototype.COL_TYPES.BOUNCEY_RD&&(this.vel.y=-this.O6529/
1.1,this.vel.x=this.O3484/1.1,a.collision.slope=!1,this.O199=this.O4085,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this),this.O7942(1,this.O5411,this.O1367),ig.game.O7510.O7436(this),ig.game.O6401.O5038(this,"bounces"),this.O6233=Date.now());a.collision.slope.tile==Item.prototype.COL_TYPES.BOUNCEY_RU&&(this.vel.y=this.O6529/1.1,this.vel.x=
this.O3484/1.1,a.collision.slope=!1,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this),ig.game.O7510.O7436(this),ig.game.O6401.O5038(this,"bounces"),this.O6233=Date.now());a.collision.slope.tile==Item.prototype.COL_TYPES.BOUNCEY_LU&&(this.vel.y=this.O6529/1.1,this.vel.x=-this.O3484/1.1,a.collision.slope=!1,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this),ig.game.O7510.O7436(this),
ig.game.O6401.O5038(this,"bounces"),this.O6233=Date.now())},O778:function(){1>ig.game.O1132&&!this.O6310&&(!ig.game.userScriptEditor||!ig.game.userScriptEditor.O2262())&&(!ig.game.writableDialog||!ig.game.writableDialog.isWriting)?(this.O5348(),this.O4743()&&!this.O3739?ig.game.O7510.O5437(this):this.O2865==this.O2558.RUNNING?(this.hook?this.O7569():
this.O3635(),this.O4194()):this.O2865==this.O2558.CLIMBING?this.O3739&&ig.input.state("ctrl")?this.O3635():this.O2057():this.O2865==this.O2558.SWIMMING&&this.O5528(),this.O5481(),this.O4875()):this.O6310&&(this.O3105?this.setAnim(this.anims.idle):this.setAnim(this.anims.creating))},O5481:function(){if(ig.input.state("shift")){var a=
null;this.attachments.h?a="h":this.attachments.w&&(a="w");var b=ig.game.playerDialog;if(b&&b.isOpen&&b.O4123==b.O4123s.ATTACHMENTS){var c=b.O1399;0<=c&&(c=b.O3216[c],this.attachments[c]&&(a=c,b.O112()))}if(a&&this.O2082&&this.O2082[a]){c=b=ig.input.state("ctrl")?10:1;this.O1457.flip.x&&(c*=-1);var d={x:0,y:0};ig.input.pressed("l_arr")?d.x-=c:ig.input.pressed("r_arr")&&(d.x+=c);ig.input.pressed("u_arr")?
d.y-=b:ig.input.pressed("d_arr")&&(d.y+=b);(0!=d.x||0!=d.y)&&this.O7098(a,d)}}},O7098:function(a,b){var c=ig.game.O5662(this.O2082[a]);this.O2082[a].x+=b.x;this.O2082[a].y+=b.y;this.O2082[a].x=ml.Misc.O1613(this.O2082[a].x,-57,57);this.O2082[a].y=ml.Misc.O1613(this.O2082[a].y,-57,57);if(this.O2082[a].x!=c.x||this.O2082[a].y!=c.y)ig.game.sounds.shortWhoosh.play(),
ig.game.O4349.O7073(a,this.O2082[a]),this.O3144(a,this.O2082[a])},O6927:function(a){var b=this.O5005(a);b&&(this.O2082[a]=b,ig.game.O4349.O7073(a,this.O2082[a]))},O3144:function(a,b){if(sessionStorage){var c=this.O2702(a),d=JSON.stringify(b);sessionStorage.setItem(c,
d)}},O5005:function(a){var b=null;if(sessionStorage&&(a=this.O2702(a),a=sessionStorage.getItem(a)))try{b=JSON.parse(a)}catch(c){console.log("Issue parsing attachment offset",c)}return b},O2702:function(a){var b=this.attachments.b;return"offset_"+a+"_"+(b?b.id:"none")+"_"+this.attachments[a].id},initAttachmentOffsetIfNeeded:function(a){a||console.log("initAttachmentOffsetIfNeeded: no slot provided");this.O2082||
(this.O2082={});this.O2082[a]||(this.O2082[a]={x:0,y:0})},O215:function(a){this.initAttachmentOffsetIfNeeded(a);if(0!=this.O2082[a].x||0!=this.O2082[a].y)this.O2082[a].x=0,this.O2082[a].y=0,this.O4102&&ig.game.O4349.O7073(a,this.O2082[a],!0)},O1071:function(a,b){this.initAttachmentOffsetIfNeeded(a);b.x=parseInt(b.x);b.y=parseInt(b.y);
if(this.O2082[a].x!=b.x||this.O2082[a].y!=b.y)this.O2082[a].x=b.x,this.O2082[a].y=b.y,this.attachments[a]&&ig.game.sounds.shortWhoosh.play()},O5348:function(){if(this.attachments.br&&ig.game.O4973&&this.anims&&(ig.input.state("esc")||ig.game.O884&&!ig.game.O884.O3340&&ig.input.state("s")||ig.game.virtualJoystick&&ig.game.virtualJoystick.input.down))ig.game.O7510.O3306(this,
"br",!0),ig.game.virtualJoystick.input.down=!1,ig.input.O3472()},O7569:function(){ig.game.O1253()&&Math.abs(this.vel.x)<=this.O3836.x?(this.hasMoved||(this.hasMoved=!0,ig.game.O4803.O1425()),this.accel.x=-this.O5429,this.O6609=!1):ig.game.O7584()&&Math.abs(this.vel.x)<=this.O3836.x&&(this.hasMoved||(this.hasMoved=!0,ig.game.O4803.O1425()),this.accel.x=this.O5429,
this.O6609=!0)},O3635:function(){if(!ig.game.motionDialog.isOpen&&!ig.game.holderDialog.O554){var a=this.standing?this.O291:this.O134;ig.game.O1253()&&Math.abs(this.vel.x)<=this.O3836.x?(this.hasMoved||(this.hasMoved=!0,ig.game.O4803.O1425()),this.accel.x=-a,this.O6609=!1,!ig.game.O707&&(0>this.accel.x&&this.O6029("blocksLeft"))&&(this.accel.x=0),this.standing&&-50<this.vel.x&&
(ig.game.chance(20)&&!ig.game.O3501.O7889(this)&&ig.game.O6879(EntityFootdust,this.pos.x,this.pos.y+13,{direction:this.O6609?-1:1}),Math.random()<this.O1441&&this.O4424()),this.standing&&0==Math.abs(this.vel.x)&&ig.game.chance(20)&&!ig.game.O3501.O7889(this)&&ig.game.O6879(EntityFootdust,this.pos.x,this.pos.y+13,{direction:this.O6609?-1:1}),this.standing&&0>this.vel.x&&
Math.random()<this.O1441Running&&this.O4424()):ig.game.O7584()&&Math.abs(this.vel.x)<=this.O3836.x?(this.hasMoved||(this.hasMoved=!0,ig.game.O4803.O1425()),this.accel.x=a,this.O6609=!0,!ig.game.O707&&(0<this.accel.x&&this.O6029("blocksRight"))&&(this.accel.x=0),ig.game.O3501.O7889(this)||(this.standing&&50>this.vel.x&&(ig.game.chance(20)&&ig.game.O6879(EntityFootdust,
this.pos.x,this.pos.y+13,{direction:this.O6609?-1:1}),Math.random()<this.O1441&&this.O4424()),this.standing&&0==Math.abs(this.vel.x)&&ig.game.chance(20)&&ig.game.O6879(EntityFootdust,this.pos.x,this.pos.y+13,{direction:this.O6609?-1:1}),this.standing&&0<this.vel.x&&Math.random()<this.O1441Running&&this.O4424())):(this.standing&&(this.accel.x=0,this.jumping=!1,this.O199=this.O4085),
this.accel.x/=30);if(ig.game.O4047()){a=1;this.O2031("enablesDoubleJump")?a=2:this.O2031("enablesTripleJump")?a=3:this.O2031("enablesQuadrupleJump")?a=4:this.O2031("enablesQuintupleJump")&&(a=5);var b=this.O2031("pushFlying");if((this.jumping||b)&&!this.standing&&(1<a&&this.O3976<a||this.O2031("enablesInfiniteJump")||b))this.O3976++,this.O2031("pushFlying")?
this.vel.y=this.O2222(-130):this.O2031("heavy")||this.O4389("heavy")?this.vel.y=-330:this.O2031("veryHeavy")?this.vel.y=-660:this.vel.y=-430,this.O2031("pushFlying")||ig.game.decorator.O04(this),ig.game.sounds.jump.play();else if((this.standing||this.isOnSolidMoverBody||this.O8234())&&!this.O3328()&&!this.O3739)this.canJump?
this.doJump():this.O4649(),this.O3976=1}else ig.game.O7759()?(this.pressedDownTimer=new ml.Timer,!this.standing&&this.O2031("pushFlying")&&(a=this.O2222(70),this.vel.y<a&&(this.vel.y=a),ig.game.sounds.jump.play())):ig.game.O3326()&&this.pressedDownTimer&&0.2<=this.pressedDownTimer.delta()?(this.pressedDownTimer=null,this.standing&&this.O274&&(a=this.O274.thing,"PASS"==a.base&&(a.attributes&&
a.attributes.specialDownPassable)&&(a=Math.abs(this.vel.x),b=1,150<=a?b=7:10<=a&&(b=2),this.pos.y+=b,ig.game.sounds.shortWhoosh.play(),this.ignoreMotionBarInNextDownRelease=!0,this.O5175(),ig.game.motionDialog&&ig.game.motionDialog.O5076("pass")))):this.O2193()?(this.pressedDownTimer=null,ig.game.motionDialog.tryOpen()):ig.game.O4435()&&(this.ignoreMotionBarInNextDownRelease=!1);this.O7247();!this.isFullAccount&&(!this.firstMoveTimer&&
0!=this.vel.x)&&(this.firstMoveTimer=new ml.Timer)}},O5175:function(){for(var a=ig.game.O5167(0,2),b=0;b<=a;b++){var c={};c.vel={x:ml.Misc.distort(10),y:ml.Misc.O3512(-60,-40)};c.decay=ml.Misc.O3512(1,3);ig.game.O6879(EntityDust,this.pos.x+2+ml.Misc.distort(4),this.pos.y+14+ml.Misc.distort(3),c)}},O2222:function(a){this.O2031("fast")?a*=1.5:this.O2031("veryFast")&&(a*=
2);return a},O2193:function(){var a=(this.standing||ig.input.state("ctrl"))&&!ig.game.O1253()&&!ig.game.O7584()&&!ig.game.motionDialog.isOpen&&ig.game.O4435()&&!ig.input.state("shift");a&&this.ignoreMotionBarInNextDownRelease&&(this.ignoreMotionBarInNextDownRelease=a=!1);return a},O3251:function(){var a=!1;if(Boolean(this.O7704&&this.O7704.thing&&"WALKABLE"==this.O7704.thing.base))a=
!0;else var a=Boolean(this.thingToRightOfPlayer&&this.thingToRightOfPlayer.thing&&"WALKABLE"==this.thingToRightOfPlayer.thing.base),b=Boolean(this.thingWayBelowPlayer&&this.thingWayBelowPlayer.thing&&"WALKABLE"==this.thingWayBelowPlayer.thing.base),a=Boolean(this.thingToLeftOfPlayer&&this.thingToLeftOfPlayer.thing&&"WALKABLE"==this.thingToLeftOfPlayer.thing.base)&&b||a&&b;return a},O2057:function(){var a=this.O3739?this.O291:this.O8144;ig.game.controlState_UP()?
(0<=this.vel.y&&this.O3386(),this.accel.y=-a):ig.game.O3326()?(0>=this.vel.y&&this.O3386(),this.accel.y=a):this.accel.y=0;ig.game.O1253()?(0<=this.vel.x&&this.O3386(),this.accel.x=-a):ig.game.O7584()?(0>=this.vel.x&&this.O3386(),this.accel.x=a):this.accel.x=0;this.O4322()},O4322:function(){ig.game.O707||(this.O7704HasAttribute("blocksLeft")&&
(0>this.vel.x&&(this.vel.x=0),0>this.accel.x&&(this.accel.x=0,this.O3739&&(this.O6609=!1))),this.O7704HasAttribute("blocksRight")&&(0<this.vel.x&&(this.vel.x=0),0<this.accel.x&&(this.accel.x=0,this.O3739&&(this.O6609=!0))),this.O7704HasAttribute("blocksUp")&&(0>this.vel.y&&(this.vel.y=0),0>this.accel.y&&(this.accel.y=0)),this.O7704HasAttribute("blocksDown")&&(0<this.vel.y&&(this.vel.y=0),0<this.accel.y&&(this.accel.y=0)))},O3386:function(a){Math.random()<
this.O1441&&this.O4424()},O5528:function(){ig.game.controlState_UP()?this.accel.y=-this.O7387.up:ig.game.O3326()?this.accel.y=this.O7387.down:this.accel.y=0;ig.game.O1253()?(this.O6609=!1,this.accel.x=-this.O7387.x):ig.game.O7584()?(this.O6609=!0,this.accel.x=this.O7387.x):this.accel.x=0},O4194:function(){this.O2511=this.isLying?8:this.O7430;
this.keepEyesClosedDueToBoost&&(this.O2511=0);this.isHooked?this.setAnim(this.anims.jump):0>this.vel.y&&!this.standing?this.setAnim(this.anims.jump):0>this.vel.y&&this.O1464?this.setAnim(this.anims.run):0<this.vel.y&&!this.standing?this.isOnSolidMoverBody||this.setAnim(this.anims.fall):(0!=this.vel.x||this.O427())&&this.standing?ig.game.O3501.O7889(this)?this.O1457&&(this.O1457.flip.x=this.O6609):this.setAnim(this.anims.run):!this.attachments.br&&
!this.dynathingWhichGrabbedMe&&(!window.tabHasFocus||this.O6210&&this.O6210.delta()>this.O2511)?this.setAnim(this.anims.afk):this.setAnim(this.anims.idle)},O4875:function(){if(ig.game.controlState_UP()||ig.game.O1253()||ig.game.O7584()||ig.game.O3326()||ig.input.state("click"))this.O6210=new ml.Timer,this.checkedAutoTriggerForIdle=!1;ig.game.O1253()||ig.game.O7584()||ig.game.controlState_UP()||
ig.game.O3326()?ig.game.O2930=!1:this.lastMouse&&(this.lastMouse.x!==ig.input.mouse.x&&this.lastMouse.y!==ig.input.mouse.y)&&(ig.game.O2930=!0);this.lastMouse.x=ig.input.mouse.x;this.lastMouse.y=ig.input.mouse.y;this.O1157.h&&(!ig.game.O1253()&&!ig.game.O7584())&&(this.hControlJustReleased=!0,this.standing||(this.accel.x=0));ig.game.O1253()?this.O1157.h="left":ig.game.O7584()?this.O1157.h=
"right":this.O1157.h=null;ig.game.O4047()&&(this.O3592=Date.now())},doJump:function(){!this.O3739&&!this.O3739Previous&&(this.vel.y=-this.O3579*(this.O2031("higherJump")?1.25:1),this.O5223()?(this.vel.y=this.O2222(-130),this.O2031("hoverFlying")&&(this.vel.y*=0.4)):this.O199=this.O4387,this.jumping=!0,ig.ua.mobile?((ig.game.chance(30)||
!this.didJumpAtLeastOnce)&&ig.game.sounds.whoosh.play(),this.didJumpAtLeastOnce=!0):(ig.game.sounds.jump.play(),ig.game.sounds.whoosh.play()),this.O4686=!0,ig.game.O6401.O5038(this,"jumps"))},O4649:function(){this.vel.y=-32;ig.game.sounds.sticky.play()},O2741:function(){this.standing&&(this.miniJumpTimer=new ml.Timer,this.vel.y=-100)},O7247:function(){this.jumping&&(0<=this.vel.y&&this.O199!=this.O7438)&&
(this.O199=this.O4085);if(this.jumping&&ig.game.O5354()&&this.vel.y<-this.O989||this.O2031("heavy")||this.O2031("veryHeavy")||this.O4389("heavy"))this.O199=this.O7438,this.O2031("veryHeavy")&&(this.O199*=2)},O5436:function(){var a=!1;this.O7704&&(this.O7704.thing&&this.O7704.thing.name)&&
(a=this.O7704.thing.name,a=0<=a.indexOf("ground")||0<=a.indexOf("floor")||0<=a.indexOf("earth"));return a},O116:function(){if(!this.miniJumpTimer)if(this.O2865!=this.O2558.CLIMBING){if((this.O5404()&&this.standing&&ig.game.controlState_UP()||this.O5404()&&!this.standing&&-1<this.vel.y||this.O5404()&&!this.O274)&&!this.O4743())this.rolling&&
this.O2561(),this.O2865=this.O2558.CLIMBING,this.O199=0,this.frictionModifier=this.O8327,this.maxVelModifier=this.O3739?this.maxVelWalkable:this.O4595,this.vel={x:0,y:0},this.accel={x:0,y:0},this.O3739||ig.game.O6401.O5038(this,"climbs")}else{if(!this.O3328()&&!this.O3739)this.O2865=this.O2558.RUNNING,this.O199=this.O4085,this.accel={x:0,y:0},this.O5313()&&
(this.vel.y=-this.O3579,ig.game.sounds.jump.play(),ig.game.sounds.whoosh.play(),this.O4686=!0);else if(this.O752()&&this.standing)this.O2865=this.O2558.RUNNING,this.O199=this.O4085,this.accel={x:0,y:0};else if(ig.game.O5354()&&200>Date.now()-this.O3592&&(ig.game.O1253()&&!this.O2382()||ig.game.O7584()&&!this.O6339()||!this.O3328()))this.O2865=
this.O2558.RUNNING,this.O199=this.O4085,this.accel={x:0,y:0},this.vel.y=-this.O3579,ig.game.sounds.jump.play(),ig.game.sounds.whoosh.play(),this.O4686=!0;else if(this.frictionModifier=this.O8327,this.maxVelModifier=this.O3739?this.maxVelWalkable:this.O4595,!this.O7704HasAttribute("onlyFasterDown")||ig.game.O3326()){var a=1;this.O7704HasAttribute("fast")?a=2:this.O7704HasAttribute("veryFast")?
a=3:this.O7704HasAttribute("fastest")&&(a=4);1!=a&&(this.maxVelModifier={x:this.maxVelModifier.x*a,y:this.maxVelModifier.y*a})}this.O2865==this.O2558.CLIMBING&&(this.O3739||this.O3739Previous?0!=this.vel.x||0!=this.vel.y?(0>this.vel.x?this.O6609=!1:0<this.vel.x&&(this.O6609=!0),this.setAnim(this.anims.run)):this.setAnim(this.anims.idle):this.O5436()||(this.O425()?this.setAnim(this.anims.climbing):this.setAnim(this.anims.climbingidle)))}},
checkLadderInteraction_Remoteplayer:function(){this.O2865==this.O2558.CLIMBING&&(this.O199=0,this.frictionModifier=this.O8327,this.maxVelModifier=this.O3739?this.maxVelWalkable:this.O4595)},O6007:function(){if(this.O2865!=this.O2558.SWIMMING){if(this.O8257()){ig.game.O7510.O785(this,!0);this.rolling&&this.O2561();this.O2865=this.O2558.SWIMMING;
this.O8100();this.O199=0;this.frictionModifier=ig.game.O5662(this.O5628);this.maxVelModifier=ig.game.O5662(this.O958);var a=this.O7704HasAttribute("thick");a&&(this.maxVelModifier=ig.game.O5662(this.O958Thick));(this.lastLiquidWasEffectsFree=this.O7704HasAttribute("effectsFree"))||ig.game.decorator.splash(this,a);this.O3976=0;this.forceSend=!0;ig.game.O6401.O5038(this,"swims");ig.game.motionDialog&&
ig.game.motionDialog.O5076("swim")}}else this.O8100(),this.O425()?(this.setAnim(this.anims.swimming),!this.lastLiquidWasEffectsFree&&ig.game.chance(30)&&ig.game.decorator.O6916(this.pos,this.vel,this.O6609)):this.setAnim(this.anims.swimmingidle),!this.O7704sHead||this.O7704sHead.thing.O5772()?this.O2924=null:null==this.O2924?(this.O2924=new ml.Timer,this.O7704HasAttribute("heals")&&
ig.game.motionDialog&&ig.game.motionDialog.O5076("healed")):(this.O2924.delta()>this.O8145&&(!this.O2031("breather")&&!this.O7704HasAttribute("harmless")&&ig.game.theyCanDrown)&&(ig.game.O231.O3585=!0,this.O4217(0.05,this,!1)),this.O7704HasAttribute("heals")&&100>this.health&&(this.health=(this.health+0.75).limit(0,100))),this.O8257()?(this.frictionModifier=
ig.game.O5662(this.O5628),this.maxVelModifier=ig.game.O5662(this.O958),this.O7704HasAttribute("thick")?(this.maxVelModifier=ig.game.O5662(this.O958Thick),this.accel.y+=10):this.O8313()&&-70<this.vel.y&&(this.accel.y-=this.O6260)):(this.O2865=this.O2558.RUNNING,this.O199=this.O4085,this.O2538()&&this.accel.y<-this.O6260&&(this.vel.y=-this.O3579,
ig.game.sounds.jump.play(),ig.game.sounds.whoosh.play()),this.accel={x:0,y:0},this.lastLiquidWasEffectsFree||ig.game.sounds.O733(this.O8387("thick")?ig.game.sounds.waterleaveThick:ig.game.sounds.waterleave,0.3),this.lastLiquidWasEffectsFree=!1)},O1491:function(){if(this.O2865==this.O2558.SWIMMING){this.O199=0;this.frictionModifier=ig.game.O5662(this.O5628);var a=this.O7704HasAttribute("thick");
this.maxVelModifier=a?ig.game.O5662(this.O958Thick):ig.game.O5662(this.O958);this.O8100();this.O1457==this.anims.swimming&&ig.game.chance(30)&&ig.game.decorator.O6916(this.pos,this.vel,this.O6609)}else if(this.O2865!=this.O2558.SWIMMING&&this.O8257()){this.O2865=this.O2558.SWIMMING;this.O8100();this.O199=0;this.frictionModifier=ig.game.O5662(this.O5628);
this.maxVelModifier=ig.game.O5662(this.O958);if(a=this.O7704HasAttribute("thick"))this.maxVelModifier=ig.game.O5662(this.O958Thick);ig.game.decorator.splash(this,a)}},O8100:function(){var a=this.O1457==this.anims.swimming?this.O1905*this.O5259:this.O1905;Math.abs(this.swimAngle+a-this.baseSwimAngle)<=this.O7643?this.swimAngle+=a:this.O1905=-this.O1905;a=this.O6609?this.swimAngle:
-this.swimAngle;this.anims.swimming.angle=a;this.anims.swimmingidle.angle=a},O23:function(){var a=2400,b=1E3,c=300,d=-1500,e=-800;this.O7704HasAttribute("soft")&&(a*=0.4,b*=0.1,c=140,d=-800,e=-200);this.somethingPushingUpBehindPlayer()?(this.accel.y=-a,this.O1553=!0):this.O8458()?this.standing||(this.accel.y=a,this.O1553=!0):this.O2457()?(this.accel.x=b,this.accel.y=0,this.frictionModifier=this.O5769,
this.maxVelModifier=this.O7437,this.O7704HasAttribute("standing")?this.setAnim(this.anims.idle):this.setAnim(this.anims.fall),this.O1553=!0):this.O1193()?(this.accel.x=-b,this.accel.y=0,this.frictionModifier=this.O5769,this.maxVelModifier=this.O7437,this.O7704HasAttribute("standing")?this.setAnim(this.anims.idle):this.setAnim(this.anims.fall),this.O1553=!0):this.O2114()?(this.accel.x=
-c,this.accel.y=d,this.frictionModifier=this.O5769,this.maxVelModifier=this.O7437Diagonal,this.O7704HasAttribute("standing")?this.setAnim(this.anims.idle):this.setAnim(this.anims.fall),this.O1553=!0):this.O6945()?(this.accel.x=c,this.accel.y=d,this.frictionModifier=this.O5769,this.maxVelModifier=this.O7437Diagonal,this.O7704HasAttribute("standing")?this.setAnim(this.anims.idle):this.setAnim(this.anims.fall),
this.O1553=!0):this.O8441()?(this.accel.x=c,this.accel.y=e,this.frictionModifier=this.O5769,this.maxVelModifier=this.O7437Diagonal,this.O7704HasAttribute("standing")?this.setAnim(this.anims.idle):this.setAnim(this.anims.fall),this.O1553=!0):this.O2536()?(this.accel.x=-c,this.accel.y=e,this.frictionModifier=this.O5769,this.maxVelModifier=this.O7437Diagonal,this.O7704HasAttribute("standing")?
this.setAnim(this.anims.idle):this.setAnim(this.anims.fall),this.O1553=!0):this.O1553&&(this.accel={x:0,y:0},this.O1553=!1)},O2100:function(){var a=this.O2031("slowsFall")||this.O2031("slowsFallALot")?30:ig.game.O361;0<this.vel.y&&!this.standing&&this.O2865==this.O2558.RUNNING&&!this.O1553&&!this.isHooked?this.fallTimer?(this.fallTimer.delta()>0.8*a&&(!this.O1463()&&!this.O5223())&&
ig.game.decorator.O5972(this),this.fallTimer.delta()>a&&this.kill(ig.game.deathTypes.FALL)):this.fallTimer=new ml.Timer:this.fallTimer=null},O4217:function(a,b,c,d){var e=1;this.O2031("reducesDamage25percent")?e=0.75:this.O2031("reducesDamage50percent")?e=0.5:this.O2031("reducesDamage75percent")?e=0.25:this.O2031("reducesDamage100percent")&&(e=0);a*=e;if(0<a){if((!this.O2196||this.O2196.delta()>
this.O4722)&&c&&ig.game.chance(this.O1430))c=ig.ua.mobile?5:15,(100==this.health||ig.game.chance(c))&&ig.game.sounds.O7086(ig.game.sounds.pain,this),this.O2924=new ml.Timer;this.O2196&&this.O2196.delta()<this.O3659&&(this.setAnim(this.anims.harm),this.O1457.angle=this.O6609?-0.1:0.1,this.O1457.flip.x=this.O6609);this.O4102&&(d||100==this.health&&ig.game.O6401.O5038(this,
"harmed"),this.parent(a,b))}},O81:function(){return!(!this.attachments.b||!this.attachments.b.id)},O2991:function(){return!(!this.attachments.w||!this.attachments.w.id)},O7903:function(){return!(!this.attachments.wp||!this.attachments.wp.id)},O6786:function(){return!(!this.attachments.h||!this.attachments.h.id)},O4743:function(){return!(!this.attachments.m||!this.attachments.m.id)},O342:function(){return Boolean(this.attachments.h&&
this.attachments.h.id&&"LINER"==this.attachments.h.base&&this.attachments.h.lines)},O1038:function(){return Boolean(this.attachments.h&&this.attachments.h.id&&"AIMABLE"==this.attachments.h.base)},draw:function(){if(ig.game.O3501.isRunning&&!ig.game.O3501.O6603(this)){var a=ig.game.O3501.O7310;if(ig.game.O3501.O3685&&ig.game.O3501.O3685.O2507==this.O2507)switch(ig.game.O3501.O4644){case "movementTrail":this.O5549();
break;case "multipleMe":this.O6644(a);break;case "meFloating":this.O4604();break;case "brightLightMe":this.O5564("lighter");break;case "darkLightMe":this.O5564("darken");break;case "iBlendIn":this.O5564("luminosity");break;case "reverseMe":this.O4660();break;case "moveBackwards":this.O1781();break;case "meRollMoving":this.O3455();break;case "everyoneFloating":a?this.O4604():this.doDraw();
break;case "everyoneRollMoving":a?this.O3455():this.doDraw();break;case "everyoneIsInvisible":a||this.doDraw();break;default:this.doDraw()}else if(ig.game.O3501.O2512&&ig.game.O3501.O2512.O2507==this.O2507)switch(ig.game.O3501.O4644){case "nextToMeFloating":this.O4604();break;case "nextToMeMovementTrail":this.O5549();break;case "nextToMeMultiple":this.O6644(a);break;case "nextToMeRollMoving":this.O3455();break;case "nextToMeBlendingIn":this.O5564("luminosity");
break;case "nextToMeBrightLight":this.O5564("lighter");break;default:this.doDraw()}else switch(ig.game.O3501.O4644){case "everyoneFloating":this.O4604();break;case "everyoneRollMoving":this.O3455();break;case "everyoneIsInvisible":break;default:this.doDraw()}}else this.doDraw()},O3455:function(){if((0!=this.vel.x||0!=this.vel.y)&&this.O2865!=this.O2558.CLIMBING){var a=this.O1457.angle;this.boostData||(this.boostData={angle:0});
this.boostData.angle+=0.11*(this.O6609?1:-1);this.O1457.angle=this.boostData.angle;this.doDraw();this.O1457.angle=a}else this.boostData=null,this.doDraw()},O4660:function(){var a=this.O1457.angle,b=this.O6609;this.O6609=!this.O6609;this.O1457.flip.x=this.O6609;this.O1457.angle=Math.PI;this.doDraw();this.O1457.angle=a;this.O6609=b},O1781:function(){var a=this.O6609;this.O6609=
!this.O6609;this.O1457.flip.x=this.O6609;this.doDraw();this.O6609=a},O5564:function(a){ml.Misc.O1651(a);this.doDraw();ml.Misc.O13()},O4604:function(){this.boostData||(this.boostData={offsetY:Math.random(-3,3),O5626:3,O6966:0.1},ig.game.chance(50)&&(this.boostData.O6966*=-1));var a=this.O1457.angle;this.O1457.angle=0.1*(this.O6609?1:-1);ig.game.O3501.O946(this.boostData);
var b=ig.game.O5662(this.pos);this.pos.y+=this.boostData.offsetY-10;this.doDraw();this.pos=b;this.O1457.angle=a},O6644:function(a){this.O7105.push(ig.game.O5662(this.pos));6<this.O7105.length&&this.O7105.shift();var b=ig.game.O5662(this.pos);6<=this.O7105.length&&(a&&this.O7105[0]&&(this.pos.x=this.O7105[0].x-29,this.pos.y=this.O7105[0].y,this.doDraw()),this.O7105[2]&&(this.pos.x=
this.O7105[2].x+29,this.pos.y=this.O7105[2].y,this.doDraw()));this.pos=b;this.doDraw()},O5549:function(){var a={pos:ig.game.O5662(this.pos),animName:this.O1457.name,flippedX:this.O6609};this.O7105.push(a);100<this.O7105.length&&this.O7105.shift();for(var a=ig.game.O3501.O7310,b=this.O7105.length,c=b-1,d=0;d<b;d++){var e=this.O7105[d];e.pos&&(this.pos=e.pos,this.O6609=e.flippedX,
this.setAnim(this.anims[e.animName]),d==b-1?(a&&ml.Misc.O13(),ig.system.context.globalAlpha=1):(a&&ml.Misc.O1651("lighter"),ig.system.context.globalAlpha=(d+1)/100/7.5),this.doDraw(d<c))}},doDraw:function(a){if(!this.isRingPortalling&&!this.O6684&&!(this.O4102&&ig.game.portaller.isRingPortalling||this.O4102&&ig.game.portaller.O6684)){this.attachments.h&&"LINER"==this.attachments.h.base&&ig.game.O6775.O6595(this,this.attachments.h.lines,
this.attachments.h.linesData,this.attachments.h.attributes,this.attachments.h.rgb,this.attachments.h.rgb2);var b=this.O2031("invisibility");b&&(ig.system.context.globalAlpha=0.25,ml.Misc.O1651("xor"));var c=!1,d=!1,e=!1,f=!1,g=!1,h=!1;this.O4743()&&(this.getMountableHasAttribute("behindBody")?c=!0:d=!0);this.O2991()&&(this.O2031("behindBody")||this.O2031("behind")?e=!0:f=!0);this.O7903()&&(this.O1751("behindBody")||
this.O1751("behind")?g=!0:h=!0);c&&this.drawAttached_Mountable();g&&this.O7242(a,"wp");e&&this.O7242(a,"w");if("everyone_is_invisible"!=ig.game.O3501.O4644){if(this.O81()){(c=this.attachments.b&&this.attachments.b.attributes&&this.attachments.b.attributes.bright||"light"==ig.game.O3501.O4644)&&ml.Misc.O1651("lighter");this.O3105=null;if(this.O2865!=this.O2558.CLIMBING||this.O3739||
this.O3739Previous)this.O3105=ig.game.O7510.O4287(this);this.O3105&&this.O3105.attributes&&this.O3105.attributes.replaces||(this.O2031("replaces")||this.getMountableHasAttribute("replaces"))||this.O3121();this.O3105&&this.O3105.O6595(this);c&&ml.Misc.O13()}else(this.O4102||ig.game.gameStartTimer&&5<=ig.game.gameStartTimer.delta())&&this.O3789();
h&&this.O7242(a,"wp");f&&this.O7242(a,"w");b&&(ig.system.context.globalAlpha=1,ml.Misc.O13());this.O6786()&&(!this.isHooked&&!this.hook)&&this.O6140()}d&&this.drawAttached_Mountable()}},O3789:function(){var a=this.O1457;if(a)if("idle"==a.name&&this.O7975.delta()>this.O2359&&ig.game.chance(this.O7918)&&(this.O4831=new ml.Timer,this.O7975.reset()),"idle"==a.name&&this.O4831){var b=
a.tile;a.tile=10;a.draw(this.pos.x-this.offset.x-ig.game._rscreen.x+this.avatarMountOffsetForThisFlip.x,this.pos.y-this.offset.y-ig.game._rscreen.y+this.avatarMountOffsetForThisFlip.y);a.tile=b;this.O4831.delta()>=this.blinkTime&&(this.O4831=null)}else a.draw(this.pos.x-this.offset.x-ig.game._rscreen.x+this.avatarMountOffsetForThisFlip.x,this.pos.y-this.offset.y-ig.game._rscreen.y+this.avatarMountOffsetForThisFlip.y)},O6130:function(){var a=0;if(this.attachments.b&&this.attachments.b.O1457){var a=
this.attachments.b.O1457.flip.x?-2:-1,b=this.attachments.b&&this.attachments.b.O1457?this.attachments.b.O1457.sheet:null;if(b&&b.width&&b.height){var c=b.width==ig.game.tileSize&&b.height==ig.game.tileSize;!(3==this.offset.x&&3==this.offset.y)&&!c&&(c=!this.O1457.flip.x,25<=b.width?a=c?a+-2:a+2:14<=b.width?a=c?a+-1:a+1:10<=b.width?a=c?a+2:a+5:6<=b.width&&(a=c?a+4:a+7))}}return a},O3121:function(){this.attachments.b.O1457=this.attachments.b.anims[this.O1457.name];
this.attachments.b.O1457.flip.x=this.O1457.flip.x;if(7==this.O1457.tile||9==this.O1457.tile)this.attachments.b.O1457.flip.x=!this.attachments.b.O1457.flip.x;1>=this.O1457.tile&&(this.attachments.b.O1457.tile=this.O1457.tile);this.attachments.b.O1457.angle=this.O1457.angle;this.attachments.b.O1457.name=this.O1457.name;var a=this.O6130();if(this.attachments.b.O1457){this.isLying&&(this.attachments.b.O1457.angle=
ig.game.O05*(this.attachments.b.O1457.flip.x?-1:1));"idle"==this.attachments.b.O1457.name&&this.O7975.delta()>this.O2359&&ig.game.chance(this.O7918)&&(this.O4831=new ml.Timer,this.O7975.reset());var a=this.pos.x-this.offset.x-ig.game._rscreen.x+a+this.avatarMountOffsetForThisFlip.x,b=this.pos.y-this.offset.y-ig.game._rscreen.y+0+this.avatarMountOffsetForThisFlip.y,c=this.O4743(),d=this.getMountableHasAttribute("toStand");
if(d=(this.isSitting||c)&&!this.O6310&&!d)this.attachments.b.anims.sit.flip.x=this.attachments.b.O1457.flip.x,this.attachments.b.anims.sit.angle=this.attachments.b.O1457.angle,this.attachments.b.anims.sit.draw(a,b);if(("idle"==this.attachments.b.O1457.name||this.isSitting||c)&&this.O4831)this.attachments.b.isOld||d||this.attachments.b.O1457.draw(a,b),this.attachments.b.anims.blink.flip.x=this.attachments.b.O1457.flip.x,this.attachments.b.anims.blink.angle=this.attachments.b.O1457.angle,
this.attachments.b.anims.blink.draw(a,b),this.O4831.delta()>=this.blinkTime&&(this.O4831=null);else{d||this.attachments.b.O1457.draw(a,b);"afk"==this.attachments.b.O1457.name&&!this.attachments.b.isOld&&(this.attachments.b.anims.blink.flip.x=this.attachments.b.O1457.flip.x,this.attachments.b.anims.blink.angle=this.attachments.b.O1457.angle,this.attachments.b.anims.blink.draw(a,b));if(("idle"==this.attachments.b.O1457.name||this.isSitting||c)&&!this.attachments.b.isOld&&
this.O572&&0.2>=this.O572.delta())this.attachments.b.anims.talk.flip.x=this.attachments.b.O1457.flip.x,this.attachments.b.anims.talk.angle=this.attachments.b.O1457.angle,this.attachments.b.anims.talk.draw(a,b);if(this.O572&&(a=this.O572.delta(),0.4<=a||0.2<=a&&ig.game.chance(1)))this.O572=null}}},O662:function(a,b){if("string"==typeof a)if("_nl"==a)this.O572=null,this.O6731=!1;else{var c=a;b&&(3==a.length&&"c"==a.substr(1,
1))&&(c=a.substr(2,1));null==this.O572&&("/"==c||"*"==c)?this.O6731=!0:!this.O6731&&(!this.O572&&ig.game.chance(90))&&(b?3==a.length&&"c"==a.substr(1,1)&&(c=c.toLowerCase().charCodeAt(0),97<=c&&122>=c&&(this.O572=new ml.Timer)):this.O572=new ml.Timer)}},O7242:function(a,b){this.attachments[b]&&"DYNATHING"==this.attachments[b].base?this.O7713(a,b):this.attachments[b]&&"STACKWEAR"==this.attachments[b].base?
this.O6784(b):this.O350(b)},O7713:function(a,b){this.attachments[b].dynathingEntity&&(this.attachments[b].dynathingEntity.O2787(this.O4129()),this.attachments[b].dynathingEntity.O6257=this.O6609,this.attachments[b].dynathingEntity.O3637&&(this.attachments[b].dynathingEntity.parentScreenName=this.screenName),this.attachments[b].dynathingEntity.draw(null,a,this.O2082?
this.O2082[b]:void 0))},O6784:function(a){this.O1457==this.anims.climbing||this.O1457==this.anims.climbingidle||this.O1457==this.anims.creating?(this.attachments[a].O1457=this.attachments[a].anims.back,this.attachments[a].O1457.flip.x=!1):(this.attachments[a].O1457=this.attachments[a].anims.normal,this.O5952("nonFlipping",a)?this.attachments[a].O1457.flip.x=!1:this.attachments[a].O1457.flip.x=this.O1457.flip.x);
this.attachments[a].O1457.angle=this.O1457.angle;this.isLying&&(this.attachments[a].O1457.angle=ig.game.O05*(this.attachments[a].O1457.flip.x?-1:1));var b=this.O3002(a);this.attachments[a].O1457.draw(this.pos.x-this.offset.x-ig.game._rscreen.x+b.x+this.avatarMountOffsetForThisFlip.x,this.pos.y-this.offset.y-ig.game._rscreen.y+b.y+this.attachmentDrawOffsets.wearable.y+this.avatarMountOffsetForThisFlip.y)},O350:function(a){if(this.attachments[a].animSheet){var b=
this.attachments[a].animSheet.image;if(b&&b.loaded){var c=0,d=0;if(this.O2082&&this.O2082[a]&&this.O1457&&void 0!==this.O1457.flip&&this.O1457.sheet)var e=ig.game.O7510.O1856(this.attachments.b,this.attachments[a],this.O1457.sheet.width,this.O1457.sheet.height),c=c+e.x,d=d+e.y,c=c+this.O2082[a].x*(this.O1457.flip.x?-1:1),d=d+this.O2082[a].y;b.draw(this.pos.x-this.offset.x-ig.game._rscreen.x+
c,this.pos.y-this.offset.y-ig.game._rscreen.y+d,0,0,b.width,b.height)}}},O4129:function(){var a=this.O369();a.x-=11;a.y-=13;if(this.attachments&&this.attachments.b&&this.attachments.b.animSheet){var b=this.attachments.b.animSheet.width;this.O6609&&23<=b?a.x-=1:17>=b&&(a.x+=2)}this.O4743()&&(a.x+=this.avatarMountOffsetForThisFlip.x,a.y-=this.avatarMountOffsetForThisFlip.y);return a},O3002:function(a){var b=0,c=0;if(3==this.offset.x&&
3==this.offset.y){if(this.O1457==this.anims.creating?b=0==this.O1457.frame?this.attachmentDrawOffsets.wearable.cx0:this.attachmentDrawOffsets.wearable.cx1:(b=this.O1457.flip.x?this.attachmentDrawOffsets.wearable.rx:this.attachmentDrawOffsets.wearable.lx,this.attachments[a].O1457==this.attachments[a].anims.back&&(b=this.attachmentDrawOffsets.wearable.bx)),this.attachments[a].O1457&&this.attachments[a].O1457.sheet&&this.attachments[a].O1457.sheet.width==ig.game.O5286){var d=
!this.O1457.flip.x,b=b-11;d||(b+=3);c-=6}}else this.O1457&&this.O1457.sheet&&(d=ig.game.O7510.O1856(this.attachments.b,this.attachments[a],this.O1457.sheet.width,this.O1457.sheet.height),b+=d.x,c+=d.y);this.O2082&&(this.O2082[a]&&this.O1457&&this.O1457.flip)&&(b+=this.O2082[a].x*(this.O1457.flip.x?-1:1),c+=this.O2082[a].y);return{x:b,y:c}},O4354:function(){var a=
0,b=0,c=this.attachments[ig.game.O7510.slots.HOLDABLE];if(c&&c.O1457){var d=this.attachmentDrawOffsets;if((c=c.O1457.sheet)&&c.width&&c.height&&this.O1457.sheet){var e=this.O1457.sheet.width,f=this.O1457.sheet.height;this.attachments.b&&(this.attachments.b.animSheet&&this.attachments.b.animSheet.width)&&(e=this.attachments.b.animSheet.width,f=this.attachments.b.animSheet.height);var g=!this.O1457.flip.x,a=g?d.holdable.lx:d.holdable.rx,b=d.holdable.y,
h=3==this.offset.x&&3==this.offset.y;10>=c.width&&10>=c.height&&(a=g?d.holdableSmall.lx:d.holdableSmall.rx,b=d.holdableSmall.y);h||(26<=e?a=g?a+7:a+3:22<=e?a+=2:18<=e&&(a=g?a+3:a+1),23<=f&&(b+=f/3.5));this.attachments.h.attributes&&this.attachments.h.attributes.stickyOnPeople&&(a=this.O1457.flip.x?11:6,b-=5);a=Math.floor(a-c.width/2);b=Math.floor(b-c.height/2)}}this.attachments.b&&(this.O1457&&this.O1457.flip)&&(a+=3*(this.O1457.flip.x?1:-1),b-=3);return{x:a,y:b}},O6140:function(){var a=
this.attachments[ig.game.O7510.slots.HOLDABLE];if(a&&a.O1457&&a.animSheet.image&&a.animSheet.image.width){var b=ig.game.O3501.O31(this),c=0,d=0;this.O2082&&(this.O2082.h&&this.O1457&&this.O1457.flip)&&(c=this.O2082.h.x*(this.O1457.flip.x?-1:1),d=this.O2082.h.y);if(a.pos)a.O1457.angle=0+b,a.O1457.draw(a.pos.x-ig.game._rscreen.x-a.animSheet.image.width/2+c,a.pos.y-ig.game._rscreen.y-
a.animSheet.image.height/2+d);else if("creating"!=this.O1457.name&&(this.O2865!=this.O2558.CLIMBING||this.O3739))a.O1457.flip.x=this.O4866("nonFlipping")?!1:this.O1457.flip.x,this.O2984&&0.125>=this.O2984.delta()?this.O1457.flip.x?(a.O1457.pivot.x=0,a.O1457.pivot.y=a.animSheet.image.height,a.O1457.angle=this.O1457.angle+7*this.O2984.delta()+b):(a.O1457.pivot.x=a.animSheet.image.width,
a.O1457.pivot.y=a.animSheet.image.height,a.O1457.angle=this.O1457.angle-7*this.O2984.delta()+b):(a.O1457.pivot.x=a.animSheet.image.width/2,a.O1457.pivot.y=a.animSheet.image.height/2,a.O1457.angle=this.O1457.angle+b),b=this.O4354(),a.O1457.draw(this.pos.x-this.offset.x-ig.game._rscreen.x+b.x+this.avatarMountOffsetForThisFlip.x+c,this.pos.y-this.offset.y-ig.game._rscreen.y+b.y+this.avatarMountOffsetForThisFlip.y+d)}},
drawAttached_Mountable:function(){this.attachments[ig.game.O7510.slots.MOUNTABLE]&&this.attachments[ig.game.O7510.slots.MOUNTABLE].O1457&&(this.getMountableHasAttribute("nonFlipping")||(this.attachments.m.O1457.flip.x=this.O1457.flip.x),this.attachments[ig.game.O7510.slots.MOUNTABLE].O1457.draw(this.pos.x-this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y))},O7134:function(){var a=ig.system.context;
a.fillStyle="#fff";a.fillRect((this.pos.x+this.O7704Offset.x-ig.game.screen.x)*ig.system.scale,(this.pos.y+this.O7704Offset.y-ig.game.screen.y)*ig.system.scale,2,2);a.fillRect((this.pos.x+this.O4270LeftPlayerOffset.x-ig.game.screen.x)*ig.system.scale,(this.pos.y+this.O4270LeftPlayerOffset.y-ig.game.screen.y)*ig.system.scale,2,2);a.fillRect((this.pos.x+this.O4270RightPlayerOffset.x-ig.game.screen.x)*ig.system.scale,(this.pos.y+this.O4270RightPlayerOffset.y-
ig.game.screen.y)*ig.system.scale,2,2);a.fillRect((this.pos.x+this.O274Offset.x-ig.game.screen.x)*ig.system.scale,(this.pos.y+this.O274Offset.y-ig.game.screen.y)*ig.system.scale,2,2);a.fillRect((this.pos.x+this.O7704sFeetOffset.x-ig.game.screen.x)*ig.system.scale,(this.pos.y+this.O7704sFeetOffset.y-ig.game.screen.y)*ig.system.scale,2,2);a.fillRect((this.pos.x+this.thingToLeftOfPlayerOffset.x-ig.game.screen.x)*ig.system.scale,(this.pos.y+this.thingToLeftOfPlayerOffset.y-
ig.game.screen.y)*ig.system.scale,2,2);a.fillRect((this.pos.x+this.thingToRightOfPlayerOffset.x-ig.game.screen.x)*ig.system.scale,(this.pos.y+this.thingToRightOfPlayerOffset.y-ig.game.screen.y)*ig.system.scale,2,2)},O1668:function(){this.O6575.draw()},O1470:function(){if(ig.game.O5049&&ig.game.settings.showMainUI&&(this.O1652(),0<this.O4938)){var a=this.screenName;1>=a.length&&(a="name: "+a);var b=this.O369();this.attachments.b&&
(this.attachments.b.animSheet&&this.attachments.b.animSheet.height&&!this.attachments.m)&&(b.y-=ig.game.tileSize-this.attachments.b.animSheet.height);var c=b.x-this.offset.x-ig.game._rscreen.x+9,b=b.y-this.offset.y-ig.game._rscreen.y+22;this.attachments.br&&ig.game.O4973&&(a="^");var d=ig.game.blackWhiteFont.O6289(a);ig.system.context.globalAlpha=Math.max(this.O4938-0.1,0);0==this.rank&&(c+=4,ig.game.O5405.draw(c-d/2-13,b-1,ig.system.context.globalAlpha,
ig.game.O5405.rank0));a=ig.game.strings.O4423(a,16);this.viewingMultithingName&&(a[1]="^"+this.viewingMultithingName,3<=a.length&&a.splice(2,1));for(d=0;d<a.length;d++)ig.game.blackWhiteFont.draw(a[d],c,b+7*d,ig.Font.ALIGN.CENTER);this.hasMultithingAddButton&&ig.game.O5405.draw(c-ig.game.O5405.addMultithingParticipantButton.width/2,b-15,ml.Misc.O5179(2*this.O4938,0,0.8),ig.game.O5405.addMultithingParticipantButton);ig.system.context.globalAlpha=
1}},O1652:function(){this.O4102||(this.O2023?(this.O4938=this.O2533,30<=this.O2023.delta()&&(this.O2023=null)):this.O4938>=this.O2533-0.1?this.O8106&&(this.O8106=null):(this.O8106||(this.O8106=new ml.Timer),15<=this.O8106.delta()&&(this.O2023=new ml.Timer,
this.O8106=null)))},O7641:function(){var a=this.O4102&&ig.game.isFullAccount&&120>=ig.game.O414;if(this.O4102&&a&&ig.game.actioninfo&&ig.game.actioninfo.isOpen)this.O4938=0;else if(!a&&this.O4102&&0<ig.game.O4269.O4938&&(!this.attachments.br||!ig.game.O4973))this.O4938=0;else if(!this.O4102||a||this.attachments.br){var b=3*ig.system.tick;this.O4102&&
!a?this.O4938<this.O2533&&(this.O4938+=b):0==this.vel.y&&0==this.vel.x?this.nameTimer?this.nameTimer.delta()>ig.game.O5603&&this.O4938<this.O2533&&(this.O4938+=b):this.nameTimer=new ml.Timer:(this.nameTimer=null,this.O4938=0)}},O3378:function(){200<Math.abs(this.vel.x)+Math.abs(this.vel.y)&&!this.isHooked&&ig.game.decorator.O767(this)},O5278:function(){this.isHooked||
(this.O4102?250<Math.abs(this.vel.x)+Math.abs(this.vel.y)&&(ig.game.chance(3)&&!ig.game.O7299())&&ig.game.sounds.softWhoosh.play():250<(Math.abs(this.vel.x)<=5+Math.abs(this.vel.y))&&ig.game.chance(3)&&ig.game.sounds.O7086(ig.game.sounds.softWhoosh,this))},O4424:function(){if(!this.isSitting&&!this.isLying&&!ig.game.O3501.O7889(this)){if(!this.O5928||this.O5928.delta()>this.O7367){var a=this.O274&&this.O274.thing?
this.O274.thing.name:"";a?0<=a.indexOf("metal")?ig.game.sounds.footfalls_metal.play():0<=a.indexOf("grass")&&ig.game.chance(25)?ig.game.sounds.footfalls_grass.play():0<=a.indexOf("snow")?ig.game.sounds.footfalls_snow.play():0<=a.indexOf("sand")||0<=a.indexOf("beach")?ig.game.sounds.footfalls_sand.play():0<=a.indexOf("wood")?ig.game.sounds.footfalls_wood.play():0<=a.indexOf("energy")?ig.game.sounds.footfalls_energy.play():0===a.indexOf("mud")||0<=a.indexOf(" mud")?ig.game.sounds.footfalls_mud.play():
this.O7704&&this.O7704.thing&&"FURRY"==this.O7704.thing.base&&ig.game.chance(50)?ig.game.sounds.footfalls_grass.play():ig.game.sounds.footfalls.play():ig.game.sounds.footfalls.play()}this.O5928=new ml.Timer}},kill:function(a){if(!ig.game.writableDialog||!ig.game.writableDialog.isOpen)if(!(ig.ua.iexplorer&&a==ig.game.deathTypes.FOCUS)&&!(a==ig.game.deathTypes.FALL&&(this.isHooked||this.O1463()||this.O5223())))if(!(a==ig.game.deathTypes.DEADLY&&
(this.O2031("reducesDamage100percent")||ig.game.O5699&&ig.game.O172.O3820()))&&!this.isDead&&!this.isDying){this.isDying=!0;this.O4102&&(ig.game.O6401.O5038(this,"dies"),ig.game.O7673(),ig.game.brainManager.O3628=!1);!a&&(this.O6155&&1<=this.O6155.length)&&(a=ig.game.deathTypes.POISON);ig.game.O6462=this.O4102&&ig.game.gameStartTimer&&3>=ig.game.gameStartTimer.delta();
var b={O6609:this.O6609,O4102:this.O4102,player:this,deathType:a};ig.game.O7510.O785(this,!1);this.O4102?ig.game.spawnEntity(EntityDeadPlayer,this.pos.x,this.pos.y,b):ig.game.O6879(EntityDeadPlayer,this.pos.x,this.pos.y,b);a!=ig.game.deathTypes.FALL&&ig.game.decorator.emitDeathDust(this.pos);this.isDead=!0;this.O4102&&ig.game.O4349.O8101(a);ig.game.addStat(this.O2507,"died");this.parent()}},
check:function(a){},O3141:function(a,b){},O6173:function(){if(this.rolling)if(this.O1457.angle=0,this.O2865!=this.O2558.RUNNING)this.rolling=!1;else{this.angle+=this.O3390*this.O5401;if(this.standing&&!this.O1464&&(this.O3390=this.O5253,this.vel.x=this.O3836.x*this.O5401,this.angle>this.twoPi||this.angle<-this.twoPi)){this.O2561();return}this.angle>this.twoPi&&(this.angle-=this.twoPi);
this.angle<-this.twoPi&&(this.angle+=this.twoPi);this.O1457.angle=this.angle}},O7942:function(a,b,c){if(!this.O4743()&&(100==c||ig.game.chance(c)))this.rolling=!0,this.O3390=b,this.O5401=a},O2561:function(){this.rolling=!1;this.O7319()},O7319:function(){this.anims.idle.angle=0;this.anims.run.angle=0;this.anims.jump.angle=0;this.anims.fall.angle=0;this.anims.climbing.angle=0;this.anims.climbingidle.angle=0;this.anims.swimming.angle=
0;this.anims.swimmingidle.angle=0;this.anims.creating.angle=0;this.anims.afk.angle=0;this.anims.harm.angle=0},O427:function(){return!ig.game.motionDialog.isOpen&&!ig.game.holderDialog.O554&&(ig.game.O1253()||ig.game.O7584())},O425:function(){return!ig.game.motionDialog.isOpen&&!ig.game.holderDialog.O554&&(ig.game.O1253()||ig.game.O7584()||ig.game.controlState_UP()||ig.game.O3326())},O5404:function(){return this.O7704&&
this.O7704.thing.O491()},O3328:function(){return this.O4270LeftPlayer&&this.O4270LeftPlayer.thing.O491()||this.O4270RightPlayer&&this.O4270RightPlayer.thing.O491()},O5313:function(){return this.O7704sFeet&&this.O7704sFeet.thing.O491()},O8234:function(){return this.O274&&this.O274.thing.O491()},O2382:function(){return this.thingToLeftOfPlayer&&
this.thingToLeftOfPlayer.thing.O491()},O6339:function(){return this.thingToRightOfPlayer&&this.thingToRightOfPlayer.thing.O491()},O8257:function(){return this.O7704&&this.O7704.thing.isALiquid},O2538:function(){return this.O7704sFeet&&this.O7704sFeet.thing.isALiquid},O8313:function(){return this.O7704sHead&&this.O7704sHead.thing.isALiquid},
somethingPushingUpBehindPlayer:function(){return this.O7704&&this.O7704.thing.O8207()&&0===this.O7704.rotation},O2457:function(){return this.O7704&&this.O7704.thing.O8207()&&1===this.O7704.rotation},O8458:function(){return this.O7704&&this.O7704.thing.O8207()&&2===this.O7704.rotation},O1193:function(){return this.O7704&&
this.O7704.thing.O8207()&&3===this.O7704.rotation},O2114:function(){return this.O7704&&this.O7704.thing.O499()&&0===this.O7704.rotation},O6945:function(){return this.O7704&&this.O7704.thing.O499()&&1===this.O7704.rotation},O8441:function(){return this.O7704&&this.O7704.thing.O499()&&
2===this.O7704.rotation},O2536:function(){return this.O7704&&this.O7704.thing.O499()&&3===this.O7704.rotation},O752:function(){return this.last.y<this.pos.y},O8425:function(a){this.friction.x=a.x;this.friction.y=a.y},O3919:function(a){this.maxVel.x=a.x;this.maxVel.y=a.y},O6716:function(){this.friction.x=this.O8409.x;this.friction.y=this.O8409.y},O7135:function(){this.maxVel.x=
this.O3983.x;this.maxVel.y=this.O3983.y;this.O3836.x=130;this.O3836.y=600},O2111:function(a){this.O743(a);a=this.O4102;this.attachments.m&&ig.game.O7510.O3306(this,ig.game.O7510.slots.MOUNTABLE,a);ig.game.sounds.O7086(ig.game.sounds.collected,this);ig.game.decorator.O4106(this)},O743:function(a){ig.game.O7510.O4416(ig.game.O4269,ig.game.O7510.slots.BODY,
a,null,"STACKWEARB")},O7497:function(a){this.O2862(a);var b=this.O4102;this.attachments.m&&ig.game.O7510.O3306(this,ig.game.O7510.slots.MOUNTABLE,b);this.O2741();this.O4102&&(this.attachments.b&&ig.game.O7510.O3306(this,ig.game.O7510.slots.BODY,b),ig.game.O4349.O5017(a));ig.game.O7510.O7069(this,ig.game.O7510.slots.BODY,!0);ig.game.sounds.O7086(ig.game.sounds.collected,
this);ig.game.decorator.O4106(this)},O2862:function(a){this.O7237=a;this.animSheet=new ml.AnimationSheet(ig.game.staticResourcePrefix+"media/avatar-spritesheets/"+this.O7237+".png",16,19);this.O2986()},O4517:function(a){this.screenName=a;this.O4102&&(ml.Misc.O1649(),ig.game.O4349.O2137(a))},O4261:function(a,b,c){if(null!=a){c=ig.game.strings.O2532(a,c);var d=null;if((0===a.indexOf("http://")||
0===a.indexOf("https://"))&&b)d=a;this.O6575.O5804(c,d)}},onClick:function(a){a=!a;if(ig.game.playerDialog&&(!ig.game.holderDialog||!ig.game.holderDialog.O4499())&&(!a||!ig.game.O4269.O342()&&!ig.game.O4269.O1038())&&(!ig.game.userMapDialog||!ig.game.userMapDialog.isOpen||this.O4102))this.O4102?(a=null!=this.O7060,ig.input.state("ctrl")||a?(ig.game.O7510.O7485(this,!0),a&&ig.game.playerDialog.close()):
ig.ua.mobile?this.O7060=new ml.Timer:ig.input.state("shift")?ig.game.playerDialog.O1572(ig.game.O4269.O2507):ig.game.playerDialog.O3657()):ig.input.state("shift")?ig.game.playerDialog.O1572(this.O2507):this.hasMultithingAddButton&&0<this.O4938?ig.game.multithingManager.addParticipant(this,!0):ig.game.playerDialog.openForPlayerId(this.O2507,{x:this.pos.x+7-ig.game.screen.x,y:this.pos.y-ig.game.screen.y})},onHover:function(){},O6717:function(){this.O6609=
this.O1457.flip.x=!0},O2971:function(){this.O6609=this.O1457.flip.x=!1},O6200:function(){this.standing&&this.canJump&&(this.O4645=!0)},O3504:function(){this.O4645&&(this.doJump(),this.O7247(),this.O4645=!1)},O804:function(){return this.attachments&&this.attachments.h?this.attachments.h.name:null},O895:function(){for(var a=new Date,b=localStorage.length-1;0<=b;b--){var c=localStorage.key(b);
if(0===c.indexOf("userAllIs_")){var d=localStorage.getItem(c);if(d)try{var e=JSON.parse(d);e.dateSaved?ig.game.O6401.getDaysDifferenceBetween(new Date(e.dateSaved),a)>ig.game.O6401.maxDaysToKeepStates&&localStorage.removeItem(c):localStorage.removeItem(c)}catch(f){localStorage.removeItem(c)}}}},O1055:function(){var a="userAllIs_"+(ig.game.areaGroupId?ig.game.areaGroupId:""),b=localStorage.getItem(a);if(b)try{this.allIs=JSON.parse(b).allIs}catch(c){localStorage.removeItem(a)}},
saveAreaAllIsData:function(){if(!this.allIs||0==this.allIs.length)localStorage.removeItem("userAllIs_"+ig.game.areaGroupId);else{var a={dateSaved:ig.game.strings.O6583(),allIs:this.allIs};ig.game.O914.setItem("userAllIs_"+(ig.game.areaGroupId?ig.game.areaGroupId:""),JSON.stringify(a))}},O5636:function(a){if(a){a=a.toLowerCase();a=a.split(" and ");for(var b=0;b<a.length;b++){var c=a[b];c&&-1===this.allIs.indexOf(c)&&this.allIs.push(c)}this.saveAreaAllIsData();ig.game.O6401.O4407()}},
removeFromAllIs:function(a){if("*"==a)this.allIs=[],this.saveAreaAllIsData();else if(a){a=a.toLowerCase();a=a.split(" and ");for(var b=0;b<a.length;b++){var c=a[b];c&&(c=this.allIs.indexOf(c),0<=c&&this.allIs.splice(c,1))}this.saveAreaAllIsData();ig.game.O6401.O4407()}},say:function(a){a&&this.O6575&&(this.O6433(),this.O6575.O5804(a,null,!0),this.O572=new ml.Timer)},O6433:function(){var a=
this.O6575.O8238();a&&!a.moving&&(a.moving=!0)},O5560:function(){return this.voice?ig.game[this.voice+"Font"]:null},O1552:function(){return(this.O2031("passThroughSolids")||this.getMountableHasAttribute("passThroughSolids"))&&!this.O2031("pushFlying")}})});ig.baked=!0;
ig.module("game.entities.thrownitem").requires("impact.entity").defines(function(){window.EntityThrownItem=ig.Entity.extend({itemId:null,pos:{x:0,y:0},size:{x:0,y:0},vel:{x:0,y:0},maxVel:{x:400,y:800},targetVel:null,friction:{x:10,y:10},rotation:0,O5323:1,energy:100,O4465:-0.25,O3045:!0,O1434:0,O3422:6,O4270:null,O3600:!1,O5291:0.8,prevVel:{x:0,y:0},O6909:!1,O1553:!1,O7600:700,originPos:{x:null,y:null},
O7168:!0,O8247:null,O2068:null,originatorId:null,attributes:{},O5288:!1,O6534:[],O129:null,O1291:!1,O2379:!1,stickiness:0,O3500:!1,O7771:null,O1650:null,O7455:!0,O3184:170,rgb:null,O3291:80,O3734:80,O3133:!1,bounciness:0.4,interactive:!0,type:ig.Entity.TYPE.A,O6821:ig.Entity.TYPE.B,collides:ig.Entity.COLLIDES.PASSIVE,O4942:!1,
isEquipment:!1,O5840:!1,O6651:!1,boundingBox2:null,pastPos:null,O7829:!1,O2722:null,O2074:!1,init:function(a,b,c){this.itemId=c.itemId;this.O1291=c.O1291;this.O2379=c.O2379;this.O6909=c.O6909;this.O8247=c.O8247;this.O2068=c.O2068;this.throwId=c.throwId;this.rgb=c.rgb;this.O4942="CONSUMAB"==this.O8247;this.isEquipment="EQUIPMENT"==this.O8247;
this.O5840="EMITTER"==this.O8247||"AIMABLE"==this.O8247;this.boundingBox2=c.boundingBox2;this.soundId=c.soundId;this.originatorId=c.originatorId;this.O508=c.O508;this.originatorHasBrainAttached=c.originatorHasBrainAttached;this.O8020=c.O8020;this.O7309=c.O7309;c.attributes&&(this.attributes=ig.game.O5662(c.attributes));this.attributes||(this.attributes={});this.originPos=
{x:a,y:b};this.pos.x=a;this.pos.y=b;this.size={x:c.O198.width,y:c.O198.height};if(this.O1291)this.vel.x=1.7*c.O1117.x,this.vel.y=1.7*c.O1117.y;else if(this.O2379)this.vel.x=c.O1117.x,this.vel.y=c.O1117.y;else if("AIMABLE"==this.O8247){this.maxVel={x:1500,y:1500};this.vel.x=parseFloat(c.O1117.x);this.vel.y=parseFloat(c.O1117.y);this.friction={x:0,y:0};this.O199=0;this.O3133=this.O6651=
this.O5288=!0;if((a=ml.Misc.O2849(this.originatorId))&&a.O1038())if((this.specs=a.attachments.h.specs)&&this.specs.weight)this.O199=this.specs.weight/20;this.specs||(this.specs=ig.game.O3777.O1825())}else"FURRY"==this.O8247?(this.attributes.noTrail=!0,this.vel.x=c.O1117.x,this.vel.y=c.O1117.y,this.O3422=0,this.O6150(),void 0!==c.O199&&(this.O199=c.O199,this.O2074=
!0),this.energy=100,this.O4465=-0.5):(this.vel.x=1.7*c.O1117.x+100*(c.O198.flipX?1:-1),this.vel.y=1.7*c.O1117.y-100);this.animSheet=c.O198.animSheet;this.O5840?this.O4769(c):(this.O1457=this.animNormal=new ml.Animation(this.animSheet,1,[0]),this.O1457.flip.x=c.O198.flipX,this.O1457.angle=0);0==c.O1117.x&&0==c.O1117.y&&(this.O3422=1);"HOOK"==this.O8247&&(this.attributes||(this.attributes=
{}),this.attributes.hook=!0);if((this.isTransporting=this.attributes.transporting||this.attributes.instantTransporting)&&ig.game.O707)this.isTransporting=!1,this.attributes.transporting=!1,this.attributes.instantTransporting=!1,this.O6909&&ig.game.O884.O8271("nonPublicAreasOnly");this.O3029(c);this.O6534=ig.game.sounds.O3679(c.O2068,!0);for(c=0;c<this.O6534.length;c++)ig.game.sounds.O7086(this.O6534[c],
this);this.O1457||this.kill();this.O5840&&ig.game.sounds.playIncludedSound(this)},O4769:function(a){var b=this.boundingBox2;b&&(b={x:b[0],y:b[1],width:b[2]-b[0]+1,height:b[3]-b[1]+1},this.animNormal=new ml.Animation(this.animSheet,1,[1]),this.size={x:b.width,y:b.height},a.O198.width>this.size.x&&(this.offset.x=b.x),a.O198.height>this.size.y&&(this.offset.y=b.y),this.O6651&&(this.offset.x=0,this.offset.y=0),this.pos.x+=this.offset.x,this.pos.y+=
this.offset.y,this.O1457=this.animNormal,this.O1457.flip.x=a.O198.flipX,this.O1457.angle=0,this.attributes.nonRotating=!0)},O3029:function(a){if("FURRY"!=this.O8247){this.attributes.stickyOnPeople&&(this.attributes.harmful&&delete this.attributes.harmful,this.attributes.deadly&&delete this.attributes.deadly,ig.game.O707&&(this.attributes.stickyOnPeople=!1,this.O6909&&ig.game.O884.O8271("nonPublicAreasOnly")));
this.O4942&&(!this.attributes.edible&&!this.attributes.drinkable)&&(this.attributes.edible=!0);this.isTransporting&&(this.energy=200,this.attributes.stickyOnThings=!0,this.O5288=!1);this.attributes.hook&&(!this.O1291&&!this.O2379)&&(this.attributes.stickyOnThings=!0,this.attributes.flies=!0,this.attributes.many=!0);if((this.O1291||this.O2379)&&this.attributes.hook)this.energy=0;if(this.attributes.flies){var b=4;this.vel.x=a.O1117.x*b;150>=
Math.abs(this.vel.x)&&150>=Math.abs(this.vel.y)&&(this.vel.x=a.O1117.x*b+320*(a.O198.flipX?1:-1));this.vel.y=a.O1117.y*b;this.O199=0.2;this.O5323=0;this.attributes.lightweight&&(this.vel.x=Math.abs(this.vel.x)*(a.O198.flipX?1:-1),this.attributes.randomized||(this.vel.y=0),this.O199=0,!this.attributes.stickyOnThings&&!this.attributes.stickyOnPeople&&(this.O5288=!0),10>=Math.abs(this.vel.x)&&(this.vel.x=300*(a.O198.flipX?1:-1)))}this.attributes.heavy&&
(this.O199=1.5,b=1.25,this.O5323=1,this.vel.x=a.O1117.x*b+100*(a.O198.flipX?1:-1),this.vel.y=a.O1117.y*b-100,this.friction={x:150,y:150});this.attributes.lightweight&&!this.attributes.flies&&(this.O199=0.5,this.friction={x:200,y:200},this.O5323=1);this.attributes.floaty&&(this.O199=-0.05,this.vel.x*=0.2,this.vel.y*=0.2,this.O5323=0,this.O3422=3);this.attributes.bursts&&(this.O3422=1);this.attributes.shatters&&
(this.O3422=0);this.attributes.autobursts&&(this.energy=20,this.O3422+=3);this.attributes.bouncy&&(1>=this.O3422&&(this.O3422=3),this.bounciness=0.925);this.attributes.nonRotating&&(this.O5323=0);this.attributes.returns&&(this.targetVel={x:-1*this.vel.x,y:-1*this.vel.y},this.O129=this.O199,this.O199=0.01);if(this.attributes.hook&&!this.O1291&&!this.O2379){this.vel.y=
-400;this.O7473(this.originatorId);if((b=this.O8347())&&b.attachments&&b.attachments.m)this.energy=0;b&&(b.hook=this);50>=Math.abs(a.O1117.x)&&(this.vel.x=0)}if((this.attributes.edible||this.O4942)&&!this.O1291&&!this.O2379)this.energy=2,this.vel.y=-30,this.vel.x=0,this.O199=1,this.collides=ig.Entity.COLLIDES.PASSIVE;this.attributes.drinkable&&(!this.O1291&&!this.O2379)&&(this.energy=0.5,this.vel.y=0,this.O199=
1,this.collides=ig.Entity.COLLIDES.PASSIVE);if(ig.game.O707&&(this.attributes.clearsWearable||this.attributes.clearsMountable||this.attributes.clearsHoldable||this.attributes.bumps||this.attributes.bumpsStrong))this.attributes.clearsWearable=!1,this.attributes.clearsMountable=!1,this.attributes.clearsHoldable=!1,this.attributes.bumps=!1,this.attributes.bumpsStrong=!1,this.O6909&&ig.game.O884.O8271("nonPublicAreasOnly");if(this.attributes.stickyOnPeople||this.attributes.clearsWearable||
this.attributes.clearsMountable||this.attributes.clearsHoldable||this.attributes.slightlyHarmful||this.attributes.harmful||this.attributes.deadly||this.isTransporting||this.attributes.bumps||this.attributes.bumpsStrong||this.attributes.heals||this.attributes.gathered)this.O3133=!0;this.attributes.passesThrough&&this.O6150()}},isFast:function(a){a||(a=100);return!this.attributes.lightweight&&(Math.abs(this.vel.x)>=a||Math.abs(this.vel.y)>=a)},update:function(){if(this.isFast()&&
!this.attributes.noTrail){var a=this.attributes.flies&&this.isFast(200)||this.O6651?40:16;ig.game.chance(a)&&ig.game.O6879(EntityDust,this.pos.x+this.offset.x+this.size.y/2,this.pos.y+this.offset.y+this.size.y/2)}this.O8066();this.O4165();this.O4270=ig.game.O7715.O3379({x:Math.floor(this.pos.x+this.size.x/2),y:Math.floor(this.pos.y+this.size.y/2)});this.interactive&&(this.O3600||this.checkLiquidInteraction(),
this.O23());this.O2721();this.O7634();this.O4975();this.O382();this.energy+=this.O4465;0>=this.energy&&(this.O7113(),this.kill());ig.game.decorator.O6341(this,this,null,!0);this.parent();this.prevVel.x=this.vel.x;this.prevVel.y=this.vel.y},draw:function(){this.attributes.bright&&ml.Misc.O1651("lighter");this.attributes.tail||this.attributes.fadingTail?this.O4398():(this.attributes.hook&&
(!this.O1291&&!this.O2379)&&this.O4736(),this.O2074?(ig.system.context.globalAlpha=0.01*this.energy,this.parent(),ig.system.context.globalAlpha=1):this.parent());this.attributes.bright&&ml.Misc.O13()},O4398:function(){this.pastPos||(this.pastPos=[]);this.pastPos.unshift(ig.game.O5662(this.pos));7<this.pastPos.length&&this.pastPos.pop();for(var a=this.pastPos.length-1;0<=a;a-=1){var b=this.pastPos[a];if(this.attributes.fadingTail){var c=(100*
((7-a)/7)).limit(1,100);ig.system.context.globalAlpha=c/100}this.O1457.draw(b.x+this.offset.x-ig.game._rscreen.x,b.y+this.offset.y-ig.game._rscreen.y)}this.O1457.draw(this.pos.x+this.offset.x-ig.game._rscreen.x,this.pos.y+this.offset.y-ig.game._rscreen.y);this.attributes.fadingTail&&(ig.system.context.globalAlpha=1)},O8066:function(){if(this.attributes.hook&&this.O7455&&!this.O1291&&!this.O2379){var a=this.O8347();if(a){var b=this.O8132(a.pos.x,
a.pos.y,this.pos.x,this.pos.y),c=this.O3500&&a.pos.y<this.pos.y+35;if(b>this.O3184||c)c&&ig.game.sounds.O7086(ig.game.sounds.whoosh,this,0.25),this.energy=0;else if(0<this.stickiness){this.O3291>this.O3734&&(this.O3291-=3,this.O3291<this.O3734&&(this.O3291=this.O3734));c=b=0;if(0>a.vel.x&&a.pos.x<this.pos.x||0<a.vel.x&&a.pos.x>this.pos.x)c=-1;else{var d=Math.abs(a.pos.x-this.pos.x);5<=d&&(40>=d&&(b=a.pos.x<this.pos.x?1:
-1),60>=d&&(b=a.pos.x<this.pos.x?0.5:-0.5),c=1)}a.pos=this.O7983({x:a.pos.x+b,y:a.pos.y+c},this.pos,this.O3291)}}}},O7983:function(a,b,c){var d=b.x;b=b.y;var e=a.x-d;a=a.y-b;var f=Math.sqrt(e*e+a*a);return{x:d+e/f*c,y:b+a/f*c}},O4736:function(){var a=this.O8347();if(a){var b=this.O8132(a.pos.x,a.pos.y,this.pos.x,this.pos.y);if(this.O7455&&b<=this.O3184){var b=this.pos.x+this.size.x/2,c=this.pos.y+this.size.y,d=a.pos.x+a.size.x/
2,e=a.pos.y+a.size.y/2;a.attachments&&(a.attachments.b&&a.attachments.b.animSheet)&&(d=a.pos.x+a.attachments.b.animSheet.width/2-a.offset.x);this.O7599(b,c,d,e)}}},O8132:function(a,b,c,d){return Math.sqrt(Math.pow(d-b,2)+Math.pow(c-a,2))},O7599:function(a,b,c,d){var e=ig.system.context;e.beginPath();e.lineWidth=ig.system.scale;this.rgb||(this.rgb="30,30,30");e.strokeStyle="rgb("+this.rgb+")";e.moveTo(this.O2084(a),this.O6509(b));e.lineTo(this.O2084(c),this.O6509(d));
e.stroke()},O4860:function(a,b,c){var d=ig.system.context;d.beginPath();d.lineWidth=1*ig.system.scale;d.strokeStyle="rgba(255,255,255,.5)";d.arc(this.O2084(a),this.O6509(b),c*ig.system.scale,0,2*Math.PI);d.stroke()},O2084:function(a){return(a-this.offset.x-ig.game._rscreen.x)*ig.system.scale},O6509:function(a){return(a-this.offset.y-ig.game._rscreen.y)*ig.system.scale},O382:function(){0<this.stickiness&&(this.stickiness--,0>=this.stickiness&&(this.stickiness=
0,this.O199=this.isTransporting?0.15:1,this.O6150(),this.isTransporting||ig.game.sounds.O7086(ig.game.sounds.whoosh,this,0.25),this.attributes.hook&&ig.game.decorator.O6935(this.pos)))},O4975:function(){var a=0!=this.vel.x?this.vel.x/1E3*this.O5323:0,a=a.limit(-0.075,0.075);this.O1457&&(this.O1457.angle+=a)},O4165:function(){this.targetVel&&(this.vel.x=this.O6024(this.vel.x,this.targetVel.x,4),this.vel.y=this.O6024(this.vel.y,
this.targetVel.y,4))},O6024:function(a,b,c){a<b?(a+=c,a>b&&(a=b)):a>b&&(a-=c,a<b&&(a=b));return a},O7113:function(){var a=(this.O1291||this.O2379)&&ig.ua.iPad;this.attributes.edible&&(!this.O1291&&!this.O2379)&&("CONSUMAB"==this.O8247&&this.soundId?ig.game.sounds.playIncludedSound(this):ig.game.sounds.O7086(ig.game.sounds.munch,this,1),this.O6909&&ig.game.motionDialog&&ig.game.motionDialog.O5076("eat"));
this.attributes.drinkable&&(!this.O1291&&!this.O2379)&&("CONSUMAB"==this.O8247&&this.soundId?ig.game.sounds.playIncludedSound(this):ig.game.sounds.O7086(ig.game.sounds.drinking,this,1),this.O6909&&ig.game.motionDialog&&ig.game.motionDialog.O5076("drink"));if((this.attributes.drinkable||this.attributes.edible)&&(!this.O1291&&!this.O2379&&this.attributes.heals)&&this.O6909)ig.game.O4269.health=(ig.game.O4269.health+
40).limit(0,100),ig.game.motionDialog&&ig.game.motionDialog.O5076("healed");var b=this.attributes.slightlyPoisonous||this.attributes.mediumPoisonous||this.attributes.veryPoisonous;if(this.O6909&&(b||this.attributes.affecting)&&(this.attributes.edible||this.attributes.drinkable||this.O4942))null==ig.game.O4269.O6155&&(ig.game.O4269.O6155=[]),this.attributes.slightlyPoisonous?ig.game.O4269.O3707(1E3,0.01):this.attributes.mediumPoisonous?
ig.game.O4269.O3707(1200,0.1):this.attributes.veryPoisonous&&ig.game.O4269.O3707(300,0.5);if(this.O6909&&this.attributes.affecting&&(this.attributes.edible||this.attributes.drinkable||this.O4942))ig.game.O5211.O919(this.rgb,b?100:null);if(this.O6909&&this.attributes.antidotal&&(this.attributes.edible||this.attributes.drinkable||this.O4942))ig.game.O4269.O6155=null;this.attributes.containsLiquid&&!a&&ig.game.sounds.O7086(ig.game.sounds.splash,
this,1);if(this.attributes.shatters&&!a)this.attributes.heavy?ig.game.sounds.O7086(ig.game.sounds.glass_heavy,this,1):(a=ig.ua.iPad?1:ig.game.O5167(1,3),ig.game.sounds.O7086(ig.game.sounds["glass"+a],this,1));else if((this.attributes.autobursts||this.attributes.bursts)&&!a)a=ig.ua.iPad?1:ig.game.O5167(1,2),ig.game.sounds.O7086(ig.game.sounds["burst"+a],this,this.O5291);this.attributes.shatters&&this.attributes.containsLiquid&&ig.game.decorator.burst(this,
30,!1,!0);this.attributes.shatters?ig.game.decorator.burst(this,30,!1,!1):(this.attributes.autobursts||this.attributes.bursts)&&ig.game.decorator.burst(this,30,this.attributes.colorTrail,!1);if(this.attributes.hook&&(0<this.stickiness&&ig.game.decorator.O6935(this.pos),a=this.O8347()))a.isHooked=!1,a.hook&&(a.hook=null)},O7634:function(){if(Math.abs(this.originPos.x-this.pos.x)>this.O7600||Math.abs(this.originPos.y-this.pos.y)>this.O7600)this.energy=0},
checkLiquidInteraction:function(){this.O4270&&this.O4270.thing.isALiquid&&(ig.game.decorator.splash(this),this.energy=0.5,this.O3600=!0)},O23:function(){if(this.O4270&&this.O4270.thing&&this.O4270.thing.O8207()&&0<=this.O4270.rotation&&3>=this.O4270.rotation){var a=2400,b=1E3;this.O4270.thing.attributes&&this.O4270.thing.attributes.soft&&(a*=0.4,b*=0.1);this.accel=[{x:0,y:-a},{x:b,y:0},{x:0,y:a},{x:-b,y:0}][this.O4270.rotation];
this.O1553=!0}else this.O1553&&(this.accel={x:0,y:0},this.O1553=!1)},O5165:function(){var a=!1,b=ig.game.O413.player;if(b)for(var c=0;c<b.length;c++){var d=b[c];if(!d._killed&&!d.O4102&&ml.Misc.O1461(this,d)){a=!0;break}}return a},O2504:function(a,b){var c=null,d=null,e=ig.game.O413.foreground;if(e)for(var f=0;f<e.length;f++){var g=e[f];if(!g._killed&&g instanceof EntityThrownItem&&g.attributes&&
g.isTransporting&&100<=g.energy&&g.throwId!=this.throwId){var h=!1;if(h=b?!g.O3500||2<=g.stickiness:g.O3500&&2<=g.stickiness)if(h=this.O5320(g),30<=h&&h<=ig.game.O8283&&(null==d||h<d))d=h,c=g}}c&&(a.O2356=new Date,c.O4465=-1,c.energy+=c.O4465,c.stickiness=1,a.pos={x:c.pos.x,y:c.pos.y-5},ig.game.decorator.O753(c.pos.x,c.pos.y,a.vel.x,a.vel.y,4),c.attributes&&c.attributes.instantTransporting&&(c.energy=0));return!!c},O3110:function(a){var b=
null,c=null,d=ig.game.O413.default;if(d)for(var e=0;e<d.length;e++){var f=d[e];if(!f._killed&&(f instanceof EntityPortal||f instanceof EntityPortaldir)){var g=this.O5320(f);if(30<=g&&g<=ig.game.O8283&&(null==c||g<c))c=g,b=f}}if(b&&(a.pos={x:b.pos.x,y:b.pos.y-5},b.suppressed=!0,ig.game.sounds.portallingWhoosh.play(),ig.game.decorator.O753(b.pos.x,b.pos.y,a.vel.x,a.vel.y,4),b instanceof EntityPortaldir))switch(c=Math.sqrt(Math.abs(a.vel.x)*Math.abs(a.vel.x)+Math.abs(a.vel.y)*
Math.abs(a.vel.y)),b.rotation){case 1:a.vel={x:c,y:0};a.O6609=!0;break;case 2:a.vel={x:0,y:c};break;case 3:a.vel={x:-c,y:0};a.O6609=!1;break;default:a.vel={x:0,y:-c}}return!!b},O2789:function(a){if(this.isTransporting&&(this.attributes.instantTransporting||this.O3500&&100<=this.energy&&2<=this.stickiness))if(ml.Misc.O1461(this,a)&&(this.O2504(a,this.attributes.instantTransporting)||this.O3110(a)))this.O4465=
-1,this.energy+=this.O4465,this.stickiness=1,ig.game.decorator.O753(this.pos.x,this.pos.y,a.vel.x,a.vel.y,4),ig.game.sounds.portallingWhoosh.play(),this.attributes.instantTransporting&&(this.energy=0)},O3470:function(){var a=null,b=ig.game.O413.default;if(b)for(var c=0;c<b.length;c++){var d=b[c];if(d instanceof EntityGather&&!d._killed&&this.touches(d)){a=d;break}}return a},O2721:function(){if(!(0>=this.energy)){if(this.O3133)if(this.O6909)this.O5165()&&
(this.energy=0,ig.game.sounds.O7086(ig.game.sounds.collide,this)),this.O2789(ig.game.O4269);else{if(ml.Misc.O1461(this,ig.game.O4269)&&!ig.game.O6310){if(this.attributes.gathered)if(97.5>=this.energy)ig.game.sounds.playIncludedSound(this),ig.game.O6401.O5038(ig.game.O4269,"gathers",this.O2068);else return;if(ml.Misc.O959(this.O508,this.O8020,this.O7309,
this.originatorHasBrainAttached)||this.O1291||this.O2379){var a=ig.game.O4269,b=!1;this.O2789(a);if(this.attributes.stickyOnPeople){var c=ig.game.O7510.slots.HOLDABLE;a.attachments[c]||(ig.game.O7510.O4416(ig.game.O4269,c,this.itemId,null,this.O8247),ig.game.O4349.O4489(this.originatorId,this.throwId))}if((this.attributes.bumps||this.attributes.bumpsStrong)&&(this.O508||
!ig.game.O5699))a.O7845(this.O6651?0.395*this.vel.x:this.vel.x,this.attributes.bumpsStrong),b=!0;this.attributes.heals&&(!b&&!ig.game.O707&&a.O7845(this.vel.x,!1,!0),a.health=(a.health+40).limit(0,100),ig.game.motionDialog&&ig.game.motionDialog.O5076("healed"));if(this.attributes.clearsWearable){var c=ig.game.O7510.slots.WEARABLE,d=a.attachments[c];d&&(!ig.game.O707||!d.attributes||!d.attributes.reducesDamage100percent)&&ig.game.O7510.O3306(a,
c,!0)}this.attributes.clearsHoldable&&(c=ig.game.O7510.slots.HOLDABLE,a.attachments[c]&&ig.game.O7510.O3306(a,c,!0));this.attributes.clearsMountable&&(c=ig.game.O7510.slots.MOUNTABLE,a.attachments[c]&&ig.game.O7510.O3306(a,c,!0));this.O7924(a,b)}this.energy=0;ig.game.sounds.O7086(ig.game.sounds.collide,this);this.O7829=!0;ig.game.O6401.O5038(ig.game.O4269,"hits",this.O2068)}}else!this.O6909&&
(!this.O7829&&ml.Misc.O1461(this,ig.game.O4269)&&!ig.game.O6310)&&(this.O7829=!0,ig.game.O6401.O5038(ig.game.O4269,"hits",this.O2068));0<this.energy&&(a=this.O3470())&&a.O4550(this.O2068)}},O7924:function(a,b){if(this.attributes.slightlyHarmful||this.attributes.harmful||this.attributes.deadly||this.O6651&&this.specs&&0<this.specs.harm){var c=
!1;if(c=ig.game.O5699&&!this.isFullAccount?!1:this.O1291||this.O2379||!ig.game.isEditorHere&&this.O7309?!0:1<=this.O8020)this.attributes.slightlyHarmful||this.attributes.harmful||this.O6651?(ig.game.O231.O3585=!this.O6651,c=this.attributes.slightlyHarmful?15:40,this.O6651&&(c=this.specs.harm),a.O4217(c,this,!0),b||(this.O6651?a.O7845(150):a.O7845(this.vel.x)),
ig.game.motionDialog&&ig.game.motionDialog.O5076("harmed")):this.attributes.deadly&&(ig.game.O231.O3585=!0,a.kill(ig.game.deathTypes.DEADLY))}},O6053:function(){this.vel.x=0;this.O5323=this.vel.y=0;this.attributes={};this.collides=ig.Entity.COLLIDES.NEVER;this.O199=0},O8347:function(){var a=null;if(this.O6909)a=ig.game.O4269;else{var b=ig.game.O413.player;if(b)for(var c=0;c<b.length;c++){var d=
b[c];if(!d._killed&&d.O2507==this.originatorId){a=d;break}}}return a},O7473:function(a){var b=ig.game.O413.player;if(b)for(var c=0;c<b.length;c++){var d=b[c];if(!d._killed&&d.O2507==a&&d.hook&&d.hook.throwId!=this.throwId){0<d.hook.stickiness&&ig.game.decorator.O6935(d.hook.pos);d.hook.kill();d.hook=null;d.isHooked=!1;break}}},O28:function(a){if(this.interactive){if(a.collision.x||a.collision.y||a.collision.slope&&!this.attributes.bouncy){this.O5288&&
(this.energy=0);this.targetVel&&(this.targetVel=null);this.O129&&(this.O199=this.O129);this.O1553||this.O1434++;if(a.tile.y==Item.prototype.COL_TYPES.BOUNCEY_UP)this.vel.y=-500,a.collision.y=!1,ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this,this.O5291),ig.game.decorator.O7470(this);else if(this.attributes.stickyOnThings||a.tile.x==Item.prototype.COL_TYPES.STICKY||a.tile.y==Item.prototype.COL_TYPES.STICKY){if(this.isTransporting&&
this.attributes.bouncy&&1>=this.O1434){ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this,0.25);ig.game.decorator.O7470(this);this.parent(a);return}if(!this.O3500){this.O3500=!0;this.vel.x=0;this.vel.y=0;this.isTransporting||(this.O199=a.collision.x||a.tile.x==Item.prototype.COL_TYPES.STICKY?0.025:0);this.O5323=0;this.stickiness=100;this.isTransporting&&(this.stickiness=200,this.O199=0);if(this.attributes.hook){this.stickiness=
125;var b=this.O8347();b?(b.isHooked=!0,b.hook=this,this.O3291=this.O8132(b.pos.x,b.pos.y,this.pos.x,this.pos.y),ig.game.decorator.O6935(this.pos)):this.energy=0}if(a.tile.x==Item.prototype.COL_TYPES.SLIDEY_UP||a.tile.y==Item.prototype.COL_TYPES.SLIDEY_UP)this.stickiness=10;this.O5288=!1;ig.game.sounds.O7086(ig.game.sounds.sticky,this,1)}}else this.attributes.bouncy?(ig.game.sounds.O7086(ig.game.sounds.trampolineBounce,this,0.25),this.O5840?
ig.game.decorator.O8115({pos:{x:this.pos.x-this.offset.x,y:this.pos.y-this.offset.y},size:{x:this.size.x,y:this.size.y}}):ig.game.decorator.O7470(this)):(b=this.O5291,2<=this.O1434&&(b/=2*this.O1434),0.15<=b&&"STACKINSTR"==this.O8247&&this.O2068&&!this.O1553?this.O6368(ig.game.sounds.O6823(this.O2068,this.attributes),b):ig.game.sounds.O7086(ig.game.sounds.collideSoft,
this,b));if(this.attributes.shatters||this.attributes.bursts)this.O3422=this.energy=0;this.O1434>=this.O3422&&this.O6150()}this.parent(a)}else this.pos.x+=this.vel.x*ig.system.tick,this.pos.y+=this.vel.y*ig.system.tick},O6150:function(){this.O6821=ig.Entity.TYPE.NONE;this.collides=ig.Entity.COLLIDES.NEVER;this.interactive=!1},O6368:function(a,b){var c=a?ig.game.sounds.instruments[a]:null;if(c){var d=null;
c.isKit?(c=ig.game.O5167(1,c.max),d=a+"_"+c):(c=ig.game.O5167(c.minOctave,c.maxOctave),d=ig.game.sounds.tones.random(),d=a+"_"+c+"_"+d);ig.game.sounds[d]&&ig.game.sounds.O7086(ig.game.sounds[d],this,b)}},distort:function(a,b){return a+ig.game.O5167(-b,b)}})});ig.baked=!0;
ig.module("game.entities.motion").requires("impact.entity").defines(function(){window.EntityMotion=ig.Entity.extend({type:ig.Entity.TYPE.A,O6821:ig.Entity.TYPE.B,collides:ig.Entity.COLLIDES.PASSIVE,cellCount:3,O2777:null,O7046:!0,attributes:{},energy:100,energyVel:0,O1264:null,lifeTimer:null,O4974:null,O2852:!1,O2873:1,O8226:null,O5471:0.5,boundingBox:null,O7168:!0,O437:void 0,O6878:!1,
givenName:void 0,O7848:void 0,O6454:!1,init:function(a,b,c){c.img&&(this.pos.x=a,this.pos.y=b,this.soundId=c.soundId,this.givenName=c.givenName,this.O7848=c.O7848,c.attributes&&(this.attributes=c.attributes),this.O6454=!!c.O6454,this.O2777=c.O2777,this.size={x:c.img.width/3,y:c.img.height},this.motionId=c.motionId,this.boundingBox=c.boundingBox,this.animSheet=new ml.AnimationSheet(null,
this.size.x,this.size.y,c.img),this.addAnim("main",this.O5471,[0,1],this.attributes.stops?1:void 0),this.addAnim("emitter",1,[2]),this.O1457=this.anims.main,this.O3029(c),ig.game.O4269&&ig.game.O172&&(ig.game.O172.O4036(ig.game.O4269.pos)&&ig.game.O707?2<=ig.game.O4269.rank:ig.game.O4269.isFullAccount)&&ig.game.sounds.playIncludedSound(this))},O3029:function(a){this.O4974=3.4;
this.attributes.quick&&(this.O4974=0.75);this.attributes.long&&(this.O4974=10.4);this.O4974&&(this.lifeTimer=new ml.Timer);this.attributes.delayedStart&&(this.O8226=new ml.Timer);this.attributes.fadeInAndOut&&(this.O4974+=1,this.energy=1,this.energyVel=2)},update:function(){this.O5611();this.O355();this.parent()},O355:function(){if(!this._killed)if(this.O6878)this.kill();else{this.energy+=this.energyVel;
this.energy=this.energy.limit(0,100);var a=this.lifeTimer&&this.O4974&&this.lifeTimer.delta()>=this.O4974;a&&this.attributes.fadeInAndOut&&(0<this.energy&&(this.energyVel=-Math.abs(this.energyVel)),a=!1);if(a||0>=this.energy)this.O6878=!0}},kill:function(){this.O8226=this.lifeTimer=null;this.parent()},O5611:function(){if(this.O1264&&(!this.O2852||!this.attributes.singular)&&!(this.O8226&&this.O8226.delta()<
this.O5471)&&(!this.attributes.atOnce||!this.O2852)){var a=1;this.attributes.atOnce&&!this.attributes.singular&&(a=ig.game.O5167(8,12));for(var b=!1,c=1;c<=a;c++)this.O6373()&&(b=!0);b&&(this.O2852=!0)}},O6373:function(){var a={opacity:100,O4895:100,O5561:4,fadingInc:2},b={x:0,y:0},c={x:0,y:0},d=!1,e=this.attributes.more?2:1,f=!(this.attributes.bursts||this.attributes.bristles||this.attributes.flows||this.attributes.flowsRandom||this.attributes.forward||
this.attributes.backward||this.attributes.downward||this.attributes.bursts||this.attributes.puffs);f&&(e*=0.5);if(this.attributes.flows||this.attributes.flowsRandom)if(c={x:0,y:ig.game.O5167(10,40)},!this.O2852||ig.game.chance(5*e))d=!0,a.O5561=1;if(this.attributes.bursts&&(c={x:ig.game.O5167(20,80),y:ig.game.O5167(-160,-90)},!this.O2852||ig.game.chance(10*e)))ig.game.chance(50)&&(c.x*=-1),a.O199=0.75,d=!0;if(this.attributes.bristles&&(c={x:ig.game.O5167(-30,
30),y:ig.game.O5167(-30,30)},!this.O2852||ig.game.chance(5*e)))a.O199=0,d=!0;if(this.attributes.forward||f||this.attributes.backward||this.attributes.diagonal||this.attributes.downward)if(!this.O2852||ig.game.chance(4*e))d=this.attributes.diagonal?35:50,this.attributes.forward&&(c.x=-(2*d)),this.attributes.downward?c.y+=d:f&&(c.y-=d),this.attributes.backward&&(c.x+=2*d),this.attributes.diagonal&&(0!=c.x?c.y=-(2*d):c.x=-(2*d)),d=!0;d&&(this.attributes.bursts&&this.attributes.forward)&&
(a.O199=0.75,c.x=-Math.abs(c.x));d&&(this.attributes.bursts&&this.attributes.backward)&&(a.O199=0.75,c.x=Math.abs(c.x));this.attributes.fadeIn&&(a.opacity=1,a.O1271=2);this.attributes.lightweight&&(a.O199*=0.4);d&&(!this.attributes.fast&&!this.attributes.bursts&&!this.attributes.flows)&&(c.x*=0.4,c.y*=0.4);d&&this.attributes.slow&&(c.x*=0.5,c.y*=0.5);this.attributes.zigZag&&(a.O5877=-5,ig.game.chance(50)&&(a.O5877*=-1));this.attributes.rotates&&(a.O5951=
ml.Misc.O3512(0.03,0.06)*(ig.game.chance(50)?1:-1));this.attributes.randomizePosition&&(b=this.O5439(b,5));c.x*=this.O2873;d&&(a.cellToUse=2,a.O1018=!1,this.attributes.behindBody||(a.decorative=!0),a.animSheet=this.animSheet,a.vel=c,a.O6454=this.O6454,a.nonFlipping=this.attributes.nonFlipping,this.attributes.nonFlipping||(a.flipX=1!=this.O2873),this.attributes.brief?a.O5561=this.attributes.fadeIn?1.25:0.75:this.attributes.veryBrief&&
(a.O5561=0.15,a.fadingInc=10),this.attributes.bright&&(a.attribute="bright"),ig.game.O6879(EntitySpot,this.O1264.x+b.x+ig.game._rscreen.x,this.O1264.y+b.y+ig.game._rscreen.y,a));return d},O5439:function(a,b){return{x:a.x+ig.game.O5167(-b,b),y:a.y+ig.game.O5167(-b,b)}},draw:function(){},O5891:function(a,b){if(!this.attributes.invisible){this.anims.main.flip.x=a.O1457.flip.x;this.O1264={x:b.x,y:b.y};
var c=(0.01*this.energy).limit(0,1);ig.system.context.globalAlpha=c;this.anims.main.draw(b.x,b.y);ig.system.context.globalAlpha=1}},O6595:function(a){if(!this.attributes.invisible){this.pos=ig.game.O5662(a.pos);var b=a.O6130(),b=this.pos.x-a.offset.x-ig.game._rscreen.x+b+a.avatarMountOffsetForThisFlip.x,c=this.pos.y-a.offset.y-ig.game._rscreen.y+a.avatarMountOffsetForThisFlip.y;this.O2873=(this.anims.main.flip.x=a.O1457.flip.x)?-1:1;this.anims.main.angle=
a.O1457.angle;a.isLying&&(this.anims.main.angle=ig.game.O05*(this.anims.main.flip.x?-1:1));this.O1264={x:b,y:c};a=(0.01*this.energy).limit(0,1);ig.system.context.globalAlpha=a;this.anims.main.draw(b,c);ig.system.context.globalAlpha=1}}})});ig.baked=!0;
ig.module("game.entities.moving.moving").requires("impact.entity").defines(function(){window.EntityMoving=ig.Entity.extend({size:{x:17,y:17},offset:{x:0,y:0},maxVel:{x:100,y:100},friction:{x:0,y:0},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.FIXED,O199:0,homePos:{},O5309:{},O7742:!0,MAXDISTANCE:58,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.homePos.x=this.pos.x;this.homePos.y=this.pos.y},update:function(){this.O1457.flip.x=
0<this.vel.x;this.parent()},O28:function(a){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick},check:function(a){}})});ig.baked=!0;
ig.module("game.entities.moving.deadlymv").requires("impact.entity").defines(function(){window.EntityDeadlymv=ig.Entity.extend({size:{x:17,y:17},offset:{x:0,y:0},maxVel:{x:100,y:100},friction:{x:0,y:0},type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,flip:!1,O199:0,homePos:{},O5309:{},O7742:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.homePos.x=this.pos.x;this.homePos.y=this.pos.y},update:function(){ig.game.decorator.O5306(this);
this.parent()},O28:function(a){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick},check:function(a){a.O4217(100,this)}})});ig.baked=!0;
ig.module("game.entities.immobile.default").requires("impact.entity").defines(function(){window.EntityDefault=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457=this.anims.main}})});ig.baked=!0;
ig.module("game.entities.immobile.livmov").requires("impact.entity").defines(function(){window.EntityLivmov=ig.Entity.extend({size:{x:17,y:17},offset:{x:0,y:0},maxVel:{x:100,y:100},friction:{x:0,y:0},O3070:20,O7600:57,O48:10,O6827:null,flipTime:0.5,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O199:0,homePos:{},O5309:{},O7742:!0,init:function(a,b,c){this.parent(a,b,c);ml.Misc.O1659(this,
a,b,c);this.addAnim("cell1",1,[0]);this.addAnim("cell2",1,[1]);this.O1457=this.anims.cell1;this.homePos.x=this.pos.x;this.homePos.y=this.pos.y;this.O6827=new ml.Timer;this.vel.x=this.O3070*(ig.game.chance(50)?-1:1)},update:function(){this.O6827.delta()>this.flipTime&&(this.O6827.reset(),this.O1457=this.O1457==this.anims.cell1?this.anims.cell2:this.anims.cell1);this.pos.x>this.homePos.x+this.O7600?(this.pos.x=this.homePos.x+this.O7600,
this.vel.x=-this.O3070):this.pos.x<this.homePos.x-this.O7600&&(this.pos.x=this.homePos.x-this.O7600,this.vel.x=this.O3070);this.O1457.flip.x=0<this.vel.x;this.parent()},O28:function(a){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick},check:function(a){}})});ig.baked=!0;
ig.module("game.entities.immobile.light").requires("impact.entity").defines(function(){window.EntityLight=ig.Entity.extend({size:{x:19,y:19},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:0.5,rgba:[0,0,0,0],zIndex:-1,O199:0,O4010:1,O7796:null,O7660:null,O5742:1,O7168:!0,init:function(a,b,c){c&&c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.rgba=c.rgb;"0,0,0"==
this.rgba&&(this.rgba="-80,-80,-80");this.rgba=this.rgba.split(",");this.rgba.push(1);this.O6454&&(this.opacity=ig.game.O4718);this.addAnim("normal",1,[0]);this.O1457=this.anims.normal;this.O1457.alpha=this.opacity;this.attributes||(this.attributes={});this.attributes.pulsating&&(this.O7796=this.O7660=0.002,0!=this.O7796&&(this.rgba[3]=Math.random()))},update:function(){this.attributes.pulsating&&(this.rgba[3]+=
this.O7796,0>this.rgba[3]&&0>this.O7796?(this.rgba[3]=0,this.O7796=this.O7660):1<this.rgba[3]&&0<this.O7796&&(this.rgba[3]=1,this.O7796=-this.O7660),this.O1457&&(this.O1457.alpha=Math.min(0.5,Math.max(0.25,this.rgba[3]))))},draw:function(){this.parent()},check:function(){}})});ig.baked=!0;
ig.module("game.entities.immobile.lighttop").requires("impact.entity").defines(function(){window.EntityLighttop=ig.Entity.extend({size:{x:19,y:19},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:0.5,rgba:[0,0,0,0],zIndex:-1,O199:0,O7168:!0,O5742:2,init:function(a,b,c){this.parent(a,b,c);this.rgba=c.rgb;"0,0,0"==this.rgba&&(this.rgba="-80,-80,-80");this.rgba=this.rgba.split(",");this.rgba.push(1);this.O6454&&(this.opacity=
ig.game.O4718);this.addAnim("normal",1,[0]);this.O1457=this.anims.normal;this.O1457.alpha=this.opacity},update:function(){},draw:function(){this.parent()},check:function(){}})});ig.baked=!0;
ig.module("game.entities.immobile.vignette").requires("impact.entity").defines(function(){window.EntityVignette=ig.Entity.extend({size:{x:19,y:19},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:0.5,rgba:[0,0,0,0],zIndex:-1,O199:0,O7168:!0,O5742:3,init:function(a,b,c){c&&c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.rgba=c.rgb;this.rgba=this.rgba.split(",");this.rgba.push(1);this.O6454&&
(this.opacity=ig.game.O4718);this.addAnim("normal",1,[0]);this.O1457=this.anims.normal;this.O1457.alpha=this.opacity;this.attributes||(this.attributes={});this.attributes.thick?this.O5742=ig.game.O5211.lightGroups.O4695:this.attributes.veryThick&&(this.O5742=ig.game.O5211.lightGroups.O1290)},update:function(){},check:function(){}})});ig.baked=!0;
ig.module("game.entities.immobile.helper").requires("impact.entity").defines(function(){window.EntityHelper=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,attribute:null,label:null,showLabel:!0,didEnter:null,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.label=(this.attribute=ig.game.O8430.getAttributeFromSingleAttributes(c.attributes,
"HELPER"))?ig.game.strings.O2708(this.attribute):"";"create area or sub area"==this.label&&ig.game.O5699?this.label="create area":"toArea"==this.attribute&&(this.label="to "+ig.game.strings.O1360(this.givenName," to"))},update:function(){this.O7509=this.O5734;this.O5734=ml.Misc.O1461(this,ig.game.O4269);this.showLabel?this.O5734&&!this.O7509?(ig.game.O1412=this,
ig.game.actioninfo.open(this,this.pos.x,this.pos.y,this.label,-1,"toArea"==this.attribute?"up":void 0)):!this.O5734&&this.O7509&&(ig.game.O1412==this&&(ig.game.O1412=void 0),ig.game.actioninfo.close(this)):this.O5734||(this.showLabel=!0);this.O5734&&-10>ig.game.O4269.vel.y&&0==ig.game.O4269.vel.x&&ig.game.O4269.O2865!=ig.game.O4269.O2558.CLIMBING&&ml.Misc.O1461(this,ig.game.O4269)&&
this.O2090()},O2090:function(){var a=!0;this.didEnter?a=!1:ig.game.O707&&(void 0===this.O4959&&this.O5309&&(this.O4959=(a=ig.game.O7715.O1009({x:this.O5309.x,y:this.O5309.y+1}))?a.thing:null),a=!this.O4959||-1===["PASS","CLIMB","PUSH","PUSHDIAG"].indexOf(this.O4959.base));if(a&&ig.game.O6401.O7786()||"toArea"==this.attribute)a=!1;a&&(this.didEnter=
!0,this.O6558())},O6558:function(){this.showLabel=!1;ig.game.actioninfo.close(this);ml.Misc.O7522(this.attributes,this.givenName)},O28:function(a){this.parent(a)}})});ig.baked=!0;
ig.module("game.entities.immobile.holder").requires("impact.entity").defines(function(){window.EntityHolder=ig.Entity.extend({size:{x:29,y:29},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,O3632:[],O3473:0,useKeyword:null,attributes:{},init:function(a,b,c){this.parent(a,b,c);ml.Misc.O1659(this,a,b,c);this.addAnim("cell1",1,[0]);this.addAnim("cell2",
1,[1]);this.O1457=this.anims.cell1;this.attributes||(this.attributes={})},update:function(){this.O7509=this.O5734;if((this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509){if(!this.attributes.unlabeled)if(this.useKeyword)ig.game.actioninfo.open(this,this.pos.x+3,this.pos.y+10,this.attributes.needNotShown?"needs item":"needs "+this.useKeyword,null,null,null,!0);else{var a=this.O8314()?
"open":"check";ig.game.actioninfo.open(this,this.pos.x+3,this.pos.y+10,a)}ig.game.O3687=this}else!this.O5734&&this.O7509&&(this.attributes.unlabeled||ig.game.actioninfo.close(this),ig.game.O3687==this&&(ig.game.O3687=null));this.O3632.length!=this.O3473&&(this.O1457=1<=this.O3632.length?this.anims.cell2:this.anims.cell1,this.O3473=this.O3632.length);ig.game.decorator.O6341(this.O6624?
this.O6624:this,this)},O8314:function(){for(var a=!1,b="box carton parcel package gift chest drawer fridge".split(" "),c=0;c<b.length;c++)if(0<=this.givenName.indexOf(b[c])){a=!0;break}return a},O7094:function(a,b,c){var d=this.O3632.indexOf(a);b?-1==d&&this.O3632.push(a):0<=d&&this.O3632.splice(d,1);c&&ig.game.O4349.O253(this.O5309,b)},O7702:function(){ig.game.O3985.getUseKeywordIsOk(this.useKeyword)&&
(ig.game.O4269&&0==ig.game.O4269.vel.x)&&(this.O7094(ig.game.O4269.O2507,!0,this.O5309&&!this.O6454),ig.game.holderDialog.open(this.thingTypeId,this,this.soundId),ig.game.O6401.O5038(ig.game.O4269,"checks",this.givenName))}})});ig.baked=!0;
ig.module("game.entities.immobile.musicsheet").requires("impact.entity").defines(function(){window.EntityMusicsheet=ig.Entity.extend({size:{x:32,y:36},O199:0,decorative:!1,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);c.animSheet&&(this.size.x=c.animSheet.width,this.size.y=c.animSheet.height);this.parent(a,b,c);this.addAnim("main",1,[0]);
this.attributes||(this.attributes={});this.attributes.inFront&&(this.decorative=!0)},update:function(){var a={pos:this.O7672(ig.game.O5662(this.pos)),size:ig.game.O5662(this.size)};this.O7509=this.O5734;if((this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509){var b=this.givenName+"\r",b=b+((ig.ua.mobile?"action":"space")+" = play");ig.game.actioninfo.open(this,this.pos.x,this.pos.y,
b)}else!this.O5734&&this.O7509&&ig.game.actioninfo.close(this);this.O5734&&ig.game.O1285()&&(ig.game.isFullAccount?(ig.game.painter.isRunning||(ig.game.panelSet.O488.O6448(),ig.game.painter.mode="cloneOld"),ig.game.O4703.O1106(this.thingTypeId,this,this.givenName,"MUSICSHEET")):ig.game.bottomMenu.showLoginDialog(!0));ig.game.decorator.O6341(a,this)},draw:function(){var a=this.O7672({x:this.pos.x-
ig.game._rscreen.x,y:this.pos.y-ig.game._rscreen.y});this.anims.main.draw(a.x,a.y)},O7672:function(a){this.size.x>ig.game.tileSize?a.x-=Math.floor(this.size.x/4):this.size.x<ig.game.tileSize&&(a.x+=Math.floor((ig.game.tileSize-this.size.x)/2));a.y-=Math.floor(this.size.y-ig.game.tileSize);return a}})});ig.baked=!0;
ig.module("game.entities.immobile.filllight").requires("impact.entity").defines(function(){window.EntityFilllight=ig.Entity.extend({size:{x:19,y:19},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:0.5,O199:0,rgbString:null,isBehind:!0,O7168:!0,O1049:0,attributes:{},O7175:!1,O7787:null,O6238:null,init:function(a,b,c){c&&c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);
this.O6454&&(this.opacity=ig.game.O4718);this.rgbString=c.rgb;this.addAnim("normal",1,[0]);this.O1457=this.anims.normal;this.O1457.alpha=this.opacity;this.attributes||(this.attributes={});this.attributes.shortGradient?this.O7787=57:this.attributes.gradient?this.O7787=114:this.attributes.longGradient&&(this.O7787=190);ig.game.gameStartTimer&&3>=ig.game.gameStartTimer.delta()&&(this.O1049=1);this.attributes&&(this.attributes.furtherInFront?
(this.O7175=!0,this.isBehind=!1):this.attributes.furtherInBack&&(this.O2425=!0,this.isBehind=!1))},update:function(){1>this.O1049&&(this.O1049+=1.8*ig.system.tick,1<this.O1049&&(this.O1049=1))},O7303:function(){var a=null,b=(this.pos.x-this.offset.x-ig.game._rscreen.x)*ig.system.scale,c=(this.pos.y-this.offset.y-ig.game._rscreen.y)*ig.system.scale,d=this.size.x*ig.system.scale,e=this.size.y*ig.system.scale,f=ig.system.realWidth,
g=ig.system.O1709;switch(this.rotation){case 0:a={x1:0,y1:c,x2:f,y2:g};this.O7787?(a.y2=a.y1+this.O7787*ig.system.scale,this.O6238=ig.system.context.createLinearGradient(0,a.y1,0,a.y2)):(this.attributes.singleStriped?a.y2=Math.min(a.y1+e,g):this.attributes.doubleStriped&&(a.y2=Math.min(a.y1+2*e,g)),this.attributes.corner&&(a.x1=b),a.y1>=a.y2&&(a=null));break;case 1:this.O7787?(a={x1:b+d,y1:0,x2:b+d-this.O7787*ig.system.scale,y2:g},this.O6238=ig.system.context.createLinearGradient(a.x1,
0,a.x2,0)):(a={x1:0,y1:0,x2:b+d,y2:g},this.attributes.singleStriped?a.x1=Math.max(0,b):this.attributes.doubleStriped&&(a.x1=Math.max(0,b-d)),this.attributes.corner&&(a.y1=c),a.x1>=a.x2&&(a=null));break;case 2:this.O7787?(a={x1:0,y1:c+e,x2:f,y2:c+e-this.O7787*ig.system.scale},this.O6238=ig.system.context.createLinearGradient(0,a.y1,0,a.y2)):(a={x1:0,y1:0,x2:f,y2:c+e},this.attributes.singleStriped?a.y1=Math.max(0,c):this.attributes.doubleStriped&&(a.y1=Math.max(0,c-e)),this.attributes.corner&&
(a.x2=b+d),a.y1>=a.y2&&(a=null));break;case 3:a={x1:b,y1:0,x2:f,y2:g},this.O7787?(a.x2=a.x1+this.O7787*ig.system.scale,this.O6238=ig.system.context.createLinearGradient(a.x1,0,a.x2,0)):(this.attributes.singleStriped?a.x2=Math.min(a.x1+d,f):this.attributes.doubleStriped&&(a.x2=Math.min(a.x1+2*d,f)),this.attributes.corner&&(a.y2=c+e),a.x1>=a.x2&&(a=null))}a&&(a.x1=parseInt(a.x1),a.y1=parseInt(a.y1),a.x2=parseInt(a.x2),a.y2=parseInt(a.y2));return a},O6312:function(){return{x1:0,
y1:0,x2:ig.system.realWidth,y2:ig.system.O1709}},draw:function(){if(ig.game.O4269){if(!this.O6454){var a=1,b=parseInt(this.O5320(ig.game.O4269));450<b&&(a=0.005*(200-(b-450)),0>a?a=0:1<a&&(a=1));if(0<a&&(a*=this.O1049,b=this.attributes.full?this.O6312():this.O7303()))this.O7787&&this.O6238?(this.O6238.addColorStop(0,"rgba("+this.rgbString+","+a+")"),this.O6238.addColorStop(1,"rgba("+this.rgbString+",0)"),
ig.system.context.fillStyle=this.O6238):ig.system.context.fillStyle="rgba("+this.rgbString+","+a+")",ig.system.context.fillRect(b.x1,b.y1,b.x2-b.x1,b.y2-b.y1)}this.parent()}},check:function(){}})});ig.baked=!0;
ig.module("game.entities.immobile.deadly").requires("impact.entity").defines(function(){window.EntityDeadly=ig.Entity.extend({size:{x:13,y:13},offset:{x:3,y:3},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.pos.x+=this.offset.x;this.pos.y+=this.offset.y},update:function(){ig.game.decorator.O5306(this)},draw:function(){this.parent()},O28:function(a){},
check:function(a){a.O4102&&a.kill(ig.game.deathTypes.DEADLY)}})});ig.baked=!0;
ig.module("game.entities.immobile.portal").requires("impact.entity").defines(function(){window.EntityPortal=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O1957:0.1,O6827:null,O5689:3,O5734:!1,O7509:!1,O4011:!1,O5309:{},suppressed:!1,init:function(a,b,c){this.parent(a,b,c);a=c.givenName.toLowerCase();if(0<=a.indexOf("portal")||0<=
a.indexOf("teleport")||0<=a.indexOf("beam"))this.O4011=!0;this.addAnim("cell1",1,[0]);this.addAnim("cell2",1,[1]);this.O6827=new ml.Timer},update:function(){this.O7509=this.O5734;this.O5734=this.touches(ig.game.O4269);this.suppressed&&(this.O7509&&!this.O5734)&&(this.suppressed=!1);this.O6827.delta()>=this.O1957&&ig.game.chance(this.O5689)&&(this.O6827.reset(),this.O1457=
this.O1457==this.anims.cell1?this.anims.cell2:this.anims.cell1)},O28:function(a){this.parent(a)},check:function(a){if(!this.suppressed&&a.O4102&&!a.O2031("disablesTransport")&&8>Math.abs(a.pos.x+a.size.x/2-this.pos.x-this.size.x/2)&&8>Math.abs(a.pos.y-this.pos.y)){this.suppressed=!0;var b,c=null;this.attributes&&this.attributes.forSameOnly&&(c=this.thingTypeId);for(var c=ig.game.entityManager.O6266(c),d,e,f=0;f<c.length;f++)if(d=c[f],e=
this.O5320(d),(d.pos.x!=this.pos.x||d.pos.y!=this.pos.y)&&e<=ig.game.O8283)b?e<this.O5320(b)?b=d:e==this.O5320(b)&&ig.game.chance(50)&&(b=d):b=d;b?(this.suppressed=!1,b.suppressed=!0,c=a.vel.x,d=a.vel.y,e=a.O6609,b instanceof EntityPortaldir&&(f=Math.sqrt(Math.abs(a.vel.x)*Math.abs(a.vel.x)+Math.abs(a.vel.y)*Math.abs(a.vel.y)),!b.rotation||0===b.rotation?(c=0,d=-f):1===b.rotation?(c=f,d=0,e=!0):2===b.rotation?(c=0,d=f):3===b.rotation&&(c=-f,d=0,e=!0)),ig.game.portaller.O5468({x:b.O5309.x,
y:b.O5309.y},{x:c,y:d},e),this.O4011&&(ig.game.decorator.O753(this.pos.x,this.pos.y,a.vel.x,a.vel.y,3),ig.game.decorator.O753(b.pos.x,b.pos.y,c,d,6)),ig.game.O6401.O5038(a,"transports")):ig.game.portaller.O5468(null)}}})});ig.baked=!0;
ig.module("game.entities.immobile.portaldir").requires("impact.entity").defines(function(){window.EntityPortaldir=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O1957:0.1,O6827:null,O5689:3,O5734:!1,O7509:!1,O8245:{},O8123:{},O5309:{},suppressed:!1,O4971:20,init:function(a,b,c){this.parent(a,b,c);this.addAnim("cell1",
1,[0]);this.addAnim("cell2",1,[1]);this.O6827=new ml.Timer},update:function(){this.O7509=this.O5734;this.O5734=this.touches(ig.game.O4269);this.suppressed&&(this.O7509&&!this.O5734)&&(this.suppressed=!1);this.O6827.delta()>=this.O1957&&ig.game.chance(this.O5689)&&(this.O6827.reset(),this.O1457=this.O1457==this.anims.cell1?this.anims.cell2:this.anims.cell1)},O28:function(a){this.parent(a)},
check:function(a){!this.suppressed&&(a.O4102&&!a.O2031("disablesTransport"))&&(this.O8245.x=Math.abs(a.pos.x+a.size.x/2-this.pos.x-this.size.x/2),this.O8245.y=Math.abs(a.pos.y-this.pos.y),8>this.O8245.x&&8>this.O8245.y&&this.O4197(a))},O4197:function(a){this.suppressed=!0;var b,c=null;this.attributes&&this.attributes.forSameOnly&&(c=this.thingTypeId);for(var c=ig.game.entityManager.O6266(c),d,e,f=0;f<c.length;f++)if(d=
c[f],e=this.O5320(d),(d.pos.x!=this.pos.x||d.pos.y!=this.pos.y)&&e<=ig.game.O8283)b?this.O5320(d)<this.O5320(b)?b=d:this.O5320(d)==this.O5320(b)&&ig.game.chance(50)&&(b=d):b=d;b?(this.suppressed=!1,b.suppressed=!0,c=a.vel.x,d=a.vel.y,e=a.O6609,b instanceof EntityPortaldir&&(f=Math.sqrt(Math.abs(a.vel.x)*Math.abs(a.vel.x)+Math.abs(a.vel.y)*Math.abs(a.vel.y)),!b.rotation||0===b.rotation?(c=0,d=-f):1===b.rotation?(c=f,d=0,e=!0):2===b.rotation?(c=0,d=f):3===
b.rotation&&(c=-f,d=0,e=!1)),ig.game.portaller.O5468({x:b.O5309.x,y:b.O5309.y},{x:c,y:d},e),ig.game.decorator.O753(this.pos.x,this.pos.y,a.vel.x,a.vel.y,3),ig.game.decorator.O753(b.pos.x,b.pos.y,c,d,6)):ig.game.portaller.O5468(null)}})});ig.baked=!0;
ig.module("game.entities.immobile.portalr").requires("impact.entity").defines(function(){window.EntityPortalr=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O1957:0.1,O6827:null,O5689:3,O5734:!1,O7509:!0,O5309:{},suppressed:!1,opacity:0.7,rptype:"a",init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.alpha=this.opacity;
this.O6827=new ml.Timer},update:function(){this.suppressed&&(this.O7509&&!this.O5734)&&(this.suppressed=!1);this.O7509=this.O5734;this.O5734=ml.Misc.O1461(this,ig.game.O4269);ig.game.O4269&&this.O7851()&&(this.O5734&&!this.O7509?ig.game.actioninfo.open(this,this.pos.x,this.pos.y+20,1==ig.game.O172.O6722?"to inner ring":"to outer ring",
0,"jump"):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this));this.O6827.delta()>=this.O1957&&ig.game.chance(this.O5689)&&(this.O1457.flip.y=!this.O1457.flip.y,this.O6827.reset());ig.game.decorator.O6153(this)},draw:function(){this.parent()},O28:function(a){this.parent(a)},check:function(a){!this.suppressed&&(a.O4102&&!a.O2031("disablesTransport")&&ig.game.gameStartTimer&&
1<=ig.game.gameStartTimer.delta()&&10<=Math.abs(ig.game.O4269.vel.y)&&0==ig.game.O4269.vel.x)&&this.O5734&&(this.suppressed=!0,this.O7851()&&ig.game.portaller.O8065(this.O5309,this.rptype,a.vel,a.O6609))},O7851:function(){return ig.game.O414&&120<=ig.game.O414}})});ig.baked=!0;
ig.module("game.entities.immobile.musical").requires("impact.entity").defines(function(){window.EntityMusical=ig.Entity.extend({size:{x:19,y:19},O199:0,instrument:null,octave:null,pitch:null,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O6103:null,O3907:!1,count:0,init:function(a,b,c){this.parent(a,b,c);!c.octave&&(!c.pitch&&!this.instrument)&&(c=this.O4114(c,c.givenName));this.instrument=c.instrument?
c.instrument:"bell";this.octave=c.octave?c.octave:3;this.pitch=c.pitch?c.pitch:"c";this.addAnim("main",1,[0])},update:function(){this.O3907||(this.O6103=null);this.O3907=!1;this.parent()},O4114:function(a,b){b=b.toLowerCase();b=ig.game.strings.trim(b);b=b.replace("#","s");var c=b.slice(-1);0<=["2","3","4"].indexOf(c)&&(b=b.replace(c,""),a.octave=c);for(c=0;c<ig.game.sounds.instruments.length;c++){var d=ig.game.sounds.instruments[c];
if(0==b.indexOf(d+" ")){b=b.replace(d+" ","");a.instrument=d;break}}a.pitch=ig.game.strings.trim(b);a.pitch=ig.game.strings.replaceAll(a.pitch,"bell ","");return a},draw:function(){this.parent()},O28:function(a){this.parent(a)},playSound:function(){if(this.instrument&&this.octave&&this.pitch){var a=this.instrument+"_"+this.octave+"_"+this.pitch;ig.game.sounds[a]?ig.game.sounds.O7086(ig.game.sounds[a],this):console.log('Cannot find sound of key "'+a+'"')}},check:function(a){a instanceof
EntityPlayer&&(this.O3907=!0,this.O6103!=a.O2507&&(this.O6103=a.O2507,this.playSound()))}})});ig.baked=!0;
ig.module("game.entities.immobile.music").requires("impact.entity").defines(function(){window.EntityMusic=ig.Entity.extend({size:{x:19,y:19},type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O6103:null,O3907:!1,count:0,musicData:null,O199:0,O7168:!0,init:function(a,b,c){this.parent(a,b,c);this.musicData=c.musicData;this.addAnim("main",1,[0])},update:function(){this.O3907||(this.O6103=
null);this.O3907=!1;ig.game.O6858.isPlaying&&ig.game.O6858.O1631==this.id&&ig.game.chance(5)&&ig.game.decorator.O2883(this);this.parent()},draw:function(){this.parent()},O28:function(a){this.parent(a)},O2828:function(){if(!ig.ua.mobile){var a=ig.game.O6858;if(a)if(a.isPlaying&&a.O1631==this.id)this.stop(a);else if(this.musicData)this.play(a,this);else{var b=this;ig.game.O4961.getItem_P(b.thingTypeId,"music1").done(function(c){b.musicData=
c.musicData;b.play(a,b)})}}},play:function(a,b){a.O453();a.O4759();a.O6322();b.id&&(a.O7994(b.musicData,b.id,b),a.O3571())},stop:function(a){a.O453();a.O6322()},check:function(a){a instanceof EntityPlayer&&(this.O3907=!0,this.O6103!=a.O2507&&(this.O6103=a.O2507,this.O2828()))},tidyUp:function(){var a=ig.game.O6858;a.isPlaying&&a.O1631==this.id&&this.stop(a)}})});ig.baked=!0;
ig.module("game.entities.immobile.harmflip").requires("impact.entity").defines(function(){window.EntityHarmflip=ig.Entity.extend({size:{x:19,y:19},O199:0,O1957:0.1,O6827:null,O5689:4,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O6827=new ml.Timer;console.log("INSTANTIATED DEPRECATED TYPE!!! (hamflip)")},update:function(){this.O6827.delta()>=
this.O1957&&ig.game.chance(this.O5689)&&(this.O1457.flip.x=!this.O1457.flip.x,this.O6827.reset())},draw:function(){this.parent()},O28:function(a){},check:function(a){a.O4217(1,this,!0)}})});ig.baked=!0;
ig.module("game.entities.immobile.harm").requires("impact.entity").defines(function(){window.EntityHarm=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,attributes:{},init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.addAnim("main",1,[0]);this.attributes||(this.attributes={})},update:function(){},draw:function(){this.parent()},O28:function(a){},check:function(a){var b=
1;this.attributes.moreHarmful?b=3.5:this.attributes.extremelyHarmful&&(b=7);a.O4217(b,this,!0)}})});ig.baked=!0;
ig.module("game.entities.immobile.harmanim").requires("impact.entity").defines(function(){window.EntityHarmanim=ig.Entity.extend({size:{x:19,y:19},O199:0,O1957:0.1,O6827:null,O5689:4,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,attributes:{},init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.addAnim("cell1",1,[0]);this.addAnim("cell2",1,[1]);this.O1457=this.anims.cell1;this.O6827=
new ml.Timer;this.attributes||(this.attributes={})},update:function(){this.O6827.delta()>=this.O1957&&ig.game.chance(this.O5689)&&(this.O6827.reset(),this.O1457=this.O1457==this.anims.cell1?this.anims.cell2:this.anims.cell1)},draw:function(){this.parent()},O28:function(a){},check:function(a){var b=1;this.attributes.moreHarmful?b=3.5:this.attributes.extremelyHarmful&&(b=7);a.O4217(b,this,!0)}})});ig.baked=!0;
ig.module("game.entities.immobile.medium").requires("impact.entity").defines(function(){window.EntityMedium=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,url:null,O2358:null,givenName:null,O57:!1,O7996:0.75,rgb:null,rgb2:null,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.url=c.url;
this.addAnim("main",1,[0]);this.givenName=c.givenName;this.O57=this.url&&0<=this.url.indexOf("writable://");this.attributes||(this.attributes={})},update:function(){this.O57?this.updateWritable():(this.O7509=this.O5734,(this.O5734=this.touches(ig.game.O4269)&&ig.game.O4269&&1>=Math.abs(ig.game.O4269.vel.x))&&!this.O7509?this.O2358=new ml.Timer:!this.O5734&&this.O7509?
(this.O2358=null,ig.game.mediaDialog.O3628&&ig.game.mediaDialog.O4192(),this.attributes.named&&ig.game.actioninfo.close(this)):this.O2358&&this.O2358.delta()>=this.O7996&&(ml.Misc.O6896(this.url,ig.game.O4269.O2507,!0,void 0,this.attributes.noBack),this.O2358=null,this.attributes.named&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y-9,this.givenName,void 0,void 0,void 0,!0,!0)),ig.game.decorator.O3454(this))},
updateWritable:function(){this.O7509=this.O5734;this.O5734=ml.Misc.O1461(this,ig.game.O4269)&&ig.game.O4269&&1>=Math.abs(ig.game.O4269.vel.x);0.75>=ig.game.O1132&&(this.O5734&&!this.O7509?(ig.game.isFullAccount&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"Collect+"+(ig.ua.mobile?"tap":"click")+" to read elsewhere",null,null,null,!0),ig.game.mediaDialog.O3628&&ig.game.mediaDialog.O4192(),
ig.game.mediaDialog.O4192(),ig.game.mediaDialog.O471(this.url,this.rgb,this.rgb2)):!this.O5734&&this.O7509&&(ig.game.isFullAccount&&ig.game.actioninfo.close(this),ig.game.writableDialog.close()));this.O5734||ig.game.decorator.O3454(this)},O28:function(a){this.parent(a)}})});ig.baked=!0;
ig.module("game.entities.immobile.environm").requires("impact.entity").defines(function(){window.EntityEnvironm=ig.Entity.extend({size:{x:19,y:19},O199:0,O4772:null,O5797:0.1,attribute:null,O8349:300,O1212:!0,O4985:0,O6847:10,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:0.75,zIndex:-1,O7168:!0,isByLiner:!1,init:function(a,b,c){c.attributes&&(this.attributes=
c.attributes);this.parent(a,b,c);this.O7306(c);this.addAnim("main",1,[0]);this.O1457=this.anims.main;this.O1457.alpha=this.opacity;this.attributes||(this.attributes={})},O7306:function(a){this.attribute=ig.game.O8430.getAttributeFromSingleAttributes(a.attributes,"ENVIRONM");this.attribute||(this.attribute=this.getAttributeByGivenName(a));this.attribute||(this.attribute="rainCloud");if("soundscape"==this.attribute)this.O495=5;else if("floating"==
this.attribute||"backFloating"==this.attribute||"downFloating"==this.attribute)this.opacity=0.1},update:function(){var a=this.isByLiner?20:10;if((!this.O6454||this.O1938)&&ig.game.chance(a))switch(this.attribute){case "rainCloud":this.O2338();break;case "snowCloud":this.O2867();break;case "heat":this.O6632();break;case "mist":this.O1448();break;case "natureAir":this.O4096();break;case "humming":this.O7768();
break;case "oceanAir":this.O6884();break;case "wind":this.O3147();break;case "sunshine":this.O2869();break;case "villageDust":this.O5685();break;case "cityAir":this.O1535();break;case "glimmer":this.O8239();break;case "lightningCloud":this.O7751();break;case "smoke":this.O6910();break;case "steam":this.O6922();break;case "nightAir":this.O1437();break;
case "reflections":this.O7108(!1);break;case "colorReflections":this.O7108(!0);break;case "glitter":this.O2625(!1);break;case "colorGlitter":this.O2625(!0);break;case "rumbling":this.O4444();break;case "lightFlash":this.O8153();break;case "bubbles":this.O6677();break;case "dripping":this.O2682();break;case "stars":this.O3330();break;case "harmfulAir":this.O6334();
break;case "harmfulHeat":this.O6632(!0);break;case "harmfulCold":this.O4563();break;case "stormWinds":this.O4245();break;case "bursts":this.O5796(!1);break;case "colorBursts":this.O5796(!0);break;case "floating":this.O1815();break;case "downFloating":this.O1815(!0);break;case "backFloating":this.O5574();break;case "soundscape":this.O7476()}},O4245:function(){if(ig.game.chance(5)&&
ig.game.O4269){var a=ig.game.O4269,b=ig.game.O5167(50,300)*(ig.game.chance(50)?1:-1),c=-ig.game.O5167(50,300);a.O2031("stormWindResistant")||(a.vel.x+=b,a.vel.y+=c,a.vel.x=a.vel.x.limit(-700,700),a.vel.y=a.vel.y.limit(-700,700));for(var d=ig.game.O5167(2,5),e=1;e<=d;e++){var f=this.O7682(a.pos,ig.game.tileSize),g={x:0.2*b,y:0.2*c};f.x-=g.x;f.y-=g.y;g=this.O7682(g,5);this.spawnEntity(f,g,{O1271:0.75,O4895:70,O5561:4,fadingInc:0.25})}this.playSound("wind",
50,a.pos)}},getAttributeByGivenName:function(a){var b=null,c=this.O3356();if(a=a.givenName?a.givenName.toLowerCase():null)for(var d in c)if(ig.game.strings.O2708(d)==a){b=d;break}return b},O3356:function(){var a={rainCloud:{},snowCloud:{},heat:{},mist:{},natureAir:{},humming:{},oceanAir:{},wind:{},sunshine:{},villageDust:{},cityAir:{},glimmer:{},smoke:{},steam:{},nightAir:{},reflections:{},colorReflections:{},glitter:{},colorGlitter:{},bubbles:{},dripping:{},stars:{}};
return ig.game.painter&&ig.game.painter.attributesInfo?ig.game.painter.attributesInfo.environment:a},O2338:function(){var a=this.O7661(),b={x:ig.game.O6225,y:this.distort(100,5)};ml.Misc.O4768(b);this.spawnEntity(a,b,{O3726:ig.game.O5405.whiteLineVertical,opacity:40});this.playSound("raindrop",30,a)},O2867:function(){var a=this.O7661(),b={x:this.distort(ig.game.O6225,10),y:this.distort(20,
5)};this.spawnEntity(a,b)},O6632:function(a){var b=this.O7661(),c={x:this.distort(ig.game.O6225,10),y:this.distort(-10,5)},d={O3726:ig.game.chance(75)?ig.game.O5405.redPixel:ig.game.O5405.blackPixel,O1018:!1};this.spawnEntity(b,c,d);this.playSound("fire",20,b);a&&(a={pos:b,size:{x:2,y:2}},ig.game.O4269&&(!ig.game.O4269.O2031("heatResistant")&&150>=ig.game.O4269.O5320(a))&&ig.game.O4269.O4217(1,
null,!1))},O1448:function(){if(ig.game.chance(30)){var a=this.O7661(),b={x:ig.game.O5167(5,20),y:0};ig.game.chance(50)&&(b.x*=-1);b.x+=ig.game.O6225;ml.Misc.O4768(b);this.spawnEntity(a,b,{O3726:ig.game.O5405.mist,O1271:0.25,O4895:80,O5561:4,fadingInc:1})}},O4096:function(){if(ig.game.chance(60)){var a=this.O7661();this.playSound("nature",60,a)}},O7768:function(){if(ig.game.chance(20)){var a=
this.O7661(),b={x:this.distort(30,10),y:0};ig.game.chance(50)&&(b.y=b.x,b.x=0);this.spawnEntity(a,b,{O1271:0.25,O4895:60,O5561:4,fadingInc:1});this.playSound("humming",40,a)}},O6884:function(){if(ig.game.chance(30)){var a=this.O7661();this.playSound("ocean",30,a)}},O3147:function(){if(ig.game.chance(30)){var a=this.O7661();ig.game.O6225=this.O820();var b={x:this.distort(ig.game.O6225,
15),y:this.distort(0,5)};this.spawnEntity(a,b,{O1271:0.25,O4895:60,O5561:4,fadingInc:1});this.playSound("wind",30,a)}},O2869:function(){if(ig.game.chance(20)){var a=this.O7661(),b={x:0,y:ig.game.O5167(15,18)};this.spawnEntity(a,b,{O3726:ig.game.O5405.sunbeam,O1271:0.15,O4895:100,O5561:2,fadingInc:1})}},O5685:function(){if(ig.game.chance(30)){var a=this.O7661();this.playSound("village",
30,a)}},O1535:function(){if(ig.game.chance(30)){var a=this.O7661();this.playSound("city",30,a)}},O8239:function(){if(ig.game.chance(30)){var a=this.O7661();this.spawnEntity(a,null,{O3726:ig.game.O5405.sparkle},EntitySparkle);this.playSound("glimmer",30,a)}},O7751:function(){if(ig.game.chance(2.5)){var a=this.O7661(),b={x:a.x+ig.game.O5405.lightning.width/2,y:a.y+ig.game.O5405.lightning.height/
2};this.O1783(b)&&(this.spawnEntity(a,null,{O3726:ig.game.O5405.lightning,O5561:0.5,fadingInc:5,O2824:!0}),this.playSound("lightning",100,b))}},O6910:function(){if(ig.game.chance(25)){var a={x:this.distort(this.pos.x+9,8),y:this.distort(this.pos.y+19,5)},b={x:this.distort(ig.game.O6225,1),y:this.distort(-10,5)};ml.Misc.O4768(b);var c=ig.game.chance(70)?ig.game.O5405.smoke:ig.game.O5405.bigSmoke;a.x=Math.floor(a.x-
c.width/2);this.spawnEntity(a,b,{O3726:c,O1018:!1})}},O6922:function(){if(ig.game.chance(15)){var a={x:this.distort(this.pos.x+9,8),y:this.distort(this.pos.y+19,5)},b={x:this.distort(0.1*ig.game.O6225,1),y:this.distort(-6,3)};ml.Misc.O4768(b);var c=ig.game.chance(40)?ig.game.O5405.steam:ig.game.O5405.bigSteam,d={O3726:c,O1271:5,O4895:35,fadingInc:0.5,O1018:!1};a.x=Math.floor(a.x-c.width/2);
this.spawnEntity(a,b,d)}},O1437:function(){if(ig.game.chance(35)){var a=this.O7661(),b={x:this.distort(0,13),y:this.distort(-9,9)};this.spawnEntity(a,b,{O3726:ig.game.O5405.yellowPixel,O5561:0.5,O1271:15,fadingInc:5,O4895:60,O1018:!1});this.playSound("nightair",11,a)}},O7108:function(a){if(ig.game.chance(20)){var b=this.O7661(),c={x:this.distort(0,25),y:this.distort(0,5)};a=a?
ig.game.O5167(1,6):1;this.spawnEntity(b,c,{O3726:ig.game.O5405["reflection"+a],O5561:1.5,O1271:2,fadingInc:5,O4895:40,O1018:!1})}},O2625:function(a){if(ig.game.chance(60)){var b=this.O7661(),c={x:this.distort(ig.game.O6225,15),y:this.distort(10,15)};a=a?ig.game.O5167(1,6):1;this.spawnEntity(b,c,{O3726:ig.game.O5405["glitter"+a],O5561:0.5,O1271:20,fadingInc:5,O4895:70,
O1018:!1})}},O4444:function(a){ig.game.chance(50)&&(ig.game.camera&&ig.game.O4269)&&(a=this.O7661(),this.O1783({x:a.x+ig.game.O5405.lightning.width/2,y:a.y+ig.game.O5405.lightning.height/2})&&(ig.game.camera.shake(),this.playSound("quake",30,a)))},O8153:function(){if(ig.game.chance(5)){var a=this.O7661();this.O1783({x:a.x+ig.game.O5405.lightning.width/2,y:a.y+ig.game.O5405.lightning.height/
2})&&this.spawnEntity(a,null,{O3726:ig.game.O5405.whitePixel,O5561:0.5,fadingInc:5,O2824:!0})}},O6677:function(){if(ig.game.chance(25)){var a={x:this.distort(this.pos.x+9,4),y:this.distort(this.pos.y+19,5)},b={x:0.1*ig.game.O6225,y:this.distort(-10,5)};ml.Misc.O4768(b);var c=ig.game.O5405["bubble"+ig.game.O5167(1,ig.game.O5167(1,3),3)],d={O3726:c,O5561:1.5,O1271:2,fadingInc:5,O4895:50,
O1018:!1};a.x=Math.floor(a.x-c.width/2);this.spawnEntity(a,b,d);this.playSound("bubble",20,a)}},O2682:function(){if(ig.game.chance(5)){var a=this.O7661(),b={x:0,y:this.distort(150,30)};this.spawnEntity(a,b,{O3726:ig.game.O5405.whiteLineVertical,O1018:!1});this.playSound("dripping",100,a)}},O3330:function(){var a=this.O7661(),b={x:0,y:0};ml.Misc.O4768(b);var c=ig.game.chance(20)?
ig.game.O5405.whitePixel:ig.game.O5405.whitePixelSmall,d=ig.game.O5167(70,100);this.spawnEntity(a,b,{O3726:c,O1271:0.45,O4895:d,O5561:8,fadingInc:1,O2425:!0})},O4563:function(){this.O6334(ig.game.chance(75)?ig.game.O5405.glitter3:ig.game.O5405.whitePixel,!0)},O6334:function(a,b){if(ig.game.O4269){var c=this.O7661(),d={x:this.distort(ig.game.O6225,
10),y:this.distort(-10,5)},e=a;e||(e=ig.game.chance(75)?ig.game.O5405.glitter4:ig.game.O5405.blackPixel);this.spawnEntity(c,d,{O3726:e,O1018:!1});ig.game.O4269&&(c={pos:c,size:{x:2,y:2}},!(b?ig.game.O4269.O2031("coldResistant"):ig.game.O4269.O2031("breather"))&&150>=ig.game.O4269.O5320(c)&&ig.game.O4269.O4217(1,null,!1))}},O5796:function(a){if(ig.game.chance(10)){var b=this.O7661();
ig.game.decorator.burst({pos:b,vel:{x:0,y:-300}},null,a);a=ig.ua.iPad?1:ig.game.O5167(1,2);this.playSound("burst"+a,40,b,!0)}},O1815:function(a){if(ig.game.chance(15)){var b=this.O7661(),c=null,c=ig.game.areaAngleDriftVelocity.x||ig.game.areaAngleDriftVelocity.y?ig.game.O5662(ig.game.areaAngleDriftVelocity):{x:ig.game.O5167(-20,20),y:ig.game.O5167(-20,20)};a&&(c.y=ig.game.O5167(5,20));this.spawnEntity(b,c,{O1271:0.25,O4895:60,
O5561:4,fadingInc:1,O1018:!1,decorative:!0,animSheet:this.animSheet})}},O5574:function(){if(ig.game.chance(15)){var a=this.O7661(),b=null,b=ig.game.areaAngleDriftVelocity.x||ig.game.areaAngleDriftVelocity.y?ig.game.O5662(ig.game.areaAngleDriftVelocity):{x:ig.game.O5167(-20,20),y:ig.game.O5167(-20,20)},c={O1271:0.45,O4895:ig.game.O5167(70,100),O5561:8,fadingInc:1,animSheet:this.animSheet};this.spawnEntity(a,
b,c)}},O7476:function(){if(!this.attributes.quiet&&this.soundId&&(0==this.O4985||this.O4985<=this.O6847&&ig.game.chance(2)||this.O4985>this.O6847&&1>=ig.game.O5167(0,1E3)))ig.game.sounds.playIncludedSound(this),this.O4985<=this.O6847&&!this.isByLiner&&this.O4985++},O820:function(){var a=(new Date).getSeconds(),b=0,c=[-80,-40,this.distort(0,
20),40,80,40,this.distort(0,20),-40],a=Math.floor(a*(c.length/60));0<=a&&a<c.length&&(b=c[a]);return b},spawnEntity:function(a,b,c,d){if(!this.attributes.nonVisual&&ig.game.O413.environment&&ig.game.O413.environment.length<=this.O8349){if(null==d||void 0==d)d=EntitySpot;if(null==c||void 0==c)c={};if(null==b||void 0==b)b={x:0,y:0};c.vel={x:b.x,y:b.y};c.attribute=this.attribute;ig.game.O6879(d,a.x,a.y,c)}},O7661:function(){var a=
0.75*ig.system.height,b=ig.game.O5167(0,ig.game.O5167(0,0.75*ig.system.width)),a=ig.game.O5167(0,ig.game.O5167(0,a));ig.game.chance(50)&&(b*=-1);ig.game.chance(50)&&(a*=-1);return{x:this.pos.x+b,y:this.pos.y+a}},draw:function(){this.parent()},distort:function(a,b){return a+ig.game.O5167(-b,b)},O7682:function(a,b){return{x:this.distort(a.x,b),y:this.distort(a.y,b)}},O28:function(a){},playSound:function(a,b,c,d){if(!this.attributes.quiet&&(this.isByLiner&&
(b*=2),ig.game.chance(b)&&this.O1783(c)&&(this.O1212||ig.game.chance(1)))){b=ig.game.O5167(1,ig.game.sounds.environmentSounds[a]);ig.ua.iPad&&(b=1);d||(a="environment_"+a+"_"+b);a=ig.game.sounds[a];if(d=null==this.O4772)this.O4772=new ml.Timer;if(d||this.O4772.delta()>=this.O5797)a&&a.play(),this.O4772.reset();this.O1212&&(this.isByLiner||this.O4985++,this.O4985>this.O6847&&(this.O1212=
!1))}},O1783:function(a){var b=ig.game.O4269.pos;return a.x>=b.x-ig.system.widthHalf&&a.x<=b.x+ig.system.widthHalf&&a.y>=b.y-ig.system.O8417/2&&a.y<=b.y+ig.system.O8417/2}})});ig.baked=!0;
ig.module("game.entities.immobile.glow").requires("impact.entity").defines(function(){window.EntityGlow=ig.Entity.extend({size:{x:19,y:19},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,decorative:!0,attributes:{},energy:100,energyMin:0,energyMax:100,energyVel:0,O1680:1,O6610:null,blinkTime:1.5,O1950:0.005,O5951:0,angle:null,O2541:0,O7674:null,O7059:"lighter",init:function(a,b,c){c.attributes&&
(this.attributes=c.attributes);this.parent(a,b,c);this.addAnim("main",1,[0]);this.addAnim("glow",1,[1]);this.anims.main.pivot={x:this.size.x/2,y:this.size.y/2};this.O732();this.attributes||(this.attributes={});this.O3029()},O732:function(){if(this.rgb){var a=this.O3818(this.rgb);40>=Math.floor((a[0]+a[1]+a[2])/a.length)&&70>=this.O2553(a)&&(this.O7059=null)}},O2553:function(a){for(var b=a[0],c=1;c<a.length;c++)a[c]>
b&&(b=a[c]);return b},O3818:function(a){a=a.split(",");for(var b=0;b<a.length;b++)a[b]=parseInt(a[b]);return a},O3029:function(){this.attributes.blinking&&(this.O6610=new ml.Timer);this.attributes.rotating&&(this.angle=0,this.O5951=0.01);this.attributes.rotatingFront&&(this.O7674=0,this.O2541=0.01);this.attributes.flickering&&(this.O6610=new ml.Timer,this.blinkTime=1.25+0.5*Math.random());this.attributes.wavering&&(this.energyMin=80,
this.energy=ig.game.O5167(this.energyMin,this.energyMax),this.attributes.pulsating=!0);this.attributes.randomized&&(this.energy=ig.game.O5167(this.energyMin,this.energyMax),this.attributes.blinking&&(this.blinkTime=1.25+0.5*Math.random()),this.attributes.rotating&&(this.angle=ig.game.O5167(0,ig.game.fullAngle)),this.attributes.rotatingFront&&(this.O7674=ig.game.O5167(0,ig.game.fullAngle)))},update:function(){this.attributes.pulsating&&(0==this.energyVel&&(this.energyVel=
-this.O1680),this.energy+=this.energyVel,this.energy<=this.energyMin?this.energyVel=this.O1680:this.energy>=this.energyMax?this.energyVel=-this.O1680:this.attributes.wavering&&ig.game.chance(5)&&(this.energyVel*=-1),this.energy=this.energy.limit(0,100));this.attributes.blinking&&(this.O6610&&this.O6610.delta()>=this.blinkTime)&&(this.energy=this.energy==this.energyMax?this.energyMin:this.energyMax,this.O6610.reset());this.attributes.rotating&&
(this.angle+=this.O5951,this.angle>ig.game.fullAngle&&(this.angle=0));this.attributes.rotatingFront&&(this.O7674+=this.O2541,this.O7674>ig.game.fullAngle&&(this.O7674=0));this.attributes.flickering&&(this.O6610&&this.O6610.delta()>=this.blinkTime)&&(this.energy=ig.game.chance(50)?0:100,this.O6610.reset(),this.blinkTime=0==this.energy?0.1*Math.random():0.5+Math.random());ig.game.decorator.O6341({pos:this.pos,size:this.anims.main.pivot},
this)},draw:function(){var a=this.pos.x-ig.game._rscreen.x,b=this.pos.y-ig.game._rscreen.y;this.anims.main.draw(a,b);var c=(0.01*this.energy).limit(0,100);ig.system.context.globalAlpha=c;null!=this.angle&&(this.anims.glow.angle=this.angle);null!=this.O7674&&(this.anims.main.angle=this.O7674);this.O7059&&ml.Misc.O1651(this.O7059);this.anims.glow.draw(a-9,b-9);this.O7059&&ml.Misc.O13();ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.immobile.living").requires("impact.entity").defines(function(){window.EntityLiving=ig.Entity.extend({size:{x:19,y:19},O199:0,O1957:2,O6827:null,O5689:0.5,O6103:null,O3907:!1,O6534:[],O4772:null,O5797:3,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){this.parent(a,b,c);ml.Misc.O1659(this,a,b,c);
this.addAnim("main",1,[0]);this.O6827=new ml.Timer;this.O6534=ig.game.sounds.O3679(c.givenName)},update:function(){this.O6827.delta()>=this.O1957&&ig.game.chance(this.O5689)&&(this.O1457.flip.x=!this.O1457.flip.x,this.O6827.reset(),this.O6869(this));this.O3907||(this.O6103=null);this.O3907=!1},O6869:function(){this.O5579||ig.game.O6879(EntityDust,
this.pos.x+ig.game.O1990+7*(this.O1457.flip.x?-1:1),this.pos.y+ig.game.tileSize-1,{vel:{x:20*(this.O1457.flip.x?-1:1)+(10*Math.random()-5),y:10*Math.random()-5}})},O28:function(a){},playSound:function(){var a=!1;null==this.O4772&&(this.O4772=new ml.Timer,a=!0);if(a||this.O4772.delta()>=this.O5797){for(a=0;a<this.O6534.length;a++)ig.game.sounds.O7086(this.O6534[a],this);this.O4772.reset()}},check:function(a){if((1<=
this.O6534.length||this.soundId)&&a instanceof EntityPlayer)this.O3907=!0,this.O6103!=a.O2507&&(this.O6103=a.O2507,this.soundId?ig.game.sounds.playIncludedSound(this):this.playSound())}})});ig.baked=!0;
ig.module("game.entities.immobile.interact").requires("impact.entity","game.ui.speechdisplay").defines(function(){window.EntityInteract=ig.Entity.extend({data:null,allHas:[],allIs:[],allNumber:{},O5139:null,lastSaid:[],lastHeard:"",O1169:[],O4240:null,O6586:null,O6575:null,betweenDefaultAndPlayer:!0,hasSpeech:!0,lastTimerDateInSec:null,reactsTo:[],boundingBox:null,boundingBoxOriginal:null,O1522:null,size:{x:29,y:29},O199:0,
type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,O8390:!1,O2272:!1,O353:!1,O6030:!1,O1963:null,O8379:2,O6012:null,O2293:null,O1249:null,O6585:null,O276:null,thingReferences:[],O3105:null,O8280:null,imageSize:29,O7168:!0,checksNears:!1,
posOriginal:{x:null,y:null},sizeOriginal:{x:null,y:null},offsetOriginal:{x:null,y:null},O4591:!1,O3704:null,O3229:!1,delaySecondsDefault:2,delaySeconds:2,O1565:void 0,O6712:!1,O4684:null,rumbles:{timer:null,O6274:null,O6693:null},O5607:null,O5935:!1,O4959:void 0,O5681:!1,font:null,init:function(a,b,c){this.checksNears=!!c.checksNears;this.reactsTo=
c.reactsTo;this.O4591=c.O4591;if(this.boundingBox=c.boundingBox)this.boundingBoxOriginal=ig.game.O5662(this.boundingBox);c.attributes&&(this.attributes=c.attributes);c.O6712&&(this.O6712=!0);this.parent(a,b,c);this.attributes&&(this.attributes.affectsBelow&&this.O5309&&!this.O6454)&&(this.pos.y+=ig.game.tileSize,this.O5309.y++);this.posOriginal=ig.game.O5662(this.pos);this.sizeOriginal=ig.game.O5662(this.size);
this.offsetOriginal=ig.game.O5662(this.offset);this.O276=this.O4591?ig.game.O6401.O4289():this.thingTypeId+"_"+a+"_"+b;this.addAnim("cell1",1,[0]);this.addAnim("cell2",1,[1]);this.O1457=this.anims.cell1;this.O1963=new ml.Timer;this.O6575=new SpeechDisplay(this);this.attributes||(this.attributes={});this.attributes.nonFlipping||(this.O1249=new ml.Timer);this.O6585=!!((a-b)%2);this.attributes.nonFlipping||
this.O6454?this.O6585=!1:this.attributes.facesAway&&(this.O6585=!this.O6585);this.anims.cell1.flip.x=this.anims.cell2.flip.x=this.O6585;this.posOriginal=ig.game.O5662(this.pos);this.O2372();this.attributes.solid&&this.O5692(!0);this.O5998||(this.O6454?this.O3696():(a=15E3,ig.game.O707&&(a=ig.game.O172.O3820()?0:1E3),c.textSize&&c.textSize<=a&&(this.reactsTo&&0<=this.reactsTo.indexOf("someone_arrives")||
this.O3696())))},O2372:function(){var a=this.boundingBox;if(a){a={x:a[0],y:a[1],width:a[2]-a[0]+1,height:a[3]-a[1]+1};this.size={x:a.width,y:a.height};var b=(this.imageSize-this.size.x)/2;this.offset.x=-b;this.pos.x+=b-ig.game.tileSize/4;0<a.y&&(this.pos.y-=Math.ceil(ig.game.O1990),a=this.imageSize-this.size.y,this.offset.y=-a,this.pos.y+=a)}},O3029:function(){this.attributes.O2351&&(this.O2351=!0,this.O8379=3);this.attributes.slowChange&&
(this.O8379=6)},reactTo:function(a,b){if(ig.game.O4269&&ig.game.O4269.O2031("disablesInteracting")||this.O5998)return!1;var c=!1;if((this.O5681=0<=["viewed","reaches","nears","approaches"].indexOf(a))&&ig.game.O707)c=!1;else if((""!=b||"viewed"==a||"approaches"==a||"nears"==a||"reaches"==a)&&!this.O6586&&!ig.game.portaller.O6684){"string"!=typeof b&&(b="");b=b.toLowerCase();"hears"==a&&(this.lastHeard=ig.game.strings.trim(b),
this.lastHeard=ig.game.strings.replaceAll(this.lastHeard,"@embedding ",""));this.O1169=this.getResult(a,b);if(!this.O1169){var d=this.O4240;this.O4240=null;this.O1169=this.getResult(a,b,null,!0);this.O4240=d}!this.O1169&&("hears"==a&&!this.O1522)&&(this.O1169=this.getResult(null,null,null,!0));this.O1169&&(c=null,"gets"==a&&(this.O8428(b),c=b),this.O7718(c,"hears"==a),c=!0)}this.O5681=
!1;return c},O5346:function(a){if(ig.game.O4269&&ig.game.O4269.O2031("disablesInteracting"))return!1;var b=!1;if((!this.O1169||0==this.O1169.length)&&!this.O6586&&!ig.game.portaller.O6684)(this.O1169=this.getResult())?(this.O7718(),b=!0):(a&&(this.O1169=this.getResult("touches","*",null,!0)),this.O1169&&this.O7718());return b},O6355:function(a,
b,c,d){if(ig.game.O4269&&ig.game.O4269.O2031("disablesInteracting"))return!1;!this.O6012&&(!this.O2293&&!ig.game.portaller.O6684)&&(this.O6012={interactionType:a,text:b,O6599:c,O6274:0.1*d},this.O2293=new ml.Timer)},O6111:function(a,b,c){if(ig.game.O4269&&ig.game.O4269.O2031("disablesInteracting"))return!1;if(a&&b&&c&&!ig.game.portaller.O6684){this.O1522=
c;if(null==this.data){this.data=[];var d=this;ig.game.O4961.getItem_P(d.thingTypeId,"interact1").done(function(c){var f=c.textData;d.thingReferences=c.thingRefs;d.data=ig.game.O6401.O171(f,d.thingReferences);ig.game.O6401.O4814(d);d.reactTo(a,b)})}else this.reactTo(a,b);this.reactionDelayTimeout=null}},O1315:function(a,b){if(this.O6454||!ig.game.O5699){if(ig.game.O4269&&ig.game.O4269.O2031("disablesInteracting"))return!1;
if(a){if(null==this.data){this.data=[];var c=this;ig.game.O4961.getItem_P(c.thingTypeId,"interact2").done(function(d){var e=d.textData;c.thingReferences=d.thingRefs;c.data=ig.game.O6401.O171(e,c.thingReferences);ig.game.O6401.O4814(c);c.reactTo("someone_"+a,b)})}else this.reactTo("someone_"+a,b);this.reactionDelayTimeout=null}}},setContext:function(a){this.O4240=a},O7157:function(){this.O4240=null},O4425:function(a){!this.O6454&&
(a&&a.pos&&!this.attributes.nonFlipping&&!this.O1522)&&(a=this.pos.x<a.pos.x,this.attributes.facesAway&&(a=!a),this.anims.cell1.flip.x=this.anims.cell2.flip.x=a)},O6433:function(){var a=this.O6575.O8238();a&&!a.moving&&(a.moving=!0)},O8451:function(){var a=null;this.lastTimerDateInSec&&(a=(new Date).getSeconds()-this.lastTimerDateInSec);return a},O7718:function(a,b){this.O6433();if(this.O1169&&
1<=this.O1169.length){var c=this.O1169.shift(),d=c.say,e=this.font;c.font&&this.setFont(c.font);var f,g=d&&0<=d.indexOf("://")?d:null;d&&!g&&(d=d.toLowerCase(),d=ig.game.O6401.O7893(d,this.allHas,this.allIs,this.allNumber,this.O5139,this.lastHeard,this.O8451()));this.logSaid(d);c.gives&&this.O2882(c.gives);c.removes&&this.O3204(c.removes);c.motion&&ig.game.O6401.O306(this.pos,
"sees",c.motion,this.givenName,this.id);if(d){var h=!1,k=!1;g&&(g=ig.game.O6401.O7893(g,this.allHas,this.allIs,this.allNumber,this.O5139,this.lastHeard,this.O8451()),d=(h=ml.Misc.O6896(g,ig.game.O4269.O2507,!0,!0))?"":ig.game.strings.O2532(g),k=Boolean(ig.game.panelSet&&ig.game.panelSet.musicPlayer&&ig.game.panelSet.musicPlayer.O1780(g)));!h&&!k&&(ig.game.O6401.O4412(d)?ig.game.O6401.O7795(ig.game.O4269,
d):(this.O217(),this.O6575.O5804(ig.game.O6401.O7035(d),g,!0,this.O4591,this.font),this.O4591||(ig.game.O6401.O306(this.pos,"hears",d,this.givenName,this.id),this.attributes&&this.attributes.affectsBelow&&ig.game.O6401.O650(this,d))))}c.motionId&&this.O4753(c.motionId,ig.game.O4269.O2507);c.O4753Text&&
this.O6119(c.O4753Text,c.O4753Id);c.harms&&this.doHarm(c.harms);c.heals&&this.doHeal(c.heals);if(c.limits)for(g=0;g<c.limits.length;g++)h=c.limits[g],ig.game.O6401.O3391(h[0],h[1],h[2],h[3],h[4]);g=ig.game.O8053;for(h=1;2>=h;h++)if(k=1==h?c.commands:c.privateCommands)for(var l=0;l<k.length;l++){var m=k[l];m.is&&this.O5636(m.is);m.isnt&&this.removeFromAllIs(m.isnt);m.theyAre&&ig.game.O4269.O5636(m.theyAre);m.theyArent&&ig.game.O4269.removeFromAllIs(m.theyArent);
if(g){if(m.removeAreaPossession){var n=ig.game.motionDialog.O837(m.removeAreaPossession);n&&ig.game.motionDialog.O8343(n)}m.addAreaPossession&&ig.game.motionDialog.O4659(m.addAreaPossession);m.removeAllAreaPossessions&&ig.game.motionDialog.removeAllAreaPossessionItems(m.removeAreaPossession)}}c.hasnt&&this.O6843(c.hasnt);this.O741(c.changeNumber);g&&(void 0!==c.theyAutoHeal&&(ig.game.autoHeals=Boolean(c.theyAutoHeal)),
void 0!==c.O329&&(ig.game.O329=Boolean(c.O329),!ig.game.O329&&(ig.game.userMapDialog&&ig.game.userMapDialog.isOpen)&&ig.game.userMapDialog.close()),void 0!==c.theyCanDrown&&(ig.game.theyCanDrown=Boolean(c.theyCanDrown)),void 0!==c.O4367&&(ig.game.O4367=Boolean(c.O4367)),void 0!==c.O5182&&(ig.game.O5182=Boolean(c.O5182)),void 0!==c.O1217&&(ig.game.O1217=Boolean(c.O1217)),void 0!==
c.O8422&&(ig.game.O8422=Boolean(c.O8422)),void 0!==c.O5049&&(ig.game.O5049=Boolean(c.O5049),ig.game.O5049||ig.game.O884.O8271("cantSeeNameTags")),void 0!==c.theyCanBeAffectedByNonFullAccounts&&(ig.game.O4109=Boolean(c.theyCanBeAffectedByNonFullAccounts)),void 0!==c.theyCanBeAffectedByNonFriends&&(ig.game.O5298=
Boolean(c.theyCanBeAffectedByNonFriends)),void 0!==c.theyCanMapTeleport&&(ig.game.theyCanMapTeleport=Boolean(c.theyCanMapTeleport)),void 0!==c.O2066&&(ig.game.O2066=Boolean(c.O2066)),void 0!==c.O7995&&(ig.game.O7995=Boolean(c.O7995)),void 0!==c.O3643&&(ig.game.O3643=Boolean(c.O3643)),void 0!==c.O4280&&(ig.game.O4280=Boolean(c.O4280)),
void 0!==c.O4973&&(ig.game.O4973=Boolean(c.O4973)),void 0!==c.O7804&&(g=ig.game.O7804,ig.game.O7804=Boolean(c.O7804),ig.game.O7804&&(!g&&ig.game.isFullAccount&&!ig.game.isEditorHere&&!ig.game.O2050)&&ml.Misc.O373()),void 0!==c.theyCanBeAffectedByFriends&&(ig.game.O67=Boolean(c.theyCanBeAffectedByFriends)),void 0!==c.theyCanBeAffectedByBrainEquippers&&(ig.game.O18=
Boolean(c.theyCanBeAffectedByBrainEquippers)),void 0!==c.theyAutoSetSpawnpoints&&(ig.game.O7053.O1015=Boolean(c.theyAutoSetSpawnpoints)),c.setSpawnPoint&&ig.game.O7053.O863());c.throws&&(f=ig.game.O5167(1,1E5),this.O2802(c.throws,f));c.relocationsGoTo&&("INDIVIDUALS"==ig.game.O2714&&!sessionStorage.relocatedToCustomAreaOnce)&&(ig.game.O2675=c.relocationsGoTo);c.areaBanForNMinutes&&(!ig.game.isEditorHere&&
"INDIVIDUALS"==ig.game.O2714&&!this.O5935)&&(g=ig.game.O172.O6043(),this.O5935=!0,ig.game.O7421.O4439(g,ig.game.O4269.O2507,c.areaBanForNMinutes).done(function(a){}));c.timer&&(this.lastTimer=new ml.Timer,this.lastTimerDateInSec=(new Date).getSeconds(),ig.game.O6401.O6873(this));ig.game.O707||(c.countdown&&ig.game.O6401.O6361(c.countdown,c.countdownIsVisible),
c.countdownClear&&ig.game.O6401.O6723(),c.countdownAdd&&ig.game.O6401.O2851(c.countdownAdd));c.bumps&&this.O5238(c.bumps);c.embedUrl&&this.O7017(c.embedUrl);c.O5655&&this.O5655();c.rumblesSeconds&&this.O2273(c.rumblesSeconds);c.showsId&&this.O3365(c.showsId,c.lockAtHolderPage);void 0!==c.theyFocusHere&&(!this.O4591&&!this.O6454&&!ig.game.O172.O4675())&&(c.theyFocusHere?
ig.game.camera.O84=this:ig.game.camera.O84&&ig.game.camera.O84.O276==this.O276&&(ig.game.camera.O84=null));c.stopMusic&&ig.game.O6858.O453();c.playsSoundId&&this.O5320(ig.game.O4269)<ig.system.widthHalf&&ig.game.sounds.O7220(c.playsSoundId);c.transports&&this.O3753(c.transports);!this.O6454&&c.transportToHere&&this.O2841();this.O4425(ig.game.O4269);
void 0!==c.setContext&&null!==c.setContext&&(""==c.setContext?this.O7157():this.setContext(c.setContext));this.autoContinue=!!c.autoContinue;c.toMarker&&(this.O1169=this.getResult(null,null,c.toMarker));if(c.to)this.O1302(c);else if(!this.O6454&&(d||c.motionId||c.playsSoundId||c.commands||a||c.changeNumber||c.throws||c.hasnt||c.rumblesSeconds||c.id||c.font))ig.game.O4349.O3645(this.O276,d,c.motionId,c.commands,a,c.hasnt,c.changeNumber?
this.allNumber:null,c.throws,f,c.playsSoundId,c.rumblesSeconds,c.id,c.font,c.useFontOnce);this.O1169&&1<=this.O1169.length||this.autoContinue?(c.delaySeconds?this.delaySeconds=parseFloat(c.delaySeconds):b&&(this.delaySeconds=this.delaySecondsDefault),this.O6586=new ml.Timer):(this.delaySeconds=c.delaySeconds?parseFloat(c.delaySeconds):b?this.delaySecondsDefault:0.1,this.O6586=null);this.O4222(ig.game.O4269,c.places);c.useFontOnce&&
(this.font=e)}else this.O6586=null,this.autoContinue&&(this.autoContinue=!1,this.O5346())},O217:function(){this.O4591&&ig.game.O4269&&(this.pos={x:ig.game.O4269.pos.x,y:ig.game.O4269.pos.y-50});this.O6575.update({x:this.pos.x+3,y:this.pos.y-9})},O1302:function(a){var b=a.to,c=ig.game.O45==b.toLowerCase()&&ig.game.gameStartTimer&&10>=ig.game.gameStartTimer.delta()&&!ig.game.O6845,d=this.O5681&&
ig.game.O5699;if(c)console.log("Ignoring early same-area teleport");else if(d)console.log("Ignoring teleporting away from spawn area without clear person intent");else if((!ig.game.O4269||!ig.game.O4269.O2031("disablesTransport"))&&b&&!ig.game.portaller.O6684)b=ig.game.strings.replaceAll(b,"[heard]",encodeURIComponent(this.lastHeard)),b=ig.game.strings.replaceAll(b,"[area]",ig.game.areaName),b=ig.game.strings.replaceAll(b,"[main_area]",ig.game.O966),
ig.game.O4269&&(ig.game.O4269.vel.y=0),this.O6586||(this.O6586=new ml.Timer),"elsewhere"==b?ig.game.O8053&&ig.game.portaller.startExitAreaTeleportingRequest():"last"==b?ig.game.portaller.O4762():a.toDoesExcludeSubAreas?ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest(b):ig.game.portaller.O8108(b,this.thingTypeId)},O741:function(a){if(ig.game.motionDialog&&
a&&ig.game.O8053)for(var b=0;b<a.length;b++){var c=a[b][0],d=a[b][1],e=a[b][2],f=a[b][3],g=a[b][4],d=ig.game.O6401.O7893(d,this.allHas,this.allIs,this.allNumber,this.O5139,this.lastHeard,this.O8451());d!=parseInt(d)&&(d=0);if(f)ig.game.motionDialog.O851(c,d,e,g);else{void 0===this.allNumber[c]&&(this.allNumber[c]=0);f=parseInt(this.allNumber[c]);switch(e){case "+":f+=parseInt(d);break;case "-":f-=parseInt(d);break;case "*":f*=parseInt(d);
break;case ":":f=Math.round(f/parseInt(d));break;case "=":f=parseInt(d)}f=ig.game.O6401.O8118(c,f);this.allNumber[c]=f;0==this.allNumber[c]&&delete this.allNumber[c];ig.game.O6401.O6873(this)}}},O1838:function(a,b){if(null==this.data){this.data=[];var c=this;ig.game.O4961.getItem_P(c.thingTypeId,"interact3").done(function(d){var e=d.textData;c.thingReferences=d.thingRefs;c.data=ig.game.O6401.O171(e,c.thingReferences);
ig.game.O6401.O4814(c);c.O4420(a,b)})}else this.O4420(a,b)},O7017:function(a){if(!ig.game.O707&&!this.O4591&&(this.O6454||this.O5320(ig.game.O4269)<=4*ig.game.tileSize)&&this.O2217(a)){var b=!1;this.attributes.unnamed&&(delete this.attributes.unnamed,this.O1398());ig.game.decorator.O1805(this.pos.x,this.pos.y);0<=a.indexOf("invisible ")&&(a=ig.game.strings.replaceAll(a,
"invisible ",""),b=!0);0<=a.indexOf("[heard]")&&(a=ig.game.strings.replaceAll(a,"[heard]",encodeURIComponent(this.lastHeard)));if(0<=a.indexOf("[name]")&&ig.game.O4269){a=ig.game.strings.replaceAll(a,"[name]",encodeURIComponent(ig.game.O4269.screenName));ig.game.actioninfo.close(this);ig.game.actioninfo.open(this,this.pos.x-4,this.pos.y-9,"Getting your name...",null,"",null,!0);var c=this;setTimeout(function(){ig.game.actioninfo.close(c)},2500)}a=ig.game.strings.replaceAll(a,"[name]","");
if(0<=a.indexOf("[location]")){var d=ml.Misc.getNonCryptographicHash(ig.game.O45),d=d+("_"+this.O5309.x+"_"+this.O5309.y);a=ig.game.strings.replaceAll(a,"[location]",encodeURIComponent(d))}ig.game.O6401.currentEmbeddingInteract=this;ig.game.mediaDialog.O3289(a,ig.game.O4269.O2507,!0,!0,b)}},O2217:function(a){return 0===a.indexOf("http://manyunity.com/")||0===a.indexOf("https://manyunity.com/")||0===a.indexOf("http://manyland.com/info")||
0===a.indexOf("https://manyland.com/info")},O5655:function(){ig.game.mediaDialog&&(ig.game.mediaDialog.O3628&&"Embedding"==ig.game.mediaDialog.mediaType)&&ig.game.mediaDialog.O4192()},O4420:function(a,b){if(!this.O6712){var c=this.O2483(b);c&&this.O4222(a,c.places)}},O4222:function(a,b){if(!ig.game.O5699&&b&&!this.O6712&&a)if(this.O4591){var c=ig.game.O7715.O1414(a.pos.x,
a.pos.y);c&&(c.y-=4,ig.game.O6401.O1194(c,b))}else this.O6454||ig.game.O6401.O1194(this.O5309,b)},O2483:function(a){var b=null;if(this.data&&1<=this.data.length)for(var c=0;c<this.data.length;c++){var d=this.data[c].result;if(d)for(var e=0;e<d.length;e++){var f=d[e];if(f.id==a){b=f;break}}}return b},O2273:function(a){if(this.O6454||!ig.game.O5699)this.rumbles={timer:new ml.Timer,O6274:parseInt(a),
O6693:!0}},O7147:function(){if(this.rumbles.timer)if(this.rumbles.timer.delta()<=this.rumbles.O6274){if(this.rumbles.O6693||ig.game.chance(7))ig.game.camera.shake(),this.rumbles.O6693=!1}else this.rumbles={}},O2841:function(){ig.game.O4269&&(this.O5320(ig.game.O4269)<=ig.game.O8283&&!ig.game.O4269.O2031("disablesTransport"))&&(ig.game.O4269.pos=ig.game.O5662(this.pos))},O5238:function(a){var b=
0<=a.indexOf("absolute");b&&(a=ig.game.strings.replaceAll(a,"absolute",""),a=a.trim());var c=a.split(" ");a=ig.game.O4269.O7437.x;b?(b=parseInt(c[0]),c=parseInt(c[1]),0!=b&&(ig.game.O4269.vel.x=b.limit(-a,a)),0!=c&&(ig.game.O4269.vel.y=c.limit(-a,a))):(ig.game.O4269.vel.x=(ig.game.O4269.vel.x+parseInt(c[0])).limit(-a,a),ig.game.O4269.vel.y=(ig.game.O4269.vel.y+parseInt(c[1])).limit(-a,a))},O3753:function(a){ig.game.O4269.O2031("disablesTransport")||
(ig.game.O4269.O2356=new Date,a=a.split(" "),a={x:ig.game.O4269.pos.x+parseInt(a[0]),y:ig.game.O4269.pos.y+parseInt(a[1])},ig.game.O4349.O2947(ig.game.O4269.pos,a,ig.game.O4269.vel,ig.game.O4269.O6609),ig.game.O4269.pos.x=a.x,ig.game.O4269.pos.y=a.y)},O5636:function(a){if(a){a=a.toLowerCase();a=a.split(" and ");for(var b=0;b<a.length;b++){var c=a[b];c&&-1===this.allIs.indexOf(c)&&this.allIs.push(c)}ig.game.O6401.O6873(this)}},
removeFromAllIs:function(a){if("*"==a)this.allIs=[],ig.game.O6401.O6873(this);else if(a){a=a.toLowerCase();a=a.split(" and ");for(var b=0;b<a.length;b++){var c=a[b];c&&(c=this.allIs.indexOf(c),0<=c&&this.allIs.splice(c,1))}ig.game.O6401.O6873(this)}},O8428:function(a){a&&-1===this.allHas.indexOf(a)&&(this.allHas.push(a.toLowerCase()),ig.game.O6401.O6873(this));this.O5139=a},O6843:function(a){"*"==
a?(this.allHas=[],ig.game.O6401.O6873(this)):a&&(a=this.allHas.indexOf(a.toLowerCase()),0<=a&&(this.allHas.splice(a,1),ig.game.O6401.O6873(this)))},doHarm:function(a){if(!ig.game.O5699&&this.attributes.canHarmOrHasHighImpact&&parseInt(a)==a&&1<=a&&100>=a){var b=ig.game.O4269;b.O4217(parseInt(a),this,!0,!0);b.standing&&!b.attachments.m&&(ig.game.motionDialog&&ig.game.motionDialog.O5076("harmed"),b.O2741())}},
doHeal:function(a){parseInt(a)==a&&(1<=a&&100>=a)&&(ig.game.O4269.health+=parseInt(a),100<ig.game.O4269.health&&(ig.game.O4269.health=100),ig.game.motionDialog&&ig.game.motionDialog.O5076("healed"))},O2882:function(a){var b=!1,c=ig.game.O6401.O4560;0<=a.indexOf(c)&&!ig.game.O6401.O4174(this.thingReferences,c)&&(b=!0,a=ig.game.strings.replaceAll(a,c,""),a=ig.game.strings.replaceAll(a,"  "," "),a=a.trim());a=a.split(" or ");
a=a[ig.game.O5167(0,a.length-1)];c=ig.game.O6401.O7357(a,this.thingReferences);a!=c&&this.O4211(c,b)},O3365:function(a,b){var c=this;ig.game.O4961.getItem_P(a,"interact4").done(function(d){if(0<=ig.game.O6401.O6837.indexOf(d.base)){c.O3704=ig.game.O5662(ig.game.O4269.pos);var e={},f="HOLDER"==d.base?ig.game.O4269:this;"HOLDER"==d.base&&void 0!==b&&(e.lockAtHolderPage=b);var g=!1;d.url&&(g=
0<=d.url.indexOf("vimeo.com")||0<=d.url.indexOf("imgur.com")||0<=d.url.indexOf("vine.co"));g||("MEDIUM"==d.base?ml.Misc.O6896(d.url,ig.game.O4269.O2507,!0):ig.game.O4703.O3217(a,f,e,void 0,!0))}})},O4211:function(a,b){var c=ig.game.O4961.getItemBasic(a,"ent_int_gt"),d=this;c.imagesBeingGenerated.done(function(){var e=ig.game.O4269,f=ig.game.O7510.O969(c.base);f&&!(e.attachments[f]&&e.attachments[f].id==a)&&
(e.attachments[f]&&ig.game.O4349.O3168(f,null),ig.game.O7510.O2135(e,f,a,null,d.O276),ig.game.O4349.O3168(f,a),b||ig.game.sounds.pickup.play())})},O3204:function(a){if(!ig.game.O707){a="*"==a?["wearable","mountable","holdable","dynamic","brain"]:[a];for(var b=0;b<a.length;b++){var c=a[b],d="dynamic"==c?"WEARABLE":c.toUpperCase(),e=ig.game.O7510.slots[d];e&&("WEARABLE"==d?ig.game.O4269.attachments.w&&
(d=ig.game.O4269.attachments.w.base,("wearable"==c&&"STACKWEAR"==d||"dynamic"==c&&"DYNATHING"==d)&&ig.game.O7510.O4416(ig.game.O4269,e,null)):ig.game.O7510.O4416(ig.game.O4269,e,null))}}},O4753:function(a,b){var c=this,d=ig.game.O4961.getItemBasic(a,"ent_int_tm");d&&d.imagesBeingGenerated.done(function(){if("DYNATHING"==d.base){var a={img:d.img,attributes:d.attributes,soundId:d.soundId,O6315:c,text:d.text,givenName:d.name,
O7848:b,O6454:c.O6454};d.attributes&&d.attributes.replaces&&(c.anims.cell1.alpha=c.anims.cell2.alpha=0);var f;if(c.O4591){var g=ml.Misc.O2849(b);g&&(f=ig.game.O5662(g.pos))}else f=ig.game.O5662(c.pos);f&&ig.game.O6879(EntityDynathing,f.x,f.y,a)}else a={img:d.img,attributes:d.attributes,soundId:d.soundId,O2777:c.O276,boundingBox:d.boundingBox,givenName:d.name,O7848:b,
O6454:c.O6454},ig.game.O6879(EntityMotion,c.pos.x,c.pos.y,a)})},O967:function(a,b,c){this.O8280=null;b&&(this.anims.cell1.alpha=this.anims.cell2.alpha=1);ig.game.O4269&&c==ig.game.O4269.O2507&&this.reactTo("ends",a)},O6119:function(a,b){ig.game.motionDialog.O565().done(function(){var c=!1,d=ig.game.motionDialog;1<=d.motionIds.length&&(d.selectedIndex=Math.floor(d.motionIds.length/
2),(c=d.O7484(a))||(c=d.O7484(a,!0)));!c&&b&&(ig.game.O7510.O4044(ig.game.O4269,b),ig.game.O4349.O7033(b,null))}).fail(function(){b&&(ig.game.O7510.O4044(ig.game.O4269,b),ig.game.O4349.O7033(b,null))})},logSaid:function(a){a&&(this.lastSaid.push(a),5<this.lastSaid.length&&this.lastSaid.splice(0,1))},update:function(){this.O4619();this.O6454||(this.pos=ig.game.O5662(this.posOriginal));
if(this.attributes.O2351){var a=(new Date).getSeconds(),a=Math.round(a*(this.attributes.slowChange?0.15:0.5))%2;this.O1457=this.anims["cell"+(a+1)]}else this.O1963.delta()>=this.O8379&&ig.game.chance(0.5)&&(this.O1457=this.anims["cell"+(this.O1457==this.anims.cell1?2:1)],this.O1963.reset());this.O7429();this.O7147();if(this.O3704&&(ig.game.O4269.pos.x!=this.O3704.x||ig.game.O4269.pos.y!=
this.O3704.y))ig.game.mediaDialog.O3628?ig.game.mediaDialog.O4192():ig.game.writableDialog.isOpen&&ig.game.writableDialog.close(),this.O3704=null;this.O6586&&this.O6586.delta()>=this.delaySeconds&&(this.delaySeconds=this.delaySecondsDefault,this.O7718());this.O2293&&this.O2293.delta()>=this.O6012.O6274&&(this.O6111(this.O6012.interactionType,
this.O6012.text,this.O6012.O6599),this.O2293=this.O6012=null);this.O3105&&(this.O3105.O6878&&!this.O3105._kill&&!this.O6586)&&(ig.game.O4269&&this.O3105.O7848==ig.game.O4269.O2507&&this.reactTo("ends",this.O3105.givenName),this.O3105.kill());this.O6030=!!this.O353;this.O353=
ml.Misc.O1461(this,ig.game.O4269,ig.game.O6401.O191)&&ig.game.O4269&&this.checksNears&&this.O5727(ig.game.O4269);this.O7509=this.O5734;this.O5734=ml.Misc.O1461(this,ig.game.O4269,ig.game.O6401.O7739)&&ig.game.O4269&&(1>=Math.abs(ig.game.O4269.vel.x)||this.checksNears||-1>ig.game.O4269.vel.y)&&this.O5727(ig.game.O4269);
this.O2272=this.O8390;(this.O8390=ml.Misc.O1461(this,ig.game.O4269))&&0==ig.game.O4269.vel.x&&this.O4684&&0!=this.O4684.x?(this.O1522=null,this.data&&1<=this.data.length?(this.reactTo("viewed"),this.O1398()):this.O3696("viewed")):this.O8390&&!this.O2272?(this.O1522=null,this.data&&1<=
this.data.length?this.reactTo("reaches"):this.O3696("reaches")):this.O5734&&!this.O7509?(this.O1522=null,this.data&&1<=this.data.length?(this.O1398(),this.checksNears&&this.reactTo("nears")):this.O3696("nears")):this.O353&&!this.O6030?(this.O1522=null,this.data&&1<=this.data.length?(this.O1398(),this.checksNears&&this.reactTo("approaches")):this.O3696("approaches")):
!this.O5734&&this.O7509?(ig.game.mediaDialog.O3628&&ig.game.mediaDialog.O4192(),this.O5651()):this.O5734&&-10>ig.game.O4269.vel.y&&0==ig.game.O4269.vel.x&&ig.game.O4269.O2865!=ig.game.O4269.O2558.CLIMBING&&this.data&&(1<=this.data.length&&ml.Misc.O1461(this,ig.game.O4269))&&this.O2090();this.O4591?this.O7664(ig.game.O4269):
this.O217();a=null!=this.O3105;this.O3105=ig.game.O6401.O5758(this);if(this.attributes.solid)this.O5692(!(this.O3105&&this.O3105.attributes.passable));else{var b=this.O3105&&this.O3105.attributes.solid;this.boundingBox=this.O3105&&this.O3105.boundingBox?ig.game.O5662(this.O3105.boundingBox):ig.game.O5662(this.boundingBoxOriginal);this.O2372();this.O5692(b)}!this.O3105&&
a&&this.O6535();this.O4591||ig.game.decorator.O6341({pos:{x:this.pos.x-7,y:this.pos.y-7},size:{x:this.size.x,y:this.size.y}},this);ig.game.O4269&&(this.O4684=ig.game.O5662(ig.game.O4269.vel));this.parent()},O2090:function(){var a=!0;ig.game.O6401.O426&&0.5>=ig.game.O6401.O426.delta()?a=!1:ig.game.O4269&&(null!=ig.game.O4269.miniJumpTimer||
null!=ig.game.O4269.O3113)?a=!1:ig.game.O707&&(void 0===this.O4959&&this.O5309&&(this.O4959=(a=ig.game.O7715.O1009({x:this.O5309.x,y:this.O5309.y+1}))?a.thing:null),a=!this.O4959||-1===["PASS","CLIMB","PUSH","PUSHDIAG"].indexOf(this.O4959.base));a&&ig.game.O6401.O7786()&&(a=!1);a&&(this.reactTo("enters")&&(ig.game.O6401.O426=new ml.Timer),
this.O6586||(this.O6586=new ml.Timer))},O4619:function(){if(!this.O5998&&!ig.game.areaClosed&&!this.O3229&&ig.game.gameStartTimer&&0<=ig.game.gameStartTimer.delta()&&ig.game.O4269&&0===ig.game.O1132&&(!ig.game.O5699||this.O6454)&&(this.O4591||this.O6454||this.O5320(ig.game.O4269)<=ig.game.O6401.O4229)&&ig.game.motionDialog&&
ig.game.motionDialog.O864)this.reactsTo&&0<=this.reactsTo.indexOf("someone_arrives")&&(this.O1315("arrives"),ig.game.motionDialog.O6640()),this.O3229=!0},O7664:function(a){a&&(this.pos=ig.game.O5662(a.pos),this.pos.y-=ig.system.O8417+100,this.O6575&&this.O6575.update({x:a.pos.x+3,y:a.pos.y-0.4*ig.system.height}))},O6535:function(){this.pos=ig.game.O5662(this.posOriginal);
this.size=ig.game.O5662(this.sizeOriginal);this.offset=ig.game.O5662(this.offsetOriginal);this.boundingBox=ig.game.O5662(this.boundingBoxOriginal);this.O2372()},O5727:function(a){var b=Math.abs(a.pos.x-this.pos.x)<=ig.game.tileSize,c=null;b||(c=a.O6609&&a.pos.x<this.pos.x||!a.O6609&&a.pos.x>this.pos.x);return b||c},O7429:function(){this.O1249&&5<=this.O1249.delta()&&(this.O1249.reset(),this.O4161()||
(this.anims.cell1.flip.x=this.anims.cell2.flip.x=this.O6585))},O4161:function(){var a=this.O6485(1.5*ig.game.O6401.O7739);a&&(this.anims.cell1.flip.x=this.anims.cell2.flip.x=this.pos.x<a.pos.x);return!!a},O6485:function(a){var b=null,c=null,d=ig.game.O413.player;if(d)for(var e=0;e<d.length;e++){var f=d[e];if(!f._killed&&this.O5727(f)){var g=this.O5320(f);if(g<=a&&(null==c||g<c))b=f,
c=g}}return b},O3696:function(a){if(null==this.data&&!this.O5998){this.data=[];var b=this;ig.game.O4961.getItem_P(b.thingTypeId,"interact5").done(function(c){var d=c.textData;b.thingReferences=c.thingRefs;b.data=ig.game.O6401.O171(d,b.thingReferences);ig.game.O6401.O4814(b);a&&b.reactTo(a)})}},O1398:function(){if(!this.O6454&&!this.attributes.unnamed){void 0===this.O1565&&(this.O1565=
ig.game.O6401.O1032(this.data));var a=this.givenName+"\r";this.O1565?a="up = enter\r":7>=ig.game.O5210&&(a+=(ig.ua.mobile?"action":"space")+"/type = interact");this.boundingBox?ig.game.actioninfo.open(this,this.pos.x+this.offset.x/2,this.pos.y+this.offset.y,a):ig.game.actioninfo.open(this,this.pos.x-4,this.pos.y,a)}},O5651:function(){this.attributes.unnamed||ig.game.actioninfo.close(this)},getResult:function(a,b,c,d){var e=null,f=
[],g=this.O8451(),h=null;this.O8280?h=this.O8280.givenName:this.O3105&&(h=this.O3105.givenName);if(this.data&&1<=this.data.length){b&&-1==b.indexOf("://")&&(b=b.toLowerCase());for(var k=0;k<this.data.length;k++){var l=this.data[k];if(c)l.marker==c&&(!l.condition||ig.game.O6401.O4711(a,b,l.condition,this.allHas,this.allIs,this.allNumber,this.reactsTo,this.O1522,this.O5139,this.lastHeard,g,h))&&f.push(ig.game.O5662(l.result));
else if(!l.marker){var m=!l.context;this.O4240&&(m=l.context==this.O4240);m&&(a&&l.interactionBased?ig.game.O6401.O4711(a,b,l.condition,this.allHas,this.allIs,this.allNumber,this.reactsTo,this.O1522,this.O5139,this.lastHeard,g,h)&&f.push(ig.game.O5662(l.result)):!a&&!l.interactionBased&&(!l.condition||ig.game.O6401.O4711(a,b,l.condition,this.allHas,this.allIs,this.allNumber,this.reactsTo,this.O1522,
this.O5139,this.lastHeard,g,h))&&f.push(ig.game.O5662(l.result)))}}1<=f.length&&(a=ig.game.O5167(0,f.length-1),e=f[a])}!e&&!d&&this.logSaid("");return e},draw:function(){if(!this.O4591){this.O6454||(this.pos=ig.game.O5662(this.posOriginal));var a=this.O7672(),b=this.O3105;if(!b||!b.attributes||!b.attributes.replaces)this.O1457.draw(a.x,a.y+(this.attributes&&this.attributes.affectsBelow?-19:0));b&&b.O5891(this,
a)}},O1668:function(){this.O6575.draw()},O7672:function(){var a={x:this.pos.x+this.offset.x-ig.game._rscreen.x,y:this.pos.y+this.offset.y-ig.game._rscreen.y};this.boundingBox||(a.x-=5,a.y-=Math.floor(this.imageSize-ig.game.tileSize));return a},O28:function(a){this.parent(a)},O3141:function(a,b){a.O6909&&this.O5607!=a.throwId&&(this.O5607=a.throwId,this.reactTo("hits",a.O2068));this.parent(a,b)},O1446:function(a){var b=
null,c=ig.game.O4269.O7437.x+10;a=a.split(" ");3==a.length&&(parseInt(a[0])==a[0]&&parseInt(a[1])==a[1]&&Math.abs(a[0])<=c&&Math.abs(a[1])<=c&&"string"===typeof a[2]&&24==a[2].length)&&(b={opp:{x:Math.round(this.pos.x),y:Math.round(this.pos.y)},opv:{x:parseInt(a[0]),y:parseInt(a[1])},iid:a[2]});return b},O2802:function(a,b){if(a instanceof Array)for(var c=0;c<a.length;c++){var d=this.O1446(a[c]);d&&this.O5657(d)}},O5657:function(a,b){var c=ig.game.O4961.getItemBasic(a.iid,
"ent_int_ti"),d=c&&!this.attributes.canHarmOrHasHighImpact&&ig.game.O8430.O7339(c.attributes);if(c&&!d){var e=this;c.imagesBeingGenerated.done(function(){var d={O198:{width:c.img.width,height:c.img.height,flipX:0<a.opv.x?1:0,path:c.img.path,animSheet:ig.game.entityManager.getAnimationForEntity(c,0,!1)},itemId:c.id,soundId:c.soundId,O8247:c.base,attributes:c.attributes,O2068:c.name,O1117:a.opv,O2379:!0,originatorId:e.O3123(),
throwId:b};ig.game.O6879(EntityThrownItem,a.opp.x,a.opp.y,d);ig.game.sounds.O7086(ig.game.sounds.whoosh,e)})}},O3123:function(){return this.O5309?this.O5309.x+":"+this.O5309.y:""},O5692:function(a){this.collides=a?ig.Entity.COLLIDES.FIXED:ig.Entity.COLLIDES.NEVER},setFont:function(a){this.font=ig.game[a+"Font"]},tidyUp:function(){ig.game.camera.O84&&ig.game.camera.O84.O276==this.O276&&
(ig.game.camera.O84=null);this.O3105&&this.O3105.kill();this.O8280&&this.O8280.kill()}})});ig.baked=!0;
ig.module("game.entities.immobile.livanim").requires("impact.entity").defines(function(){window.EntityLivanim=ig.Entity.extend({size:{x:19,y:19},O199:0,O1957:2,O6827:null,O5689:0.5,O6103:null,O3907:!1,O6534:[],O4772:null,O5797:3,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){this.parent(a,b,c);ml.Misc.O1659(this,a,b,c);
this.addAnim("cell1",1,[0]);this.addAnim("cell2",1,[1]);this.O1457=this.anims.cell1;this.O6827=new ml.Timer;this.O6534=ig.game.sounds.O3679(c.givenName);this.O5579&&(this.O1457.flip.x=ig.game.chance(50))},update:function(){this.O6827.delta()>=this.O1957&&ig.game.chance(this.O5689)&&(this.O6827.reset(),this.O1457=this.O1457==this.anims.cell1?this.anims.cell2:this.anims.cell1);this.O3907||
(this.O6103=null);this.O3907=!1},O28:function(a){},playSound:function(){var a=!1;null==this.O4772&&(this.O4772=new ml.Timer,a=!0);if(a||this.O4772.delta()>=this.O5797){for(a=0;a<this.O6534.length;a++)ig.game.sounds.O7086(this.O6534[a],this);this.O4772.reset()}},check:function(a){if((1<=this.O6534.length||this.soundId)&&a instanceof EntityPlayer)this.O3907=
!0,this.O6103!=a.O2507&&(this.O6103=a.O2507,this.soundId?ig.game.sounds.playIncludedSound(this):this.playSound())}})});ig.baked=!0;
ig.module("game.entities.immobile.lqdflip").requires("impact.entity").defines(function(){window.EntityLqdflip=ig.Entity.extend({size:{x:19,y:19},isLiquid:!0,O4886:!0,O1957:0.1,O6827:null,O5689:2,O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.alpha=0.5;this.O6827=new ml.Timer},update:function(){this.O6827.delta()>=
this.O1957&&ig.game.chance(this.O5689)&&(this.O1457.flip.x=!this.O1457.flip.x,this.O6827.reset())},draw:function(a){ig.game.O7649.O3452?a&&(this.O1457.alpha=0.6,this.parent()):this.parent()},check:function(a){}})});ig.baked=!0;
ig.module("game.entities.immobile.liquid").requires("impact.entity").defines(function(){window.EntityLiquid=ig.Entity.extend({size:{x:19,y:19},isLiquid:!0,O4886:!0,O3191:0.1,O1963:null,O6682:2,O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.addAnim("cell1",1,[0]);this.addAnim("cell2",1,[1]);this.O1457=
this.anims.cell1;this.O1963=new ml.Timer;this.attributes||(this.attributes={})},update:function(){this.O1963.delta()>=this.O3191&&ig.game.chance(this.O6682)&&(this.O1963.reset(),this.O1457=this.O1457==this.anims.cell1?this.anims.cell2:this.anims.cell1,this.attributes.harmful&&ig.game.O4269.O5320(this)<=1.5*ig.game.tileSize&&ig.game.O4269.O4217(2,null,!1))},draw:function(a){ig.game.O3501.isRunning&&
"changeLiquid"==ig.game.O3501.O4644?a&&(this.O1457.alpha=0.8,ml.Misc.O1651("difference"),this.parent(),ml.Misc.O13()):this.attributes.moreOpaque?(this.O1457.alpha=a?0.6:1,this.parent()):this.attributes.veryOpaque?(this.O1457.alpha=a?0.8:1,this.parent()):this.attributes.fullyOpaque?a&&(this.O1457.alpha=1,this.parent()):ig.game.O7649.O3452?a&&(this.O1457.alpha=0.6,this.parent()):(this.O1457.alpha=0.5,this.parent())},
check:function(a){}})});ig.baked=!0;
ig.module("game.entities.decorative.crumbleblock").requires("impact.entity").defines(function(){window.EntityCrumbleBlock=ig.Entity.extend({size:{x:6,y:6},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,bounciness:0.3,friction:{x:10,y:10},maxVel:{x:100,y:500},lifeTimer:null,lifeTime:0.2,O4746:0,opacity:0.8,fading:!1,init:function(a,b,c){this.parent(a,b,c);this.animSheet||(this.animSheet=new ml.AnimationSheet("media/dummy.png",this.size.x,this.size.y));
this.addAnim("main",1,[0]);this.O4746=this.vel.x/900;this.lifeTimer=new ml.Timer},update:function(){!this.persistent&&(this.lifeTime&&this.lifeTimer.delta()>this.lifeTime)&&(this.fading=!0);this.fading&&(this.opacity-=3*ig.system.tick,0>=this.opacity&&this.kill());this.O1457.angle+=this.O4746;this.parent()},draw:function(){1!=this.opacity&&(ig.system.context.globalAlpha=this.opacity);this.parent();this.opacity&&(ig.system.context.globalAlpha=1)},O28:function(a){this.pos.x+=
this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick}})});ig.baked=!0;
ig.module("game.entities.immobile.crumbling").requires("impact.entity","game.entities.decorative.crumbleblock").defines(function(){window.EntityCrumbling=ig.Entity.extend({O199:0,size:{x:19,y:19},offset:{x:0,y:0},attributes:{},NAME:"CRUMBLING",type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.FIXED,O8326:null,state:0,STATES:{SOLID:0,UNSTABLE:1,CRUMBLED:2,SMASHED:3},TRIGGERTYPES:{NORMAL:0,SMASH:1},opacity:1,O7789:490,backgroundCrumbles:[],
segmentAnimSheets:[],grid:3,O3266:6,O7800:1,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);c.useKeyword&&(this.useKeyword=c.useKeyword);this.parent(a,b,c);this.addAnim("main",1,[0]);this.attributes||(this.attributes={});this.attributes.crumbleUpwards&&(this.O7800=-1);(this.attributes.strongWhenWalked||this.attributes.strongWhenWalkedAndBumped)&&this.O7207();this.O2323()},O7207:function(){if(this.thingTypeId){var a=
ig.game.O4961.getItemBasic(this.thingTypeId,"ent_crm_suk");a&&a.useKeyword&&(this.useKeyword=a.useKeyword)}},O2323:function(){for(var a=this.animSheet.image.data,b=this.O3266*ig.system.scale,c=0;c<this.grid;c++){this.segmentAnimSheets[c]=[];for(var d=0;d<this.grid;d++){var e=document.createElement("canvas");e.width=b;e.height=b;e.getContext("2d").drawImage(a,c*b,d*b,b,b,0,0,b,b);e=new ml.Image(null,null,null,e);e=new ml.AnimationSheet(null,this.O3266,this.O3266,
e);this.segmentAnimSheets[c][d]=e}}},O6415:function(a){this.state!==a&&(a===this.STATES.UNSTABLE?(this.O4897(),this.state=this.STATES.UNSTABLE):a===this.STATES.CRUMBLED?(this.reactToStateTransitionCrumbled(),this.state=this.STATES.CRUMBLED):a===this.STATES.SMASHED?(this.O7483(),this.state=this.STATES.SMASHED):a===this.STATES.SOLID&&(this.O5130(),this.state=this.STATES.SOLID))},update:function(){if(this.state===this.STATES.UNSTABLE&&
ig.game.chance(20)){var a=ig.game.O5167(0,2);ig.game.spawnEntity(EntityCrumbleBlock,this.pos.x+a*this.O3266,this.pos.y+12,{vel:{x:0,y:0},opacity:ig.game.O5167(1,3)/10,animSheet:this.segmentAnimSheets[a][1],O199:this.O7800})}if(this.state===this.STATES.SOLID&&1>this.opacity&&(this.opacity=Math.min(this.opacity+0.03,1),1==this.opacity))for(a=0;a<this.backgroundCrumbles.length;a++)this.backgroundCrumbles[a].kill();this.checkForQuakeBoostReaction();this.parent()},
checkForQuakeBoostReaction:function(){this.attributes.quakeBoostTriggered&&(ig.game.O3501.isRunning&&"quake"==ig.game.O3501.O4644&&ig.game.O3501.O3685&&ig.game.O3501.O3685.O4102&&this.state==this.STATES.SOLID&&ig.game.chance(20*ig.system.tick))&&ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL)},draw:function(){this.state!=this.STATES.CRUMBLED&&this.state!=this.STATES.SMASHED&&(ig.system.context.globalAlpha=
this.opacity,this.parent(),ig.system.context.globalAlpha=1)},O28:function(a){},O3141:function(a,b){if(!this.useKeyword){var c=a instanceof EntityThrownItem&&(a.O6909||a.O1291),d=!0;this.attributes.strongWhenWalked&&(d=c||"x"==b||"y"==b&&-1>=a._my);var e=a&&a.attributes&&a.attributes.shatters;e&&(a.energy=0);this.attributes.strongWhenWalkedAndBumped&&d&&(d=c);if(d&&(a.O4102||c)&&!this.justCollided&&!e)"x"==b?(d=Math.abs(a.prevVel.x),ig.game.sounds.collideSoft.play()):
d=Math.abs(a.prevVel.y),d>(c?100:this.O7789)||this.attributes.crumbleInstantly?(a.vel.x=a.prevVel.x,a.vel.y=a.prevVel.y,ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.SMASH),this.O400(a)):this.state!=this.STATES.UNSTABLE&&(ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL),this.O400(a))}},O400:function(a){if(a.O4102&&(!this.O8326||
3<=this.O8326.delta()))this.O8326=new ml.Timer,ig.game.O6401.O5038(ig.game.O4269,"crumbles",this.givenName)},O5679:function(a){ig.game.sounds.collideSoft.play();ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL);ig.game.O6401.O5038(a,"crumbles",this.givenName)},O4897:function(){ig.game.sounds.O7086(ig.game.sounds.crumbling,this)},
reactToStateTransitionCrumbled:function(){ig.game.sounds.collapse.play();this.collides=ig.Entity.COLLIDES.NEVER;this.O3169(!1)},O7483:function(){this.attributes.crumbleInstantly?this.reactToStateTransitionCrumbled():(ig.game.sounds.smash.play(),this.collides=ig.Entity.COLLIDES.NEVER,this.O3169(!0))},O5130:function(){this.collides=ig.Entity.COLLIDES.FIXED;this.opacity=0},O3169:function(a){for(var b=0;b<this.grid;b++)for(var c=0;c<
this.grid;c++)!this.attributes.leavesNoTrace&&ig.game.chance(30)&&this.backgroundCrumbles.push(ig.game.spawnEntity(EntityCrumbleBlock,this.pos.x+b*this.O3266,this.pos.y+c*this.O3266,{O199:0,opacity:0.3,persistent:!0,animSheet:this.segmentAnimSheets[b][c]})),a?ig.game.spawnEntity(EntityCrumbleBlock,this.pos.x+b*this.O3266,this.pos.y+c*this.O3266,{vel:{x:ig.game.O5167(-300,300),y:ig.game.O5167(-200,20)},animSheet:this.segmentAnimSheets[b][c],O199:this.O7800}):
ig.game.spawnEntity(EntityCrumbleBlock,this.pos.x+b*this.O3266,this.pos.y+c*this.O3266,{vel:{x:ig.game.O5167(-40,40),y:ig.game.O5167(-20,20)},animSheet:this.segmentAnimSheets[b][c],O199:this.O7800})},tidyUp:function(){this.backgroundCrumbles.forEach(function(a){a.kill()})}})});ig.baked=!0;
ig.module("game.entities.immobile.activator").requires("impact.entity").defines(function(){window.EntityActivator=ig.Entity.extend({toString:function(){return"ACTIVATOR"},NAME:"ACTIVATOR",size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,suppressed:!1,TRIGGERTYPES:{NORMAL:0},init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.addAnim("main",1,[0]);this.attributes||(this.attributes={})},
update:function(){this.touches(ig.game.O4269)?this.attributes.needsPressing?ig.game.O1285()&&(this.soundId?ig.game.sounds.playIncludedSound(this):this.attributes.silent||ig.game.sounds.activate.play(),ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL),ig.game.O6401.O306(this.pos,"sees","activates",this.givenName),ig.game.O6401.O5038(ig.game.O4269,"activates",this.givenName)):
this.suppressed||(this.soundId?ig.game.sounds.playIncludedSound(this):this.attributes.silent||ig.game.sounds.activate.play(),ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL),ig.game.O6401.O306(this.pos,"sees","activates",this.givenName),ig.game.O6401.O5038(ig.game.O4269,"activates",this.givenName),this.suppressed=!0):this.suppressed=!1;this.parent()},draw:function(){this.parent()},O28:function(a){this.parent(a)},
O3141:function(a,b){}})});ig.baked=!0;
ig.module("game.entities.immobile.openable").requires("impact.entity").defines(function(){window.EntityOpenable=ig.Entity.extend({toString:function(){return"OPENABLE"},NAME:"OPENABLE",size:{x:19,y:19},pos:{x:0,y:0},origPos:{x:0,y:0},rotation:0,O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.FIXED,state:0,STATES:{CLOSED:0,OPEN:1},O3873:2,O6178:0,O1754:17,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);
this.state=void 0!=c.state?c.state:0;this.origPos.x=this.pos.x;this.origPos.y=this.pos.y},O6415:function(a,b){this.state!==a&&(a===this.STATES.CLOSED?(this.soundId&&ig.game.sounds.playIncludedSound(this),this.close(),this.state=this.STATES.CLOSED):a===this.STATES.OPEN&&(this.soundId&&ig.game.sounds.playIncludedSound(this),this.open(),this.state=this.STATES.OPEN,b&&(this.O6178=this.O1754)))},open:function(){this.collides=ig.Entity.COLLIDES.NEVER},close:function(){this.collides=
ig.Entity.COLLIDES.FIXED},update:function(){this.state===this.STATES.CLOSED&&0<this.O6178?this.O6178=Math.max(0,this.O6178-this.O3873):this.state===this.STATES.OPEN&&this.O6178<this.O1754&&(this.O6178=Math.min(this.O1754,this.O6178+this.O3873));0==this.rotation?(this.pos.x=this.origPos.x,this.pos.y=this.origPos.y+this.O6178,this.size={x:19,y:19-this.O6178},this.O1457.sheet.height=19-this.O6178):1==this.rotation?
(this.pos.x=this.origPos.x,this.pos.y=this.origPos.y,this.size={x:19-this.O6178,y:19},this.O1457.sheet.width=19-this.O6178):2==this.rotation?(this.pos.x=this.origPos.x,this.pos.y=this.origPos.y,this.size={x:19,y:19-this.O6178},this.O1457.sheet.height=19-this.O6178):3==this.rotation&&(this.pos.x=this.origPos.x+this.O6178,this.pos.y=this.origPos.y,this.size={x:19-this.O6178,y:19},this.O1457.sheet.width=19-this.O6178);this.parent()},draw:function(){this.parent()},
O28:function(a){this.parent(a)},O3141:function(a,b){}})});ig.baked=!0;
ig.module("game.entities.immobile.decoact").requires("impact.entity").defines(function(){window.EntityDecoact=ig.Entity.extend({toString:function(){return"DECOACT"},NAME:"DECOACT",size:{x:19,y:19},pos:{x:0,y:0},rotation:0,O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,state:0,STATES:{INACTIVE:0,ACTIVE:1},init:function(a,b,c){this.parent(a,b,c);this.addAnim("cellInactive",1,[0]);this.addAnim("cellActive",1,[1]);this.state=void 0!=c.state?
c.state:0;this.O1457=0==this.state?this.anims.cellInactive:this.anims.cellActive},O6415:function(a){this.state!==a&&(a===this.STATES.INACTIVE?(this.O1354(),this.state=this.STATES.INACTIVE):a===this.STATES.ACTIVE&&(this.O4003(),this.state=this.STATES.ACTIVE))},O4003:function(){this.O1457=this.anims.cellActive},O1354:function(){this.O1457=this.anims.cellInactive},update:function(){},draw:function(){this.parent()},O28:function(a){this.parent(a)}})});
ig.baked=!0;
ig.module("game.entities.immobile.decofb").requires("impact.entity").defines(function(){window.EntityDecofb=ig.Entity.extend({size:{x:38,y:38},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O766:!0,init:function(a,b,c){c.animSheet&&(this.size.x=c.animSheet.width,this.size.y=c.animSheet.height);this.parent(a,b,c);this.addAnim("cellBack",1,[0]);this.addAnim("cellFront",1,[1]);this.O1457=this.anims.cellBack},update:function(){},
draw:function(){var a=this.O7672({x:this.pos.x-ig.game._rscreen.x,y:this.pos.y-ig.game._rscreen.y});this.anims.cellBack.draw(a.x,a.y)},O6780:function(){var a=this.O7672({x:this.pos.x-ig.game._rscreen.x,y:this.pos.y-ig.game._rscreen.y});this.anims.cellFront.draw(a.x,a.y)},O28:function(a){},check:function(a){},O7672:function(a){this.size.x>ig.game.tileSize?a.x-=Math.floor(this.size.x/4):this.size.x<ig.game.tileSize&&(a.x+=Math.floor((ig.game.tileSize-
this.size.x)/2));a.y-=Math.floor(this.size.y-ig.game.tileSize);return a}})});ig.baked=!0;
ig.module("game.entities.immobile.multithing").requires("impact.entity").defines(function(){window.EntityMultithing=ig.Entity.extend({size:{x:38,y:38},O199:0,decorative:!1,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O6601:null,placementId:null,O6170:!1,O2673:!0,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.placementId=a+"_"+b;this.addAnim("main",1,[0]);this.addAnim("back",
1,[1]);this.attributes||(this.attributes={});this.attributes.inFront&&(this.decorative=!0);this.O6601={pos:this.O7672(ig.game.O5662(this.pos)),size:ig.game.O5662(this.size)}},update:function(){(this.O6170=ig.game.multithing&&ig.game.multithing.isOpen&&ig.game.multithing.placementId==this.placementId)?ig.game.actioninfo.isOpen&&ig.game.actioninfo.close(this):(this.O7509=this.O5734,(this.O5734=ml.Misc.O1461(this,
ig.game.O4269))&&!this.O7509?(ig.game.actioninfo.open(this,this.pos.x,this.pos.y,this.givenName),ig.game.O5307=this):!this.O5734&&this.O7509&&(ig.game.actioninfo.close(this),ig.game.O5307==this&&(ig.game.O5307=null)));ig.game.decorator.O6341(this.O6601,this)},draw:function(){var a=this.O7672({x:this.pos.x-ig.game._rscreen.x,y:this.pos.y-ig.game._rscreen.y});this.anims.main.draw(a.x,
a.y)},openDialogIfNeeded:function(){ig.game.multithing&&!ig.game.multithing.isOpen&&ig.game.multithing.open(this,!this.attributes.noDustTrails)},O7672:function(a){this.size.x>ig.game.tileSize?a.x-=Math.floor(this.size.x/4):this.size.x<ig.game.tileSize&&(a.x+=Math.floor((ig.game.tileSize-this.size.x)/2));a.y-=Math.floor(this.size.y-ig.game.tileSize);return a},tidyUp:function(){ig.game.multithing&&(ig.game.multithing.isOpen&&ig.game.multithing.placementId==this.placementId)&&ig.game.multithing.close();
ig.game.O5307==this&&(ig.game.O5307=null)}})});ig.baked=!0;
ig.module("game.entities.immobile.decotch").requires("impact.entity").defines(function(){window.EntityDecotch=ig.Entity.extend({toString:function(){return"DECOTCH"},NAME:"DECOTCH",size:{x:19,y:19},pos:{x:0,y:0},rotation:0,O199:0,suppressed:!1,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,state:0,STATES:{INACTIVE:0,ACTIVE:1},TRIGGERTYPES:{NORMAL:0},init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.addAnim("cellInactive",
1,[0]);this.addAnim("cellActive",1,[1]);this.state=void 0!=c.state?c.state:0;this.O1457=this.state==this.STATES.INACTIVE?this.anims.cellInactive:this.anims.cellActive;this.attributes||(this.attributes={});this.soundId&&(this.type=ig.Entity.TYPE.B,this.O6821=ig.Entity.TYPE.A)},O6415:function(a){this.state!==a&&(a===this.STATES.INACTIVE?(this.O1354(),this.state=this.STATES.INACTIVE):a===this.STATES.ACTIVE&&(this.O4003(),this.state=this.STATES.ACTIVE,ig.game.sounds.playIncludedSound(this)))},
O4003:function(){this.O1457=this.anims.cellActive},O1354:function(){this.O1457=this.anims.cellInactive},update:function(){this.touches(ig.game.O4269)?this.attributes.needsPressing?ig.game.O1285()&&(ig.game.sounds.actionSoft.play(),ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL)):this.suppressed||(ig.game.sounds.actionSoft.play(),ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL),this.suppressed=
!0):this.suppressed=!1;this.state==this.STATES.ACTIVE&&ig.game.decorator.O6341(this,this);this.parent()},draw:function(){this.parent()},O28:function(a){this.parent(a)},O3141:function(a,b){},check:function(a){if(this.soundId&&a instanceof EntityPlayer&&this.state==this.STATES.ACTIVE&&this.attributes.needsPressing){var b=this.pos.x+this.size.x/2,c=this.pos.y+this.size.y/2,d=a.pos.x+a.size.x/2,e=a.pos.y+a.size.y/2;(d<b&&0<a.vel.x||d>b&&0>a.vel.x||e<c&&0<a.vel.y||
e>c&&0>a.vel.y)&&ig.game.sounds.playIncludedSound(this)}}})});ig.baked=!0;
ig.module("game.entities.immobile.gather").requires("impact.entity").defines(function(){window.EntityGather=ig.Entity.extend({toString:function(){return"GATHER"},NAME:"GATHER",size:{x:19,y:19},pos:{x:0,y:0},rotation:0,O199:0,suppressed:!1,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O7426:null,O782:1.5,state:0,STATES:{UNGATHERED:0,GATHERED:1},TRIGGERTYPES:{NORMAL:0},resistance:0,hasId:null,O724:null,factor:{value:0,
speed:0,speedStep:0.001},factorOther:{value:0,speed:0,speedStep:0.001},factorMax:0.25,O3730:0.02,O2564:0.001,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);c.hasId&&(this.hasId=c.hasId);this.parent(a,b,c);this.addAnim("ungathered",1,[0]);this.addAnim("gathered",1,[1]);this.state=this.state||this.STATES.UNGATHERED;this.O1457=this.state==this.STATES.UNGATHERED?this.anims.ungathered:this.anims.gathered;this.attributes||(this.attributes={});this.O3029()},
O3029:function(){this.O5391();this.attributes.rotating&&(this.factor.speed=0.01);this.factor.value=0.5*Math.random();this.factorOther.value=0.5*Math.random()},O5391:function(){this.attributes.onlyReactToAction&&(this.attributes.resistant?this.resistance=5:this.attributes.veryResistant&&(this.resistance=10),this.attributes.randomizeResistance&&(this.resistance+=ig.game.O5167(-3,3)))},O6415:function(a,b){var c=a&&a.sta,d=a&&a.uid,e=a&&a.tid;this.state!==c&&
(c===this.STATES.UNGATHERED?this.toUngathered():c===this.STATES.GATHERED&&(b||(this.O776(),(c=ig.game.O4961.getItemBasic(this.thingTypeId,"ent_gth_us"))&&ig.game.addStat(d,"gathered",c.name),this.O762(e)),this.O1043()))},O776:function(){this.soundId?ig.game.sounds.playIncludedSound(this):(this.attributes.edible&&this.playSound("munch"),this.attributes.valuable&&this.playSound("success"),this.attributes.cracking&&(ig.game.decorator.burst(this,10),
this.playSound("smash")),!this.attributes.edible&&(!this.attributes.valuable&&!this.attributes.harvested&&!this.attributes.cracking)&&this.playSound("collect"))},playSound:function(a){ig.game.sounds.O7086(ig.game.sounds[a],this,1)},O1043:function(a){this.O1457=this.anims.gathered;this.state=this.STATES.GATHERED;this.attributes.heals&&(ig.game.O4269.health=(ig.game.O4269.health+40).limit(0,100),ig.game.motionDialog&&ig.game.motionDialog.O5076("healed"));ig.game.decorator.O6926(this.pos)},
toUngathered:function(){this.O5391();this.O1457=this.anims.ungathered;this.state=this.STATES.UNGATHERED},update:function(){if(this.touches(ig.game.O4269)){if(!this.suppressed&&this.state==this.STATES.UNGATHERED&&(this.attributes.harmful?(this.O724&&1<=this.O724.delta()&&(this.O724=null),this.O724||(ig.game.O4269.O4217(40,this,!0),this.O724=new ml.Timer)):this.attributes.deadly&&ig.game.O4269.kill(ig.game.deathTypes.DEADLY),
this.getUseKeywordIsOk()&&(!this.attributes.onlyReactToAction&&!this.attributes.onlyReactToThrow&&this.O2337())&&(this.attributes.harvested&&(!this.O7426&&1>=Math.abs(ig.game.O4269.vel.x))&&(this.O7426=new ml.Timer,ig.game.sounds.O7086(ig.game.sounds.harvest,this)),!this.attributes.harvested||this.O7426&&this.O7426.delta()>=this.O782)))ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL),this.suppressed=
!0,ig.game.O4961.getItem_P(this.thingTypeId,"gather_update").done(function(a){ig.game.O6401.O5038(ig.game.O4269,"gathers",a.name)})}else this.suppressed=!1,this.O7426&&(this.O7426=null,ig.O3970.stopAll());this.state==this.STATES.UNGATHERED&&ig.game.decorator.O6341(this,this);this.O2884()},O2884:function(){this.attributes.rotating?(this.factor.value+=this.factor.speed,this.factor.value>=ig.game.fullAngle&&(this.factor.value=
0),this.O1457.angle=this.attributes.rotating?this.factor.value:-this.factor.value):(this.factor=this.O1691(this.factor),this.attributes.hovering&&(this.factorOther=this.O1691(this.factorOther),ig.game.chance(10)&&(this.factorOther=this.O1691(this.factorOther))),this.attributes.hovering&&(this.offset.x=10*this.factor.value,this.offset.y=10*this.factorOther.value))},O1691:function(a){a.speed+=a.speedStep;a.speed=a.speed.limit(-this.O3730,this.O3730);
a.value+=a.speed;a.value=a.value.limit(-(4*this.factorMax),4*this.factorMax);a.value<=-this.factorMax?a.speedStep=this.O2564:a.value>=this.factorMax&&(a.speedStep=-this.O2564);return a},O4527:function(a){!this.suppressed&&(this.state==this.STATES.UNGATHERED&&!this.attributes.onlyReactToThrow&&this.O1625(a)&&this.O2337(!0))&&(ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL),
this.suppressed=!0)},O4550:function(a){if(a&&!this.suppressed&&this.state==this.STATES.UNGATHERED&&(this.attributes.reactToThrow||this.attributes.onlyReactToThrow)&&this.O1625(a)&&this.O2337(!0))ig.game.O4349.O740(this.O5309,this.TRIGGERTYPES.NORMAL),this.suppressed=!0},O2337:function(a){a=0>=--this.resistance;a||(ig.game.decorator.burst(this,3),this.playSound("collapse"));return a},
getUseKeywordIsOk:function(){var a=!0,b=ig.game.O4961.getItemBasic(this.thingTypeId,"ent_gth_guk");b.useKeyword&&(a=ig.game.O4269.attachments.h&&ml.Misc.O7871(ig.game.O4269.attachments.h.name,b.useKeyword)||ig.game.O4269.attachments.b&&ml.Misc.O7871(ig.game.O4269.attachments.b.name,b.useKeyword)||ig.game.O4269.attachments.w&&ml.Misc.O7871(ig.game.O4269.attachments.w.name,b.useKeyword));return a},O1625:function(a){var b=
!0,c=ig.game.O4961.getItemBasic(this.thingTypeId,"ent_gth_gukf");c.useKeyword&&(b=ml.Misc.O7871(a,c.useKeyword));return b},O2396:function(a){var b=!0;if(this.attributes.sometimesHas&&a%3||this.attributes.rarelyHas&&a%15||this.attributes.veryRarelyHas&&a%50)b=!1;return b},O762:function(a){if(this.hasId&&this.O2396(a)){var b=ig.game.O4961.getItemBasic(this.hasId,"ent_gth_hei"),c=this;b.imagesBeingGenerated.done(function(){var d,e,f;d=Math.round(c.pos.x+
c.size.x/2);e=Math.round(c.pos.y+c.size.y/2);f={x:50*(a%2?-1:1),y:-320};ig.game.O4269.O2125++;f={O198:{width:b.img.width,height:b.img.height,flipX:0<f.x?1:0,path:b.img.path,animSheet:ig.game.entityManager.getAnimationForEntity(b,0,!1)},itemId:b.id,O8247:b.base,attributes:b.attributes,O2068:b.name,O1117:f,O2379:!0,originatorId:c.O3123(),throwId:a};ig.game.O6879(EntityThrownItem,d,e,f);ig.game.sounds.O7086(ig.game.sounds.whoosh,
c)})}},O3123:function(){return this.O5309?this.O5309.x+":"+this.O5309.y:""},O28:function(a){this.parent(a)},O3141:function(a,b){}})});ig.baked=!0;
ig.module("game.entities.immobile.deadlyem").requires("impact.entity").defines(function(){window.EntityDeadlyem=ig.Entity.extend({size:{x:13,y:13},offset:{x:3,y:3},pos:{x:0,y:0},origPos:{x:0,y:0},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,state:0,STATES:{HIDDEN:0,EMERGED:1},O6178:0,O4543:17,O2199:0.5,O758:3,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.state=void 0!=c.state?c.state:0;
this.pos.x+=this.offset.x;this.pos.y+=this.offset.y;this.origPos.x=this.pos.x;this.origPos.y=this.pos.y},O6415:function(a,b){this.state!==a&&(a===this.STATES.HIDDEN?this.state=this.STATES.HIDDEN:a===this.STATES.EMERGED&&(this.state=this.STATES.EMERGED,b||ig.game.sounds.O7086(ig.game.sounds.shortWhoosh,this)))},update:function(){this.state===this.STATES.HIDDEN&&this.O6178<this.O4543?this.O6178=Math.min(this.O4543,this.O6178+this.O2199):this.state===
this.STATES.EMERGED&&0<this.O6178&&(this.O6178=Math.max(0,this.O6178-this.O758));0==this.rotation?(this.pos.x=this.origPos.x,this.pos.y=this.origPos.y+this.O6178,this.size={x:19,y:19-this.O6178},this.O1457.sheet.height=19-this.O6178):1==this.rotation?(this.pos.x=this.origPos.x,this.pos.y=this.origPos.y,this.size={x:19-this.O6178,y:19},this.O1457.sheet.width=19-this.O6178):2==this.rotation?(this.pos.x=this.origPos.x,this.pos.y=this.origPos.y,
this.size={x:19,y:19-this.O6178},this.O1457.sheet.height=19-this.O6178):3==this.rotation&&(this.pos.x=this.origPos.x+this.O6178,this.pos.y=this.origPos.y,this.size={x:19-this.O6178,y:19},this.O1457.sheet.width=19-this.O6178);this.parent()},draw:function(){this.parent()},O28:function(a){},check:function(a){a.O4102&&a.kill(ig.game.deathTypes.DEADLY)}})});ig.baked=!0;
ig.module("game.entities.immobile.decoanim").requires("impact.entity").defines(function(){window.EntityDecoanim=ig.Entity.extend({size:{x:19,y:19},O199:0,O1957:0.1,O6827:null,O5689:4,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O2351:!1,O495:5,O6624:void 0,angle:null,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.addAnim("cell1",1,[0]);this.addAnim("cell2",
1,[1]);this.O1457=this.anims.cell1;this.O6827=new ml.Timer;this.attributes||(this.attributes={});this.attributes.inFront&&(this.decorative=!0);this.attributes.O2351&&(this.O2351=!0,this.O1957=1);this.attributes.slowChange&&(this.O1957=6);this.soundId&&(!this.O5579&&!this.O1938)&&(this.type=ig.Entity.TYPE.B,this.O6821=ig.Entity.TYPE.A,this.O3668(50,30));this.attributes.solid&&(this.collides=ig.Entity.COLLIDES.FIXED)},O3668:function(a,
b){this.O6624={pos:ig.game.O5662(this.pos),size:ig.game.O5662(this.size)};this.size.x+=2*a;this.size.y+=2*b;this.pos.x-=a;this.pos.y-=b;this.offset.x-=a;this.offset.y-=b},update:function(){if(this.attributes.pointsAtPerson&&ig.game.O4269&&this.O1457){this.angle=0;var a=ml.Misc.O632(this);a&&(!a.O2031("invisibility")&&!ig.game.O3501.O1292(a))&&(this.angle=this.angleTo(a)-Math.PI)}this.O1938||(this.O2351?
(a=(new Date).getSeconds(),a=Math.round(a*(this.attributes.slowChange?0.15:0.5))%2,this.O1457=this.anims["cell"+(a+1)]):this.O6827.delta()>=this.O1957&&ig.game.chance(this.O5689)&&(this.O6827.reset(),this.O1457=this.O1457==this.anims.cell1?this.anims.cell2:this.anims.cell1));ig.game.decorator.O6341(this.O6624?this.O6624:this,this);this.attributes.solid&&this.parent()},draw:function(){null!==this.angle&&
this.O1457&&(this.O1457.angle=this.angle);this.parent()},O28:function(a){},check:function(a){if(this.soundId&&a instanceof EntityPlayer){var b=this.pos.x+this.size.x/2,c=this.pos.y+this.size.y/2,d=a.pos.x+a.size.x/2,e=a.pos.y+a.size.y/2;(d<b&&0<a.vel.x||d>b&&0>a.vel.x||e<c&&0<a.vel.y||e>c&&0>a.vel.y)&&ig.game.sounds.playIncludedSound(this)}}})});ig.baked=!0;
ig.module("game.entities.immobile.sparkling").requires("impact.entity").defines(function(){window.EntitySparkling=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.addAnim("cell1",1,[0]);this.addAnim("cell2",1,[1]);this.O1457=this.anims.cell1;this.attributes||(this.attributes={});this.attributes.solid&&(this.collides=
ig.Entity.COLLIDES.FIXED)},update:function(){this.attributes.solid&&this.parent()},draw:function(){this.parent();var a=String(parseInt(0.1*(this.pos.x+ig.game._rscreen.x)+0.025*(this.pos.y+ig.game._rscreen.y))),a=a.substr(a.length-1),a=(this.attributes.sharp?[0,0,0.5,0.5,1,0.5,0.5,0.5,0,0]:[0,0.2,0.4,0.6,0.8,1,0.8,0.6,0.4,0.2])[parseInt(a)];0!=a&&(this.anims.cell2.alpha=a,this.anims.cell2.draw(this.pos.x+this.offset.x-ig.game._rscreen.x,this.pos.y+this.offset.y-ig.game._rscreen.y))},O28:function(a){},
check:function(a){}})});ig.baked=!0;
ig.module("game.entities.immobile.flexible").requires("impact.entity").defines(function(){window.EntityFlexible=ig.Entity.extend({size:{x:19,y:7},O199:0,O1957:6,O6827:null,O5689:4,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.FIXED,O6351:3,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.origPos=ig.game.O5662(this.pos);this.addAnim("cell1",1,[0]);this.addAnim("cell2",
1,[1]);this.O1457=ig.game.chance(50)?this.anims.cell1:this.anims.cell2;this.O6827=new ml.Timer;this.attributes||(this.attributes={});this.offset.y=this.O6351},update:function(){this.offset.y<this.O6351&&(this.offset.y+=0.3,this.offset.y>this.O6351&&(this.offset.y=this.O6351));this.O6827.delta()>=this.O1957&&ig.game.chance(this.O5689)&&(this.O6827.reset(),this.O1457=this.O1457==this.anims.cell1?this.anims.cell2:
this.anims.cell1);this.parent()},O28:function(a){},O3141:function(a,b){"y"==b&&a.pos.y<this.pos.y&&(this.offset.y==this.O6351&&a.O6909&&ig.game.O6401.O5038(ig.game.O4269,"activates",this.givenName),this.offset.y-=0.6,a instanceof EntityThrownItem&&(this.offset.y-=1.5),0>this.offset.y&&(this.offset.y=0),this.attributes.crumbling&&(0!=this.offset.y&&ig.game.chance(4))&&ig.game.decorator.O5767(this,this.rgb))}})});ig.baked=!0;
ig.module("game.entities.immobile.pointer").requires("impact.entity").defines(function(){window.EntityPointer=ig.Entity.extend({size:{x:38,y:38},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,url:null,init:function(a,b,c){c.animSheet&&(this.size.x=c.animSheet.width,this.size.y=c.animSheet.height);this.parent(a,b,c);this.url=c.url;this.addAnim("main",1,[0])},update:function(){this.O7509=
this.O5734;(this.O5734=this.touches(ig.game.O4269))&&ig.game.O1285()?ml.Misc.getGridNeighborOfTypes(this.O5309,["MNTGROUND","MNTAIR","MNTWATER"])||ig.game.O7421.O384(this.url).done(function(a){a&&(void 0!=a.x&&void 0!=a.y)&&ig.game.O5051.O7648(a)}):this.O5734&&!this.O7509?ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"find"):!this.O5734&&
this.O7509&&ig.game.actioninfo.close(this)},draw:function(){var a=this.O7672({x:this.pos.x-ig.game._rscreen.x,y:this.pos.y-ig.game._rscreen.y});this.anims.main.draw(a.x,a.y)},O7672:function(a){this.size.x>ig.game.tileSize?a.x-=Math.floor(this.size.x/4):this.size.x<ig.game.tileSize&&(a.x+=Math.floor((ig.game.tileSize-this.size.x)/2));a.y-=Math.floor(this.size.y-ig.game.tileSize);return a}})});ig.baked=!0;
ig.module("game.entities.immobile.placename").requires("impact.entity").defines(function(){window.EntityPlacename=ig.Entity.extend({size:{x:38,y:38},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,init:function(a,b,c){c.animSheet&&(this.size.x=c.animSheet.width,this.size.y=c.animSheet.height);this.parent(a,b,c);this.url=c.url;this.addAnim("main",1,[0])},update:function(){this.O7509=this.O5734;
this.O5734=this.touches(ig.game.O4269);if(ig.game.isEditorHere||ig.game.O4269&&2<=ig.game.O4269.rank)this.O5734&&!this.O7509?ig.game.actioninfo.open(this,this.pos.x,this.pos.y-9,"Collect+"+(ig.ua.mobile?"tap":"click")+" to return here",null,null,null,!0):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this)},draw:function(){var a=this.O7672({x:this.pos.x-ig.game._rscreen.x,y:this.pos.y-ig.game._rscreen.y});
this.anims.main.draw(a.x,a.y)},O7672:function(a){this.size.x>ig.game.tileSize?a.x-=Math.floor(this.size.x/4):this.size.x<ig.game.tileSize&&(a.x+=Math.floor((ig.game.tileSize-this.size.x)/2));a.y-=Math.floor(this.size.y-ig.game.tileSize);return a},tidyUp:function(){ig.game.actioninfo.close(this)}})});ig.baked=!0;
ig.module("game.entities.immobile.writable").requires("impact.entity").defines(function(){window.EntityWritable=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,areaGroupId:null,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457=this.anims.main},update:function(){this.O7509=this.O5734;this.O5734=
ml.Misc.O1461(this,ig.game.O4269)&&ig.game.O4269&&1>=Math.abs(ig.game.O4269.vel.x);0.75>=ig.game.O1132&&(this.O5734&&!this.O7509?(ig.game.isFullAccount&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"Collect+"+(ig.ua.mobile?"tap":"click")+" to read elsewhere",null,null,null,!0),ig.game.writableDialog.open(this.thingTypeId,this.pos.x,this.pos.y)):!this.O5734&&this.O7509&&(ig.game.isFullAccount&&
ig.game.actioninfo.close(this),ig.game.writableDialog.close()));this.O5734||ig.game.decorator.O3454(this)}})});ig.baked=!0;
ig.module("game.entities.immobile.readable").requires("impact.entity").defines(function(){window.EntityReadable=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,textData:null,showBack:!0,init:function(a,b,c){this.rgb=c.rgb;this.rgb2=c.rgb2;c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.textData=c.textData;this.addAnim("main",1,[0]);this.O1457=
this.anims.main},update:function(){this.O7509=this.O5734;(this.O5734=ml.Misc.O1461(this,ig.game.O4269)&&ig.game.O4269&&1>=Math.abs(ig.game.O4269.vel.x))&&!this.O7509?this.O5183():!this.O5734&&this.O7509&&ig.game.readableDialog.close();ig.game.decorator.O3454(this)},O5183:function(){if(this.textData)ig.game.readableDialog.open(this.pos.x,
this.pos.y,this.rgb,this.rgb2,this.textData,this.attributes,this.givenName);else{var a=this;ig.game.O4961.getItem_P(a.thingTypeId,"readable1").done(function(b){a.textData=b.textData;ig.game.readableDialog.open(a.pos.x,a.pos.y,a.rgb,a.rgb2,a.textData,a.attributes,a.givenName)})}}})});ig.baked=!0;
ig.module("game.entities.immobile.sound").requires("impact.entity").defines(function(){window.EntitySound=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O495:1,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O3668(0,5)},O3668:function(a,b){this.size.x+=2*a;this.size.y+=2*b;this.pos.x-=a;this.pos.y-=b;this.offset.x-=a;this.offset.y-=b},update:function(){},O28:function(a){},
check:function(a){a instanceof EntityPlayer&&2<=Math.abs(a.vel.x)+Math.abs(a.vel.y)&&ig.game.sounds.playIncludedSound(this,this.thingTypeId)}})});ig.baked=!0;
ig.module("game.entities.immobile.decobig").requires("impact.entity").defines(function(){window.EntityDecobig=ig.Entity.extend({size:{x:38,y:38},O199:0,decorative:!1,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);c.animSheet&&(this.size.x=c.animSheet.width,this.size.y=c.animSheet.height);this.parent(a,b,c);this.addAnim("main",1,[0]);this.attributes||(this.attributes={});this.attributes.inFront&&
(this.decorative=!0);if(this.attributes.inCenter||this.attributes.atBottom)"1453817600"<ml.Misc.getTimestampFromObjectId(c.thingTypeId).getTime()/1E3?this.attributes.inCenter?this.pos.y+=Math.round(this.size.y/4):this.attributes.atBottom&&(this.pos.y+=this.size.y-ig.game.tileSize):this.attributes.inCenter?this.pos.y+=9:this.attributes.atBottom&&(this.pos.y+=19)},update:function(){var a={pos:this.O7672(ig.game.O5662(this.pos)),size:ig.game.O5662(this.size)};ig.game.decorator.O6341(a,
this)},draw:function(){var a=this.O7672({x:this.pos.x-ig.game._rscreen.x,y:this.pos.y-ig.game._rscreen.y});this.anims.main.draw(a.x,a.y)},O7672:function(a){this.size.x>ig.game.tileSize?a.x-=Math.floor(this.size.x/4):this.size.x<ig.game.tileSize&&(a.x+=Math.floor((ig.game.tileSize-this.size.x)/2));a.y-=Math.floor(this.size.y-ig.game.tileSize);return a}})});ig.baked=!0;
ig.module("game.entities.immobile.decovbig").requires("impact.entity").defines(function(){window.EntityDecovbig=ig.Entity.extend({size:{x:57,y:57},O199:0,decorative:!1,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);c.animSheet&&(this.size.x=c.animSheet.width,this.size.y=c.animSheet.height);this.parent(a,b,c);this.addAnim("main",1,[0]);this.attributes||(this.attributes={});this.attributes.inFront&&
(this.decorative=!0);this.attributes.inCenter?this.pos.y+=Math.round(this.size.y/3):this.attributes.atBottom&&(this.pos.y+=this.size.y-ig.game.tileSize)},update:function(){var a={pos:this.O7672(ig.game.O5662(this.pos)),size:ig.game.O5662(this.size)};ig.game.decorator.O6341(a,this)},draw:function(){var a=this.O7672({x:this.pos.x-ig.game._rscreen.x,y:this.pos.y-ig.game._rscreen.y});this.anims.main.draw(a.x,a.y)},O7672:function(a){this.size.x>
ig.game.tileSize?a.x-=Math.floor(this.size.x/3):this.size.x<ig.game.tileSize&&(a.x+=Math.floor((ig.game.tileSize-this.size.x)/2));a.y-=Math.floor(this.size.y-ig.game.tileSize);return a}})});ig.baked=!0;
ig.module("game.entities.immobile.farback").requires("impact.entity").defines(function(){window.EntityFarback=ig.Entity.extend({size:{x:38,y:38},O199:0,decorative:!1,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O7168:!0,rgb:[0,0,0],rgb2:[255,255,255],maxCells:1,parallaxOffset:{x:0,y:0},O1486:50,startOffset:{x:0,y:0},O7670:1,O7787:null,O6238:null,O6454:!1,O1148:null,O3572:void 0,
lastPoint:void 0,O437:!1,init:function(a,b,c){this.parent(a,b,c);this.maxCells=Math.floor(this.animSheet.image.width/this.size.x);for(a=1;a<=this.maxCells;a++)this.addAnim("cell"+a,1,[a-1]);this.attributes||(this.attributes={});this.O6454&&(this.attributes.unfilled=!0);this.points=ig.game.farBackManager.O3080(this.text,this.attributes,this.maxCells,this.O6454);this.O4600();this.rgb&&"string"==typeof this.rgb&&(this.rgb=this.rgb.split(","));
this.rgb2&&"string"==typeof this.rgb2&&(this.rgb2=this.rgb2.split(","));this.offset.x=ig.game.O1990;this.O4970();this.O7598()},O4600:function(){this.lastPoint=this.O3572=void 0;for(var a=0;a<this.points.length;a++){var b=this.points[a];void 0!==b.x&&void 0!==b.y&&(this.O3572||(this.O3572=ig.game.O5662(b)),this.lastPoint=ig.game.O5662(b))}if(!this.O3572||!this.lastPoint||1>=this.points.length)this.attributes.unfilled=!0},O7598:function(){ig.game.O4269&&
(ig.game.gameStartTimer&&2<=ig.game.gameStartTimer.delta()&&!this.isCreatorLivePreview&&!this.O6454)&&300>=this.O5320(ig.game.O4269)&&(this.attributes.leftward?this.startOffset.x=-12:this.attributes.rightward?this.startOffset.x=12:this.attributes.upward?this.startOffset.y=-12:this.attributes.inward||(this.startOffset.y=12),this.O7670=0)},O4970:function(){this.attributes.shortGradient?this.O7787=57:this.attributes.gradient?this.O7787=114:this.attributes.longGradient&&
(this.O7787=190);this.O7787*=ig.system.scale},update:function(){this.parallaxOffset=ig.game.farBackManager.O8431(this);this.O1351();!this.O437&&(ig.game.O4269&&this.O5320(ig.game.O4269)<=ig.system.widthHalf)&&(ig.game.sounds.playIncludedSound(this,null,null,!0),this.O437=!0)},O1351:function(){this.startOffset.x=this.O5851(this.startOffset.x,50);this.startOffset.y=this.O5851(this.startOffset.y,50);1>this.O7670&&
(this.O7670+=3*ig.system.tick,1<this.O7670&&(this.O7670=1))},O5851:function(a,b){0>a?(a+=b*ig.system.tick,0<a&&(a=0)):0<a&&(a-=b*ig.system.tick,0>a&&(a=0));return a},draw:function(){var a=1,b=parseInt(this.O5320(ig.game.O4269));450<b&&(a=0.005*(200-(b-450)),0>a?a=0:1<a&&(a=1));a*=this.O7670;if(0<a){var b=ig.system.context,c=this.size.x/2,d=this.size.y/2,e=this.points.length;b.globalAlpha=1;if(!this.attributes.unfilled){b.beginPath();var f=
"rgba("+this.rgb.join(",")+","+a+")";this.O7787?(this.O6888(a),b.fillStyle=this.O6238):b.fillStyle=f;this.attributes.leftward||this.attributes.rightward?b.moveTo(this.O2084(this.O3572.x),0):this.attributes.inward||b.moveTo(0,this.O6509(this.O3572.y));for(f=0;f<e;f++){var g=this.points[f];void 0!==g.x&&b.lineTo(this.O2084(g.x),this.O6509(g.y))}this.attributes.leftward?(b.lineTo(this.O2084(this.lastPoint.x),ig.system.O1709),b.lineTo(0,
ig.system.O1709),b.lineTo(0,0)):this.attributes.rightward?(b.lineTo(this.O2084(this.lastPoint.x),ig.system.O1709),b.lineTo(ig.system.realWidth,ig.system.O1709),b.lineTo(ig.system.realWidth,0)):this.attributes.upward?(b.lineTo(ig.system.realWidth,this.O6509(this.lastPoint.y)),b.lineTo(ig.system.realWidth,0),b.lineTo(0,0)):this.attributes.inward?b.lineTo(this.O2084(this.O3572.x),this.O6509(this.O3572.y)):(b.lineTo(ig.system.realWidth,this.O6509(this.lastPoint.y)),
b.lineTo(ig.system.realWidth,ig.system.O1709),b.lineTo(0,ig.system.O1709));b.closePath();b.fill()}var h=0;b.globalAlpha=a;for(f=0;f<e;f++)if(g=this.points[f],g.cell){var k=void 0!==g.y?g.y:0,a="cell"+g.cell,l=this.O2084((void 0!==g.x?g.x:0)+g.cellOffset.x,!0)-c,k=this.O6509(k+g.cellOffset.y,!0)-d;this.anims[a].angle=g.cellRotation;this.anims[a].flip.x=g.cellFlipX;this.anims[a].flip.y=g.cellFlipY;this.anims[a].draw(l,k);if(++h>=this.O1486)break}b.globalAlpha=1}},O6888:function(a){var b=
this.O2084(),c=this.O6509();if(!this.O1148||this.O1148.x!=b||this.O1148.y!=c||this.O1148.opacity!=a)this.O1148={x:b,y:c,opacity:a},this.O6238=null,this.O6238=this.attributes.leftward?ig.system.context.createLinearGradient(b,0,b-this.O7787,0):this.attributes.rightward?ig.system.context.createLinearGradient(b,0,b+this.O7787,0):this.attributes.upward?ig.system.context.createLinearGradient(0,
c,0,c-this.O7787):ig.system.context.createLinearGradient(0,c,0,c+this.O7787),this.O6238.addColorStop(0,"rgba("+this.rgb.join(",")+","+a+")"),this.O6238.addColorStop(1,"rgba("+this.rgb2.join(",")+","+a+")")},O2084:function(a,b){void 0===a&&(a=0);var c=this.pos.x+a+this.offset.x-ig.game._rscreen.x+this.parallaxOffset.x+this.startOffset.x;b||(c*=ig.system.scale);return c},O6509:function(a,b){void 0===a&&(a=0);var c=this.pos.y+a+this.offset.y-ig.game._rscreen.y+
this.parallaxOffset.y+this.startOffset.y;b||(c*=ig.system.scale);return c}})});ig.baked=!0;
ig.module("game.entities.immobile.furry").requires("impact.entity").defines(function(){window.EntityFurry=ig.Entity.extend({size:{x:11,y:19},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O199:0,rotation:0,isTouched:!1,O6258:!1,O3098:0,O230:0,touchPlayerVelocity:{x:0,y:0},decorative:!0,attributes:{},O1468:Math.PI/180,isRound:!1,init:function(a,b,c){c&&c.attributes&&(this.attributes=c.attributes);
this.parent(a,b,c);this.attributes||(this.attributes={});this.decorative=!this.attributes.behind;this.addAnim("normal",1,[0]);this.O1457.pivot={x:this.size.x/2,y:this.size.y};this.pos.x+=Math.floor((ig.game.tileSize-this.size.x)/2);this.attributes.placeVariance&&(this.O5309&&0==(this.O5309.x+this.O5309.y)%2)&&(this.pos.y+=1);this.isRound=this.attributes.roundOrderlyTouchRotation||this.attributes.roundVariedTouchRotation||this.attributes.roundTouchExpand||this.attributes.roundTouchCollapse},
update:function(){this.O6404();ig.game.decorator.O6341(this,this)},O6404:function(){var a=ml.Misc.O632(this);a&&((this.isTouched=ml.Misc.O1461(this,a))?(this.O230=0.15,this.touchPlayerVelocity={x:a.vel.x,y:a.vel.y},!this.O6258&&25<=this.touchPlayerVelocity.y&&(!this.attributes.unrippable&&ig.game.chance(50)&&this.O2243(),ig.game.sounds.footfalls_grass.play())):(this.O230=
-0.05,this.touchPlayerVelocity.x*=0.9,this.touchPlayerVelocity.y*=0.9,0.01>=Math.abs(this.touchPlayerVelocity.x)&&(this.touchPlayerVelocity.x=0),0.01>=Math.abs(this.touchPlayerVelocity.y)&&(this.touchPlayerVelocity.y=0)));this.O3098+=60*this.O230*ig.system.tick;0>=this.O3098?this.O230=this.O3098=0:1<=this.O3098&&(this.O3098=1,this.O230=0);this.O6258=this.isTouched},O2243:function(){var a=ig.game.O4961.getItemBasic(this.thingTypeId,
"ent_fur");if(a){var b={x:0,y:0},c=void 0;this.attributes.ripsFloatAway?(b.x=ml.Misc.O3512(-50,50),b.y=ml.Misc.O3512(-50,50),c=0):(b.x=0!=this.touchPlayerVelocity.x?0.5*this.touchPlayerVelocity.x:ig.game.O5167(10,30)*(ig.game.chance()?1:-1),b.y=-(Math.abs(0.5*this.touchPlayerVelocity.y)+ig.game.O5167(0,40)));a={O198:{width:a.img.width,height:a.img.height,flipX:0,path:a.img.path,animSheet:ig.game.entityManager.getAnimationForEntity(a,0,!1)},itemId:a.id,O8247:a.base,
attributes:a.attributes,O2068:a.name,O1117:b,originatorId:this.O3123(),throwId:ig.game.strings.O5151(),O199:c};ig.game.O6879(EntityThrownItem,Math.floor(this.pos.x),Math.floor(this.pos.y),a)}},O3123:function(){return this.O5309?this.O5309.x+":"+this.O5309.y:""},draw:function(){var a=this.O3098;0==a&&!this.attributes.orderly&&(a=0.25);this.attributes.lessSkew?a*=0.5:this.attributes.extraSkew&&
(a*=1.5);if(this.isRound)this.O6661(a);else{var b=Math.floor(2.5),c=!0,d=this.attributes.sparse?2:1,e=0,f=4;this.attributes.single&&(f=e=b);for(;e<=f;e+=d){var g=this.pos.x,h=this.pos.y,k=3*(e-b),g=g+k,k=0.08*k*a,k=k+0.005*this.touchPlayerVelocity.x*a,k=k+0.01*ig.game.O6997;this.attributes.single&&(k+=0.002*this.touchPlayerVelocity.y*a);this.attributes.weedy&&1==e%2&&(k*=-1.5);c&&!this.attributes.orderly&&(h+=1);this.attributes.smallPush&&(g+=0.01*this.touchPlayerVelocity.x,k=
0.001*this.touchPlayerVelocity.x);this.O1457.angle=k;this.O1457.draw(g-this.offset.x-ig.game._rscreen.x,h-this.offset.y-ig.game._rscreen.y,!0);c=!c}}},O6661:function(a){for(var b=this.attributes.sparse?4:8,c=360/b,d=this.pos.x,e=this.pos.y-ig.game.tileSize/2,f=0;f<b;f++){var g=f*c;this.attributes.roundVariedTouchRotation?g+=10*this.O3098*(0==f%2?-1:1):this.attributes.roundOrderlyTouchRotation&&(g+=0.2*this.touchPlayerVelocity.x*a,g+=0.2*this.touchPlayerVelocity.y*a);this.attributes.weedy&&
(g+=1==f%2?-5:5);var h=d,k=e;if(this.attributes.roundTouchExpand||this.attributes.roundTouchCollapse){var l=Math.cos(g*this.O1468+180),m=Math.sin(g*this.O1468+180),n=4;this.attributes.roundTouchCollapse&&(n*=-1);h+=this.O3098*l*n;k+=this.O3098*m*n}!this.attributes.orderly&&1==f%2&&(h+=2,k+=2);this.O1457.angle=g*this.O1468;this.O1457.draw(h-this.offset.x-ig.game._rscreen.x,k-this.offset.y-ig.game._rscreen.y,!0)}},check:function(){}})});
ig.baked=!0;
ig.module("game.entities.immobile.drifty").requires("impact.entity").defines(function(){window.EntityDrifty=ig.Entity.extend({size:{x:11,y:19},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O199:0,rotation:0,isTouched:!1,O6258:!1,O3098:0,O230:0,touchPlayerVelocity:{x:0,y:0},decorative:!1,attributes:{},parts:[],maxParts:5,init:function(a,b,c){c&&c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.attributes||
(this.attributes={});this.decorative=!!this.attributes.inFront;this.addAnim("normal",1,[0]);this.O1457.pivot={x:this.size.x/2,y:this.size.y};this.pos.x+=Math.floor((ig.game.tileSize-this.size.x)/2);this.O623()},O623:function(){this.attributes.more?this.maxParts=7:this.attributes.manyMore&&(this.maxParts=9);for(var a=0;a<this.maxParts;a++)this.parts.push(this.O7844(a));for(a=0;250>=a;a++)this.O2285()},O7844:function(a){a={x:2*(a-Math.floor(this.maxParts/
2)),y:ml.Misc.O3512(0,5),velocity:{x:0,y:ml.Misc.O3512(-2,-6)},opacity:0.1,O3634:ml.Misc.O3512(3,4),O6876:ml.Misc.O3512(-0.2,-0.4),angle:0,torque:ml.Misc.O3512(-0.075,0.075),number:a,doFlipX:!1,doFlipY:!1,swingX:0,swingVelocityX:0};this.attributes.startLow&&(a.y+=ig.game.O1990);this.attributes.startVeryLow?a.y+=ig.game.tileSize:this.attributes.startHigh?a.y-=ig.game.O1990:this.attributes.startVeryHigh&&(a.y-=ig.game.tileSize);
this.attributes.downwards&&(a.y-=9,a.velocity.y*=-1);this.attributes.swingingHorizontally&&(a.swingVelocityX=1*ig.game.chance(50)?-1:1);this.attributes.randomizeFlipX&&(a.doFlipX=ig.game.chance(50));this.attributes.randomizeFlipY&&(a.doFlipY=ig.game.chance(50));this.attributes.noRotation?a.torque=0:this.attributes.fastRotation&&(a.torque*=3);this.attributes.sidewaysSpeed?a.velocity.x=ml.Misc.O3512(-3,3):this.attributes.fastSidewaysSpeed&&(a.velocity.x=ml.Misc.O3512(-6,6));this.attributes.static?
a.velocity.y=0:this.attributes.fast?this.O1821(a,3):this.attributes.veryFast?this.O1821(a,10):this.attributes.fastest&&this.O1821(a,30);this.attributes.fadeFast?a.O6876*=2:this.attributes.fadeVeryFast?a.O6876*=6:this.attributes.fadeFastest&&(a.O6876*=20);return a},O1821:function(a,b){a.velocity.y*=b},update:function(){this.attributes.noTouchReaction||this.O6404();this.O2285();ig.game.decorator.O6341(this,
this)},O2285:function(){for(var a=0;a<this.parts.length;a++){var b=this.parts[a];this.O5604(b);1<=b.opacity?(b.opacity=1,b.O3634=b.O6876):0>=b.opacity&&(b.opacity=0,this.parts[a]=this.O7844(ig.game.O5167(0,this.parts.length-1)))}},O5604:function(a){a.x+=a.velocity.x*ig.system.tick;a.y+=a.velocity.y*ig.system.tick;if(!this.attributes.noTouchReaction){var b=0.002*(1+0.25*a.number);this.attributes.reverseTouchReaction&&(b*=-1);a.x+=this.touchPlayerVelocity.x*
b;a.y+=this.touchPlayerVelocity.y*b}this.attributes.swingingHorizontally&&this.O5949(a);b=0.002;this.attributes.affectedMoreByEnvironment&&(b*=4);a.x+=ig.game.O6997*b;a.opacity+=a.O3634*ig.system.tick;a.angle+=a.torque*ig.system.tick},O5949:function(a){a.swingX+=a.swingVelocityX*ig.system.tick;1<a.swingX?(a.swingX=1,a.swingVelocityX=-Math.abs(a.swingVelocityX)):-1>a.swingX&&(a.swingX=-1,a.swingVelocityX=Math.abs(a.swingVelocityX));a.x+=0.15*a.swingX},draw:function(){this.attributes.bright&&
!ig.ua.mobile&&ml.Misc.O1651("lighter");for(var a=0;a<this.parts.length;a++)ig.system.context.globalAlpha=this.parts[a].opacity,this.O8068(this.parts[a]);ig.system.context.globalAlpha=1;this.attributes.bright&&!ig.ua.mobile&&ml.Misc.O13()},O8068:function(a){var b=this.pos.x+a.x,c=this.pos.y+a.y;this.O1457.flip.x=a.doFlipX;this.O1457.flip.y=a.doFlipY;this.O1457.angle=a.angle;this.O1457.draw(b-this.offset.x-ig.game._rscreen.x,c-this.offset.y-ig.game._rscreen.y,
!0)},check:function(){},O6404:function(){var a=ml.Misc.O632(this);a&&((this.isTouched=ml.Misc.O1461(this,a))?(this.O230=0.15,this.touchPlayerVelocity={x:a.vel.x,y:a.vel.y}):(this.O230=-0.05,this.touchPlayerVelocity.x*=0.9,this.touchPlayerVelocity.y*=0.9,0.01>=Math.abs(this.touchPlayerVelocity.x)&&(this.touchPlayerVelocity.x=0),0.01>=Math.abs(this.touchPlayerVelocity.y)&&(this.touchPlayerVelocity.y=0)));this.O3098+=60*
this.O230*ig.system.tick;0>=this.O3098?this.O230=this.O3098=0:1<=this.O3098&&(this.O3098=1,this.O230=0);this.O6258=this.isTouched}})});ig.baked=!0;
ig.module("game.entities.immobile.clothy").requires("impact.entity").defines(function(){window.EntityClothy=ig.Entity.extend({size:{x:11,y:11},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O199:0,rotation:0,isTouched:!1,O6258:!1,O3098:0,O230:0,touchPlayerVelocity:{x:0,y:0},decorative:!1,attributes:{},parts:[{x:-1,y:-1,angle:-0.1},{x:1,y:-1,angle:0.1},{x:-1,y:1,angle:0.1},{x:1,y:1,angle:-0.1},{x:0,y:0,angle:0}],
init:function(a,b,c){c&&c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.attributes||(this.attributes={});this.decorative=!!this.attributes.inFront;this.addAnim("normal",1,[0]);this.pos.x+=Math.floor((ig.game.tileSize-this.size.x)/2);this.pos.y+=Math.floor((ig.game.tileSize-this.size.y)/2);this.attributes.placeVariance&&this.O5309&&0==(this.O5309.x+this.O5309.y)%2&&this.O119();this.attributes.flipAngles&&this.O119()},O119:function(){for(var a=
0;a<this.parts.length;a++)this.parts[a].angle*=-1},update:function(){this.O6404()},O6404:function(){var a=ml.Misc.O632(this);a&&((this.isTouched=ml.Misc.O1461(this,a))?(this.O230=0.15,this.touchPlayerVelocity={x:a.vel.x,y:a.vel.y},50<=Math.abs(this.touchPlayerVelocity.x)+Math.abs(this.touchPlayerVelocity.y)&&ig.game.chance(1)&&ig.game.sounds.cloth.play()):(this.O230=-0.05,this.touchPlayerVelocity.x*=0.9,this.touchPlayerVelocity.y*=
0.9,0.01>=Math.abs(this.touchPlayerVelocity.x)&&(this.touchPlayerVelocity.x=0),0.01>=Math.abs(this.touchPlayerVelocity.y)&&(this.touchPlayerVelocity.y=0)));this.O3098+=60*this.O230*ig.system.tick;0>=this.O3098?this.O230=this.O3098=0:1<=this.O3098&&(this.O3098=1,this.O230=0);this.O6258=this.isTouched},draw:function(){for(var a=ig.game.tileSize/4,b=0;b<this.parts.length;b++){var c=this.parts[b],d=this.pos.x,e=this.pos.y,
d=d+c.x*a,e=e+c.y*a,f=2==b||3==b,g=f?0.03:0.01,h=g;this.attributes.lightweight&&(g*=2);d+=ml.Misc.O5830(this.touchPlayerVelocity.x,150)*g;e+=ml.Misc.O5830(this.touchPlayerVelocity.y,150)*h;d+=ig.game.O6997*(f?0.07:0.025);c=c.angle;c*=2*(this.O3098+(this.attributes.orderly?0:1));this.O1457.angle=c;this.O1457.draw(d-this.offset.x-ig.game._rscreen.x,e-this.offset.y-ig.game._rscreen.y,!0)}},check:function(){}})});ig.baked=!0;
ig.module("game.entities.immobile.lively").requires("impact.entity").defines(function(){window.EntityLively=ig.Entity.extend({size:{x:19,y:19},O199:0,O1957:0.1,O6827:null,O5689:4,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,attributes:{},O6650:!1,O1511:!1,factor:{value:0,speed:0,speedStep:0.001},factorOther:{value:0,speed:0,speedStep:0.001},factorMax:0.25,O3730:0.02,O2564:0.001,
init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);if(a=!this.attributes)this.attributes={};this.attributes.inFront&&(this.decorative=!0);this.addAnim("cell1",1,[0]);this.addAnim("cell2",1,[1]);this.O1457=this.anims.cell1;this.O6827=new ml.Timer;if(a=!this.attributes)this.attributes={};this.O3029()},O3029:function(){this.O1511=this.attributes.movingUpRight||this.attributes.movingDownRight||this.attributes.movingDownLeft||
this.attributes.movingUpLeft;this.O6650=this.attributes.movingUp||this.attributes.movingDown||this.attributes.movingLeft||this.attributes.movingRight||this.O1511;this.attributes.swinging?(this.factor.speed=0.01,this.offset.y=2):this.attributes.waving?(this.factor.speed=0.01,this.offset.y=-2):this.attributes.flailingLeft?(this.factor.speed=0.01,this.offset.x=-2):this.attributes.flailingRight?(this.factor.speed=0.01,this.offset.x=2):this.attributes.rotating||this.attributes.rotatingCounterClockwise||
this.attributes.rotatingBoth?this.factor.speed=0.01:this.attributes.randomizedSlow&&(this.factorMax=0.25,this.O3730=0.005,this.O2564=8E-4);this.O6650||(this.factor.value=0.5*Math.random(),this.factorOther.value=0.5*Math.random())},O2884:function(){if(this.attributes.rotatingBoth)this.factor.value+=this.factor.speed,this.factor.value>=ig.game.fullAngle&&(this.factor.value=0),this.anims.cell1.angle=this.factor.value,this.anims.cell2.angle=-this.factor.value;
else if(this.attributes.rotating||this.attributes.rotatingCounterClockwise)this.factor.value+=this.factor.speed,this.factor.value>=ig.game.fullAngle&&(this.factor.value=0),this.O1457.angle=this.attributes.rotating?this.factor.value:-this.factor.value;else if(this.O6650||this.O1511)ig.game.O7649.O3452&&(this.O1511=this.O6650=!1);else{this.factor=this.O1691(this.factor);if(this.attributes.randomized||
this.attributes.randomizedSlow||this.attributes.swarm)this.factorOther=this.O1691(this.factorOther),ig.game.chance(10)&&(this.factorOther=this.O1691(this.factorOther));this.attributes.swarm?(this.offset.x=10*this.factor.value,this.offset.y=10*this.factorOther.value):this.attributes.randomized||this.attributes.randomizedSlow?(this.offset.x=10*this.factor.value,this.offset.y=10*this.factorOther.value):this.attributes.hovering?this.offset.y=10*this.factor.value:this.attributes.shaking?
this.offset.x=10*this.factor.value:this.attributes.waving?(this.offset.x=10*this.factor.value,this.O1457.angle=-this.factor.value):this.attributes.swinging?(this.offset.x=10*this.factor.value,this.O1457.angle=this.factor.value):this.attributes.flailingLeft?(this.offset.y=10*this.factor.value,this.O1457.angle=this.factor.value):this.attributes.flailingRight?(this.offset.y=10*this.factor.value,this.O1457.angle=-this.factor.value):this.attributes.rocking&&(this.O1457.angle=
this.factor.value)}},O1691:function(a){a.speed+=a.speedStep;a.speed=a.speed.limit(-this.O3730,this.O3730);a.value+=a.speed;a.value=a.value.limit(-(4*this.factorMax),4*this.factorMax);a.value<=-this.factorMax?a.speedStep=this.O2564:a.value>=this.factorMax&&(a.speedStep=-this.O2564);return a},update:function(){!this.attributes.rotatingBoth&&(this.O6827.delta()>=this.O1957&&ig.game.chance(this.O5689))&&(this.O6827.reset(),
this.O1457=this.O1457==this.anims.cell1?this.anims.cell2:this.anims.cell1);this.O5611();this.O2884()},O5611:function(){if(this.O93()){var a=this.O7535();if(null!=a&&ig.game.chance(2)){this.O7168=!0;var b={x:ig.game.O5167(-10,10),y:ig.game.O5167(-10,10)};this.attributes.emitting&&ml.Misc.O4768(b);this.attributes.emittingUp?b={x:0,y:-Math.abs(b.y)}:this.attributes.emittingDown?b={x:0,y:2*Math.abs(b.y)}:
this.attributes.emittingLeft?b={x:-Math.abs(b.x),y:0}:this.attributes.emittingRight&&(b={x:Math.abs(b.x),y:0});ig.game.O6879(EntitySpot,this.pos.x,this.pos.y,{O1271:0.75,O4895:80,O5561:2,fadingInc:2,attribute:a,vel:b,O1018:!1,animSheet:this.animSheet})}}},O7535:function(){var a=null;this.attributes.emitting?a="emitting":this.attributes.brightEmitting?a="brightEmitting":this.attributes.emittingUp?a="emittingUp":this.attributes.emittingDown?
a="emittingDown":this.attributes.emittingLeft?a="emittingLeft":this.attributes.emittingRight&&(a="emittingRight");return a},O93:function(){return ig.game.O413.default&&350>ig.game.O413.default.length},draw:function(){if(this.O6650&&(!ig.game.O707||!ig.game.O172.O3820))this.O5147();else if(this.attributes.rotatingBoth)this.anims.cell2.draw(this.pos.x-ig.game._rscreen.x+this.offset.x,this.pos.y-ig.game._rscreen.y-
this.offset.y),this.parent();else if(this.attributes.swarm){if(this.O224&&this.O1457){var a=this.pos.x-ig.game._rscreen.x,b=this.pos.y-ig.game._rscreen.y;this.O1457.draw(a-this.offset.x+this.factorOther.value,b-this.offset.y);this.O1457.draw(a+this.offset.x,b-this.offset.y-10*this.factorOther.value);this.O1457.draw(a+this.offset.x+20*this.factor.value,b+this.offset.y)}}else this.attributes.foaming&&(this.O93()&&ig.game.chance(2))&&(a={x:ig.game.O5167(-10,
10),y:ig.game.O5167(0,5)},ml.Misc.O4768(a),ig.game.O6879(EntitySpot,this.pos.x,this.pos.y,{opacity:100,O4895:100,O5561:1.5,fadingInc:2,vel:a,O1018:!1,animSheet:this.animSheet})),this.parent()},O5147:function(){var a,b,c,d;a=this.pos.x-ig.game._rscreen.x+this.offset.x;b=this.pos.y-ig.game._rscreen.y-this.offset.y;c=a;d=b;var e=this.O1511?ig.game.O3675:ig.game.O5881;if(this.attributes.movingUp||
this.attributes.movingUpLeft||this.attributes.movingUpRight)b-=e,d-=e-ig.game.tileSize;if(this.attributes.movingDown||this.attributes.movingDownLeft||this.attributes.movingDownRight)b+=e-ig.game.tileSize,d+=e;if(this.attributes.movingLeft||this.attributes.movingDownLeft||this.attributes.movingUpLeft)a-=e,c-=e-ig.game.tileSize;if(this.attributes.movingRight||this.attributes.movingDownRight||this.attributes.movingUpRight)a+=e-ig.game.tileSize,c+=e;e=this.O4157();ig.system.context.save();
ig.system.context.beginPath();ig.system.context.rect(e.x,e.y,e.width,e.height);ig.system.context.clip();this.O1457.draw(a,b);this.O1457.draw(c,d);this.O1511&&(this.O1457.draw(a+ig.game.tileSize,b),this.O1457.draw(c-ig.game.tileSize,d));ig.system.context.restore()},O4157:function(){var a={x:this.pos.x+this.offset.x-ig.game._rscreen.x,y:this.pos.y+this.offset.y-ig.game._rscreen.y,width:ig.game.tileSize,height:ig.game.tileSize};a.x*=ig.system.scale;
a.y*=ig.system.scale;a.width*=ig.system.scale;a.height*=ig.system.scale;a.x=Math.round(a.x);a.y=Math.round(a.y);return a},O28:function(a){},check:function(){}})});ig.baked=!0;
ig.module("game.entities.immobile.viewable").requires("impact.entity").defines(function(){window.EntityViewable=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,soundId:void 0,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457=this.anims.main;this.attributes||(this.attributes={})},update:function(){this.O7509=
this.O5734;(this.O5734=ml.Misc.O1461(this,ig.game.O4269)&&ig.game.O4269&&1>=Math.abs(ig.game.O4269.vel.x))&&!this.O7509?ig.game.viewableDialog.open(this.pos.x,this.pos.y,this.animSheet,null,this.soundId,void 0,this.attributes):!this.O5734&&this.O7509&&ig.game.viewableDialog.close();ig.game.decorator.O3454(this)},draw:function(){this.parent()},O28:function(a){this.parent(a)},
check:function(a){}})});ig.baked=!0;
ig.module("game.entities.immobile.dynathing").requires("impact.entity","game.ui.speechdisplay").defines(function(){EntityDynathing=ig.Entity.extend({subEntities:{},frameData:{},maxCells:1,frame:0,frameMax:null,size:{x:29,y:29},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,defaultPivot:{x:14.5,y:14.5},O1537:0,velMax:5,O3357:!1,O5303:!1,O3984:!1,O3653:10,O8450:!1,O6315:null,
isBehind:!1,givenName:void 0,fullyOpaque:!0,isStack:!1,O3637:!1,O6257:!1,O2274:!1,O2769:1,baseType:"DYNATHING",targetPos:{x:null,y:null},targetPosPrevious:{x:null,y:null},O7848:void 0,rgba:null,O5742:null,O7168:!0,O3922:!0,attributes:{},O6575:null,O4868:null,hasSpeech:!0,O3203:!0,emitsId:null,O4628:"default",O3664:"default",O857:!1,O3624:null,
canUseCrop:!0,O6464:!1,O4506:60,O7869:[],O1222:[],O1245:null,O1904:!1,grabCell:null,O6156:null,O8323:!1,O5193:50,O4526:null,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.isWearablePlus=c.isWearablePlus;this.soundId=c.soundId;this.givenName=c.givenName;this.isWearablePlus||(this.emitsId=c.emitsId);this.O3637=c.O3637;this.O8323=
Boolean(c.O8323);this.O6454=c.O6454;this.O7848=c.O7848;this.O3637&&(this.O3653=1);this.isWearablePlus&&(this.attributes.actionable=!1);this.isStack=!this.O3637&&this.attributes&&(this.attributes.attachable||this.attributes.follows||this.attributes.closelyFollows);this.O3637&&this.attributes.startsOnTouch&&delete this.attributes.startsOnTouch;this.attributes.solid&&this.O2877();
this.attributes.inFront&&(this.decorative=!0);if(c.O6315){if(!c.img){this.kill();return}this.O6315=c.O6315;this.O6315.O8280=this;this.pos.x=a;this.pos.y=b;this.animSheet=new ml.AnimationSheet(null,this.size.x,this.size.y,c.img)}else this.parent(a,b,c);this.O3637&&(this.attributes&&!this.attributes.nonFlipping)&&this.O5023();!this.O6454&&(ig.game.O172.O4036(this.pos)&&!this.isCreatorLivePreview)&&
(ig.game.O707&&(this.canUseCrop=!1),ig.game.O5699&&(this.O3203=!!this.O3637,this.hasSpeech=!1));this.O3637&&ig.game.O5699&&(this.hasSpeech=!1);this.O6575=new SpeechDisplay(this);this.O8450=!!this.O6315;a=c.text;this.maxCells=Math.floor(this.animSheet.image.width/this.size.x);this.O1904=ml.Misc.O4473(this.animSheet);for(b=1;b<=this.maxCells;b++)this.addAnim("e"+b,1,[b-1]),this.O1904&&
this.O2790(b,this.animSheet);this.O1904&&(this.anims=this.animSheet=null);this.attributes||(this.attributes={});this.O6315?this.attributes.startsOnTouch&&delete this.attributes.startsOnTouch:this.O5579?(this.O1537=ig.game.O3501.O7811(),this.attributes.startsOnTouch&&delete this.attributes.startsOnTouch):!this.O3637&&!c.O6712&&(this.O1537=ig.game.O5167(0,60));
this.isCreatorLivePreview&&(this.attributes.startsOnTouch&&delete this.attributes.startsOnTouch,this.O1537=0);this.reset();this.O857=!1;this.frameMax=this.O6454&&!this.O1938?ig.game.O4321.O6417*ig.game.O4321.O936:this.O5579?ig.game.O3501.O6075*ig.game.O4321.O936:ig.game.O4321.O6432*ig.game.O4321.O936;
this.O7453();try{b={},ig.game.O7649.O663&&(this.O4506=ig.game.O7649.O663),this.frameData=ig.game.O4321.O1866(a,this.maxCells,b),this.O5303=b.O5303,this.O3984=b.O3984,b.containsLight&&(this.O5742=1)}catch(d){ig.game.isLocal&&(console.log("A Dynamic guarded against this error:"),console.log(d)),this.frameData={"default":{}}}this.O3984&&(this.id=(c.O5309?
c.O5309.x+"_"+c.O5309.y+"_":"")+ig.game.O5167(1E6,1E7));this.attributes.startsOnTouch&&(!this.O3637&&!this.isStack)&&(this.type=ig.Entity.TYPE.B,this.O6821=ig.Entity.TYPE.A);this.attributes.behind&&!this.isStack&&(this.isBehind=!0)},O7453:function(){this.pos.x-=(this.size.x-ig.game.tileSize)/2;this.pos.y-=this.size.y-ig.game.tileSize},O2790:function(a,b){var c=document.createElement("canvas"),d="e"+a,e=ig.system.scale;c.width=this.size.x*
e;c.height=this.size.y*e;c.getContext("2d").drawImage(b.image.data,(a-1)*this.size.x*e,0,this.size.x*e,this.size.y*e,0,0,this.size.x*e,this.size.y*e);e=new Image(this.size.x*e,this.size.y*e);e.src=c.toDataURL("image/png");c=new ml.Image(null,null,null,e);this.O7869[d]=new ml.AnimationSheet(null,this.size.x,this.size.y,c);this.O1222[d]=new ml.Animation(this.O7869[d],1,[0],null,d)},reset:function(a){this.frame=0;this.O3745();a||(this.O3664=this.O4628="default",this.O857=
!0);for(a=1;a<=this.maxCells;a++)this.subEntities["e"+a]={pos:{x:0,y:0},targetPos:{x:null,y:null},posStep:{x:null,y:null},vel:{x:0,y:0},accel:{x:0,y:0},text:null,font:"whiteSmallFont",say:null,align:ig.Font.ALIGN.CENTER,opacity:0,O8345:null,O455:null,rotation:0,O6942:null,O806:null,flip:{x:!1,y:!1},zIndex:a,pivot:ig.game.O5662(this.defaultPivot),cropRect:null,rgb:[0,0,0],targetRgb:[null,null,null],rgbStep:[null,null,null],bright:!1};this.attributes.startsOnTouch&&
(this.O3357=!0)},O3641:function(){this.O3637&&(this.O6257!=this.O2274&&!this.attributes.nonFlipping)&&(this.O2274=this.O6257,this.O5023(),this.reset(),this.update())},O5023:function(){this.O2769=this.O6257?-1:1},O2787:function(a){this.attributes.follows||this.attributes.closelyFollows?this.targetPos=ig.game.O5662(a):this.attributes.attachable&&(this.pos=
ig.game.O5662(a))},O97:function(){if(this.O3637&&(null!=this.targetPos.x||null!=this.targetPos.y)){null==this.O4526&&(this.O4526=125+ml.Misc.distort(25));var a=ig.system.tick*this.O4526;this.attributes.follows&&(a*=0.75);if(null!=this.targetPos.x){var b=a,c=Math.abs(this.pos.x-this.targetPos.x);5>=c?b*=0.5:76<=c&&(b*=2);this.pos.x<this.targetPos.x?(this.pos.x+=b,this.pos.x>=this.targetPos.x&&(this.pos.x=this.targetPos.x,this.targetPos.x=null)):this.pos.x>this.targetPos.x&&
(this.pos.x-=b,this.pos.x<=this.targetPos.x&&(this.pos.x=this.targetPos.x,this.targetPos.x=null))}null!=this.targetPos.y&&(this.attributes.closelyFollows&&(a*=1.5),b=Math.abs(this.pos.y-this.targetPos.y),5>=b?this.pos.y>this.targetPos.y&&(a*=0.5):76<=b&&(a*=2),this.pos.y<this.targetPos.y?(this.pos.y+=a,this.pos.y>=this.targetPos.y&&(this.pos.y=this.targetPos.y,this.targetPos.y=null)):this.pos.y>this.targetPos.y&&(this.pos.y-=a,this.pos.y<=this.targetPos.y&&(this.pos.y=this.targetPos.y,this.targetPos.y=
null)));if(null==this.targetPos.x||null==this.targetPos.y)this.O4526=null}},update:function(a){if(!this._killed&&!this.O6464){this.O4682(a);this.O3641();this.O97();if(this.isStack){this.O7509=this.O5734;this.O5734=ml.Misc.O1461(this,ig.game.O4269);var b=this.attributes.attachable?"attach":"be followed";this.attributes.replaces&&(b="change to");this.O5734&&
!this.O7509?ig.game.actioninfo.open(this,this.pos.x,this.pos.y+9,b,ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this)}if(0!=this.frame&&0<this.O1537)this.O1537--;else if(!(0!=this.frame&&this.O3357)){for(b=1;b<=ig.game.O4321.O7986;b++)if(this.frameData[this.O4628]){var c=this.frameData[this.O4628]["f"+this.frame+
"_"+b];if(c)for(var d=c.spreadOverFrames,e=1;e<=this.maxCells;e++){var f="e"+e;c[f]&&this.O5453(this.subEntities[f],c[f],d,e)}}for(e=1;e<=this.maxCells;e++)this.O6186(this.subEntities["e"+e]);for(b=1;b<=ig.game.O4321.O7986;b++)if(this.frameData[this.O4628]&&(c=this.frameData[this.O4628]["f"+this.frame+"_"+b]))if(c.playSound){if(0<this.O3653||ig.game.chance(15))c=null,1>=this.O3653&&!this.O3637&&(c=
0.15),ig.game.sounds.playIncludedSound(this,null,c)&&!this.O1938&&this.O3653--}else if(c.say)this.O89(c.say);else if(c.remove&&this.O3637&&a&&a==ig.game.O4269){ig.game.O7510.O3306(ig.game.O4269,ig.game.O7510.slots.WEARABLE,!0);return}this.frame++}this.O4945();this.O6575.update({x:this.pos.x+10,y:this.pos.y})}this.attributes.solid&&this.parent();ig.game.decorator.O6341(this,
this)},O5608:function(a){if(a&&this.grabCell){var b=this.subEntities["e"+this.grabCell];a.pos.x=this.pos.x+b.pos.x+b.pivot.x;a.pos.y=this.pos.y+b.pos.y+b.pivot.y;a.O1457&&(a.O1457.angle=b.rotation)}},O4682:function(a){var b;if(a&&a.vel)b="default",this.O857?"action"==this.O4628?b="action":a.isSitting?b="sit":a.isLying?b="lie":a.O2865==a.O2558.CLIMBING?b="climb":a.O2865==a.O2558.SWIMMING?b="swim":0>a.vel.y?b=a.attachments.m?"mounted rise":
"rise":0<a.vel.y?b=a.attachments.m?"mounted fall":"fall":0!=a.vel.x?b="move":a.anims&&a.O1457==a.anims.creating&&(b="create"):b="start";else if(this.O1938?"randomize"!=this.O4628&&"private randomize"!=this.O4628&&(this.multithingPrivate&&this.multithingRandomize&&this.frameData["private randomize"]?(b="private randomize",this.multithingRandomize=!1):this.multithingPrivate&&this.frameData["private"]?(b="private",this.multithingRandomize=!1):this.multithingRandomize&&this.frameData.randomize?
(b="randomize",this.multithingRandomize=!1):this.multithingStatePositiveNegative&&this.frameData[this.multithingStatePositiveNegative]?b=this.multithingStatePositiveNegative:this.multithingStateEvenOdd&&this.frameData[this.multithingStateEvenOdd]?b=this.multithingStateEvenOdd:this.multithingMoved&&this.frameData.moved?(b="moved",this.multithingMoved=!1):void 0!==this.multithingState&&(b="state "+this.multithingState)):this.O8323&&(ig.game.playerDialog&&ig.game.playerDialog.O4123)&&
(b=ig.game.playerDialog.O4123.toLowerCase(),a={visited:"album"},b="profile "+(a[b]?a[b]:b)),!this.detectedMode){a=ig.game.O1638.getTimeSinceMidnightObjectRounded();var c=this.O1245;if(null!==a.hours&&c&&"default"==this.O4628){var d=this.frameData;a.hours!=c.hours&&d["every day"]&&0==a.hours?b="every day":a.hours!=c.hours&&d["every 12 hours"]&&0==a.hours%12?b="every 12 hours":a.hours!=c.hours&&d["every 6 hours"]&&0==a.hours%6?b="every 6 hours":a.hours!=c.hours&&d["every 3 hours"]&&
0==a.hours%3?b="every 3 hours":a.hours!=c.hours&&d["every hour"]?b="every hour":a.minutes!=c.minutes&&(0==a.minutes%30&&d["every 30 minutes"]?b="every 30 minutes":0==a.minutes%15&&d["every 15 minutes"]?b="every 15 minutes":0==a.minutes%10&&d["every 10 minutes"]?b="every 10 minutes":0==a.minutes%5&&d["every 5 minutes"]?b="every 5 minutes":0==a.minutes%4&&d["every 4 minutes"]?b="every 4 minutes":0==a.minutes%3&&d["every 3 minutes"]?b="every 3 minutes":0==a.minutes%2&&d["every 2 minutes"]?b="every 2 minutes":
d["every minute"]&&(b="every minute"))}this.O1245=ig.game.O5662(a)}b&&this.O6753(b)},O6753:function(a){a!=this.O4628&&(this.O4628=this.frameData[a]?a:"default",this.O4628!=this.O3664&&(this.reset(!0),this.O3664=this.O4628))},O7933:function(a){if(this.attributes.actionable&&(!this.O3624||0.5<=this.O3624.delta()))this.O3624=new ml.Timer,this.emitsId||ig.game.sounds.playIncludedSound(this),
this.reset(),this.O6753("action"),this.update(),a&&(ig.game.O6401.O5038(ig.game.O4269,"uses",this.givenName),ig.game.O4349.O3143())},O4945:function(){this.rgba=null;for(var a=[],b=1;b<=this.maxCells;b++){var c=this.subEntities["e"+b];c.rgb&&!(0==c.rgb[0]&&0==c.rgb[1]&&0==c.rgb[2])&&a.push([c.rgb[0],c.rgb[1],c.rgb[2],c.opacity])}1==a.length?this.rgba=a[0]:2<=a.length&&(this.rgba=ig.game.O5211.O7261(a));
if(this.rgba){for(b=0;3>b;b++)this.rgba[b]=Math.round(this.rgba[b]);this.rgba[3]=ig.game.O5211.O2059(this.rgba[3],0,1)}if(this.rgba&&(0==this.rgba[3]||0==this.rgba[0]&&0==this.rgba[1]&&0==this.rgba[2]))this.rgba=null},O3745:function(a){if(this.O3984){this.grabCell=null;var b=ig.game.O413.player;if(b)for(var c=0;c<b.length;c++){var d=b[c];if(d.dynathingWhichGrabbedMe&&d.dynathingWhichGrabbedMe.id==this.id&&(d.O1457&&d.O7319(),d.dynathingWhichGrabbedMe=
null,a&&(!this.O6156||1<=this.O6156.delta())))this.O6156=new ml.Timer,ig.game.sounds.shortWhoosh.play()}}},O7413:function(){for(var a=1;a<=ig.game.O4321.O7986;a++)if(this.frameData[this.O4628]){var b=this.frameData[this.O4628]["f"+this.frame+"_"+a];if(b&&b.restart||this.frame>=this.frameMax)this.O3745(),this.O8450?this.kill():(this.reset(),this.O7741()),this.isCreatorLivePreview&&
ig.game.O6310&&ig.game.painter.O4714()}},O7741:function(){var a=ig.game.O7649.O663?Math.abs(this.O4506-ig.game.O7649.O663):0;if(!ig.game.O7649.O663||3<=a||0<a&&ig.game.chance(10))ig.game.O7649.O663&&(this.O4506=ig.game.O7649.O663),this.frameData=ig.game.O4321.O1866(this.text,this.maxCells,{})},kill:function(){this.O6315&&
this.O6315.O967(this.givenName,this.attributes&&this.attributes.replaces,this.O7848);this.parent()},O6186:function(a){null!=a.O8345&&(a.opacity>a.O8345?(a.opacity-=a.O455,a.opacity<=a.O8345&&this.O3997(a)):a.opacity<a.O8345&&(a.opacity+=a.O455,a.opacity>=a.O8345&&this.O3997(a)));null!=a.targetPos.x&&(a.pos.x>a.targetPos.x?(a.pos.x-=a.posStep.x,a.pos.x<=a.targetPos.x&&
this.O6410(a)):a.pos.x<a.targetPos.x&&(a.pos.x+=a.posStep.x,a.pos.x>=a.targetPos.x&&this.O6410(a)));null!=a.targetPos.y&&(a.pos.y>a.targetPos.y?(a.pos.y-=a.posStep.y,a.pos.y<=a.targetPos.y&&this.O982(a)):a.pos.y<a.targetPos.y&&(a.pos.y+=a.posStep.y,a.pos.y>=a.targetPos.y&&this.O982(a)));null!=a.O6942&&(a.rotation>a.O6942?(a.rotation-=a.O806,a.rotation<=a.O6942&&this.O1512(a)):
a.rotation<a.O6942&&(a.rotation+=a.O806,a.rotation>=a.O6942&&this.O1512(a)));for(var b=0;b<a.rgb.length;b++)null!=a.targetRgb[b]&&(a.rgb[b]>a.targetRgb[b]?(a.rgb[b]-=a.rgbStep[b],a.rgb[b]<=a.targetRgb[b]&&(a.rgb=ig.game.O5662(a.targetRgb),a.targetRgb=[null,null,null],a.rgbStep=[null,null,null])):a.rgb[b]<a.targetRgb[b]&&(a.rgb[b]+=a.rgbStep[b],a.rgb[b]>=a.targetRgb[b]&&(a.rgb=ig.game.O5662(a.targetRgb),a.targetRgb=[null,null,null],a.rgbStep=[null,
null,null])));a.accel.x?(a.vel.x+=a.accel.x,a.pos.x+=a.accel.x,Math.abs(a.accel.x)>this.velMax&&(a.vel.x=parseInt(a.vel.x).limit(-this.velMax,this.velMax))):a.accel.y&&(a.vel.y+=a.accel.y,a.pos.y+=a.vel.y,Math.abs(a.vel.y)>this.velMax&&(a.vel.y=parseInt(a.vel.y).limit(-this.velMax,this.velMax)));500<Math.abs(a.pos.x)&&(a.pos.x=a.pos.x.limit(-500,500));500<Math.abs(a.pos.y)&&(a.pos.y=a.pos.y.limit(-500,500));b=this.O5219(a);null!==b&&(a.rotation=b)},O3997:function(a){a.opacity=
a.O8345;a.O8345=null;a.O455=null},O1512:function(a){a.rotation=a.O6942;a.O6942=null;a.O806=null},O6410:function(a){a.pos.x=a.targetPos.x;a.targetPos.x=null;a.posStep.x=null},O982:function(a){a.pos.y=a.targetPos.y;a.targetPos.y=null;a.posStep.y=null},O5453:function(a,b,c,d){var e=ig.game.O4321.otherMax;if(void 0!=c&&0<c)void 0!=b.opacity&&(a.O8345=b.opacity,
a.O455=Math.abs(a.O8345-a.opacity)/c),void 0!=b.left?(a.targetPos.x=a.pos.x-b.left*this.O2769,a.posStep.x=Math.abs(a.targetPos.x-a.pos.x)/c):void 0!=b.right&&(a.targetPos.x=a.pos.x+b.right*this.O2769,a.posStep.x=Math.abs(a.targetPos.x-a.pos.x)/c),void 0!=b.up?(a.targetPos.y=a.pos.y-b.up,a.posStep.y=Math.abs(a.targetPos.y-a.pos.y)/c):void 0!=b.down&&(a.targetPos.y=a.pos.y+b.down,a.posStep.y=Math.abs(a.targetPos.y-a.pos.y)/c),void 0!=b.position&&(a.targetPos.x=b.position[0]*
this.O2769,a.posStep.x=Math.abs(a.targetPos.x-a.pos.x)/c,a.targetPos.y=b.position[1],a.posStep.y=Math.abs(a.targetPos.y-a.pos.y)/c),void 0!=b.rotate?(a.O6942=a.rotation+b.rotate*this.O2769,a.O806=Math.abs(a.O6942-a.rotation)/c):void 0!=b.rotation&&(a.O6942=b.rotation*this.O2769,a.O806=Math.abs(a.O6942-a.rotation)/c),void 0!=b.light&&(a.targetRgb=ig.game.O5662(b.light),a.rgbStep=[Math.abs(a.targetRgb[0]-a.rgb[0])/
c,Math.abs(a.targetRgb[1]-a.rgb[1])/c,Math.abs(a.targetRgb[2]-a.rgb[2])/c]);else{void 0!=b.opacity&&(a.opacity=b.opacity);void 0!=b.rotate?(null==a.rotation&&(a.rotation=0),a.rotation+=b.rotate*this.O2769):void 0!=b.rotation&&(a.rotation=b.rotation*this.O2769);void 0!=b.right&&(a.pos.x+=b.right*this.O2769);void 0!=b.left&&(a.pos.x-=b.left*this.O2769);void 0!=b.up&&(a.pos.y-=b.up);void 0!=b.down&&(a.pos.y+=b.down);void 0!=b.position&&(a.pos.x=b.position[0]*this.O2769,
a.pos.y=b.position[1]);void 0!=b.bright&&(a.bright=!0);void 0!=b.unbright&&(a.bright=!1);this.attributes.startsOnTouch&&!this.O6454&&(void 0!=b.grab&&(this.grabCell=d),void 0!=b.ungrab&&this.grabCell==d&&this.O3745(!0));void 0!=b.crop&&this.canUseCrop&&(a.cropRect={x:b.crop[0],y:b.crop[1],width:b.crop[2],height:b.crop[3]});if(!ig.game.settings.photosensitiveGuard){if(b.shape||b.circle)if(c=(this.O3637||this.O8323||ig.game.O707&&!this.O6454)&&
!this.isCreatorLivePreview,d=void 0==b.pivot||this.O5739(b.pivot[0])&&this.O5739(b.pivot[1]),!c||d){if(void 0!=b.shape&&(!c||this.O2427(b.shape)))a.polygonPoints=b.shape;if(void 0!=b.circle&&(!c||this.O1865(b.circle)))a.circle={position:{x:b.circle[0],y:b.circle[1]},radius:Math.abs(b.circle[2])}}void 0!=b.fill&&(a.fillMode=this.O8323?"lighter":b.fill[0],a.fillRgba="rgba("+b.fill[1]+","+b.fill[2]+","+b.fill[3]+","+b.fill[4]+")");void 0!=b.outline&&
(a.outlineWidth=b.outline[0],a.outlineRgba="rgba("+b.outline[1]+","+b.outline[2]+","+b.outline[3]+","+b.outline[4]+")");if(void 0!=b.gradient){c=0;if(7==b.gradient.length)a.O6238=null,a.radialGradient={center:{x:b.gradient[c++],y:b.gradient[c++]},radius:b.gradient[c++]};else if(10==b.gradient.length)a.O6238=null,a.radialGradient={center:{x:b.gradient[c++],y:b.gradient[c++]},radius:b.gradient[c++],center2:{x:b.gradient[c++],y:b.gradient[c++]},radius2:b.gradient[c++]};else{a.radialGradient=
null;a.O6238=[];for(d=0;4>d;d++)a.O6238[d]=b.gradient[d],c++}a.fillRgbaEnd="rgba("+b.gradient[c++]+","+b.gradient[c++]+","+b.gradient[c++]+","+b.gradient[c++]+")"}}a.pos.x=a.pos.x.limit(-e,e);a.pos.y=a.pos.y.limit(-e,e);void 0!=b.light&&(a.rgb=ig.game.O5662(b.light));if((b.text||""===b.text)&&this.O3203)a.text=ig.game.strings.replaceAll(b.text,ig.game.O4321.O7874,"\n"),a.text=ig.game.strings.O2833(a.text,this.O3637?50:300);
b.font&&(a.font=b.font);void 0!==b.align&&(a.align=b.align)}void 0!=b.pivot&&(a.pivot.x=b.pivot[0],a.pivot.y=b.pivot[1]);void 0!=b.accelerateLeft?a.accel.x=-b.accelerateLeft*this.O2769:void 0!=b.accelerateRight&&(a.accel.x=b.accelerateRight*this.O2769);void 0!=b.accelerateUp?a.accel.y=-b.accelerateUp:void 0!=b.accelerateDown&&(a.accel.y=b.accelerateDown);void 0!=b.zIndex&&(a.zIndex=b.zIndex);void 0!=b.flipHorizontal&&(a.flip.x=!a.flip.x);void 0!=b.flipVertical&&(a.flip.y=!a.flip.y);
void 0!=b.secondsAngle?a.secondsAngle=!0:void 0!=b.secondsAngleInSteps?a.secondsAngleInSteps=!0:void 0!=b.minutesAngle?a.minutesAngle=!0:void 0!=b.minutesAngleInSteps?a.minutesAngleInSteps=!0:void 0!=b.hoursAngle?a.hoursAngle=!0:void 0!=b.hoursAngleInSteps&&(a.hoursAngleInSteps=!0)},draw:function(a,b,c){if(!this.O6464){this.O3641();a=this.pos.x-ig.game._rscreen.x;var d=this.pos.y-ig.game._rscreen.y;if(this.O5303)for(var e=1;e<=this.maxCells;++e)for(var f=
1;f<=this.maxCells;++f){var g=this.subEntities["e"+f];g.zIndex==e&&this.O7467(a,d,f,g,b,c)}else for(f=1;f<=this.maxCells;++f)this.O7467(a,d,f,this.subEntities["e"+f],b,c);this.O7413()}},O1668:function(){this.O6464||this.O6575.draw()},O7467:function(a,b,c,d,e,f){if(d&&0<d.opacity&&(!d.cropRect||!ig.game.O7649.O546()))if(this.O8323&&(d.bright=!0,0.8<d.opacity&&(d.opacity=0.8)),d.bright&&ml.Misc.O1651("lighter"),
c=this.O1904?this.O1222["e"+c]:this.anims["e"+c]){c.flip.x=this.O6257&&!this.attributes.nonFlipping?!d.flip.x:d.flip.x;c.flip.y=d.flip.y;c.angle=d.rotation;if(c.flip.x){var g=this.size.x/2;d.pivot.x<g?c.pivot.x=this.size.x-d.pivot.x:d.pivot.x>g&&(c.pivot.x=Math.abs(d.pivot.x-this.size.x));c.pivot.y=d.pivot.y;d.pivot.x>this.size.x&&(c.pivot.x*=-1)}else c.pivot.x=d.pivot.x,c.pivot.y=d.pivot.y;c.alpha=d.opacity;a=a+d.pos.x-this.offset.x;b=b+d.pos.y-this.offset.y;
f&&(a+=f.x*(c.flip.x?-1:1),b+=f.y);d.cropRect&&(f=this.O4157(d.cropRect),ig.system.context.save(),ig.system.context.beginPath(),ig.system.context.rect(f.x,f.y,f.width,f.height),ig.system.context.clip());d.polygonPoints&&this.O756(c,d);d.circle&&this.O4860(c,d);c.draw(a,b);d.text&&!e&&(ig.system.context.globalAlpha=0.8*d.opacity,ig.game[d.font].draw(this.O3896(d.text),a+c.pivot.x,b+Math.round(c.pivot.y-2.5),d.align),ig.system.context.globalAlpha=1);d.cropRect&&
ig.system.context.restore();d.bright&&ml.Misc.O13();ig.game.O3501&&(ig.game.O3501.isRunning&&"dynamicOrigin"==ig.game.O3501.O4644)&&this.O2981(a,b,c.pivot.x,c.pivot.y,c.angle)}},O756:function(a,b){var c=this.O3361(a,b);ig.system.context.fillStyle=this.O1424(a,b);ig.system.context.beginPath();ig.system.context.moveTo(c[0].x,c[0].y);for(var d=1;d<c.length;d++)ig.system.context.lineTo(c[d].x,c[d].y);ig.system.context.closePath();
b.fillMode&&ml.Misc.O1651(b.fillMode);ig.system.context.fill();this.O8365(b);b.fillMode&&ml.Misc.O13()},O4860:function(a,b){ig.system.context.fillStyle=this.O1424(a,b);ig.system.context.beginPath();var c=this.O6768(a,b,{x:b.circle.position.x,y:b.circle.position.y});ig.system.context.arc(c.x,c.y,b.circle.radius*ig.system.scale,0,2*Math.PI);ig.system.context.closePath();b.fillMode&&ml.Misc.O1651(b.fillMode);ig.system.context.fill();this.O8365(b);
b.fillMode&&ml.Misc.O13()},O8365:function(a){a.outlineWidth&&(ig.system.context.strokeStyle=a.outlineRgba,ig.system.context.lineWidth=a.outlineWidth*ig.system.scale,ig.system.context.stroke())},O3361:function(a,b){for(var c=[],d=0,e=0;e<b.polygonPoints.length-1;e+=2)c[d]=this.O6768(a,b,{x:b.polygonPoints[e],y:b.polygonPoints[e+1]}),d++;return c},O1424:function(a,b){var c=b.fillRgba?b.fillRgba:"rgba(255,255,255,1)";if(b.O6238||b.radialGradient){var d;
if(b.O6238){d=this.O6768(a,b,{x:b.O6238[0],y:b.O6238[1]});var e=this.O6768(a,b,{x:b.O6238[2],y:b.O6238[3]});d=ig.system.context.createLinearGradient(d.x,d.y,e.x,e.y)}else d=this.O6768(a,b,{x:b.radialGradient.center.x,y:b.radialGradient.center.y}),b.radialGradient.center2?(e=this.O6768(a,b,{x:b.radialGradient.center2.x,y:b.radialGradient.center2.y}),d=ig.system.context.createRadialGradient(d.x,d.y,b.radialGradient.radius*
ig.system.scale,e.x,e.y,b.radialGradient.radius2*ig.system.scale)):d=ig.system.context.createRadialGradient(d.x,d.y,0,d.x,d.y,b.radialGradient.radius*ig.system.scale);d.addColorStop(0,c);d.addColorStop(1,b.fillRgbaEnd);c=d}return c},O6768:function(a,b,c){0!=a.angle&&(c=this.O6317(c,a.pivot,a.angle));c.x=(this.pos.x+this.offset.x-ig.game._rscreen.x+b.pos.x+c.x)*ig.system.scale;c.y=(this.pos.y+this.offset.y-ig.game._rscreen.y+b.pos.y+c.y)*ig.system.scale;return c},O6317:function(a,
b,c){var d=Math.cos(-c);c=Math.sin(-c);return{x:d*(a.x-b.x)+c*(a.y-b.y)+b.x,y:d*(a.y-b.y)-c*(a.x-b.x)+b.y}},O2981:function(a,b,c,d,e){0!=e&&(b=this.O5271(a+c-15,b+d-15,a,b,-e),a=b.x,b=b.y);c=this.pos.x-this.offset.x-ig.game._rscreen.x+this.size.x/2;d=this.pos.y-this.offset.y-ig.game._rscreen.y+this.size.y/2+4;a+=this.size.x/2;b+=this.size.y/2;a*=ig.system.scale;b*=ig.system.scale;c*=ig.system.scale;d*=ig.system.scale;e=Math.abs(c-a)+Math.abs(d-b);if(e>=5*ig.system.scale){var f=
ig.system.context;f.save();f.strokeStyle="rgba(255, 255, 255, 1)";ig.system.context.lineWidth=ig.system.scale;f.setLineDash([5*ig.system.scale,5*ig.system.scale]);f.shadowColor="rgba(0, 0, 0, 0.5)";f.shadowOffsetY=ig.system.scale;f.beginPath();f.moveTo(c,d);f.lineTo(a,b);f.stroke();e>=8*ig.system.scale&&this.O3398(c,d,a,b,3*ig.system.scale);f.restore()}},O3398:function(a,b,c,d,e){context=ig.system.context;context.fillStyle="rgba(255, 255, 255, 1)";var f=c,g=d;context.beginPath();a=
Math.atan2(d-b,c-a);f-=e*Math.cos(a);g-=e*Math.sin(a);b=e*Math.cos(a)+f;c=e*Math.sin(a)+g;context.moveTo(b,c);a+=1/3*2*Math.PI;b=e*Math.cos(a)+f;c=e*Math.sin(a)+g;context.lineTo(b,c);a+=1/3*2*Math.PI;b=e*Math.cos(a)+f;c=e*Math.sin(a)+g;context.lineTo(b,c);context.closePath();context.fill()},O5271:function(a,b,c,d,e){var f=Math.cos(e);e=Math.sin(e);return{x:f*(c-a)+e*(d-b)+a,y:f*(d-b)-e*(c-a)+b}},O6509:function(a){ml.Misc.O6680(a)||(a=0);a=ml.Misc.O5179(a,-this.maxPos,this.maxPos);
return(this.pos.y+a-this.offset.y-ig.game._rscreen.y+(this.attributes.follows?4:9.5))*ig.system.scale},O5219:function(a){var b=null;if(null!==ig.game.O1638.timeSinceMidnightObject.hours){var c=ig.game.O1638.timeSinceMidnightObject.hours,d=ig.game.O1638.timeSinceMidnightObject.minutes,e=ig.game.O1638.timeSinceMidnightObject.seconds;if(a.secondsAngle||a.secondsAngleInSteps)a.secondsAngleInSteps&&(e=Math.floor(e)),b=this.O4873(360*(e/60));else if(a.minutesAngle||
a.minutesAngleInSteps)a.minutesAngleInSteps&&(d=Math.floor(d)),b=this.O4873(360*(d/60));else if(a.hoursAngle||a.hoursAngleInSteps)a.hoursAngleInSteps&&(c=Math.floor(c)),b=this.O4873(360*(c/12));b&&(a.flip.x&&(b*=-1),a.flip.y&&(b*=-1))}return b},O4873:function(a){return a*(Math.PI/180)},O1385:function(a){return a*(180/Math.PI)},O89:function(a){this.O3203&&(a=this.O3896(a),ig.system.context.globalAlpha=
0.8,this.O1771()||this.O6575.O5804(a,null,!0),ig.system.context.globalAlpha=1)},O3896:function(a){if(0<=a.indexOf("[time]")){var b=new Date(ig.game.O1638.milliseconds),b=ig.game.strings.O16(b.getUTCHours())+":"+ig.game.strings.O16(b.getUTCMinutes());a=ig.game.strings.replaceAll(a,"[time]",b)}0<=a.indexOf("[date]")&&(b=ig.game.strings.O6583(new Date(ig.game.O1638.milliseconds)),a=ig.game.strings.replaceAll(a,"[date]",
b));0<=a.indexOf("[people]")&&(b=0,ig.game.O413&&ig.game.O413.player&&(b=ig.game.O413.player.length),a=ig.game.strings.replaceAll(a,"[people]",String(b)));0<=a.indexOf("[center distance]")&&(b=ig.game.O172.O3574(this.pos),a=ig.game.strings.replaceAll(a,"[center distance]",b));0<=a.indexOf("[state]")&&(b=void 0!==this.multithingState?this.multithingState:"",a=ig.game.strings.replaceAll(a,"[state]",b));this.O6454&&(ig.game.holderDialog&&
ig.game.holderDialog.isOpen)&&(0<=a.indexOf("[holder page]")&&(a=ig.game.strings.replaceAll(a,"[holder page]",ig.game.holderDialog.O8177+1)),0<=a.indexOf("[holder page count]")&&(b=ig.game.holderDialog.items?ig.game.holderDialog.items.length-1:1,1>b&&(b=1),a=ig.game.strings.replaceAll(a,"[holder page count]",b)));if(0<=a.indexOf("[name]")&&ig.game.O413.player){b="";if(this.O6454&&ig.game.O4269)b=ig.game.O4269.screenName;else if(this.O3637&&this.parentScreenName)b=
this.parentScreenName;else{var c;if(c=!this.O4868||ig.game.chance(10)?ml.Misc.O632(this):this.O4868)this.O4868=c,b=c.screenName}a=ig.game.strings.replaceAll(a,"[name]",b)}return a},O1771:function(){var a=!1,b=this.O6575.O8238();b&&!b.moving&&(a=!0);return a},O4157:function(a){a={x:this.pos.x+this.offset.x-ig.game._rscreen.x+a.x,y:this.pos.y+this.offset.y-ig.game._rscreen.y+a.y,width:a.width,height:a.height};
a.x*=ig.system.scale;a.y*=ig.system.scale;a.width*=ig.system.scale;a.height*=ig.system.scale;a.x=Math.round(a.x);a.y=Math.round(a.y);return a},check:function(a){this.O3357&&a instanceof EntityPlayer&&25<=Math.abs(a.vel.x)+Math.abs(a.vel.y)&&(ig.game.O6401.O306(this.pos,"sees","activates",this.givenName),ig.game.O6401.O5038(a,"activates",this.givenName),this.O3357=!1,a.forceSend=!0,this.grabAllNearbyPlayersIfNeeded())},
grabAllNearbyPlayersIfNeeded:function(){if(this.grabCell){var a=ig.game.O413.player;if(a)for(var b=0;b<a.length;b++){var c=a[b];if(30>=this.O5320(c)&&(c.dynathingWhichGrabbedMe=this,c.vel={x:0,y:0},c.accel={x:0,y:0},!this.O6156||1<=this.O6156.delta()))this.O6156=new ml.Timer,ig.game.sounds.shortWhoosh.play()}}},O3141:function(a,b){this.parent(a,b)},O28:function(a){this.attributes.solid&&this.parent(a)},O2877:function(){this.offset.x=
(this.size.x-ig.game.tileSize)/2;this.offset.y=this.size.y-ig.game.tileSize;this.pos.x+=this.offset.x;this.pos.y+=this.offset.y;this.size={x:ig.game.tileSize,y:ig.game.tileSize};this.collides=ig.Entity.COLLIDES.FIXED},O2427:function(a){for(var b=!0,c=0;c<a.length;c++)if(Math.abs(a[c])>this.O5193){b=!1;break}return b},O1865:function(a){for(var b=!0,c=0;c<a.length;c++)if(Math.abs(a[c])>this.O5193){b=!1;break}return b},O5739:function(a){return Math.abs(a)<=
this.O5193}})});ig.baked=!0;
ig.module("game.entities.immobile.transform").requires("impact.entity").defines(function(){EntityTransform=ig.Entity.extend({size:{x:38,y:38},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,maxCells:4,O7926:null,secondsPerTransform:null,thingReferences:void 0,O5149:null,cellOrder:null,O7769:void 0,O7680:0,O689:void 0,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);
this.secondsPerTransform=c.secPerTransform?parseInt(c.secPerTransform):ml.Misc.O711();this.parent(a,b,c);this.maxCells=Math.floor(this.animSheet.image.width/this.size.x);for(a=1;a<=this.maxCells;a++)this.addAnim("cell"+a,1,[a-1]);this.attributes||(this.attributes={});this.attributes.inFront&&(this.decorative=!0);this.attributes.inCenter?this.pos.y+=9:this.attributes.atBottom&&(this.pos.y+=19);this.O6454||this.O1476()},O1476:function(){var a=
ig.game.O7715.O8268(this.O5309);a&&a.ts?this.O7926=a.ts:this.O8423()},O8423:function(){this.O7680++;var a=this;ig.game.O7421.O2136(this.O5309,ig.game.O172.O6722,ig.game.O172.currentArea,this).done(function(b){b?a.O7926=new Date(b.ts):1==a.O7680?setTimeout(function(){a.O8423()},500):a.O7926=
new Date})},update:function(){if(this.O7926||this.O6454){var a=this.O5149;this.O5149=this.O6454?1:this.O4911();if(!this.O6454)if(this.O7509=this.O5734&&a==this.O5149,(this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509){if(this.O5149==this.maxCells){if(void 0===this.thingReferences){this.thingReferences=null;var b=this;
ig.game.O4961.getItem_P(b.thingTypeId,"transform1").done(function(a){b.thingReferences=a.thingRefs;b.O7509=!1})}this.thingReferences&&1<=this.thingReferences.length&&(void 0===this.O7769&&(this.O7769=this.O1872()),a=this.thingReferences[this.O7769][1],a=ig.game.strings.O1288(a,25),ig.game.O8380=this,this.attributes.unlabeled||ig.game.actioninfo.open(this,this.pos.x,this.pos.y,a,ig.game.O7510.O715(this.thingTypeId)))}}else!this.O5734&&
this.O7509&&(ig.game.O8380==this&&(ig.game.O8380=void 0),ig.game.actioninfo.isOpen&&!this.attributes.unlabeled&&ig.game.actioninfo.close(this));if(!this.attributes.effectsOnlyAtLastCell||this.O5149==this.maxCells)a={pos:this.O7672(ig.game.O5662(this.pos)),size:ig.game.O5662(this.size)},ig.game.decorator.O6341(a,this)}},O1872:function(){ig.game.seedableRandom.setSeed(this.O7926);
return ig.game.seedableRandom.O5167(0,this.thingReferences.length-1)},O2485:function(){var a=this.O1872(),b=this.thingReferences[a][0];ig.game.O8380==this&&(ig.game.O8380=void 0);ig.game.actioninfo.close(this);ig.game.sounds.playIncludedSound(this);var c=ig.game.O4961.getItemBasic(b,"ent_trn");c.imagesBeingGenerated.done(function(){switch(c.base){case "READABLE":case "MEDIUM":ig.game.O4703.O3217(b);
break;default:var a=ig.game.O7510.O969(c.base);ig.game.O4269.attachments[a]&&ig.game.O4349.O3168(a,null);ig.game.O7510.O2135(ig.game.O4269,a,b);ig.game.O4349.O3168(a,b);ig.game.sounds.pickup.play()}})},draw:function(){if((this.O7926||this.O6454)&&null!==this.O5149&&this.anims["cell"+this.O5149]){var a=this.O7672({x:this.pos.x-ig.game._rscreen.x,
y:this.pos.y-ig.game._rscreen.y});this.anims["cell"+this.O5149].draw(a.x,a.y)}},O4911:function(){var a=1,a=Math.floor(((new Date).getTime()-this.O7926.getTime())/1E3);this.O3298();if(this.attributes.cycles)a=Math.floor(a/this.secondsPerTransform+this.O689)%this.maxCells+1;else if(this.attributes.cyclesForthAndBack){if(!this.cellOrder){this.cellOrder=[];for(var b=1;b<=this.maxCells;b++)this.cellOrder.push(b);for(b=this.maxCells-1;2<=b;b--)this.cellOrder.push(b)}a=
this.cellOrder[Math.floor(a/this.secondsPerTransform+this.O689)%this.cellOrder.length]}else a=Math.floor(a/this.secondsPerTransform+this.O689)+1,a>this.maxCells&&(a=this.maxCells);return a},O3298:function(){void 0===this.O689&&(this.attributes.startRandomly?(ig.game.seedableRandom.setSeed(this.O7926),this.O689=this.attributes.cyclesForthAndBack?ig.game.seedableRandom.O5167(0,2*(this.maxCells-1)):ig.game.seedableRandom.O5167(0,
this.maxCells-1)):this.O689=0)},O7672:function(a){a.x-=Math.floor(this.size.x/4);a.y-=Math.floor(this.size.y-ig.game.tileSize);return a}})});ig.baked=!0;
ig.module("game.entities.immobile.happening").requires("impact.entity").defines(function(){EntityHappening=ig.Entity.extend({size:{x:29,y:29},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,startsOnTouch:!0,O3357:!1,O7327:null,O720:[0,0,0,1],iframe:null,subChannel:null,timer:null,O1881:!1,O5594:!1,O793:"*",O6933:!1,O3628:!1,O5107:3,
O6432:7200,O2235:null,O1490:10,maxCells:null,O7063:1E4,O1468:Math.PI/180,O1477:100,O4696:100,O3881:50,maxPos:1E3,code:null,textSize:null,O5892:!0,O5789:0,O7070:!1,O1002:null,O6454:!1,O5579:!1,O6712:!1,frameId:null,O6315:null,O3792:null,isClosing:!1,O2550:null,O3959:!1,init:function(a,
b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);this.attributes||(this.attributes={});this.subChannel=ig.game.O5167(1,1E8);this.frameId="happeningFrame_"+this.subChannel;if(this.attributes.offersEditing&&(this.O5579||this.O6454))this.attributes.offersEditing=!1;this.maxCells=Math.floor(this.animSheet.image.width/this.size.x);for(a=1;a<=this.maxCells;a++)this.addAnim("cell_"+a,1,[a-1]);if(ig.game.O8053&&"INDIVIDUALS"==ig.game.O2714||
this.O5579){if(this.startsOnTouch=!this.O5579&&!this.O6712)this.type=ig.Entity.TYPE.B,this.O6821=ig.Entity.TYPE.A,this.O3357=!0;this.O3628=!0}this.O3792=ig.game.O5662(this.pos);this.O5579&&(this.O2550=ig.game.O3501.O3685)},O4016:function(){var a=1;this.O5309&&(a+=Math.abs(this.O5309.x,this.O5309.y));a+=(new Date).getUTCHours();ig.game.areaName&&(a+=
ml.Misc.O7937(ig.game.areaName,1E3));return a+=ml.Misc.O7937(this.thingTypeId,1E3)},update:function(){if(this.O3628&&!this.O3357&&!this.isClosing)if(this.O2235&&this.O2235.delta()>this.O6432)ig.game.userScriptEditor&&ig.game.userScriptEditor.O3681(),this.reset();else if(this.O7327&&this.O7327.doEnd||ig.input.pressed("esc"))ig.game.userScriptEditor&&ig.game.userScriptEditor.O3681(),
this.reset(),this.startsOnTouch&&(this.O3357=!0),ig.game.O3501.O2336()&&(ig.game.O3501.O6134(),ig.game.O3501.stop());else if(this.iframe||this.O319(),this.O1881&&this.O5594&&this.iframe){var a=!1;this.timer||(this.timer=new ml.Timer,a=!0,this.O2235=new ml.Timer);this.O7825();var b=this.timer.delta();a||this.O6933?(this.O6933=!1,this.timer.reset(),
this.iframe.postMessage(this.O2811(),this.O793)):b>=this.O5107&&(ig.game.O4269.say("oops, a happening stopped as it took too long"),this.tidyUp())}this.O5789=0},O7825:function(){this.attributes.follows&&this.O6315&&(this.pos=ig.game.O5662(this.O6315.pos))},O319:function(){if(!ig.game.areaClosed){var a=this,b=!this.textSize,c=this.attributes.offersEditing;!this.O5579&&(b||c&&this.thingTypeId==
localStorage.lastSavedOffersEditingItemId)?ig.game.O7421.O558().done(function(b){ig.game.userScriptEditor&&(a.code=b.contents?b.contents:a.O7092(),ig.game.userScriptEditor.open(a.code,a))}):!this.O5579&&c?ig.game.O4961.getItem_P(a.thingTypeId,"happening_load1").done(function(b){a.code=b.textData;a.code||(a.code="");ig.game.userScriptEditor&&ig.game.userScriptEditor.open(a.code,a,!1,void 0,a.thingTypeId)}):a.O3959||ig.game.O4961.getItem_P(a.thingTypeId,
"happening_load2").done(function(b){ml.Misc.O7257(b)?(a.code=b.textData,a.code||(a.code=""),a.O599()):a.O3959=!0})}},O6072:function(a){if(this.O3628){if(ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen){var b=a.lineNumber-this.O482().split("\r").length+1;ig.game.userScriptEditor.O8457(a.message,b,a.columnNumber);ig.game.userScriptEditor.O3681();this.reset()}else{var c="line "+a.lineNumber+", "+a.message.toLowerCase();
ig.game.O4269.say("this happening has an issue");setTimeout(function(){ig.game.O4269.say('"'+c+'"')},1500)}this.tidyUp()}},O482:function(){return ig.game.userScriptManager.getDeterministicRandomizationCodeStart(this.O4016())},O2811:function(){var a={};a.tick=ig.system.tick;if(this.O7070){var b=ig.game.O5662(this.pos),b=this.O7672(b);a.sight={placements:ig.game.brainManager.O7152(b),entities:ig.game.brainManager.O2335(this.O2550),
scope:ig.game.brainManager.O2770};a.x=this.pos.x;a.y=this.pos.y;a.width=this.size.x;a.height=this.size.y}return a},draw:function(){this.O5789++;if(1<=this.O5789&&3>=this.O5789&&this.anims&&this.anims.cell_1){if((this.O6454||2==this.O5789)&&!this.O5579){var a=this.O7672({x:this.O3792.x-ig.game._rscreen.x,y:this.O3792.y-ig.game._rscreen.y});this.anims.cell_1.alpha=1;this.O7327&&
(void 0!==this.O7327.itemAlpha&&ml.Misc.O6680(this.O7327.itemAlpha))&&(this.anims.cell_1.alpha=ml.Misc.O5179(this.O7327.itemAlpha,0,1));0<this.anims.cell_1.alpha&&(this.anims.cell_1.angle=0,this.anims.cell_1.flip={x:!1,y:!1},this.anims.cell_1.draw(a.x,a.y));this.O5827()}if(this.O7327&&!this.O6454){var b;switch(this.O5789){case 1:b=this.O7327.back;break;case 2:b=this.O7327;
break;case 3:b=this.O7327.front}this.O1844(b)}}},O5827:function(){this.O7327&&(this.O7327.doPlaySound&&this.soundId)&&(this.O1002&&2<this.O1002.delta()&&(this.O1002=null),this.O1002||(ig.game.sounds.playIncludedSound(this),this.O1002=new ml.Timer))},O7672:function(a){a.x-=5;a.y-=10;return a},O1844:function(a){if(a){if(a.particles&&Array.isArray(a.particles))for(var b=
parseInt(a.particles.length).limit(0,this.O1477),c=0;c<b;c++)this.O252(a.particles[c]);if(a.lines&&Array.isArray(a.lines)){b=parseInt(a.lines.length).limit(0,this.O1477);for(c=0;c<b;c++)this.O7599(a.lines[c])}if(a.rectangles&&Array.isArray(a.rectangles)){b=parseInt(a.rectangles.length).limit(0,this.O1477);for(c=0;c<b;c++)this.O4426(a.rectangles[c])}if(a.polygons&&Array.isArray(a.polygons)){b=parseInt(a.polygons.length).limit(0,this.O1477);
for(c=0;c<b;c++)this.O756(a.polygons[c])}if(a.circles&&Array.isArray(a.circles)){b=parseInt(a.circles.length).limit(0,this.O1477);for(c=0;c<b;c++)this.O4860(a.circles[c])}if(a.items&&Array.isArray(a.items)){b=parseInt(a.items.length).limit(0,this.O4696);for(c=0;c<b;c++)this.O1588(a.items[c])}if(a.texts&&Array.isArray(a.texts)){b=parseInt(a.texts.length).limit(0,this.O1477);for(c=0;c<b;c++)this.O7193(a.texts[c])}}},O4460:function(a){var b=
null;if(a){for(var c in ig.game.brainManager.enumMode)if(a==ig.game.brainManager.enumMode[c]){b=c;break}switch(b){case "bright":b="lighten";break;case "dark":b="darken";break;case "default":b=null}}return b},O7599:function(a){if("object"==typeof a){var b=ig.system.context;b.beginPath();var c=this.O6746(a);this.O3848(a);this.O2013(a);b.moveTo(this.O2084(a.x1),this.O6509(a.y1));b.lineTo(this.O2084(a.x2),this.O6509(a.y2));b.stroke();this.O318(c)}},
O756:function(a){if(a.points&&Array.isArray(a.points)&&3<=a.points.length){var b=ig.system.context;b.beginPath();var c=this.O6746(a);this.O3848(a,!0);this.O2013(a);var d=a.points[0];b.moveTo(this.O2084(d.x),this.O6509(d.y));for(var e=parseInt(a.points.length).limit(0,this.O3881),f=1;f<e;f++)d=a.points[f],b.lineTo(this.O2084(d.x),this.O6509(d.y));b.closePath();a.filled?b.fill():b.stroke();this.O318(c)}},O4426:function(a){if("object"==
typeof a){var b=ig.system.context;b.beginPath();var c=this.O6746(a);this.O3848(a,!0);this.O2013(a);ml.Misc.O6680(a.x1)||(a.x1=1);ml.Misc.O6680(a.y1)||(a.y1=1);ml.Misc.O6680(a.x2)||(a.x2=2);ml.Misc.O6680(a.y2)||(a.y2=2);var d=ml.Misc.O5179(a.x2-a.x1,1,2E3),e=ml.Misc.O5179(a.y2-a.y1,1,2E3);b.rect(this.O2084(a.x1),this.O6509(a.y1),d*ig.system.scale,e*ig.system.scale);a.filled?b.fill():b.stroke();this.O318(c)}},O252:function(a){if("object"==
typeof a){var b=ig.system.context;b.beginPath();var c=this.O6746(a),d="rgba("+this.O1395(a.rgba).join(",")+")";ig.system.context.fillStyle=d;this.O2013(a);var d=ig.system.scale*a.thickness,e=ig.system.scale*a.thickness;b.rect(this.O2084(a.x)-d/2,this.O6509(a.y)-e/2,d,e);b.fill();this.O318(c)}},O4860:function(a){if("object"==typeof a){var b=ig.system.context;b.beginPath();var c=this.O6746(a);this.O3848(a,!0);this.O2013(a);
if(!a.radius||!ml.Misc.O6680(a.radius))a.radius=ig.game.O1990;b.arc(this.O2084(a.x),this.O6509(a.y),ml.Misc.O5179(a.radius,1,500)*ig.system.scale,0,2*Math.PI,!1);a.filled?b.fill():b.stroke();this.O318(c)}},O7193:function(a){if("object"==typeof a){var b=this.O6746(a),c=1;void 0!==a.alpha&&ml.Misc.O6680(a.alpha)&&(c=ml.Misc.O5179(a.alpha,0,1));if(0<c){1!=c&&(ig.system.context.globalAlpha=a.alpha);var d=a.content&&"string"===typeof a.content?
a.content:"",d=ig.game.strings.O1288(d,250),e=ig.Font.ALIGN.CENTER;a.align&&(a.align==ig.game.brainManager.enumAlign.left?e=ig.Font.ALIGN.LEFT:a.align==ig.game.brainManager.enumAlign.right&&(e=ig.Font.ALIGN.RIGHT));var f="whiteSmallFont";a.font&&(a.font==ig.game.brainManager.enumFont.white?f="whiteFont":a.font==ig.game.brainManager.enumFont.blackSmall?f="blackSmallFont":a.font==ig.game.brainManager.enumFont.black&&(f="blackFont"));var g=a.x;a=a.y;g=this.pos.x+10+g-ig.game._rscreen.x;a=this.pos.y+
5+a-ig.game._rscreen.y;ig.game[f].draw(d,g,a,e);1!=c&&(ig.system.context.globalAlpha=1)}this.O318(b)}},O1588:function(a){if("object"==typeof a){var b=this.O6746(a);ml.Misc.O6680(a.cell)?a.cell=parseInt(a.cell).limit(1,this.maxCells):a.cell=1;var c=this.anims["cell_"+a.cell];c&&(ml.Misc.O6680(a.alpha)?c.alpha=ml.Misc.O5179(a.alpha,0,1):c.alpha=1,0<c.alpha&&(a.pivot&&void 0!==a.pivot.x&&void 0!==a.pivot.y&&ml.Misc.O6680(a.pivot.x)&&ml.Misc.O6680(a.pivot.y)?
(c.pivot.x=a.pivot.x,c.pivot.y=a.pivot.y):(c.pivot.x=this.size.x/2,c.pivot.y=this.size.y/2),c.flip.x=a.flip&&void 0!==a.flip.x?Boolean(a.flip.x):!1,c.flip.y=a.flip&&void 0!==a.flip.y?Boolean(a.flip.y):!1,a.rotation&&ml.Misc.O6680(a.rotation)?(angle=parseInt(a.rotation).limit(-this.O7063,this.O7063),c.angle=angle*this.O1468):c.angle&&(c.angle=0),a=this.O7672({x:a.x,y:a.y}),a.x=this.pos.x-this.offset.x+a.x-ig.game._rscreen.x,a.y=this.pos.y-this.offset.y+a.y-
ig.game._rscreen.y,c.draw(a.x,a.y)));this.O318(b)}},O318:function(a){a&&ml.Misc.O13()},O2013:function(a){a&&(a.thickness&&ml.Misc.O6680(a.thickness)?a.thickness=parseFloat(a.thickness).limit(1,this.O1490):a.thickness=1,ig.system.context.lineWidth=a.thickness*ig.system.scale)},O3848:function(a,b){var c="rgba("+this.O1395(a.rgba).join(",")+")";ig.system.context.strokeStyle=c;b&&a.filled&&(ig.system.context.fillStyle=c)},O6746:function(a){(a=
this.O4460(a.mode))&&ml.Misc.O1651(a);return a},O1395:function(a){Array.isArray(a)&&ml.Misc.O6674(a[0])&&ml.Misc.O6674(a[1])&&ml.Misc.O6674(a[2])&&ml.Misc.O6680(a[3])?(a[0]=parseInt(a[0]).limit(0,255),a[1]=parseInt(a[1]).limit(0,255),a[2]=parseInt(a[2]).limit(0,255),a[3]=ml.Misc.O5179(a[3],0,1)):a=null;a||(a=this.O720);return a},O2084:function(a){ml.Misc.O6680(a)||(a=0);a=ml.Misc.O5179(a,-this.maxPos,this.maxPos);return(this.pos.x+
a-this.offset.x-ig.game._rscreen.x+(this.attributes.follows?4:9.5))*ig.system.scale},O6509:function(a){ml.Misc.O6680(a)||(a=0);a=ml.Misc.O5179(a,-this.maxPos,this.maxPos);return(this.pos.y+a-this.offset.y-ig.game._rscreen.y+(this.attributes.follows?4:9.5))*ig.system.scale},check:function(a){if(this.O3357&&!this.isClosing&&a instanceof EntityPlayer){var b=2<=Math.abs(a.vel.x)+Math.abs(a.vel.y),c=a.O1457&&(!a.O1457.flip.x&&a.pos.x>this.pos.x||a.O1457.flip.x&&a.pos.x<
this.pos.x),d=!this.textSize||this.attributes.offersEditing;if(b&&c&&(!d||a.O4102))a.O4102&&(ig.game.O6401.O306(this.pos,"sees","activates",this.givenName),ig.game.O6401.O5038(a,"activates",this.givenName)),this.attributes.follows&&(this.O6315=a),this.O2550=a,this.O3357=!1}},O3141:function(a,b){this.O3357&&!this.isClosing&&this.parent(a,b)},O28:function(a){},O599:function(){if(!this.isClosing){jQuery("#"+
this.frameId).remove();var a=ml.Misc.O5752()?"/":"//manyland.org/",a=a+("_sandbox/brain/?v="+ig.game.O574),a=a+("#happening_"+this.subChannel),b=window.frames.length;this.iframe=jQuery('<iframe id="'+this.frameId+'" class="happeningFrame" sandbox="allow-scripts" src="'+a+'"></iframe>');this.iframe.appendTo("body");this.iframe=window.frames[b];this.timer=null;this.O6933=this.O5594=this.O1881=!1;this.O7070=
this.O6131()}},O6131:function(){return this.code&&(0<=this.code.indexOf(".sight")||0<=this.code.indexOf("my.x")||0<=this.code.indexOf("my.y")||0<=this.code.indexOf("my.width")||0<=this.code.indexOf("my.height"))},receiveMessageFromExternal:function(a){!this.isClosing&&(a&&"fromChild"==a.internal_type)&&(this.O1881?(this.O5594?(this.O6933=!0,this.O7327=a?a:{},ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen&&
(a.internal_doClearLog&&ig.game.userScriptEditor.O1467(),a.internal_logText&&"string"===typeof a.internal_logText&&ig.game.userScriptEditor.O1719(ig.game.brainManager.O5067(a.internal_logText)))):a.internal_didLoadWorker&&(this.O3628=this.O5594=!0),a.internal_error&&this.O6072(a.internal_error)):a.internal_didLoadInitial&&(this.O1881=!0,a=this.O482()+this.code,this.iframe&&this.iframe.postMessage({internal_codeToLoad:a,
internal_mainFunctionName:"update"},this.O793)))},reset:function(){this.tidyUp();this.startsOnTouch&&(this.O3357=!0);this.O3628=!0},tidyUp:function(){this.O6315=null;this.O6933=this.O5594=this.O1881=!1;this.O2235=this.O7327=null;this.O3628=!1;this.O1002=this.code=this.timer=null;jQuery("#"+this.frameId).remove();this.iframe=null},O7092:function(){return"// An example script\r\rvar particles = [ { x: 0, y: -30, thickness: 5 } ];\r\rfunction update(my) { \r   particles[0].x += my.tick * 10; \r   \r   return {particles: particles};\r}\r"},
userScriptEditorRunStarted:function(a){this.reset();this.code=a;this.O3357=!1;var b=this;setTimeout(function(){b.O599()},300);return!0},userScriptEditorRunEnded:function(){ig.game.userScriptEditor&&ig.game.userScriptEditor.O3681();this.reset();this.O3357=!1},userScriptEditorClosed:function(){this.O3628=this.O3357=!1;this.isClosing=!0;var a=this;setTimeout(function(){a.O3357=!0;a.O3628=!0;a.isClosing=!1},1500)},userScriptEditorOpenHelp:function(){ml.Misc.openUrl("/info-happening")}})});
ig.baked=!0;
ig.module("game.entities.immobile.changer").requires("impact.entity").defines(function(){window.EntityChanger=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,betweenDefaultAndPlayer:!0,baseType:"CHANGER",init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0])},update:function(){this.O7509=this.O5734;(this.O5734=this.touches(ig.game.O4269))&&
!this.O7509?ig.game.actioninfo.open(this,this.pos.x,this.pos.y,null,!0,"drag creations over to change",null,!1):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this)}})});ig.baked=!0;
ig.module("game.entities.immobile.brain").requires("impact.entity").defines(function(){window.EntityBrain=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,baseType:"BRAIN",isStack:!0,givenName:"",init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.flip.x=!!((a-b)%2)},update:function(){this.O7509=this.O5734;
(this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&ig.game.O4269.attachments.br?ig.game.actioninfo.close(this):this.O5734&&!this.O7509?ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"equip "+ig.game.strings.O2833(this.givenName,10),ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this)},draw:function(){this.O1457&&
ig.game.O7510.O5379(this)},O28:function(a){this.parent(a)}})});ig.baked=!0;
ig.module("game.entities.immobile.liner").requires("impact.entity").defines(function(){window.EntityLiner=ig.Entity.extend({size:{x:15,y:15},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,baseType:"LINER",isStack:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.flip.x=!!((a-b)%2)},update:function(){this.O7509=this.O5734;(this.O5734=
ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"hold",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this);ig.game.decorator.O6341(this,this)},draw:function(){this.O1457&&ig.game.O7510.O5379(this)},O28:function(a){this.parent(a)}})});
ig.baked=!0;
ig.module("game.entities.immobile.stackhold").requires("impact.entity").defines(function(){window.EntityStackhold=ig.Entity.extend({size:{x:15,y:15},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,baseType:"STACKHOLD",isStack:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);if(!c.attributes||!c.attributes.nonFlipping)this.O1457.flip.x=this.O5579?ig.game.chance(50):
!!((a-b)%2)},update:function(){this.O7509=this.O5734;(this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"hold",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this);ig.game.decorator.O6341(this,this)},draw:function(){this.O1457&&
ig.game.O7510.O5379(this)},O28:function(a){this.parent(a)}})});ig.baked=!0;
ig.module("game.entities.immobile.emitter").requires("impact.entity").defines(function(){window.EntityEmitter=ig.Entity.extend({size:{x:15,y:15},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,baseType:"EMITTER",isStack:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.flip.x=!!((a-b)%2)},update:function(){this.O7509=this.O5734;
(this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"hold",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this);ig.game.decorator.O6341(this,this)},draw:function(){this.O1457&&ig.game.O7510.O5379(this)},O28:function(a){this.parent(a)}})});
ig.baked=!0;
ig.module("game.entities.immobile.aimable").requires("impact.entity").defines(function(){window.EntityAimable=ig.Entity.extend({size:{x:15,y:15},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,baseType:"AIMABLE",isStack:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.flip.x=!!((a-b)%2)},update:function(){this.O7509=this.O5734;(this.O5734=
ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"hold",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this);ig.game.decorator.O6341(this,this)},draw:function(){this.O1457&&ig.game.O7510.O5379(this)},O28:function(a){this.parent(a)}})});
ig.baked=!0;ig.module("game.entities.immobile.interenv").requires("impact.entity").defines(function(){window.EntityInterenv=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O7168:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457=this.anims.main}})});ig.baked=!0;
ig.module("game.entities.immobile.equipment").requires("impact.entity").defines(function(){window.EntityEquipment=ig.Entity.extend({size:{x:15,y:15},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,baseType:"EQUIPMENT",isStack:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.flip.x=!!((a-b)%2)},update:function(){this.O7509=this.O5734;
(this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"hold",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this);ig.game.decorator.O6341(this,this)},draw:function(){this.O1457&&ig.game.O7510.O5379(this)},O28:function(a){this.parent(a)}})});
ig.baked=!0;
ig.module("game.entities.immobile.consumab").requires("impact.entity").defines(function(){window.EntityConsumab=ig.Entity.extend({size:{x:15,y:15},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,baseType:"CONSUMAB",isStack:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.flip.x=this.O5579?ig.game.chance(50):!!((a-b)%2)},update:function(){this.O7509=this.O5734;
(this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"hold",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this);ig.game.decorator.O6341(this,this)},draw:function(){this.O1457&&ig.game.O7510.O5379(this)},O28:function(a){this.parent(a)}})});
ig.baked=!0;
ig.module("game.entities.immobile.hook").requires("impact.entity").defines(function(){window.EntityHook=ig.Entity.extend({size:{x:15,y:15},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,baseType:"HOOK",isStack:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.flip.x=!!((a-b)%2)},update:function(){this.O7509=this.O5734;(this.O5734=
ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"hold",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this);ig.game.decorator.O6341(this,this)},draw:function(){this.O1457&&ig.game.O7510.O5379(this)},O28:function(a){this.parent(a)}})});
ig.baked=!0;
ig.module("game.entities.immobile.stackwear").requires("impact.entity").defines(function(){window.EntityStackwear=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,baseType:"STACKWEAR",isStack:!0,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);this.parent(a,b,c);c.animSheet&&c.animSheet.image&&(this.size.x=c.animSheet.image.width/2,this.size.y=
c.animSheet.image.height);this.addAnim("main",1,[0]);if(!this.attributes||!this.attributes.nonFlipping)this.O1457.flip.x=!this.O6454&&!!((a-b)%2);this.O6454||(this.O1457.angle=0.5*(this.O1457.flip.x?-1:1))},update:function(){this.O7509=this.O5734;(this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,
this.pos.y,"wear",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this);ig.game.decorator.O6341(this,this)},draw:function(){this.O6454?this.parent():ig.game.O7510.O1961(this,"STACKWEAR")},O28:function(a){this.parent(a)}})});ig.baked=!0;
ig.module("game.entities.immobile.stackwearb").requires("impact.entity").defines(function(){window.EntityStackwearb=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,isOld:!1,baseType:"STACKWEARB",isStack:!0,O4305:!1,O381:!1,mover:{thing:null},O5736:null,O7318:null,eyesTimer:null,O3964:!1,
mouthTimer:null,O4774:!1,O3426:null,O3792:{x:null,y:null},moveOffset:{x:0,y:0},O6585:void 0,O7168:!0,isSolid:!1,O3615:!1,init:function(a,b,c){this.O3792={x:a,y:b};this.isOld=c.animSheet.image.width/ig.game.O1509!=parseInt(c.animSheet.image.width/ig.game.O1509);this.size.x=c.animSheet.image.width/(this.isOld?ig.game.O2565:ig.game.O1509);this.size.y=c.animSheet.image.height;c.animSheet.width=this.size.x;this.parent(a,
b,c);this.O6585=!this.O6454&&!!((a-b)%2);this.addAnim("main",1,[0]);this.addAnim("blink",1,[this.isOld?6:7]);this.addAnim("run",1,[1]);this.addAnim("talk",1,[8]);this.addAnim("climbing",1,[4]);this.anims.main.flip.x=this.O6585;this.anims.blink.flip.x=this.O6585;this.anims.talk.flip.x=this.O6585;this.anims.run.flip.x=this.O6585;this.O1457=this.anims.main;this.O227(!1);this.O7372();this.mover.thing?this.O276=
this.thingTypeId+"_"+a+"_"+b:delete this.givenName;if(this.O6454||this.O5579)this.angle=0,this.O6585=!1,this.O1457.angle=this.angle,this.O1457.flip.x=this.O6585,this.O5579&&(this.O6585=this.O1457.flip.x=ig.game.chance(50))},O6894:function(){var a=null;if(this.O5309&&null!==this.O5309.y&&void 0!==this.O5309.y){var b=ig.game.O7715.O1009({x:this.O5309.x,y:this.O5309.y-
1});b&&b.thing&&(a=b.thing)}return a},O7372:function(){var a;this.O6585=!!((this.O3792.x-this.O3792.y)%2);this.O4305&&!this.isOld&&(this.O6585=!this.O6585);if(this.O1457=this.anims.main){this.O1457.flip.x=this.O6585;if(this.O4305||this.mover.thing||this.O1938){this.O3964=!0;if(!this.O1938||this.blinkInMultithing)this.eyesTimer=new ml.Timer;a=0;this.pos.y=this.O3792.y+
(ig.game.tileSize-this.size.y)}else a=0.5*(this.O1457.flip.x?-1:1),this.pos.y=this.O3792.y;this.anims.main.angle=a;this.anims.blink.angle=a;this.O381=this.O4305}this.O7168=Boolean(this.mover.thing);this.O1923();var b=this;if(this.mover.thing&&this.mover.thing.holdableId&&!this.mover.holdable){var c=ig.game.O4961.getItemBasic(this.mover.thing.holdableId,"ent_swb1");c.imagesBeingGenerated.done(function(){ig.game.O7019.O4405(b,
c)})}if(this.mover.thing&&this.mover.thing.wearableId&&!this.mover.wearable){var d=ig.game.O4961.getItemBasic(this.mover.thing.wearableId,"ent_swb2");d.imagesBeingGenerated.done(function(){ig.game.O7019.O1289(b,d)})}},O1923:function(){this.isSolid=Boolean(this.mover.thing)&&this.mover.thing.attributes&&(this.mover.thing.attributes.solid||this.mover.thing.attributes.harmful||this.mover.thing.attributes.deadly)&&0<this.mover.health;this.O5419()},O5419:function(){this.collides=
this.isSolid?ig.Entity.COLLIDES.ACTIVE:ig.Entity.COLLIDES.NEVER},O3141:function(a,b){if(this.isSolid){if(this.mover&&this.mover.health&&this.mover.thing&&a&&a.specs&&a.specs.harm){var c=ig.game.O5167(6,10);ig.game.decorator.burst(this,c);a.O6909&&(this.mover.health-=a.specs.harm,ig.game.O4349.O532(this.O276,this.mover.health),0>=this.mover.health&&(ig.game.O6401.O5038(ig.game.O4269,"kills",this.givenName),this.mover.health=
0))}ig.game.O7019.O6101(this,a,b);this.parent(a,b)}},update:function(){this.O227();this.O4305?this.O1177():this.mover.thing?ig.game.O7019.O1716(this):this.O1938?this.blinkInMultithing&&this.O2667():(this.O7509=this.O5734,(this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&
ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"change to",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this));this.mover.thing&&0>=this.mover.health||ig.game.decorator.O6341(this,this);this.isSolid&&this.parent()},O227:function(a){this.O4305=!1;this.mover.thing=null;var b=this.O6894();b&&("INTERACT"==b.base?(this.O4305=Boolean(b.attributes&&
b.attributes.affectsBelow),this.isStack=!1):"MOVER"==b.base&&!this.isOld&&(this.mover.thing=b,this.mover.thing.id!=this.mover.idPrevious&&(ig.game.O7019.O512(this),a||this.O7372()),this.isStack=!1));this.mover.idPrevious&&!this.mover.thing&&(this.pos=ig.game.O5662(this.O3792),this.mover={thing:null},this.O3964=this.O3615=!1,this.moveOffset={x:0,y:0},a||this.O7372());this.O381!=this.O4305&&
(a||this.O7372())},O2667:function(){if(this.O3964){var a=1.3;this.O1938&&(a*=5);this.eyesTimer.delta()>=a&&ig.game.chance(1)&&(this.eyesTimer=new ml.Timer,this.O3964=!1)}else 0.12<=this.eyesTimer.delta()&&(this.eyesTimer=new ml.Timer,this.O3964=!0)},O1177:function(){this.O2667();if(!this.isOld&&(this.O7318&&10<=this.O7318.delta()&&(this.O7318=
null),null==this.O3426?!this.O5736&&(null===this.O7318&&ig.game.chance(0.2))&&(this.O3426=new ml.Timer,this.O1457=this.anims.run,this.O767()):2<=this.O3426.delta()&&(this.O3426=null,this.O1457=this.anims.main),this.O7549(),this.O5736))if(this.mouthTimer){if(0.15<=this.mouthTimer.delta()){var a=this.O5736.length;3<a?(this.O5736=this.O5736.substr(0,a-2),this.mouthTimer=
new ml.Timer,ig.game.chance(70)&&(this.O4774=!this.O4774)):(this.mouthTimer=this.O5736=null,this.O4774=!1,this.O7318=new ml.Timer)}}else this.mouthTimer=new ml.Timer,this.O4774=!0},draw:function(){if(this.O1457)if(this.O4305||this.mover.thing||this.O1938){var a,b;this.O1457.angle=0;var c=!1;if(this.mover.thing){if(c=this.mover.attachedWearable&&this.mover.wearable&&this.mover.wearable.attributes&&this.mover.wearable.attributes.invisibility)ig.system.context.globalAlpha=
0.25,ml.Misc.O1651("xor");if(0>=this.mover.health)return;a=ig.game.tileSize-this.size.y;this.pos.x=this.O3792.x+this.moveOffset.x;this.pos.y=this.O3792.y+this.moveOffset.y+a;a=this.pos.x-this.offset.x-ig.game._rscreen.x;b=this.pos.y-this.offset.y-ig.game._rscreen.y;if(this.mover.thing.soundId&&!this.O3615&&ig.game.O4269){var d=Math.max(ig.system.widthHalf,ig.system.O8417);this.O5320(ig.game.O4269)<=d&&(ig.game.sounds.playIncludedSound(this,this.mover.thing.soundId),
this.O3615=!0)}this.mover.angle&&(this.O1457.angle=this.mover.angle)}else a=this.pos.x-this.offset.x-ig.game._rscreen.x+this.moveOffset.x,b=this.pos.y-this.offset.y-ig.game._rscreen.y+this.moveOffset.y;if(this.isOld)this.O3964?this.anims.main.draw(a,b):this.anims.blink&&this.anims.blink.draw(a,b);else if(this.O1457.draw(a,b),0==this.moveOffset.x||this.mover.thing&&this.O1457==this.anims.main)!this.O3964&&this.anims.blink&&(this.anims.blink.flip.x=this.O1457.flip.x,
this.anims.blink.draw(a,b)),this.O4774&&this.anims.talk&&(this.anims.talk.flip.x=this.O1457.flip.x,this.anims.talk.draw(a,b));this.mover.wearable&&ig.game.O7019.O6556(this,a,b);this.mover.holdable&&ig.game.O7019.O3043(this,a,b);c&&(ig.system.context.globalAlpha=1,ml.Misc.O13())}else this.O6454||this.O5579?this.parent():ig.game.O7510.O1961(this,"STACKWEARB")},O7549:function(){if(this.O3426){var a=
this.O3426.delta(),b=0.1;this.O6585&&(b*=-1);0.75>=a?(this.moveOffset.x+=b,this.anims.run&&this.anims.main&&(this.O1457=0.375>=a?this.anims.run:this.anims.main,this.O1457.flip.x=!this.O6585)):(this.moveOffset.x-=b,this.anims.run&&this.anims.main&&(this.O1457=a<=1.5*0.95?this.anims.run:this.anims.main,this.O1457.flip.x=this.O6585))}else if(0!=this.moveOffset.x&&(this.moveOffset.x=0),this.O1457=this.anims.main)this.O1457.flip.x=!this.O6585},
O767:function(){if(this.O1457){var a=this.mover.thing?{x:0,y:0}:this.moveOffset;ig.game.O6879(EntityDust,this.pos.x+this.size.x/2+7*(this.O1457.flip.x?-1:1)+a.x,this.pos.y+this.size.y-1+a.y,{vel:{x:20*(this.O1457.flip.x?-1:1)+(10*Math.random()-5),y:10*Math.random()-5}})}},O28:function(a){this.isSolid&&this.parent(a)}})});ig.baked=!0;
ig.module("game.entities.immobile.thrower").requires("impact.entity").defines(function(){window.EntityThrower=ig.Entity.extend({size:{x:19,y:19},offset:{x:0,y:0},O199:0,opacity:1,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,attributes:{},throwDirection:0,O5309:{},O7168:!0,init:function(a,b,c){c.attributes&&(this.attributes=c.attributes);c.throwDirection&&(this.throwDirection=c.throwDirection);this.parent(a,b,c);this.addAnim("main",
1,[0]);this.addAnim("throws",0.5,[1]);this.O1457=this.anims.main;this.attributes||(this.attributes={})},O5688:function(a){a&&1==a.id&&this.O964(a.tid)},O964:function(a){this.O4983();this.O4754(a);this.O1457=this.anims.throws;var b=this;setTimeout(function(){b.O1457=b.anims.main},500)},O4983:function(){if(this.attributes.throwsLiving){var a=this.O4890();if(1<=a.length){var b=this.O6848(),
c=2.5;0==this.throwDirection&&(c=3);b.x*=c;b.y*=c;for(c=0;c<a.length;c++)a[c].vel=ig.game.O5662(b);ig.game.sounds.O7086(ig.game.sounds.whoosh,this)}}},O4754:function(a){var b=this.O1081();if(b){var c=this.O6848();if(!b.attributes||!b.attributes.floaty&&!b.attributes.flies){var d=1==this.throwDirection||7==this.throwDirection;0==this.throwDirection?c.y*=1.75:d&&(c.x*=1.25,c.y*=1.25)}0!=c.x&&0!=c.y&&(c.x*=0.8,c.y*=0.8);a={O198:{width:b.img.width,
height:b.img.height,flipX:0<c.x?1:0,path:b.img.path,animSheet:ig.game.entityManager.getAnimationForEntity(b,0,!1)},itemId:b.id,O8247:b.base,attributes:b.attributes,O2068:b.name,O1117:c,O1291:!0,originatorId:this.O3123(),throwId:a};ig.game.O6879(EntityThrownItem,Math.floor(this.pos.x+ig.game.O1990-(b.img.width?b.img.width/2:0)),Math.floor(this.pos.y+ig.game.O1990-(b.img.height?b.img.height/2:0)),a);ig.game.sounds.O7086(ig.game.sounds.whoosh,
this)}},O6848:function(){var a={x:0,y:0},b=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]][this.throwDirection];b&&(a=this.attributes.moreForce?200:100,a={x:b[0]*a,y:b[1]*a});return a},O4890:function(){var a=[],b=ig.game.O413.player;if(b)for(var c=0;c<b.length;c++){var d=b[c];d instanceof EntityPlayer&&(!d._killed&&this.touches(d))&&a.push(d)}return a},O1966:function(){var a=null,b=ig.game.O413.foreground;if(b)for(var c=0;c<
b.length;c++){var d=b[c];if(d instanceof EntityThrownItem&&!d._killed&&("STACKHOLD"==d.O8247||"EMITTER"==d.O8247||"CONSUMAB"==d.O8247)&&ig.game.O4269.touches(d)){a=d;break}}return a},O1081:function(){for(var a,b=-1;1>=b;b++)for(var c=-1;1>=c;c++)if(!(0==b&&0==c)){var d=ig.game.O7715.O8268({x:this.O5309.x+b,y:this.O5309.y+c});if(d&&(d=ig.game.O4961.getItemBasic(d.tid,"ent_thr"))&&("STACKHOLD"==d.base||"EMITTER"==
d.base||"CONSUMAB"==d.base)){a=d;break}}return a},O3123:function(){return this.O5309?this.O5309.x+":"+this.O5309.y:""},update:function(){this.parent()},draw:function(){this.parent()}})});ig.baked=!0;
ig.module("game.entities.immobile.mntground").requires("impact.entity").defines(function(){window.EntityMntground=ig.Entity.extend({size:{x:38,y:38},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,betweenDefaultAndPlayer:!0,baseType:"MNTGROUND",isStack:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.flip.x=this.O5579?0==this.vel.x?ig.game.chance(50):
0<this.vel.x:!this.O6454&&!!((a-b)%2)},update:function(){this.O7509=this.O5734;(this.O5734=this.touches(ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"mount",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this)},draw:function(){ig.game.O7510.O875(this)}})});
ig.baked=!0;
ig.module("game.entities.immobile.mntair").requires("impact.entity").defines(function(){window.EntityMntair=ig.Entity.extend({size:{x:38,y:38},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,betweenDefaultAndPlayer:!0,baseType:"MNTAIR",isStack:!0,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.flip.x=this.O5579?0==this.vel.x?ig.game.chance(50):0<this.vel.x:
!this.O6454&&!!((a-b)%2)},update:function(){this.O7509=this.O5734;(this.O5734=this.touches(ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"mount",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this)},draw:function(){ig.game.O7510.O875(this)}})});
ig.baked=!0;
ig.module("game.entities.immobile.stackinstr").requires("impact.entity").defines(function(){window.EntityStackinstr=ig.Entity.extend({size:{x:15,y:15},O199:0,type:ig.Entity.TYPE.B,O6821:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,O5734:!1,O7509:!1,givenName:null,baseType:"STACKINSTR",isStack:!0,init:function(a,b,c){this.givenName=c.givenName;this.parent(a,b,c);this.addAnim("main",1,[0])},update:function(){this.O7509=this.O5734;
(this.O5734=ml.Misc.O1461(this,ig.game.O4269))&&!this.O7509?2>=ig.game.O4269.rank&&ig.game.actioninfo.open(this,this.pos.x,this.pos.y,"play",ig.game.O7510.O715(this.thingTypeId)):!this.O5734&&this.O7509&&ig.game.actioninfo.close(this)},draw:function(){this.O1457&&ig.game.O7510.O5379(this)},O28:function(a){this.parent(a)}})});ig.baked=!0;
ig.module("game.ui.panelitem").requires("game.entities.decorative.footdust").defines(function(){window.UIPanelItem=ig.Class.extend({pos:{x:0,y:0},nudge:{x:0,y:0},homePos:{x:0,y:0},size:{x:38,y:19},O5791:4,O1053:0,waggleVel:0,O4068:0,O4538:5,O5470:null,thing:null,timesCd:null,O2176:!1,binable:!1,withStats:!1,O6015:!1,O7325:10,O303:10,rotation:0,flip:0,O7762:null,O8233:0.6,O2913:!1,isOpen:!1,movementDirectionIndicator:{timer:null,
O7348:2,fadeTime:0.5,opacity:0.8,O1049:0.8},O3158:!0,init:function(a,b,c,d,e,f){this.binable=d;this.withStats=e;this.parentPanel=f;this.thing=a;if(!this.thing||!this.thing.dataLoading)console.error("Broken panel item?");else{var g=this;this.thing.dataLoading.done(function(){g.O1867()});this.pos.x=b;this.pos.y=c;this.homePos.x=b;this.homePos.y=c}},O1867:function(){this.rotation=this.thing&&this.thing.defRot?this.thing.defRot:0;if(this.thing&&
"MIFT"==this.thing.base){var a=this.thing.id;ig.game.panelSet.O4887[a]||ig.game.O7421.O6627(a).done(function(b){ig.game.panelSet.O4887[a]=b})}},O7296:function(){var a=this;ig.game.O7421.getItemStats_P(this.thing.id,this).done(function(b){b&&(a.timesCd=b.timesCd)})},O6849:function(){var a=ig.input.mouse.x,b=ig.input.mouse.y,b=this.pos.y-this.O5791<=b&&b<=this.pos.y+this.size.y;return this.pos.x-this.O5791<=a&&a<=this.pos.x+
this.size.x+this.O5791&&b},update:function(){this.withStats&&!this.O6015&&(this.O6015=!0,this.O7296());var a=ig.input.released("click");this.O6537();ig.game.O6099.O2757()&&(this.O6849()&&!this.O2176)&&(ig.input.state("shift")?ig.game.O4703.O6055(this.thing.id):ig.input.state("ctrl")&&ig.game.O6310?ig.game.painter.O592(this.thing.id):ig.game.O6310?ig.game.painter.O380(this.thing.id):
ig.game.itemContextMenu.O4530(this));if(!a&&ig.game.O6099.O5632()&&this.O6849()){if(ig.input.O4903()){ig.game.O7188.O1785();return}if(ig.game.O6310)console.log("hai"),"CHANGER"==this.thing.base||"HOLDER"==this.thing.base&&(!ig.game.O6310||!ig.game.painter.thingReferencesDialog||!ig.game.painter.thingReferencesDialog.isOpen)?ig.game.O4703.O3217(this.thing.id,this):(ig.game.sounds.pickup.play(),
ig.game.O4703.O1106(this.thing.id,this,this.parentPanel.panelName,this.thing.name,this.thing.base));else{ig.game.areaDialog&&(ig.game.areaDialog.isOpen&&"INTERACT"==this.thing.base)&&ig.game.areaDialog.O5010(this.thing.id);if(ig.game.areaDialog&&ig.game.areaDialog.isOpen&&"GENERATOR"==this.thing.base)ig.game.areaDialog.O4048(this.thing.id);else if(ig.game.writableDialog&&(ig.game.writableDialog.isOpen&&!ig.input.state("ctrl"))&&(ig.game.writableDialog.O292?
ig.game.writableDialog.O3034(this.thing):ig.game.writableDialog.commentIdToAddItemTo&&ig.game.writableDialog.O7013(this.thing),(!this.thing||"HOLDER"!=this.thing.base||ig.game.writableDialog.commentIdToAddItemTo)&&this.thing&&"WRITABLE"!=this.thing.base))return;ig.game.panelSet.panels[ig.game.panelSet.tabEnum.search].O1231();ig.input.state("ctrl")?(this.binable&&(ig.ua.mobile&&ig.O3970.stopAll(),this.parentPanel.removeItem(this.thing)),this.O5470=null):
(this.O2176=!0,ig.game.O500={tid:this.thing.id,rotation:this.rotation,flip:this.flip,O6891:this.thing.O6891&&this.thing.O6891(),rotatable:this.thing.rotatable,flippable:this.thing.flippable,base:this.thing.base},"boostDragInfo"==ig.game.alertDialog.contextId&&ig.game.alertDialog.close(),this.binable&&(ig.game.O500Binable=!0),this.O5470=new ml.Timer,ig.game.sounds.pickup.play())}}if(!a&&ig.input.state("click")&&this.O2176){ig.game.motionDialog&&
(ig.game.motionDialog.O2115(this.thing)&&this.pos.x<ig.game.panelSet.panelPos.x&&!ig.game.motionDialog.isOpen)&&ig.game.motionDialog.tryOpen();this.pos.x=ig.input.mouse.x-this.size.x/2;this.pos.y=ig.input.mouse.y-this.size.y/2;(ig.input.pressed("rightclick")||ig.input.state("ctrl")&&ig.input.pressed("r"))&&ig.game.O7188.O1785();if(ig.ua.mobile){var b=30>=Math.abs(this.homePos.x-ig.input.mouse.x)+Math.abs(this.homePos.y-ig.input.mouse.y);b&&(this.O5470&&
0.75<=this.O5470.delta())&&(this.pos.x=this.homePos.x,this.pos.y=this.homePos.y,ig.game.itemContextMenu.O4530(this),this.O2176=!1,ig.game.O500=!1,ig.game.O500Binable=!1,this.O5470=null)}ig.game.motionDialog&&(ig.game.motionDialog.O4413(this.thing)&&ig.game.motionDialog.isOpen)&&ig.game.motionDialog.O389({x:this.pos.x,y:this.pos.y});this.O3158&&(ig.game.panelSet&&1===ig.game.panelSet.tabState)&&
ig.game.panelSet.O7890.O219()}this.O2176&&(a&&!ig.input.O4903())&&(ig.input.mouse.x<ig.game.panelSet.panelPos.x?(ig.game.boostDialog&&ig.game.boostDialog.O587()?ig.game.boostDialog.O7420(this.thing):ig.game.holderDialog&&ig.game.holderDialog.O4499()?(ig.game.O6099.O6375(),ig.game.holderDialog.addItem(this.thing.id,ig.game.O500.rotation,ig.game.O500.flip)):
ig.game.multithing&&ig.game.multithing.O4499()?(ig.game.O6099.O6375(),ig.game.multithing.addItem(this.thing.id,ig.game.O500.rotation,ig.game.O500.flip)):(a=!1,ig.game.motionDialog&&(ig.game.motionDialog.O4413(this.thing)&&ig.game.motionDialog.isOpen)&&(a=ig.game.motionDialog.O3227({x:this.pos.x,y:this.pos.y},this.thing)),a||("INTERMOT"!=this.thing.base&&"MIFT"!=this.thing.base?ig.game.O6099.O4290()&&
ig.game.O7510.O1975(ig.game.O500.base,this.thing.attributes)&&!ig.game.settings.getGlue(ig.game.O7510.O969(ig.game.O500.base))?(ig.game.O4269.O5989=null,ig.game.O7510.O8157(this.thing)):ig.game.mapPlacementValidation.O4088(this.thing,void 0,!0)&&ig.game.O7715.O3625(this.thing.id,ig.game.O500.rotation,
ig.game.O500.flip):ig.game.sounds.nocando.play())),this.pos.x=this.homePos.x,this.pos.y=this.homePos.y,this.O2176=!1,ig.game.O500=!1,ig.game.O500Binable=!1,this.O5470=null):(b=50>=Math.abs(this.homePos.x-ig.input.mouse.x)+Math.abs(this.homePos.y-ig.input.mouse.y),this.O2176=!1,ig.game.O500=!1,ig.game.O500Binable=!1,this.pos.x=this.homePos.x,this.pos.y=this.homePos.y,this.binable&&ig.game.panelSet.O5220()?
this.parentPanel.removeItem(this.thing):ig.game.panelSet.O2505()||ig.game.panelSet.O4738()?(ig.game.painter.isRunning||(ig.game.panelSet.O488.O6448(),ig.game.painter.mode="cloneOld"),ig.game.O4703.O1106(this.thing.id,this,this.parentPanel.panelName,this.thing.name),2!=ig.game.panelSet.tabState&&ig.game.panelSet.O7981(2)):b&&this.O5470&&0.4>=this.O5470.delta()&&this.thing?ig.game.O4703.O3217(this.thing.id,
this):this.O3158&&(1===ig.game.panelSet.tabState&&ig.game.panelSet.O8171())&&(a=ig.game.panelSet.O7890.O4273({x:ig.input.mouse.x,y:ig.input.mouse.y+ig.game.panelSet.O7890.O2557}),ig.game.O4703.O2163(this.thing.id,a),ig.game.O500=!1),ig.ua.mobile||(this.O5470=null)))},draw:function(){if(this.thing){var a=!0,b=!1;if("MIFT"==this.thing.base){var c=ig.game.panelSet.O4887[this.thing.id],
d=!!c,a=d&&c.isPaid;d||(b=!0);c&&(c.isPaid&&!c.deliverySeenBySender)&&(ig.game.gameStartTimer&&2<=ig.game.gameStartTimer.delta()&&0>=ig.game.O1132&&this.thing.img&&this.thing.img.loaded?(b=!1,a=!0,c.deliverySeenBySender=!0,this.O5924(),ig.game.O7421.O3069(c.miftId)):b=!0)}this.O2176&&(ig.system.context.globalAlpha=ig.game.O5647-0.2,a?this.thing.draw(this.homePos.x,this.homePos.y,this.rotation,this.flip,1):ig.game.O5405.draw(this.homePos.x,
this.homePos.y,ig.system.context.globalAlpha,ig.game.O5405.unverifiedMiftPlaceholder),ig.system.context.globalAlpha=1);ig.system.context.globalAlpha=ig.game.O5647;this.thing.name&&(c=this.thing.name.length>this.O7325?this.thing.name.substring(0,this.O7325-1)+"..":this.thing.name,ig.system.context.globalAlpha=this.hasDropOverAction?1:ig.game.O5647-0.1,ig.game.blackSmallFont.draw(c,this.homePos.x+this.nudge.x,this.homePos.y+this.nudge.y+this.size.y+
2),ig.system.context.globalAlpha=ig.game.O5647-0.3,c=this.thing.O567().length>this.O303?this.thing.O567().substring(0,this.O303-1)+"..":this.thing.O567(),ig.game.blackSmallFont.draw(c,this.homePos.x+this.nudge.x,this.homePos.y+this.nudge.y+this.size.y+8),ig.system.context.globalAlpha=1,delete this.hasDropOverAction);this.withStats&&(this.thing.name&&"MIFT"!=this.thing.base)&&(ig.game.O5405.O4661(this.homePos.x+
20,this.homePos.y,0.3),ig.game.blackFont.alpha=0.3,ig.game.blackFont.draw(ig.game.strings.O5728(this.timesCd),this.homePos.x+22,this.homePos.y+10,ig.Font.ALIGN.LEFT),ig.game.blackFont.alpha=1);c="MOTION"==this.thing.base||"INTERMOT"==this.thing.base?2:null;"DECOFB"==this.thing.base&&(c=1);if(this.O2176)if(a){ig.system.context.globalAlpha=1;a=b=0;(0<=ig.game.O6649.indexOf(this.thing.base)||0<=ig.game.O6825.indexOf(this.thing.base))&&this.thing.img&&this.thing.imagesGenerated?
(1<this.thing.cellCount&&(b=this.thing.img.width/this.thing.cellCount,b=b>ig.game.tileSize?0.5*Math.round(b-ig.game.tileSize):9),this.thing.img.height>ig.game.tileSize&&(a=0.5*-Math.round(this.thing.img.height-ig.game.tileSize))):b=9;var e=this.thing.O6891&&this.thing.O6891()?0:ig.game.O500.rotation;this.thing.draw(this.pos.x+this.nudge.x+this.O1053+b,this.pos.y+this.nudge.y+a,e,ig.game.O500.flip,1,c);this.thing.O6891&&(this.thing.O6891()&&
ig.game.O7188.movementDirectionIndicator.timer)&&ig.game.O7188.O8358(ig.game.O7188.movementDirectionIndicator,this.pos.x+this.nudge.x,this.pos.y+this.nudge.y)}else ig.game.O5405.draw(this.pos.x+9,this.pos.y,0.7,ig.game.O5405.unverifiedMiftPlaceholder);else ig.system.context.globalAlpha=ig.game.O5647+0.2,b||(a?this.thing&&(this.thing.img&&this.thing.imagesGenerated)&&("HOLDER"==this.thing.base?(e=ig.game.holderDialog&&ig.game.holderDialog.isOpen&&
ig.game.holderDialog.O3923&&ig.game.holderDialog.holderId==this.thing.id,this.O5915(this.pos.x+this.nudge.x+this.O1053,this.pos.y+this.nudge.y,this.thing.cellCount,e)):"HAPPENING"==this.thing.base?this.O5915(this.pos.x+this.nudge.x+this.O1053,this.pos.y+this.nudge.y,this.thing.cellCount,e):(0<=ig.game.O6649.indexOf(this.thing.base)||0<=ig.game.O6825.indexOf(this.thing.base))&&(0.5*this.thing.img.width>ig.game.tileSize||this.thing.img.height>
ig.game.tileSize)?this.O2118(this.pos.x+this.nudge.x+this.O1053,this.pos.y+this.nudge.y,this.thing.cellCount,this.thing.base,c):this.thing.draw(this.pos.x+this.nudge.x+this.O1053,this.pos.y+this.nudge.y,this.rotation,this.flip,1,c)):ig.game.O5405.draw(this.pos.x,this.pos.y,ig.system.context.globalAlpha,ig.game.O5405.unverifiedMiftPlaceholder));!ig.ua.mobile&&(!this.O2176&&!ig.game.O7188.O2176FromMap&&this.O6849()&&!ig.input.state("ctrl"))&&ig.game.O5405.O7655(this.homePos.x+
this.nudge.x,this.homePos.y+this.nudge.y);ig.system.context.globalAlpha=1}},O5924:function(){ig.game.decorator.O1805(this.homePos.x,this.homePos.y,ig.game.tileSize,ig.game.tileSize,!0);ig.game.sounds.collected.play();setTimeout(function(){ig.game.sounds.new_mift.play()},500);for(var a=[{x:-50,y:0},{x:50,y:0},{x:0,y:-50},{x:0,y:50}],b=0;b<a.length;b++){var c=new ml.AnimationSheet(null,ig.game.tileSize,ig.game.tileSize,this.thing.img);ig.game.spawnEntity(EntitySpot,this.homePos.x,
this.homePos.y,{O1271:10,O4895:90,O5561:2,fadingInc:1.5,uiEntity:!0,vel:a[b],O1018:!1,animSheet:c,O5951:0.05,attribute:"miftSentEffect"})}ig.game.hasMinfinity||setTimeout(function(){ig.game.alertDialog.open('<p class="miftThankYouMessage">Thank you for supporting<br/>Manyzens & Manyland!</p>',!0,null,null,null,!0,null,null,!0,null,null,!0)},2E3)},O6388:function(){if(this.checkWritableNewsTimer&&30<=this.checkWritableNewsTimer.delta())if(this.checkWritableNewsTimer=
null,ig.game.writableDialog.isOpen&&ig.game.writableDialog.forumId==this.thing.id)this.checkWritableNewsTimer=new ml.Timer;else{var a=localStorage.getItem("forumLastKnownCommentId_"+this.thing.id);if(a){var b=this;ig.game.O7421.O6504(this.thing.id,null).done(function(c){c&&(c.id&&a!=c.id)&&(ig.game.writableDialog.isOpen&&ig.game.writableDialog.forumId==b.thing.id||(b.waggle(),ig.game.sounds.shortWhoosh.play()),ig.game.O914.setItem("forumLastKnownCommentId_"+
b.thing.id,c.id));b.checkWritableNewsTimer=new ml.Timer})}}},O2118:function(a,b,c,d,e){a=ig.system.O4928(a);b=ig.system.O4928(b);c=this.thing.img.width/c;d=this.thing.img.height;var f="created"==this.parentPanel.panelName?ig.game.tileSize:c,g=d>ig.game.tileSize?ig.game.tileSize:d;f>c&&(f=c);g>d&&(g=d);f>ig.game.O5286&&(f=ig.game.O5286);f*=ig.system.scale;g*=ig.system.scale;ig.system.context.drawImage(this.thing.img.data,0,0,f,g,a,b,f,g);e&&ig.system.context.drawImage(this.thing.img.data,
c*e*ig.system.scale,0,f,g,a,b,f,g)},O5915:function(a,b,c,d){a=ig.system.O4928(a);b=ig.system.O4928(b);c=ig.game.tileSize*ig.system.scale;var e=ig.game.tileSize*ig.system.scale,f=5*ig.system.scale,g=10*ig.system.scale;d&&(f+=29*ig.system.scale);ig.system.context.drawImage(this.thing.img.data,f,g,c,e,a,b,c,e)},waggle:function(){this.waggleVel=2},O6537:function(){0!=this.waggleVel&&(this.O4068<=this.O4538?(this.O1053+=this.waggleVel,2<Math.abs(this.O1053)&&
(this.waggleVel=-this.waggleVel,this.O4068++)):this.O4068=this.O1053=this.waggleVel=0)}})});ig.baked=!0;
ig.module("game.ui.panel").requires("game.ui.panelitem").defines(function(){window.UIPanel=ig.Class.extend({panelPos:{x:0,y:0},panelSize:{x:0,y:0},panelPadding:{x:8,y:9},O8298:0,buttonUpPos:{x:0,y:0},buttonDownPos:{x:0,y:0},O6707:9,O1489:5,O7927:0.4,tiles:[],tilePage:1,O7424:10,moreTiles:!1,O6471:0,lastPage:0,panelName:"unknown",O7813:!1,O7839:!1,showStats:!1,O7329:38,O4445:1,O2466:null,O3063:1,
O4767Countdown:-1,O4590:null,O2076:0,O1182:0.5,isOpen:!1,isOpenOld:!1,O5046:!1,init:function(a,b,c){this.panelPos.x=a;this.panelPos.y=b;this.panelSize=c;this.bottomYPos=this.panelPos.y+this.panelSize.y;this.buttonUpPos={x:this.panelPos.x+40,y:this.panelPos.y+6};this.buttonDownPos={x:this.panelPos.x+40,y:this.bottomYPos-9};this.O4590=ig.game.O5405.getImage(ig.game.O5405.pagingPosition)},O4767:function(){console.error("tilePanel loadtiles not overridden")},
O4941:function(a,b,c,d){this.tiles=[];for(var e=0;e<a.length;e++){var f=a[e],g=0,h=e*this.O7329,g=g+(this.panelPos.x+this.panelPadding.x),h=h+(this.panelPos.y+this.panelPadding.y);this.tiles.push(new UIPanelItem(f,g,h,this.O7839,this.showStats,this))}this.moreTiles=b;this.lastPage=c;this.O6471=d;this.O7813=!0;this.O7457()},update:function(){ig.game.playerDialog&&ig.game.playerDialog.O4123s&&(ig.game.playerDialog.O4123==ig.game.playerDialog.O4123s.VISITED||
ig.game.playerDialog.O4123==ig.game.playerDialog.O4123s.MIFTS||ig.game.playerDialog.O4123==ig.game.playerDialog.O4123s.PEOPLE)||(ig.game.holderDialog&&ig.game.holderDialog.O4499()||ig.game.cloneHistoryDialog&&ig.game.cloneHistoryDialog.O4499())||this.O6793();this.O1404()},O5878:function(a){return Math.floor(a/this.O7424)+1},O4861:function(a){this.tilePage=a;return this.O4767()},O1404:function(){if(this.O7813){for(var a=
0;a<this.tiles.length;a++)this.tiles[a].nudge={x:0,y:0};for(a=0;a<this.tiles.length;a++)this.tiles[a].update()}},O6793:function(){var a=0;if(1<this.tilePage&&(ig.input.pressed("wheelup")||ig.game.O6099.O4678(this.buttonUpPos.x-this.O1489,this.buttonUpPos.y-this.O1489,this.buttonUpPos.x+this.O6707+this.O1489,this.buttonUpPos.y+this.O6707+this.O1489)))ig.game.O6099.O6375(!0),a=-1;else if(this.tilePage<
this.lastPage&&this.moreTiles&&(ig.input.pressed("wheeldown")||ig.game.O6099.O4678(this.buttonDownPos.x-this.O1489,this.buttonDownPos.y-this.O1489,this.buttonDownPos.x+this.O6707+this.O1489,this.buttonDownPos.y+this.O6707+this.O1489)))ig.game.O6099.O6375(!0),a=1;0!=a&&(this.O2076+=10,100<this.O2076&&(this.O2076=100),this.O4767Countdown+=3,13<=this.O4767Countdown?
(this.O4767Countdown=1,this.O2076=100,this.tilePage=0>a?1:this.lastPage):this.tilePage=(this.tilePage+a).limit(0,this.lastPage),ig.game.sounds.click.play());0<=this.O4767Countdown&&(this.O4767Countdown--,0==this.O4767Countdown&&(this.O4767(),ig.game.motionDialog&&ig.game.motionDialog.O5076("search")));0<this.O2076&&(this.O2076-=0.75)},draw:function(){this.O6959();this.O2148();this.O8105();!ig.game.panelSet.musicPlayer.O3628()&&
(ig.game.O7188&&null!==ig.game.O7188.originTileLocation.x)&&this.drawBin();this.O2416();this.O7528()},O6959:function(){ig.system.context.globalAlpha=ig.game.O5647;ig.game.O5405.O3506(this.panelPos.x,this.panelPos.y);ig.game.O5405.O2598(this.panelPos.x,this.bottomYPos);ig.system.context.globalAlpha=1;this.O3935()},O3935:function(){var a=ig.system.context;a.beginPath();a.fillStyle=ig.game.panelRgb?"rgba("+ig.game.panelRgb.fill.join(",")+
","+ig.game.O5647+")":"rgba(195,181,171,"+ig.game.O5647+")";a.rect(this.panelPos.x*ig.system.scale,(this.panelPos.y+6)*ig.system.scale,3*ig.system.scale,(this.panelSize.y-6)*ig.system.scale);a.fill();a.beginPath();a.rect((this.panelPos.x+this.panelSize.x-3)*ig.system.scale,(this.panelPos.y+6)*ig.system.scale,3*ig.system.scale,(this.panelSize.y-6)*ig.system.scale);a.fill();a.beginPath();a.fillStyle=ig.game.panelRgb?"rgba("+ig.game.panelRgb.fillDark.join(",")+","+ig.game.O5647+
")":"rgba(135,126,119,"+ig.game.O5647+")";a.rect((this.panelPos.x+3)*ig.system.scale,(this.panelPos.y+6)*ig.system.scale,(this.panelSize.x-6)*ig.system.scale,(this.panelSize.y-6)*ig.system.scale);a.fill();a.closePath()},O2148:function(){1<this.tilePage&&ig.game.O6099.O4009(this.buttonUpPos.x-this.O1489,this.buttonUpPos.y-this.O1489,this.buttonUpPos.x+this.O6707+this.O1489,this.buttonUpPos.y+this.O6707+this.O1489)&&
(ig.game.O6099.O4013(),ig.system.context.globalAlpha=this.O7927,ig.game.O5405.O4606(this.buttonUpPos.x-this.O1489+2,this.buttonUpPos.y-this.O1489));1<this.tilePage&&ig.game.O5405.O7679(this.buttonUpPos.x,this.buttonUpPos.y,ig.game.O5647-0.3);this.moreTiles&&ig.game.O6099.O4009(this.buttonDownPos.x-this.O1489,this.buttonDownPos.y-this.O1489,this.buttonDownPos.x+
this.O6707+this.O1489,this.buttonDownPos.y+this.O6707+this.O1489)&&(ig.game.O6099.O4013(),ig.system.context.globalAlpha=this.O7927,ig.game.O5405.O4606(this.buttonDownPos.x-this.O1489+2,this.buttonDownPos.y-this.O1489));this.moreTiles&&ig.game.O5405.O2029(this.buttonDownPos.x,this.buttonDownPos.y,ig.game.O5647-0.3);ig.system.context.globalAlpha=1},O8105:function(){if(this.O7813){for(var a=
-1,b=0;b<this.tiles.length;b++)this.tiles[b].O2176?a=b:this.tiles[b].draw();-1<a&&this.tiles[a].draw()}},drawBin:function(){ig.system.context.globalAlpha=ig.game.O5647+0.2;this.O5046=!1;ig.game.O7188.O2176FromMap||ig.game.O500Binable?ig.game.panelSet.O5220()?(ig.game.O5405.O8075(ig.game.panelSet.binLocation.x,ig.game.panelSet.binLocation.y-2),this.O5046=!0):this.O1182r?this.O1182r.delta()>=this.O1182&&
(ig.game.O5405.O375(ig.game.panelSet.binLocation.x,ig.game.panelSet.binLocation.y-1),ig.game.O3459&&ig.game.O5405.drawPanelBinMessage(ig.game.panelSet.binLocation.x+14,ig.game.panelSet.binLocation.y),ig.game.O3459&&ig.game.O500.rotatable&&ig.game.O5405.O6017(ig.game.panelSet.binLocation.x-19,ig.game.panelSet.binLocation.y),this.O5046=!0):this.O1182r=new ml.Timer:this.O1182r=null;ig.system.context.globalAlpha=
1;this.O2466&&(this.O2466.delta()<=this.O3063?(this.O2466.delta()>=this.O3063-0.5&&(0<this.O4445?this.O4445-=0.1:this.O2466=null),ig.game.O5405.O375(ig.game.panelSet.binLocation.x+(4*Math.random()-2),ig.game.panelSet.binLocation.y+(4*Math.random()-2),this.O4445)):this.O2466=null);return this.O5046},O2416:function(){if(10<=this.lastPage&&0<this.O2076){ig.system.context.globalAlpha=
(0.01*this.O2076).limit(0,0.5);var a=0;0<this.tilePage&&(a=(this.tilePage-1)/this.lastPage);a*=this.panelSize.y-12-this.O8298;this.O4590.draw(Math.floor(this.panelPos.x+this.panelSize.x-11),Math.floor(this.panelPos.y+this.panelPadding.y+a));ig.system.context.globalAlpha=1}},O7528:function(){},O7457:function(){},O1819:function(a){this.isOpenOld=this.isOpen;this.isOpen=a},O192:function(){this.O2466=new ml.Timer;this.O4445=
1}})});ig.baked=!0;
ig.module("game.entities.decorative.sparkle").requires("impact.entity").defines(function(){window.EntitySparkle=ig.Entity.extend({size:{x:5,y:5},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O199:0,opacity:100,O6961:!1,decorative:!0,O3370:!1,delayMS:0,delaySeconds:0,O4587:null,init:function(a,b,c){this.animSheet=new ml.AnimationSheet(null,this.size.x,this.size.y,ig.game.O5405.getImage(c.O3726?c.O3726:
ig.game.O5405.sparkle));this.parent(a,b,c);this.delaySeconds=this.delayMS?this.delayMS/1E3:0;this.O4587=new ml.Timer},update:function(){this.O3370||(this.O3370=this.O4587.delta()>=this.delaySeconds)&&this.addAnim("sparkle",0.05,[0,1,2,1,0]);this.O3370&&(0<this.anims.sparkle.loopCount&&this.kill(),this.O1457&&this.O1457.update(),this.O1457.alpha=0.01*this.opacity,this.parent())},draw:function(){this.O3370&&(this.uiEntity?this.O1457&&this.O1457.draw(this.pos.x,
this.pos.y):this.parent())},O28:function(a){this.O3370&&(this.pos.x+=this.vel.x*ig.system.tick,this.pos.y+=this.vel.y*ig.system.tick)},check:function(){}})});ig.baked=!0;
ig.module("game.entities.decorative.dust").requires("impact.entity").defines(function(){window.EntityDust=ig.Entity.extend({size:{x:6,y:5},maxVel:{x:100,y:100},friction:{x:0,y:0},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:90,O4593:10,decay:2,O1209:0,decorative:!0,init:function(a,b,c){this.parent(a,b,c);this.O199=0;this.animSheet=new ml.AnimationSheet(null,this.size.x,this.size.y,ig.game.O5405.getImage(ig.game.O5405.dust));
this.addAnim("main",1,[0]);this.decay*=ig.game.targetFps},update:function(){this.opacity-=this.decay*ig.system.tick;0>=this.opacity?(this.opacity=0,this.kill()):(this.last.x=this.pos.x,this.last.y=this.pos.y,this.O1209||(2<Math.abs(this.vel.x)&&(this.vel.x-=this.vel.x/this.O4593),2<Math.abs(this.vel.y)&&(this.vel.y-=this.vel.y/this.O4593)),this.pos.x+=this.vel.x*ig.system.tick,this.pos.y+=this.vel.y*ig.system.tick)},draw:function(){this.O985&&ml.Misc.O1651("lighter");
ig.system.context.globalAlpha=0.01*this.opacity;this.uiEntity?this.O1457&&this.O1457.draw(this.pos.x,this.pos.y):this.parent();ig.system.context.globalAlpha=1;this.O985&&ml.Misc.O13()},check:function(){}})});ig.baked=!0;
ig.module("game.entities.decorative.bigdust").requires("impact.entity").defines(function(){window.EntityBigDust=ig.Entity.extend({size:{x:9,y:9},maxVel:{x:100,y:100},friction:{x:0,y:0},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:90,O4593:10,O1209:0,decay:2,windx:0,windy:0,decorative:!0,init:function(a,b,c){this.parent(a,b,c);this.O199=0;this.animSheet=new ml.AnimationSheet(null,this.size.x,this.size.y,ig.game.O5405.getImage(ig.game.O5405.bigDust));
this.addAnim("main",1,[0]);this.pos.x-=3;this.pos.y-=3;this.decay*=ig.game.targetFps},update:function(){this.opacity-=this.decay*ig.system.tick;0>=this.opacity?(this.opacity=0,this.kill()):(this.last.x=this.pos.x,this.last.y=this.pos.y,this.O1209?this.vel.x-=this.O1209:(2<Math.abs(this.vel.x)&&(this.vel.x-=this.vel.x/this.O4593),2<Math.abs(this.vel.y)&&(this.vel.y-=this.vel.y/this.O4593)),this.vel.x+=this.windx,this.vel.y+=this.windy,this.pos.x+=this.vel.x*ig.system.tick,
this.pos.y+=this.vel.y*ig.system.tick)},draw:function(){this.O985&&ml.Misc.O1651("lighter");ig.system.context.globalAlpha=0.01*this.opacity;this.uiEntity?this.O1457&&this.O1457.draw(this.pos.x,this.pos.y):this.parent();ig.system.context.globalAlpha=1;this.O985&&ml.Misc.O13()},check:function(){}})});ig.baked=!0;
ig.module("game.entities.decorative.liquiddrop").requires("impact.entity").defines(function(){window.EntityLiquidDrop=ig.Entity.extend({size:{x:2,y:2},maxVel:{x:400,y:800},friction:{x:0,y:0},offset:{x:0,y:0},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.B,collides:ig.Entity.COLLIDES.PASSIVE,opacity:50,decorative:!0,O5561:1,O4369:null,fading:!1,fadingInc:240,bounciness:0,O3370:!1,delayMS:0,delaySeconds:0,O4587:null,init:function(a,b,c){this.parent(a,b,c);this.animSheet=
new ml.AnimationSheet(null,this.size.x,this.size.y,ig.game.O5405.getImage(ig.game.O5405.whitePixel));this.addAnim("main",1,[0]);this.delaySeconds=this.delayMS?this.delayMS/1E3:0;this.O4587=new ml.Timer},update:function(){if(!this.O3370&&(this.O3370=this.O4587.delta()>=this.delaySeconds))this.O4369=new ml.Timer;if(this.O3370){if(this.fading||this.O4369.delta()>this.O5561)this.opacity-=this.fadingInc*ig.system.tick;0>=this.opacity&&this.kill();
this.O1457.alpha=0.01*this.opacity;this.parent()}},check:function(a){if(this.O3370&&(a instanceof EntityLqdflip||a instanceof EntityLiquid))0<this.vel.y&&(this.vel.y/=6),this.fading=!0},O3141:function(a,b){this.O3370&&this.stick("x"==b)},O28:function(a){this.O3370&&((a.collision.y||a.collision.x)&&this.stick(a.collision.x),this.parent(a))},stick:function(a){this.O3370&&(a?(this.size.x=1,this.offset.x=-1,this.O1457.sheet.width=1):(this.size.y=1,
this.offset.y=-1,this.O1457.sheet.height=1),this.vel.x=0,this.O199=this.vel.y=0,this.fading=!0)}})});ig.baked=!0;
ig.module("game.entities.decorative.airbubble").requires("impact.entity").defines(function(){window.EntityAirBubble=ig.Entity.extend({size:{x:2,y:2},maxVel:{x:40,y:40},friction:{x:0,y:0},offset:{x:0,y:2},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.B,collides:ig.Entity.COLLIDES.PASSIVE,opacity:60,decorative:!0,O199:-0.6,O5561:0.8,O4369:null,fading:!1,fadingInc:180,init:function(a,b,c){this.parent(a,b,c);this.animSheet=new ml.AnimationSheet(null,this.size.x,this.size.y,
ig.game.O5405.getImage(ig.game.O5405.whitePixel));this.addAnim("main",1,[0]);this.O4369=new ml.Timer},update:function(){if(this.fading||this.O4369.delta()>this.O5561)this.opacity-=this.fadingInc*ig.system.tick;0>=this.opacity?this.kill():(this.O1457.alpha=0.01*this.opacity,this.parent())},check:function(a){a instanceof EntityLqdflip||a instanceof EntityLiquid||this.kill()}})});ig.baked=!0;
ig.module("game.entities.decorative.spot").requires("impact.entity").defines(function(){window.EntitySpot=ig.Entity.extend({size:{x:2,y:2},maxVel:{x:400,y:800},friction:{x:0,y:0},offset:{x:0,y:0},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,O7518:null,opacity:50,O4895:50,O1271:0,O1018:!0,O5561:2,O4369:null,O2824:!1,fading:!1,fadingInc:2,bounciness:0,O199:0,rectangle:null,O5877:0,O3232:0,
O6454:!1,uiEntity:!1,O2425:!1,init:function(a,b,c){this.id=++ig.Entity._lastId;this.pos.x=a;this.pos.y=b;c.vel&&(this.vel.x=c.vel.x,this.vel.y=c.vel.y);this.uiEntity=!!c.uiEntity;this.O6454=!!c.O6454;c.rectangle&&(this.rectangle=c.rectangle);c.O2425&&(this.O2425=c.O2425);a=null;this.rectangle||(a=c.O3726?c.O3726:ig.game.O5405.whitePixel);b=["emittingLeft","emittingRight"];if(0<="mist reflections colorReflections sunshine glimmer glitter colorGlitter brightEmitting bristling bright rainCloud snowCloud heat lineSparks miftSentEffect".split(" ").indexOf(c.attribute)||
c.isLighter)this.O7518="lighter";c.O1271&&(this.O1271=c.O1271,this.opacity=1);c.opacity&&(this.opacity=c.opacity);c.O4895&&(this.O4895=c.O4895);c.O5561&&(this.O5561=c.O5561);c.fadingInc&&(this.fadingInc=c.fadingInc);c.O2824&&(this.O2824=c.O2824);c.O199&&(this.O199=c.O199);c.O5877&&(this.O5877=c.O5877);null!=c.O1018&&void 0!=c.O1018&&(this.O1018=
c.O1018);c.decorative&&(this.decorative=c.decorative);c.O5951&&(this.O5951=c.O5951);this.rectangle||(c.animSheet?this.animSheet=c.animSheet:(this.size={x:a.width,y:a.height},this.animSheet=new ml.AnimationSheet(null,this.size.x,this.size.y,ig.game.O5405.getImage(a))),this.addAnim("main",1,[c.cellToUse?c.cellToUse:0]),c.animSheet&&(-1==b.indexOf(c.attribute)&&!c.nonFlipping)&&(this.O1457.flip.x=1<=this.vel.x),c.flipX&&(this.O1457.flip.x=c.flipX));this.O4369=
new ml.Timer;this.O1271*=ig.game.targetFps;this.fadingInc*=ig.game.targetFps},update:function(){if(this.O2425){var a=ig.game.farBackManager.O8431(this);this.offset.x=-1*a.x;this.offset.y=-1*a.y}0!=this.O1271&&(this.opacity+=this.O1271*ig.system.tick,this.opacity>this.O4895&&(this.opacity=this.O4895,this.O1271=0));this.O797();0!=this.O5951&&this.O1457&&(this.O1457.angle+=this.O5951);if(this.fading||this.O4369.delta()>
this.O5561)this.O1271=0,this.opacity-=this.fadingInc*ig.system.tick;0>=this.opacity?this.kill():this.O1457&&(this.O1457.alpha=0.01*this.opacity);this.parent()},O797:function(){if(this.O5877||this.O3232)0>this.O5877?this.O3232+=0.1:0<this.O5877&&(this.O3232-=0.1),this.O5877+=this.O3232},draw:function(){this.O2824&&(ig.system.context.fillStyle="rgba(255,255,255,"+0.75*this.O1457.alpha+")",
ig.system.context.fillRect(0,0,ig.system.realWidth,ig.system.O1709));var a=null;this.O5877&&(a=ig.game.O5662(this.pos),Math.abs(this.vel.x)>Math.abs(this.vel.y)?this.pos.y+=this.O5877:this.pos.x+=this.O5877);this.O7518?(ml.Misc.O1651(this.O7518),this.rectangle?this.O4426():this.uiEntity?this.O1457&&this.O1457.draw(this.pos.x,this.pos.y):this.parent(),ml.Misc.O13()):(ml.Misc.O13(),this.rectangle?this.O4426():
this.uiEntity?this.O1457&&this.O1457.draw(this.pos.x,this.pos.y):this.parent());this.O5877&&(this.pos=ig.game.O5662(a))},O8010:function(a){var b=ig.system.scale;return{x:(a.x-ig.game._rscreen.x)*b,y:(a.y-ig.game._rscreen.y)*b,width:a.width*b,height:a.height*b}},O4426:function(){if(this.rectangle.rgb){var a=ig.system.context,b={x:this.pos.x,y:this.pos.y,width:this.rectangle.width,height:this.rectangle.height},b=this.O8010(b);
a.fillStyle="rgba("+this.rectangle.rgb+","+(2*this.opacity/100).limit(0,1)+")";a.fillRect(b.x,b.y,b.width,b.height)}},check:function(a){},O3141:function(a,b){},O28:function(a){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick}})});ig.baked=!0;
ig.module("game.entities.decorative.fakeitem").requires("impact.entity").defines(function(){window.EntityFakeItem=ig.Entity.extend({size:{x:19,y:19},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,decay:1,opacity:30,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0])},update:function(){0>=this.opacity&&this.kill();this.opacity-=this.decay;0>=this.opacity&&(this.opacity=0);this.O1457.alpha=this.opacity/100},draw:function(){this.parent()},
O28:function(a){},check:function(a){}})});ig.baked=!0;
ig.module("game.entities.decorative.fakeitemcollecting").requires("impact.entity").defines(function(){window.EntityFakeItemCollecting=ig.Entity.extend({size:{x:19,y:19},maxVel:{x:1E3,y:1E3},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,destinationPos:{x:0,y:0},opacity:40,posDifference:{x:0,y:0},O5096:0,O3048:0,scale:1,velFactor:2,player:null,catching:!1,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0]);this.O1457.alpha=
this.opacity/100;this.posDifference.x=this.destinationPos.x-this.pos.x;this.posDifference.y=this.destinationPos.y-this.pos.y;this.vel.x=this.posDifference.x*this.velFactor;this.vel.y=this.posDifference.y*this.velFactor;this.O5096=Math.sqrt(this.posDifference.x*this.posDifference.x+this.posDifference.y*this.posDifference.y)},update:function(){this.posDifference.x=this.destinationPos.x-this.pos.x;this.posDifference.y=this.destinationPos.y-this.pos.y;this.O3048=Math.sqrt(this.posDifference.x*
this.posDifference.x+this.posDifference.y*this.posDifference.y);80>this.O3048&&!this.catching&&(this.catching=!0);20>this.O3048&&(this.opacity=Math.max(0,this.opacity-10));10>this.O3048&&this.kill();this.O1457.alpha=this.opacity/100;this.parent()},draw:function(){this.parent()},O28:function(a){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick},check:function(a){}})});ig.baked=!0;
ig.module("game.entities.decorative.ghost").requires("impact.entity").defines(function(){window.EntityGhost=ig.Entity.extend({pos:{x:0,y:0},size:{x:0,y:0},vel:{x:0,y:0},maxVel:{x:400,y:800},friction:{x:10,y:10},rotation:0,O5951:0,energy:100,O4465:-0.25,O3045:!0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,interactive:!1,O7168:!0,init:function(a,b,c){var d=c.O198;d&&d.animSheet&&(this.pos.x=a,this.pos.y=b,this.size=
{x:d.animSheet.width,y:d.animSheet.height},this.vel.x=1.1*c.O1117.x,this.vel.y=1.1*c.O1117.y,this.animSheet=d.animSheet,this.O1457=this.animNormal=new ml.Animation(c.O198.animSheet,1,[0]),this.O1457.flip.x=c.O198.O1457.flip.x,this.O1457.angle=0,this.O5951=0.05*(this.O1457.flip.x?1:-1),"MNTAIR"==d.base&&(this.O1457=this.animFlap=new ml.Animation(this.animSheet,0.5,[1,0]),this.O1457.flip.x=c.O198.O1457.flip.x,this.O199=
this.O1457.angle=0,this.vel.y=-100,this.O5951=0))},update:function(){0<this.vel.y&&ig.game.chance(16)&&ig.game.O6879(EntityDust,this.pos.x+this.size.x/2,this.pos.y+this.size.y/2);this.energy+=this.O4465;0>=this.energy&&this.kill();this.O1457&&(this.O1457.angle+=this.O5951);this.parent()},O28:function(a){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick}})});ig.baked=!0;
ig.module("game.core.decorator").requires("game.entities.decorative.sparkle","game.entities.decorative.dust","game.entities.decorative.bigdust","game.entities.decorative.liquiddrop","game.entities.decorative.airbubble","game.entities.decorative.spot","game.entities.decorative.fakeitem","game.entities.decorative.fakeitemcollecting","game.entities.decorative.ghost").defines(function(){window.Decorator=ig.Class.extend({O7600ForTrails:1E3,O7239:function(a){this.O6436(a.pos)},O4106:function(a){var b,
c;b=c=16;a&&(a.attachments.b&&(b=a.attachments.b.animSheet.width-5,c=a.attachments.b.animSheet.height),this.O1805(a.pos.x-3,a.pos.y-3,b,c,!1))},O1805:function(a,b,c,d,e,f){f=f?f:10;a-=5;b-=5;c=(c?c:19)+5;d=(d?d:19)+5;for(var g=0;g<f;g++)this.O7174(a,b,c,d,e,100*g)},O7028:function(){ig.game.decorator.O1805(ig.game.areaCenterLocation.x*ig.game.tileSize,ig.game.areaCenterLocation.y*ig.game.tileSize,null,null,!1,25)},O753:function(a,b,c,d,e){e=
e?e:10;a-=5;b-=5;this.O1991(a,b,c,d);for(var f=0;f<e;f++)this.O1991(a,b,c,d,70*f)},O6664:function(a,b,c){ig.game.O6879(EntitySparkle,a,b,{uiEntity:c})},O7174:function(a,b,c,d,e,f){ig.game.O6879(EntitySparkle,a+c*Math.random(),b+d*Math.random(),{uiEntity:e,delayMS:f})},O1991:function(a,b,c,d){a+=2;b+=5;if(c||d)c+=c*(Math.random()-
0.5)/10,d+=d*(Math.random()-0.5)/10;c={uiEntity:!1,vel:{x:c,y:d},O3726:ig.game.O5405.actionSparkle};ig.game.O6879(EntitySparkle,a+15*Math.random(),b+15*Math.random(),c)},O2197:function(a){var b=a.pos.x+4;a=a.pos.y-3;ig.game.O6879(EntityDust,b,a,{vel:{x:-20+this.mRnd(10),y:15+this.mRnd(10)}});ig.game.O6879(EntityDust,b,a,{vel:{x:-40+this.mRnd(10),y:15+this.mRnd(10)}});ig.game.O6879(EntityDust,
b,a,{vel:{x:20+this.mRnd(10),y:15+this.mRnd(10)}});ig.game.O6879(EntityDust,b,a,{vel:{x:40+this.mRnd(10),y:15+this.mRnd(10)}})},O8039:function(a,b,c,d){ig.game.sounds&&ig.game.sounds.instruments&&(b=(c-ig.game.sounds.instruments[b].minOctave)*ig.game.sounds.tones.length+ig.game.sounds.tones.indexOf(d),0<b&&(b/=2.5),b=a.pos.x-3+b,a.O1457&&a.O1457.flip.x&&(b-=3),ig.game.O6879(EntitySparkle,b,a.pos.y+3,{vel:{x:0,y:-20}}))},
playingInstrumentKitNumber:function(a,b,c){ig.game.painter&&(ig.game.painter.types&&ig.game.sounds&&ig.game.sounds.instruments)&&(b=a.pos.x-3+c/(ig.game.sounds.instruments[b].max/ig.game.painter.types.instrument.tileSize.width+0.1),a.O1457&&a.O1457.flip.x&&(b-=3),ig.game.O6879(EntitySparkle,b,a.pos.y+3,{vel:{x:0,y:-20}}))},O2883:function(a){var b=a.pos.x+7+ig.game.O5167(-7,7);a=a.pos.y+7+ig.game.O5167(-7,7);ig.game.O6879(EntitySparkle,
b,a,{vel:{x:0,y:-20}})},O767:function(a){if(!ig.game.O7649.O3452||ig.game.chance(10)){var b=a.pos.x+4,c=a.pos.y+9;a=Math.abs(a.vel.x)+Math.abs(a.vel.y);for(var d=Math.min(a/10,90),e=0;e<Math.round(a/50);e++)this.chance(5)&&ig.game.O6879(EntityDust,b+this.mRnd(12),c+this.mRnd(12),{vel:{x:0,y:0},O1209:0.1,opacity:d,decay:0.8,zIndex:-1})}},O7470:function(a,b){var c,d,e,f;b?1==b&&(c=a.pos.x,d=a.pos.y+8,f=-50,e=50):(c=a.pos.x+
4,d=a.pos.y+17,f=-50,e=40);ig.game.O6879(EntityBigDust,c,d,{vel:{x:-e/2+this.mRnd(10),y:f+this.mRnd(10)}});ig.game.O6879(EntityBigDust,c,d,{vel:{x:-e+this.mRnd(10),y:f+this.mRnd(10)}});ig.game.O6879(EntityBigDust,c,d,{vel:{x:e/2+this.mRnd(10),y:f+this.mRnd(10)}});ig.game.O6879(EntityBigDust,c,d,{vel:{x:e+this.mRnd(10),y:f+this.mRnd(10)}})},O8115:function(a){var b=a.pos.x+a.size.x/
2-2;a=a.pos.y+a.size.y;ig.game.O6879(EntityDust,b,a,{vel:{x:-20+this.mRnd(10),y:-10+this.mRnd(10)}});ig.game.O6879(EntityDust,b,a,{vel:{x:20+this.mRnd(10),y:-10+this.mRnd(10)}})},O4309:function(a){var b=a.pos.x+a.size.x/2-2;a=a.pos.y+a.size.y-5;ig.game.O6879(EntityDust,b,a,{vel:{x:-20+this.mRnd(10),y:-10+this.mRnd(10)}});ig.game.O6879(EntityDust,b,a,{vel:{x:20+this.mRnd(10),
y:-10+this.mRnd(10)}})},O04:function(a){var b=a.pos.x+a.size.x/2-2;a=a.pos.y+a.size.y;ig.game.O6879(EntityBigDust,b,a,{vel:{x:-20+this.mRnd(10),y:-20+this.mRnd(10)}});ig.game.O6879(EntityBigDust,b,a,{vel:{x:-40+this.mRnd(10),y:-20+this.mRnd(10)}});ig.game.O6879(EntityBigDust,b,a,{vel:{x:20+this.mRnd(10),y:-20+this.mRnd(10)}});ig.game.O6879(EntityBigDust,b,
a,{vel:{x:40+this.mRnd(10),y:-20+this.mRnd(10)}})},O3683:function(a){if((!ig.game.O7649.O3452||ig.game.isEditorHere)&&!this.O1582()&&0.3>=100*Math.random()&&ig.game.O413.default&&300>=ig.game.O413.default.length){var b=a.x+9+ig.game.O5167(-4,4);a=a.y+9+ig.game.O5167(-4,4);var c={x:ig.game.O5167(-2,2),y:ig.game.O5167(-2,2)};ig.game.O6879(EntitySpot,b,a,{O3726:ig.game.O5405.dust,
O1271:0.3,O4895:30,O5561:3,fadingInc:1,vel:c})}},O3382:function(a,b){var c=a.x+9,d=a.y+9;ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),c+this.mRnd(10),d+this.mRnd(10),{vel:{x:-20+this.mRnd(10),y:-10+this.mRnd(10)},uiEntity:b,decay:1.3,windy:-0.5});ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),c+this.mRnd(10),d+this.mRnd(10),{vel:{x:-10+this.mRnd(10),y:-5+this.mRnd(10)},uiEntity:b,decay:1.3,
windy:-0.5});ig.game.O7649.O3452||(ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),c+this.mRnd(10),d+this.mRnd(10),{vel:{x:-20+this.mRnd(10),y:10+this.mRnd(10)},uiEntity:b,decay:1.3,windy:-0.5}),ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),c+this.mRnd(10),d+this.mRnd(10),{vel:{x:20+this.mRnd(10),y:-10+this.mRnd(10)},uiEntity:b,decay:1.3,windy:-0.5}),ig.game.O6879(this.O5587(40,
EntityDust,EntityBigDust),c+this.mRnd(10),d+this.mRnd(10),{vel:{x:20+this.mRnd(10),y:10+this.mRnd(10)},uiEntity:b,decay:1.3,windy:-0.5}),ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),c+this.mRnd(10),d+this.mRnd(10),{vel:{x:-10+this.mRnd(10),y:5+this.mRnd(10)},uiEntity:b,decay:1.3,windy:-0.5}),ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),c+this.mRnd(10),d+this.mRnd(10),{vel:{x:10+this.mRnd(10),y:-5+this.mRnd(10)},
uiEntity:b,decay:1.3,windy:-0.5}),ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),c+this.mRnd(10),d+this.mRnd(10),{vel:{x:10+this.mRnd(10),y:5+this.mRnd(10)},uiEntity:b,decay:1.3,windy:-0.5}))},O6926:function(a){var b=a.x+9;a=a.y+9;ig.game.chance(50)&&ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-20+this.mRnd(10),y:-10+this.mRnd(10)},decay:5,windy:-0.5});ig.game.chance(50)&&
ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-10+this.mRnd(10),y:-5+this.mRnd(10)},decay:5,windy:-0.5});ig.game.O7649.O3452||(ig.game.chance(50)&&ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-20+this.mRnd(10),y:10+this.mRnd(10)},decay:5,windy:-0.5}),ig.game.chance(50)&&ig.game.O6879(this.O5587(40,
EntityDust,EntityBigDust),b+this.mRnd(10),a+this.mRnd(10),{vel:{x:20+this.mRnd(10),y:-10+this.mRnd(10)},decay:5,windy:-0.5}),ig.game.chance(50)&&ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),b+this.mRnd(10),a+this.mRnd(10),{vel:{x:20+this.mRnd(10),y:10+this.mRnd(10)},decay:5,windy:-0.5}),ig.game.chance(50)&&ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-10+this.mRnd(10),y:5+
this.mRnd(10)},decay:5,windy:-0.5}),ig.game.chance(50)&&ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),b+this.mRnd(10),a+this.mRnd(10),{vel:{x:10+this.mRnd(10),y:-5+this.mRnd(10)},decay:5,windy:-0.5}),ig.game.chance(50)&&ig.game.O6879(this.O5587(40,EntityDust,EntityBigDust),b+this.mRnd(10),a+this.mRnd(10),{vel:{x:10+this.mRnd(10),y:5+this.mRnd(10)},decay:5,windy:-0.5}))},O8456:function(a){var b=a.x+9;a=a.y+9;ig.game.O6879(this.O5587(60,
EntityDust,EntityBigDust),b-2,a+2,{vel:{x:-40+this.mRnd(10),y:40+this.mRnd(10)},decay:2,windy:-0.5});ig.game.O6879(this.O5587(60,EntityDust,EntityBigDust),b-2,a+2,{vel:{x:-20+this.mRnd(10),y:-20+this.mRnd(10)},decay:2,windy:-0.5});ig.game.O7649.O3452||(ig.game.O6879(this.O5587(60,EntityDust,EntityBigDust),b-2,a-2,{vel:{x:-40+this.mRnd(10),y:-40+this.mRnd(10)},decay:2,windy:-0.5}),ig.game.O6879(this.O5587(60,
EntityDust,EntityBigDust),b+2,a+2,{vel:{x:40+this.mRnd(10),y:40+this.mRnd(10)},decay:2,windy:-0.5}),ig.game.O6879(this.O5587(60,EntityDust,EntityBigDust),b+2,a-2,{vel:{x:40+this.mRnd(10),y:-40+this.mRnd(10)},decay:2,windy:-0.5}),ig.game.O6879(this.O5587(60,EntityDust,EntityBigDust),b-2,a-2,{vel:{x:-20+this.mRnd(10),y:-20+this.mRnd(10)},decay:2,windy:-0.5}),ig.game.O6879(this.O5587(60,EntityDust,
EntityBigDust),b+2,a+2,{vel:{x:20+this.mRnd(10),y:20+this.mRnd(10)},decay:2,windy:-0.5}),ig.game.O6879(this.O5587(60,EntityDust,EntityBigDust),b+2,a-2,{vel:{x:20+this.mRnd(10),y:20+this.mRnd(10)},decay:2,windy:-0.5}))},O5972:function(a){var b=a.pos.x+4;a=a.pos.y-2;ig.game.O6879(EntityDust,b+this.mRnd(6),a,{vel:{x:0,y:10},zIndex:-1});ig.game.O6879(EntityDust,b+this.mRnd(6),a,{vel:{x:0,y:10},zIndex:-1})},
emitDeathDust:function(a){var b=a.x+9;a=a.y+9;ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-20+this.mRnd(10),y:-10+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-20+this.mRnd(10),y:10+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:20+this.mRnd(10),y:-10+this.mRnd(10)},decay:1.3,
windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:20+this.mRnd(10),y:10+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-10+this.mRnd(10),y:-5+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-10+this.mRnd(10),y:5+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,
b+this.mRnd(10),a+this.mRnd(10),{vel:{x:10+this.mRnd(10),y:-5+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:10+this.mRnd(10),y:5+this.mRnd(10)},decay:1.3,windy:-0.5})},O6436:function(a){var b=a.x+4;a=a.y+6;ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-20+this.mRnd(10),y:-10+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,
b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-20+this.mRnd(10),y:10+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:20+this.mRnd(10),y:-10+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:20+this.mRnd(10),y:10+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),
{vel:{x:-10+this.mRnd(10),y:-5+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:-10+this.mRnd(10),y:5+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:10+this.mRnd(10),y:-5+this.mRnd(10)},decay:1.3,windy:-0.5});ig.game.O6879(EntityBigDust,b+this.mRnd(10),a+this.mRnd(10),{vel:{x:10+this.mRnd(10),y:5+
this.mRnd(10)},decay:1.3,windy:-0.5})},O5087:function(a){a&&(a=this.O101(a),ig.game.O6879(EntityBigDust,a.x,a.y,{vel:{x:0,y:0},decay:1.3,windy:-0.5}))},O6935:function(a){ig.game.O6879(EntityBigDust,a.x,a.y,{vel:{x:0,y:0},decay:1.3,windy:-0.5})},splash:function(a,b){var c=a.vel,d=a.pos,e=a instanceof EntityThrownItem;if(70<c.y||e){for(var c=Math.min(c.y/(e?600:a.O3983.y),1),f=20*c,g=1;g<=f;g++){var h=
200*Math.random();ig.game.O6879(EntityLiquidDrop,d.x+4,d.y+2,{delayMS:h,vel:{x:-200*c*(0.2+0.6/f*g),y:-500*c*Math.random()}})}for(g=1;g<=f;g++)h=200*Math.random(),ig.game.O6879(EntityLiquidDrop,d.x+10,d.y+2,{delayMS:h,vel:{x:-200*-c*(0.2+0.6/f*g),y:-500*c*Math.random()}});for(g=1;g<=f;g++)h=10*Math.random(),ig.game.O6879(EntityLiquidDrop,d.x+8,d.y+2,{delayMS:h,vel:{x:-20+40*Math.random(),y:-350*c*Math.random()},
opacity:20});e&&(c=Math.max(0.1,Math.min(0.8,c)));ig.game.sounds.O7086(b?ig.game.sounds.splashThick:ig.game.sounds.splash,a,c)}ig.game.sounds.O7086(b?ig.game.sounds.diveThick:ig.game.sounds.dive,a)},burst:function(a,b,c,d){if(ig.game.O413.default&&600>=ig.game.O413.default.length){b||(b=ig.game.O5167(12,18));for(var e=0;e<b;e++){var f={};f.x=ig.game.O5167(10,150)*(ig.game.chance(50)?-1:1);f.y=ig.game.O5167(10,150)*(ig.game.chance(50)?-1:1);
ig.game.chance(50)&&(f.x=a.vel.x,f.y=a.vel.y);var g=null,g=c?ig.game.O5405["glitter"+ig.game.O5167(1,6)]:ig.game.chance(90)?ig.game.O5405.whitePixel:ig.game.O5405.whitePixelSmall;ig.game.O6879(EntitySpot,a.pos.x,a.pos.y,{O3726:g,vel:f,O199:0.75,O1018:!1})}if(d)for(c=0;c<b;c++)f={},f.x=ig.game.O5167(10,150)*(ig.game.chance(50)?-1:1),f.y=ig.game.O5167(10,150)*(ig.game.chance(50)?-1:1),ig.game.O6879(EntityLiquidDrop,
a.pos.x,a.pos.y+16,{vel:f})}},O4094:function(a){ig.game.O6879(EntityLiquidDrop,a.pos.x+19*Math.random(),a.pos.y+19)},O5720:function(a,b){ig.game.O6879(EntityAirBubble,a.x,a.y,{vel:{x:b.x,y:b.y}})},O2954:function(a,b){b?this.O5720({x:a.x+9+6*Math.random(),y:a.y},{x:0,y:0}):this.O5720({x:a.x-2+6*Math.random(),y:a.y},{x:0,y:0})},O6916:function(a,b,c){c?ig.game.O6879(EntityAirBubble,
a.x-2+6*Math.random(),a.y+18-6*Math.random(),{vel:{x:-b.x,y:50},O199:-0.1,O5561:0.1,opacity:50}):ig.game.O6879(EntityAirBubble,a.x+7+6*Math.random(),a.y+18-6*Math.random(),{vel:{x:-b.x,y:50},O199:-0.1,O5561:0.1,opacity:50})},O7210:function(a,b,c,d){c=ig.game.O7715.O2398(c,d);a=ig.game.O8412(a);ig.game.O6879(EntityThrownItem,a.pos.x,a.pos.y,{thingTypeId:b.tid,animSheet:ig.game.entityManager.getAnimationForEntity(b.tid,
b.rotation,b.flip),O6713:c})},O1185:function(a,b,c,d,e,f,g,h){d&&(b=ig.game.O7715.O2398(c.x,c.y));b.x>=a.pos.x?a.O6717():a.O2971();void 0===e&&(e=12);void 0===f&&(f=45);void 0===g&&(g=25);void 0===h&&(h=!1);ig.game.O7649.O3452&&(g=35);c=b.x-a.pos.x;b=b.y-a.pos.y;d=Math.sqrt(c*c+b*b);if(d<=ig.game.decorator.O7600ForTrails){g=Math.floor(d/g);c/=g;for(var k=b/g,l=1;l<=g;l++)b=c*l,d=k*l,ig.game.O6879(EntityDust,
a.pos.x+5+b+Math.random()*e-e/2,a.pos.y+5+d+Math.random()*e-e/2,{decay:1*(l/g),opacity:f,O985:h}),ig.game.chance(15)&&ig.game.O6879(EntityBigDust,a.pos.x+5+b+Math.random()*e-e/2,a.pos.y+5+d+Math.random()*e-e/2,{decay:1*(l/g),opacity:f,O1313:!0,O985:h})}},O2922:function(a,b){this.O1185(a,null,b,!0)},O5666:function(a,b){this.O1185(a,b,null,!1)},O4712:function(a,b){if(a&&b){var c=ig.game.O7715.O2398(b.x,
b.y),d=a.pos.x-c.x,e=a.pos.y-c.y,f=Math.sqrt(d*d+e*e);if(f<=ig.game.decorator.O7600ForTrails)for(var f=Math.floor(f/5),g,d=d/f,h=e/f,k=1;k<=f;k++)e=d*k,g=h*k,ig.game.O6879(EntitySparkle,c.x+e+5+10*Math.random()-5,c.y+g+5+10*Math.random()-5,{opacity:40,delayMS:400*Math.random()})}},O3185:function(a){ig.game.chance(4)&&ig.game.O6879(EntityDust,a.x+3,a.y+5,{vel:{x:this.mRnd(150),y:-100+this.mRnd(100)},decay:1.5,O1313:!0});
ig.game.chance(10)&&ig.game.O6879(EntityBigDust,a.x+4+this.mRnd(12),a.y+13,{vel:{x:this.mRnd(4),y:-2+this.mRnd(2)},decay:1.5,O1313:!0})},O5306:function(a){ig.game.chance(0.25)&&(a=this.O8092(this.O101(a),a.size.x/2),ig.game.O6879(EntitySparkle,a.x-1,a.y-1,{O3726:ig.game.O5405.dangerSparkle}))},O3454:function(a){ig.game.chance(0.4)&&(a=this.O8092(this.O101(a),
a.size.x/2),ig.game.O6879(EntitySparkle,a.x-1,a.y-1,{O3726:ig.game.O5405.actionSparkle}))},O6153:function(a){if(!ig.game.O7649.O3452&&ig.game.chance(2)){a=this.O8092(this.O101(a),a.size.x/2);var b=this.O8092(null,10);ig.game.chance(50)?b.x=0:b.y=0;ig.game.O6879(EntitySpot,a.x,a.y,{uiEntity:!1,vel:b,O5561:1,O1018:!1})}},O4028:function(a,b,
c,d){void 0===c&&(c=5);ig.game.chance(c)&&(a=b?this.O7089(a):{x:this.distort(a.pos.x+9,8),y:this.distort(a.pos.y,5)},b={x:this.distort(0,1),y:this.distort(-10,5)},ml.Misc.O4768(b),c=ig.game.chance(70)?ig.game.O5405.smoke:ig.game.O5405.bigSmoke,a.x=Math.floor(a.x-c.width/2),ig.game.O6879(EntitySpot,a.x,a.y,{O3726:c,O1018:!1,decorative:!0,vel:b,O6454:d}))},O1582:function(){return(!ig.game.gameStartTimer||
7.5>=ig.game.gameStartTimer.delta())&&ig.game.O707&&ig.game.O172.O3820()},O6341:function(a,b,c,d,e){var f=this.O1582();if(a&&b&&b.attributes){var g=!0;ig.game.O7649.O3452&&(g=f?ig.game.chance(5):ig.game.O413.default&&500<=ig.game.O413.default.length?ig.game.chance(15):ig.game.chance(50));g&&(b.attributes.airOnlyEffects&&!e)&&(g=!1);if(g){b.attributes.hot&&(c!=ig.game.O7510.slots.MOUNTABLE||
ig.game.chance(40))&&this.O4028(a,!0,void 0,b.O6454);b.attributes.bubbly&&ig.game.chance(1)&&this.O17(a,b.O6454,c==ig.game.O7510.slots.HOLDABLE);b.attributes.steamy&&ig.game.chance(1)&&this.O60(a,b.O6454,c==ig.game.O7510.slots.HOLDABLE);b.attributes.shiny&&ig.game.chance(1)&&(f=this.O101(a),f=this.O8092(f,ig.game.O1990-2),e={O3726:ig.game.O5405.sparkle,O6454:b.O6454},
ig.game.O6879(EntitySparkle,f.x,f.y,e));f=4;e=8;b.attributes.sprinkling&&b.attributes.dripping&&(f*=0.5,e*=0.5);if(b.attributes.sprinkling&&ig.game.chance(e)){g=this.O101(a);g=this.O8092(g,ig.game.O1990-4);e={x:ig.game.O5167(-50,50),y:ig.game.O5167(-150,-200)};var h=ig.game.O5167(-4,1);0==b.rotation?g.y=a.pos.y+h:1==b.rotation?(g.x=a.pos.x+a.size.x+h,e={x:Math.abs(0.5*e.y),y:e.x}):2==b.rotation?(g.y=a.pos.y+a.size.y+h,
e.y=0):3==b.rotation&&(g.x=a.pos.x+-1*h,e={x:-Math.abs(0.5*e.y),y:e.x});e={O4895:100,O5561:2,fadingInc:2,attribute:"sprinkling",O1018:!1,decorative:!1,O199:0.5,rectangle:{width:2,height:2,rgb:b.rgb},vel:e,O6454:b.O6454};ig.game.O6879(EntitySpot,g.x,g.y,e)}b.attributes.dripping&&ig.game.chance(f)&&(g=this.O101(a),g=this.O8092(g,ig.game.O1990-2),e={O1271:1.5,O4895:100,O5561:2,
fadingInc:2,attribute:"dripping",O1018:!1,decorative:ig.game.chance(50),O199:0.2,rectangle:{width:2,height:2,rgb:b.rgb},O6454:b.O6454},ig.game.O6879(EntitySpot,g.x,g.y,e));if(b.attributes.bristling&&ig.game.chance(2)){e={x:ig.game.O5167(-10,10),y:ig.game.O5167(-10,10)};f=this.O101(a);if(a.size.x>ig.game.O5286||a.size.y>ig.game.O5286)f=this.O7089(a);e={O1271:0.75,
O4895:80,O5561:2,fadingInc:2,attribute:"bristling",vel:e,O1018:!1,decorative:c==ig.game.O7510.slots.HOLDABLE||ig.game.chance(50),O3726:ig.game.O5405.whitePixel,O6454:b.O6454};ig.game.O6879(EntitySpot,f.x,f.y,e)}}if((d||c==ig.game.O7510.slots.MOUNTABLE)&&b.attributes.colorTrail&&ig.game.chance(d?20:5))c=ig.game.O5167(1,6),e={O3726:ig.game.O5405["glitter"+c],O5561:0.5,
O1271:20,fadingInc:5,O4895:70,O1018:!1,decorative:ig.game.chance(50),O6454:b.O6454},b=this.distort(a.pos.x+a.size.x/2,5),c=this.distort(a.pos.y+a.size.y/2,5),ig.game.O6879(EntitySpot,b,c,e),d&&ig.game.chance(5)&&(d=ig.game.O5167(1,ig.game.sounds.environmentSounds.glimmer),ig.game.sounds.O7086(ig.game.sounds["environment_glimmer_"+d],a,0.8))}},O5767:function(a,b){b||(b="30,30,30");var c=this.O101(a),
c=this.O8092(c,ig.game.O1990-2);c.y-=5;var d={O1271:1.5,O4895:100,O5561:2,fadingInc:2,attribute:"dripping",O1018:!1,decorative:ig.game.chance(50),O199:0.2,rectangle:{width:2,height:2,rgb:b}};ig.game.O6879(EntitySpot,c.x,c.y,d)},O7089:function(a){return{x:ig.game.O5167(a.pos.x,a.pos.x+a.size.x),y:ig.game.O5167(a.pos.y,a.pos.y+a.size.y)}},O17:function(a,b,c){a=this.O7089(a);
var d={x:0,y:this.distort(-10,5)};ml.Misc.O4768(d);var e=ig.game.O5405["bubble"+ig.game.O5167(1,ig.game.O5167(1,3),3)];b={O3726:e,O5561:1.5,O1271:2,fadingInc:5,O4895:50,O1018:!1,O6454:b,decorative:c};b.vel={x:d.x,y:d.y};a.x=Math.floor(a.x-e.width/2);ig.game.O6879(EntitySpot,a.x,a.y,b)},O60:function(a,b,c){a=this.O7089(a);var d={x:this.distort(0,1),y:this.distort(-6,
3)};ml.Misc.O4768(d);var e=ig.game.chance(40)?ig.game.O5405.steam:ig.game.O5405.bigSteam;b={O3726:e,O1271:5,O4895:35,fadingInc:0.5,O1018:!1,O6454:b,decorative:c};b.vel={x:d.x,y:d.y};a.x=Math.floor(a.x-e.width/2);ig.game.O6879(EntitySpot,a.x,a.y,b)},O3591:function(a){var b=ig.game.O4269.pos,c=b.x-a.x,d=b.y-a.y,b=Math.sqrt(c*c+d*d);if(b<=ig.game.decorator.O7600ForTrails)for(var b=
Math.floor(b/20),e,c=c/b,f=d/b,g=1;g<=b;g++)d=c*g,e=f*g,ig.game.O6879(EntityDust,a.x+5+d+12*Math.random()-6,a.y+5+e+12*Math.random()-6,{decay:1*(g/b),opacity:35,O985:!1})},O8092:function(a,b){null==a&&(a={x:0,y:0});return{x:a.x+ml.Misc.O3512(-b,b),y:a.y+ml.Misc.O3512(-b,b)}},O101:function(a){return{x:Math.floor(a.pos.x+a.size.x/2-1),y:Math.floor(a.pos.y+a.size.y/2-1)}},mRnd:function(a){return Math.random()*a-a/2},chance:function(a){return Math.random()<=
a/100},distort:function(a,b){return a+ig.game.O5167(-b,b)},O5587:function(a,b,c){return 100*Math.random()<=a?b:c}})});ig.baked=!0;
ig.module("game.ui.panel-collected").requires("game.ui.panelitem","game.ui.panel","game.core.decorator").defines(function(){window.UIPanelCollected=UIPanel.extend({panelName:"collected",O7839:!0,showStats:!1,O2557:12,init:function(a,b,c){this.parent(a,b,c);this.decorator=new Decorator;this.O7424=Math.floor(this.panelSize.y/this.O7329);this.O4767()},O4767:function(){this.O7813=!1;var a=ig.game.O4703.getCollectedItemsForPlayer(this.tilePage,
this.O7424,this);a.done(this.O4941);return a},refresh:function(){this.O4767()},O5819:function(a){this.O4767().done(function(){this.O8197(a)})},O8197:function(a){ig.game.O2050&&(a=this.tiles[a-1])&&this.decorator.O1805(a.homePos.x,a.homePos.y,19,19,!0)},removeItem:function(a){var b=a.id;ig.game.O4703.removeItemFromCollection(a.id,this).done(function(){1==this.tiles.length&&1<this.tilePage&&this.tilePage--;this.O4767();ig.game.sounds.bin.play();
this.O192();ig.game.holderDialog&&(b==ig.game.holderDialog.holderId&&ig.game.holderDialog.isOpen&&ig.game.holderDialog.O3923)&&ig.game.holderDialog.close()})},O7528:function(){3>this.O6471&&(ig.system.context.globalAlpha=0.35,ig.game.O5405.O2352(this.panelPos.x+11,123),ig.system.context.globalAlpha=1)},O4273:function(a){var b=this.O7424;void 0===a&&(a={x:ig.input.mouse.x,y:ig.input.mouse.y});a.x>this.panelPos.x&&a.x<this.panelPos.x+
this.panelSize.x&&a.y>this.panelPos.y&&a.y<=this.panelPos.y+this.panelSize.y&&(b=Math.floor((a.y-this.panelPos.y)/this.O7329)+1);b=Math.min(this.O7424,b);return b=Math.min(this.tiles.length+1,b)},O219:function(){if(ig.game.panelSet.O6849PanelBody()){var a=this.O4273({x:ig.input.mouse.x,y:ig.input.mouse.y+this.O2557});if(a=this.tiles[a-1])a&&0<=ig.game.O1850.indexOf(a.thing.base)?a.hasDropOverAction=!0:(a.nudge.x=
0,a.nudge.y=5)}},O3795:function(){var a=null;if(ig.game.panelSet.O6849PanelBody()){var b=this.O4273({x:ig.input.mouse.x,y:ig.input.mouse.y+this.O2557});(b=this.tiles[b-1])&&(b.thing&&0<=ig.game.O1850.indexOf(b.thing.base))&&(a={type:b.thing.base,id:b.thing.id})}return a},O2340:function(a){var b=this.O5878(a);this.O4861(b).done(function(){var c=this.tiles[a-(b-1)*this.O7424];
c&&c.waggle()})}})});ig.baked=!0;
ig.module("game.ui.panel-created").requires("game.ui.panelitem","game.ui.panel").defines(function(){window.UIPanelCreated=UIPanel.extend({panelName:"created",O7839:!0,showStats:!0,O7424:5,createNewButtonSize:{x:59,y:12},O6481:{},painterCanvasSize:{x:166,y:240},lastId:null,init:function(a,b,c){this.parent(a,b,c);this.panelPadding.y=32;this.buttonUpPos.y+=24;this.O8298=22;this.O7424=Math.floor((this.panelSize.y-this.O8298)/this.O7329);
this.O6481={x:this.panelPos.x+6,y:this.panelPos.y+12};this.O4767()},O4767:function(a){this.O7813=!1;var b=ig.game.O4703.O5389(this.tilePage,this.O7424,this);b.done(this.O4941);b.done(a)},O7457:function(){},removeItem:function(a){var b=this,c=a.id;ig.game.panelSet.panels[ig.game.panelSet.tabEnum.search].O1116();a=ig.game.O4703.O1722(a.id);a.done(function(){1==b.tiles.length&&1<b.tilePage&&
b.tilePage--;b.O4767();ig.game.sounds.bin.play();b.O192();ig.game.holderDialog&&(c==ig.game.holderDialog.holderId&&ig.game.holderDialog.isOpen&&ig.game.holderDialog.O3923)&&ig.game.holderDialog.close()});a.fail(function(){ig.game.sounds.nocando.play()})},update:function(){ig.game.O2050&&ig.game.O6099.O4678(this.O6481.x,this.O6481.y,this.O6481.x+this.createNewButtonSize.x,this.O6481.y+this.createNewButtonSize.y)&&
(ig.game.O6099.O6375(!0),ig.game.painter&&ig.game.O6310?ig.game.painter.close():this.O6448());this.parent()},O7528:function(){ig.system.context.globalAlpha=ig.game.O5647-0.1;ig.game.O4269.rank>=ig.game.O835?ig.game.O5405.O5556(this.O6481.x,this.O6481.y):ig.game.O5405.O926(this.O6481.x,this.O6481.y);ig.system.context.globalAlpha=
1},O6448:function(){ig.game.O4269.rank>=ig.game.O835?ig.game.writableDialog.isOpen||(ig.game.O7673(),ig.game.painter.launch()):ig.game.O4132.O2959()},O5760:function(){this.tilePage=1;ig.game.panelSet.O7981(2);this.O4767(function(){this.tiles[0]&&this.tiles[0].thing&&(ig.game.painter.O5934(),"MIFT"!=this.tiles[0].thing.base&&(ig.game.sounds.collected.play(),this.O2752()))})},O2752:function(){var a=
this.tiles[0];a&&ig.game.decorator.O1805(a.homePos.x,a.homePos.y,19,19,!0)}})});ig.baked=!0;
ig.module("game.ui.panel-search").requires("game.ui.panelitem","game.ui.panel").defines(function(){window.UIPanelSearch=UIPanel.extend({panelName:"search",O7839:!0,showStats:!1,O6393:"",O2123:[],O5113:"searchInput",O7999:!1,O6507:"",O2000:!0,O3155:!1,O5836:0.5,O7559:0.75,O5009:null,O1120:0.5,universeSearchPos:{x:null,y:null},init:function(a,
b,c){this.parent(a,b,c);this.panelPadding.y=25;this.buttonUpPos.y+=18;this.O8298=30;this.O7424=Math.floor((this.panelSize.y-this.O8298)/this.O7329);this.universeSearchPos={x:this.panelPos.x+5,y:this.panelPos.y+this.panelSize.y+9};a=localStorage.getItem("savedSearchString");b=localStorage.getItem("savedSearchResultsPage")||1;a&&""!=a&&(this.O6393=a,this.tilePage=b);this.O4767()},O4767:function(){this.O7813=!1;var a=ig.game.O4703.O4311(this.O6393,
this.tilePage,this.O7424,this);a.done(function(a,c){this.O4941(a,c)});return a},O4941:function(a,b){this.tiles=[];if(!a||0==a.length)this.O3155=!0;else{this.O3155=!1;for(var c=0;c<a.length;c++){var d=a[c],e=0,f=c*this.O7329,e=e+(this.panelPos.x+this.panelPadding.x),f=f+(this.panelPos.y+this.panelPadding.y);this.tiles.push(new UIPanelItem(d,e,f,this.O7839,this.showStats,this))}this.moreTiles=b}this.O7813=!0;this.O7457()},
O7457:function(){},O6793:function(){null!=this.O5009&&this.O5009.delta()>this.O1120&&(this.O5009=null);if(this.O7813&&null==this.O5009){var a=ig.input.pressed("wheelup"),b=ig.input.pressed("wheeldown"),c=ig.game.O6099.O4678(this.buttonUpPos.x-this.O1489,this.buttonUpPos.y-this.O1489,this.buttonUpPos.x+this.O6707+this.O1489,this.buttonUpPos.y+
this.O6707+this.O1489),d=ig.game.O6099.O4678(this.buttonDownPos.x-this.O1489,this.buttonDownPos.y-this.O1489,this.buttonDownPos.x+this.O6707+this.O1489,this.buttonDownPos.y+this.O6707+this.O1489);if(1<this.tilePage&&(a||c))this.tilePage-=1,ig.game.O914.setItem("savedSearchPage",this.tilePage),ig.game.sounds.click.play(),this.O5009=new ml.Timer,this.O4767(),ig.game.motionDialog&&
ig.game.motionDialog.O5076("search");else if(this.moreTiles&&(b||d))this.tilePage+=1,ig.game.O914.setItem("savedSearchPage",this.tilePage),ig.game.sounds.click.play(),this.O5009=new ml.Timer,this.O4767(),ig.game.motionDialog&&ig.game.motionDialog.O5076("search")}},O2654:function(){if(ig.game.O2050&&!ig.game.O4932){var a=jQuery('<input type="text" class="dialogInputBox" id="'+this.O5113+'" value=""/>'),b=jQuery("#"+
ig.game.canvasId),c=b.position(),d=b.width(),b=ig.system.scale,e=37*b,f=5*b,d=d-e-14*b,g=26*b;a.appendTo("body");a.css("padding",1*b+"px");a.css("width",e+"px");a.css("height",f+"px");a.css("font-size",Math.floor(3.5*b)+"px");a.css("border-width",1*b+"px");a.css("left",c.left+d);a.css("top",c.top+g);a.css("opacity",""+this.O5836);jQuery("#"+this.O5113).attr("value",""!=this.O6393?this.O6393:this.O6507);var h=this;jQuery("#"+this.O5113).keyup(function(a){13==
a.keyCode?h.O1717():""==jQuery(this).val()&&(localStorage.removeItem("savedSearchString"),localStorage.removeItem("savedSearchResultsPage"),h.O6393="",h.tilePage=1,h.O4767())});jQuery("#"+this.O5113).keydown(function(a){if(0<=[37,38,39,40].indexOf(a.keyCode))h.O1231();else{a=["wwww","aaaa","ssss","dddd"];var b=jQuery(this).val().slice(-a[0].length);0<=a.indexOf(b)?(jQuery(this).val(""),h.O1231()):ig.game.motionDialog&&ig.game.motionDialog.O5076("search")}});
jQuery("#"+this.O5113).click(function(a){h.O4108()});a.css("visibility","visible");this.O7999=!0}},O4108:function(){jQuery("#"+this.O5113).select();jQuery("#"+this.O5113).css("opacity",""+this.O7559);this.inputBoxHasFocus=!0},O1231:function(){this.isOpen&&(this.inputBoxHasFocus&&jQuery("#"+this.O5113).is(":focus"))&&(jQuery("#"+this.O5113).blur(),jQuery("#"+this.O5113).css("opacity",""+this.O5836),jQuery("#"+
ig.game.canvasId).focus(),this.inputBoxHasFocus=!1)},O1717:function(){ig.game.sounds.click.play();this.O6393=jQuery("#"+this.O5113).val();ig.game.O914.setItem("savedSearchString",this.O6393);this.tilePage=1;this.O4767()},O605:function(){jQuery("#"+this.O5113).remove();this.O7999=!1},removeItem:function(a){var b=this;a=ig.game.O4703.O1722(a.id);a.done(function(){1==b.tiles.length&&1<b.tilePage&&b.tilePage--;
b.O4767();ig.game.sounds.bin.play();b.O192()});a.fail(function(){ig.game.sounds.nocando.play()})},update:function(){this.parent();this.O943()},O943:function(){if(!this.O5046){var a=this.universeSearchPos.x,b=this.universeSearchPos.y;ig.game.O6099.O4678(a,b,a+ig.game.O5405.universeSearchChecked.width,b+ig.game.O5405.universeSearchChecked.height)&&(1>=ig.game.O4269.rank&&!ig.game.hasMinfinity?ig.game.O4132.O2959():
!ig.game.universeSearchChecked&&!ig.game.hasMinfinity?(ig.game.sounds.click.play(),ig.game.iapDialogManager.O5267()):(ig.game.universeSearchChecked=!ig.game.universeSearchChecked,localStorage.setItem(ig.game.O1386,ig.game.universeSearchChecked?"true":"false"),this.O7475(),this.tilePage=1,this.O6393="",this.O1717()))}},draw:function(){this.parent();this.O3593()},O3593:function(){this.O5046||
(ig.game.universeSearchChecked?ig.game.O5405.O2141(this.universeSearchPos.x,this.universeSearchPos.y):ig.game.O5405.O8023(this.universeSearchPos.x,this.universeSearchPos.y))},O2416:function(){},O7528:function(){this.O3155&&(null!=this.O6393&&""!=ig.game.strings.trim(this.O6393))&&ig.game.O5405.O516(this.panelPos.x+21,this.panelPos.y+27,0.5)},O1116:function(){(0<=this.O6393.indexOf("in bin")||
0<=this.O6393.indexOf("in:bin"))&&this.O7475()},O7475:function(){localStorage.removeItem("savedSearchResultsPage");this.tiles=[];this.O2123=[]}})});ig.baked=!0;
ig.module("game.ui.musicplayer").defines(function(){window.UIMusicPlayer=ig.Class.extend({init:function(a){this.settingOn=0!=localStorage.getItem(this.O6121);this.sheet=ig.game.O5405.getImage(ig.game.O5405.musicPlayer);this.O1433=ig.game.O5405.getImage(ig.game.O5405.checkMark);this.pos={x:a.x-19,y:a.y-1}},update:function(){if(this.O3628()){if(ig.input.pressed("click")){var a=ig.game.O6099.O4678(this.pos.x+12,this.pos.y,this.pos.x+35,this.pos.y+
7),b=!a&&ig.game.O6099.O4678(this.pos.x,this.pos.y+11,this.pos.x+6,this.pos.y+17),c=!a&&!b&&ig.game.O6099.O4678(this.pos.x+16,this.pos.y+11,this.pos.x+47,this.pos.y+17);a?(this.O1876(),ig.game.sounds.click.play()):b?ml.Misc.openUrl(this.url):c&&ig.game.playerDialog.openForPlayerId(this.O7698)}0>this.O4465&&(this.energy+=this.O4465,0>=this.energy&&(this.energy=this.O4465=0,this.url=null))}},draw:function(){if(this.O3628()){var a=
ig.system.context.globalAlpha;ig.system.context.globalAlpha=(0.01*this.energy).limit(0,1);this.sheet.draw(this.pos.x,this.pos.y);this.settingOn&&this.O1433.draw(this.pos.x+27,this.pos.y+2);ig.system.context.globalAlpha=a}},O3628:function(){return!!this.url&&ig.game.panelSet.tabState!=ig.game.panelSet.tabEnum.search},O3289:function(a,b,c,d){var e=0===a.indexOf("https://soundcloud.com/"),f=!c;if(e&&!this.O1780(a)&&(f||this.isUrlWhitelisted(a)||ig.game.isFullAccount||
this.O7114()||localStorage.muscicPlayerLastUrlPastedAndPlayed==a)){if(f=ml.Misc.O2849(b))f.O4102&&!c&&ig.game.settings.set("doPlaySound",!0),c&&(this.settingOn=!0),this.addUrl(a,b,d),localStorage.muscicPlayerLastUrlPastedAndPlayed=a,(!c||!ig.game.isFullAccount||!ig.game.O2050)&&f.O4261(a,!0,34)}else e=!1;return e},O7114:function(){var a=localStorage.getItem("portaller_lastAreaGroupName");return a&&"null"!=a&&a!=ig.game.O966},
isUrlWhitelisted:function(a){for(var b=!1,c="jphilipp sameythehedgewhatever silversands-2 musea-stad-antwerpen zebraphone negy_evszak alexwloch mike-ferguson-27".split(" "),d=0;d<c.length;d++)if(0<=a.indexOf(c[d])){b=!0;break}return b},O1780:function(a){for(var b=!1,c=["starbound","kevin-adams"],d=0;d<c.length;d++)if(0<=a.indexOf(c[d])){b=!0;break}return b},url:null,O4602:null,settingOn:!0,sheet:null,O1433:null,O7698:null,pos:{x:0,y:0},O6121:"musicPlayerSettingOn",
timeout:null,energy:100,O4465:0,O5166:null,O6560:!1,addUrl:function(a,b,c){this.O4602&&this.O4192();this.url=a;this.O6560=c;this.O7698=b;this.energy=430;this.settingOn?this.O6643():this.O4465=-1},O6643:function(){if(ig.game.settings.doPlaySound&&0===this.url.indexOf("https://soundcloud.com")){var a=this.url.split("?trackId=");if(2==a.length)this.url=a[0],this.O2832(a[1]);else{var b=this;window.consoleref.log("Fetching trackId for "+
this.url);ig.game.O7421.O6195(this.url).done(function(a){a&&a.trackId?(window.consoleref.log("Found trackId "+a.trackId),0<=a.trackId.indexOf("/")&&(a.trackId=a.trackId.split("/")[0]),b.O2832(a.trackId)):window.consoleref.log("No trackId returned")}).fail(function(){window.consoleref.log("Something failed with O6195 for url "+b.url)})}}},O2832:function(a){var b="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/"+
ig.game.strings.O4334(a)+"&amp;color=%23ff5500&amp;auto_play=true&amp;hide_related=true&amp;show_comments=false&amp;show_user=false&amp;show_reposts=false&amp;show_teaser=false&amp;visual=false";0==jQuery("#widgetIframe").length?jQuery('<iframe id="widgetIframe" src="'+b+'" allow="autoplay; fullscreen" allowfullscreen width="0" height="0" frameborder="0"></iframe>').appendTo("body"):jQuery("#widgetIframe").attr("src",b);this.O4602=!0;ig.game.O3713();this.O6560&&(this.O6560=
!1,ig.game.O4349.O6577(this.url+"?trackId="+a))},O4192:function(){jQuery("#widgetIframe").remove();this.O7698=null;this.O4602=!1;ig.game.O3713()},O1876:function(){this.settingOn=!this.settingOn;ig.game.O914.setItem(this.O6121,this.settingOn?1:0);this.settingOn?this.url&&(this.O6643(),this.O4465=0,this.energy=100):(this.energy=250,this.O4192(),this.O4465=-1)}})});ig.baked=!0;
ig.module("game.ui.panelset").requires("game.ui.panel-collected","game.ui.panel-created","game.ui.panel-search","game.ui.musicplayer").defines(function(){window.UIPanelSet=ig.Class.extend({panelPos:{x:370,y:3},panelSize:{x:54,y:232},tileSize:19,tabHeight:14,tabState:1,O1519:1,panels:[],O7890:null,O488:null,O4451:null,binLocation:{x:0,y:0},binSize:{x:12,y:14},binMargin:{x:6,y:-2},expandAdPos:{x:0,y:0},hideButton:{x:0,y:5,width:5,height:9},showButton:{x:0,y:5,width:18,
height:9},O7463:0.5,musicPlayer:null,tabEnum:{collected:1,created:2,search:3},O3367:18,O7344:18,O622:16,tabImage:{collected:{image:null},created:{image:null},search:{image:null}},tabImageOffset:{x:0,y:-5},O4276:1.5,O4887:{},init:function(){this.hideButton.x=ig.system.width-this.hideButton.width-this.panelSize.x-9;this.showButton.x=ig.system.width-this.showButton.width-5;this.panelSize.y=Math.max(100,ig.system.height-
ig.game.O5405.panelBottom.y-this.tabHeight-this.panelPos.y-4);this.panelPos.x=ig.system.width-this.panelSize.x-3;this.binLocation.x=this.panelPos.x+this.panelSize.x/2-5;this.binLocation.y=this.panelPos.y+this.panelSize.y+20;this.expandAdPos.x=this.binLocation.x+22;this.expandAdPos.y=this.binLocation.y+10;this.musicPlayer=new UIMusicPlayer(this.binLocation);this.panels[this.tabEnum.collected]=this.O7890=new UIPanelCollected(this.panelPos.x,this.panelPos.y+this.tabHeight,this.panelSize);
this.panels[this.tabEnum.created]=this.O488=new UIPanelCreated(this.panelPos.x,this.panelPos.y+this.tabHeight,this.panelSize);this.panels[this.tabEnum.search]=this.O4451=new UIPanelSearch(this.panelPos.x,this.panelPos.y+this.tabHeight,this.panelSize);if(ig.game.isFullAccount){this.panels[this.tabEnum.collected].O1819(!0);var a=localStorage.getItem("lastTabOpen");a&&jQuery.isNumeric(a)&&(this.tabState=Math.floor(a),this.O1519=Math.floor(this.tabState),this.panels[this.tabEnum.collected].O1819(this.tabState==
this.tabEnum.collected),this.panels[this.tabEnum.created].O1819(this.tabState==this.tabEnum.created),this.panels[this.tabEnum.search].O1819(this.tabState==this.tabEnum.search))}},update:function(){if(ig.game.O2050){if(ig.game.O6099.O4678(this.panelPos.x,this.panelPos.y,this.panelPos.x+this.O3367,this.panelPos.y+this.tabHeight))this.O1519=this.tabState,this.tabState=this.tabEnum.collected,this.O1519!=this.tabState&&ig.game.O914.setItem("lastTabOpen",
""+this.tabState+""),ig.game.sounds.click.play(),this.panels[this.tabEnum.collected].O1819(!0),this.panels[this.tabEnum.created].O1819(!1),this.panels[this.tabEnum.search].O1819(!1);else if(ig.game.O6099.O4678(this.panelPos.x+this.O3367,this.panelPos.y,this.panelPos.x+this.O3367+this.O7344,this.panelPos.y+this.tabHeight))this.tabState==this.tabEnum.created?ig.game.O6310||this.O488.O6448():(this.O1519=
this.tabState,this.tabState=this.tabEnum.created),this.O1519!=this.tabState&&ig.game.O914.setItem("lastTabOpen",""+this.tabState+""),ig.game.sounds.click.play(),this.panels[this.tabEnum.collected].O1819(!1),this.panels[this.tabEnum.created].O1819(!0),this.panels[this.tabEnum.search].O1819(!1);else if(ig.game.O6099.O4678(this.panelPos.x+this.O3367+this.O7344,this.panelPos.y,this.panelPos.x+this.O3367+this.O7344+
this.O622,this.panelPos.y+this.tabHeight))this.O1519=this.tabState,this.tabState=this.tabEnum.search,this.O1519!=this.tabState&&ig.game.O914.setItem("lastTabOpen",""+this.tabState+""),ig.game.sounds.click.play(),this.panels[this.tabEnum.collected].O1819(!1),this.panels[this.tabEnum.created].O1819(!1),this.panels[this.tabEnum.search].O1819(!0);else if(ig.game.isFullAccount&&ig.game.settings.showMainUI){var a=this.hideButton;ig.game.O6099.O4678(a.x-
12,a.y,a.x+a.width+12,a.y+a.height+8)&&(ig.game.O6099.O6375(!0),ml.Misc.O373())}this.musicPlayer.update();this.O3602();this.O2345();this.panels[this.tabState].update()}else ig.game.isFullAccount&&ig.game.settings.showMainUI&&(a=this.showButton,ig.game.O6099.O4678(a.x,a.y,a.x+a.width,a.y+a.height+8)&&(ig.game.O6099.O6375(!0),ml.Misc.O373()))},O2345:function(){var a=
ig.input.pressed("f3"),b=this.panels[this.tabEnum.search];b&&(a&&!jQuery("#"+b.O5113).is(":focus"))&&(this.O7981(this.tabEnum.search),b.O4108())},O3602:function(){var a=this.panels[this.tabEnum.search];a.isOpen!=a.O7999&&(a.isOpen?a.O2654():a.O605())},draw:function(){var a=ig.game.isFullAccount&&ig.game.settings.showMainUI&&!ig.game.O4269.O1038();ig.game.O2050?(ig.system.context.globalAlpha=ig.game.O5647,
this.O4689(this.panels[this.tabEnum.collected].isOpen),this.O912(this.panels[this.tabEnum.created].isOpen),this.O69(this.panels[this.tabEnum.search].isOpen),ig.system.context.globalAlpha=1,this.panels[this.tabState].draw(),this.musicPlayer.draw(),a&&ig.game.O5405.O3738(this.hideButton.x,this.hideButton.y,this.O7463)):a&&ig.game.O5405.O2400(this.showButton.x,this.showButton.y,this.O7463)},O7833:function(a,
b,c,d,e,f){a.image?a.image.loaded&&(ig.game.O5405.draw(c,d,ig.system.context.globalAlpha,ig.game.O5405["panelTab"+(f?"Small":"")+(e?"On":"Off")]),a.image.draw(c+this.tabImageOffset.x,d+this.tabImageOffset.y+(e?-2:0),0,0,ig.game.tileSize,ig.game.tileSize)):a.image=new ml.Image(ig.game.itemImageResourcePrefix+"i/"+b+".png")},O4689:function(a){var b=this.panelPos.x,c=this.panelPos.y;ig.game.settings.collectedTabItemId?this.O7833(this.tabImage.collected,ig.game.settings.collectedTabItemId,
b,c,a):a?ig.game.O5405.O8241(b,c):ig.game.O5405.O4337(b,c)},O912:function(a){var b=this.panelPos.x+this.O3367+1,c=this.panelPos.y;ig.game.settings.createdTabItemId?this.O7833(this.tabImage.created,ig.game.settings.createdTabItemId,b,c,a):a?ig.game.O5405.O6774(b,c):ig.game.O5405.O4400(b,c)},O69:function(a){var b=this.panelPos.x+this.O3367+this.O7344+
2,c=this.panelPos.y;ig.game.settings.searchTabItemId?this.O7833(this.tabImage.search,ig.game.settings.searchTabItemId,b,c,a,!0):a?ig.game.O5405.O7003(b,c):ig.game.O5405.O5169(b,c)},O5220:function(){return ig.game.O2050&&ig.input.mouse.x>this.binLocation.x-this.binMargin.x&&ig.input.mouse.x<this.binLocation.x+this.binSize.x+this.binMargin.x&&ig.input.mouse.y>this.binLocation.y-this.binMargin.y&&ig.input.mouse.y<this.binLocation.y+
this.binSize.y+this.binMargin.y},O4738:function(){return ig.game.O2050&&ig.input.mouse.x>=ig.system.width-40&&ig.input.mouse.x<=ig.system.width-10&&20>=ig.input.mouse.y},O2505:function(){var a=this.O488.O6481,b=this.O488.createNewButtonSize,c=!1;ig.game.O2050&&(a&&b)&&(c=this.tabState==this.tabEnum.created&&ig.input.mouse.x>a.x-4&&ig.input.mouse.x<a.x+b.x+4&&ig.input.mouse.y>a.y-4&&ig.input.mouse.y<a.y+b.y+4);return c},
O6849PanelBody:function(){return ig.game.O2050&&ig.input.mouse.x>this.panelPos.x&&ig.input.mouse.x<this.panelPos.x+this.panelSize.x&&ig.input.mouse.y>this.panelPos.y+this.tabHeight&&ig.input.mouse.y<this.panelPos.y+this.tabHeight+this.panelSize.y},O8171:function(){return ig.game.O2050&&ig.input.mouse.x>this.panelPos.x&&ig.input.mouse.x<this.panelPos.x+this.panelSize.x&&ig.input.mouse.y>this.panelPos.y&&ig.input.mouse.y<this.panelPos.y+this.tabHeight+
this.panelSize.y+30},O7981:function(a){this.tabState!=a&&(this.O1519=this.tabState,this.tabState=a,this.panels[this.tabEnum.collected].O1819(this.tabState==this.tabEnum.collected),this.panels[this.tabEnum.created].O1819(this.tabState==this.tabEnum.created),this.panels[this.tabEnum.search].O1819(this.tabState==this.tabEnum.search),this.O3602())},O4651:function(){this.O7981(this.O1519)},O2340:function(a){this.O7890.O2340(a)},
showBinContents:function(){this.panels[this.tabEnum.search].O6393="in bin";this.O7981(this.tabEnum.search);this.panels[this.tabEnum.search].O1717()},O5400:function(){}})});ig.baked=!0;
ig.module("game.ui.avatarselectbutton").defines(function(){window.AvatarSelectButton=ig.Class.extend({O7237:null,O2653:null,pos:{x:0,y:0},anim:null,size:{x:23,y:23},avatarDrawOffset:{x:2,y:2},clipSize:{x:19,y:19},anims:[],O1457:0,flipx:!1,isCurrent:!1,isReady:!1,avatarButtonO1778Coords:{x:153,y:53},init:function(a,b,c,d){this.pos.x=a;this.pos.y=b;this.O7237=c;d&&(this.isCurrent=d);this.O2653=ig.game.O4961.getItemBasic(c,"ui_asb");var e=this;this.O2653.imagesBeingGenerated.done(function(){e.isReady=
!0})},update:function(){},draw:function(){ig.game.O5405.O4417(this.pos.x,this.pos.y);this.isReady&&(ig.system.context.save(),ig.system.context.beginPath(),ig.system.context.rect((this.pos.x+this.avatarDrawOffset.x)*ig.system.scale,(this.pos.y+this.avatarDrawOffset.y)*ig.system.scale,this.clipSize.x*ig.system.scale,this.clipSize.y*ig.system.scale),ig.system.context.clip(),this.O2653.draw(this.pos.x+this.avatarDrawOffset.x,this.pos.y+this.avatarDrawOffset.y,0,
0,1,null),ig.system.context.restore())},O2677:function(){return ig.game.O6099.O4678(this.pos.x,this.pos.y,this.pos.x+this.size.x,this.pos.y+this.size.y)},O4534:function(){ig.game.O4269.O2111(this.O7237)}})});ig.baked=!0;
ig.module("game.ui.avatarselectbuttonlegacy").defines(function(){window.AvatarSelectButtonLegacy=ig.Class.extend({O7237:null,pos:{x:0,y:0},anim:null,size:{x:23,y:23},anims:[],O1457:0,flipx:!1,isCurrent:!1,avatarButtonO1778Coords:{x:153,y:53},init:function(a,b,c,d){this.pos.x=a;this.pos.y=b;this.O7237=c;d&&(this.isCurrent=d);a=new ml.AnimationSheet(ig.game.staticResourcePrefix+"media/avatar-spritesheets/"+this.O7237+".png",16,19);this.anims[0]=new ml.Animation(a,1,[0],!1);this.O1457=
0;this.isCurrent&&(this.anims[this.O1457].flip.x=!this.flipx,this.anims[this.O1457].update())},update:function(){},draw:function(){ig.game.O5405.O4417(this.pos.x,this.pos.y);this.anims[this.O1457].draw(this.pos.x+4,this.pos.y+2)},O2677:function(){return ig.game.O6099.O4678(this.pos.x,this.pos.y,this.pos.x+this.size.x,this.pos.y+this.size.y)},O4534:function(){ig.game.O4269.O7497(this.O7237)}})});
ig.baked=!0;
ig.module("game.ui.components.uidialog").defines(function(){window.UIDialog=ig.Class.extend({isOpen:!1,toClose:!1,O5334:!1,O603:!1,pos:{x:0,y:0},size:{x:0,y:0},opacity:1,clickSpots:[],O6421:null,init:function(){},update:function(){if(this.isOpen){ig.input.pressed("esc")&&(ig.input.O3472(),this.close());if(this.clickSpots)for(var a=0;a<this.clickSpots.length;a++)this.clickSpots.update();ig.game.O6099.O6849(this.pos.x,this.pos.y,this.pos.x+this.size.x,this.pos.y+
this.size.y)&&(ig.game.O6099.O4013(),ig.game.O6099.O5632()&&ig.game.O6099.O6375(!1));this.O5334&&(ig.game.O6099.O5632()&&!ig.game.O6099.O6849(this.pos.x,this.pos.y,this.pos.x+this.size.x,this.pos.y+this.size.y))&&this.close();this.O603&&ig.game.O7299()&&this.close();this.O2892()}},close:function(){ig.game.O1412=null;this.toClose=!0},O2892:function(){this.toClose&&
(this.toClose=this.isOpen=!1)},open:function(){ig.game.O7673();this.toClose=!1;this.isOpen=!0},draw:function(){},O4499:function(){var a=!1;this.isOpen&&(a=ig.input.mouse.x>=this.pos.x&&ig.input.mouse.x<=this.pos.x+this.size.x&&ig.input.mouse.y>=this.pos.y&&ig.input.mouse.y<=this.pos.y+this.size.y);return a}})});ig.baked=!0;
ig.module("game.ui.components.uiclickspot").defines(function(){window.UIClickSpot=ig.Class.extend({O2677:!1,isHovered:!1,doPlaySound:!0,pos:{x:0,y:0},size:{x:0,y:0},opacity:1,parent:null,DOMBased:!1,O5845:null,DOMId:null,init:function(a,b,c,d){this.pos=a;this.size=b;if(this.DOMBased=c)this.DOMId=d,this.O5845=this.O3068()},update:function(){var a=this.pos.x+this.size.x,b=this.pos.y+this.size.y;if(ig.game.O3459){if((this.O2677=(this.isHovered=ig.game.O6099.O6849(this.pos.x,
this.pos.y,a,b))&&ig.game.O6099.O5632())&&this.onClick)ig.game.O6099.O6375(this.doPlaySound),this.O5473()}else for(var c in ig.input.touches){var d=ig.input.touches[c];if(d.x>=this.pos.x&&d.x<=a&&d.y>=this.pos.y&&d.y<=b){"down"==d.state?(this.O5944&&this.O3989(),ig.game.O6099.O5632()&&this.onClick&&(this.clicked=!0,ig.game.O6099.O6375(this.doPlaySound),this.O5473())):"up"==d.state&&this.O2172&&this.O3307();
break}}return this.O2677},O5473:function(){this.onClick()},O3989:function(){this.O5944()},O3307:function(){this.O2172()},onClick:function(){},O5944:function(){},O2172:function(){},draw:function(){},O3262:function(){var a,b,c,d,e=ig.system.context;b=this.pos.y;c=this.size.x;d=this.size.y;var f=ig.system.scale;a=this.pos.x*f;b*=f;c*=f;d*=f;e.beginPath();e.rect(a,b,c,d);e.lineWidth=1;e.strokeStyle="red";e.stroke()},remove:function(){this.DOMBased&&
jQuery(this.O5845).remove()},O3068:function(){var a=jQuery('<div class="'+this.DOMId+'" style="position:absolute;visibility:hidden;display:block;"/>'),b=jQuery("#"+ig.game.canvasId).position();a.appendTo("body");a.css("width",this.size.x*ig.system.scale+"px");a.css("height",this.size.y*ig.system.scale+"px");a.css("top",this.pos.y*ig.system.scale+b.top);a.css("left",this.pos.x*ig.system.scale+b.left);a.css("visibility","visible");return a}})});ig.baked=!0;
ig.module("game.ui.profileitem").defines(function(){window.ProfileItem=ig.Class.extend({pos:{x:0,y:0},homePos:{x:0,y:0},size:{x:19,y:19},O5791:4,thing:null,O2176:!1,O7325:7,rotation:0,flip:0,O6106:null,isCustom:!1,O7662:!1,init:function(a,b,c,d,e){this.isCustom=Boolean(d);this.O7662=Boolean(e);if((this.thing=a)&&a.defRot)this.rotation=a.defRot;this.pos.x=b;this.pos.y=c;this.homePos.x=b;this.homePos.y=c},O6849:function(){var a=this.pos.y-this.O5791<=
ig.input.mouse.y&&ig.input.mouse.y<=this.pos.y+this.size.y;return this.pos.x-this.O5791<=ig.input.mouse.x&&ig.input.mouse.x<=this.pos.x+this.size.x+this.O5791&&a},update:function(){if(ig.ua.mobile){if(!ig.game.itemContextMenu||!ig.game.itemContextMenu.isOpen)this.O6849()&&ig.input.state("click")?(this.O6106||(this.O6106=new ml.Timer),0.75<=this.O6106.delta()&&(ig.game.itemContextMenu.O2718(null,this.thing,this.pos,!0,void 0,!0),this.O6106=
null)):this.O6106&&(!ig.input.state("click")&&!this.O6849())&&(this.O6106=null),this.O6849()&&(ig.input.pressed("click")&&this.thing&&(!this.O6106||0.25>=this.O6106.delta()))&&this.O7343()}else ig.game.O6099.O2757()&&this.O6849()&&!this.O2176?(ig.game.itemContextMenu.O2718(null,this.thing,this.pos,!0,void 0,!0),ig.game.O6099.O1788(!0)):this.O6849()&&(ig.input.pressed("click")&&
this.thing)&&this.O7343()},O7343:function(){var a="READABLE WRITABLE VIEWABLE HOLDER MEDIUM HELPER SOUND MUSIC".split(" ");this.isCustom&&0<=a.indexOf(this.thing.base)&&(ig.game.O6099.O6375(!0),ig.game.writableDialog&&ig.game.writableDialog.isOpen&&ig.game.writableDialog.close(),ig.game.readableDialog&&ig.game.readableDialog.isOpen&&ig.game.readableDialog.close(),ig.game.mediaDialog&&ig.game.mediaDialog.isOpen&&ig.game.mediaDialog.close(),"HOLDER"==this.thing.base?ig.game.holderDialog&&
ig.game.holderDialog.isOpen&&ig.game.holderDialog.holderId==this.thing.id?ig.game.holderDialog.close():ig.game.O4703.O3217(this.thing.id):(ig.game.holderDialog&&ig.game.holderDialog.isOpen&&ig.game.holderDialog.close(),ig.game.O4703.O3217(this.thing.id)))},draw:function(){"HOLDER"==this.thing.base&&this.thing.img&&this.thing.imagesGenerated?this.O5915(this.pos.x,this.pos.y,this.thing.cellCount,ig.game.holderDialog&&
ig.game.holderDialog.isOpen&&ig.game.holderDialog.holderId==this.thing.id):(0<=ig.game.O6649.indexOf(this.thing.base)||0<=ig.game.O6825.indexOf(this.thing.base))&&this.thing.img&&this.thing.imagesGenerated&&!this.O7662?this.O2118(this.pos.x,this.pos.y,this.thing.cellCount):this.thing.draw(this.pos.x,this.pos.y,this.rotation,this.flip,1)},O2118:function(a,b,c){a=ig.system.O4928(a);b=ig.system.O4928(b);var d=this.thing.img.width/c;c=this.thing.img.height;
d=d>ig.game.tileSize?ig.game.tileSize:d;c=c>ig.game.tileSize?ig.game.tileSize:c;ig.system.context.drawImage(this.thing.img.data,0,0,(0+d)*ig.system.scale,(0+c)*ig.system.scale,a,b,d*ig.system.scale,c*ig.system.scale)},O5915:function(a,b,c,d){a=ig.system.O4928(a);b=ig.system.O4928(b);c=ig.game.tileSize*ig.system.scale;var e=ig.game.tileSize*ig.system.scale,f=5*ig.system.scale,g=10*ig.system.scale;d&&(f+=29*ig.system.scale);ig.system.context.drawImage(this.thing.img.data,f,
g,c,e,a,b,c,e)}})});ig.baked=!0;
ig.module("game.core.datedpageddata").defines(function(){window.DatedPagedData=function(a,b,c,d){this.pageSize=a;this.O7421LoadFunction=b;this.O7421Options=c;this.dateFieldName=d||"ts";this.data=[];this.hasNextPage=this.O7140Page=!1;this.O7133()};window.DatedPagedData.prototype.O7133=function(){var a=jQuery.Deferred();this.hasNextPage=this.O7140Page=!1;var b=this;this.O7421LoadFunction(null,null,this.pageSize+1,this.O7421Options).done(function(c){c=c&&c.results;
b.O7140Page=!1;b.hasNextPage=c&&c.length>b.pageSize;b.data=c&&c.slice(0,b.pageSize);a.resolve(b.data)}).fail(function(){console.log("fail");a.reject()});return a.promise()};window.DatedPagedData.prototype.O1743=function(){var a=jQuery.Deferred(),b=this.data&&this.data[0]&&this.data[0][this.dateFieldName];this.hasNextPage=this.O7140Page=!1;var c=this;this.O7421LoadFunction(null,b,this.pageSize+1,this.O7421Options).done(function(b){b=b&&b.results;c.O7140Page=b&&b.length>
c.pageSize;c.hasNextPage=!0;c.data=c.O7140Page?b&&b.slice(1,c.pageSize+1):b;a.resolve(c.data)}).fail(function(){a.reject()});return a.promise()};window.DatedPagedData.prototype.O5768=function(){var a=jQuery.Deferred(),b=this.data&&this.data.length&&this.data[this.data.length-1][this.dateFieldName];this.hasNextPage=this.O7140Page=!1;var c=this;this.O7421LoadFunction(b,null,this.pageSize+1,this.O7421Options).done(function(b){b=b&&b.results;c.O7140Page=!0;c.hasNextPage=b&&
b.length>c.pageSize;c.data=b&&b.slice(0,c.pageSize);a.resolve(c.data)}).fail(function(){a.reject()});return a.promise()}});ig.baked=!0;
ig.module("game.ui.playerdialog").requires("game.ui.avatarselectbutton","game.ui.avatarselectbuttonlegacy","game.core.decorator","game.ui.components.uidialog","game.ui.components.uiclickspot","game.ui.profileitem","game.core.datedpageddata").defines(function(){window.PlayerDialog=UIDialog.extend({backgroundO1778Coords:{x:0,y:53},margin:4,menuPos:{x:93,y:19},O6418:14,thumbDataPos:{x:125,y:95},thumbUpSymbolPos:{x:147,y:92},flagSymbolPos:{x:135,y:93},O6414:0.6,O5539:null,
okButtonPos:{x:58,y:60},okButtonSize:{x:47,y:12},O1672:[],avatarButtonSize:{x:23,y:23},avatarButtonSpacing:{x:10,y:10},O1026:null,O1026Pos:{x:0,y:0},O1026Size:{x:32,y:11},O8204:null,O8204Pos:{x:4,y:92},O8204Size:{x:32,y:11},O7025:null,O7025Pos:{x:128,y:2},O7025Size:{x:19,y:9},O263:null,O263Pos:{x:32,y:0},O263Size:{x:32,y:11},O5963:null,O5963Pos:{x:0,y:11},
O5963Size:{x:65,y:11},O6491:null,O6491Pos:{x:0,y:33},O6491Size:{x:65,y:11},O5969:null,O5969Pos:{x:0,y:22},O5969Size:{x:65,y:11},O8056:null,O8056Pos:{x:42,y:61},O6267:null,O6267Pos:{x:125,y:94},O5397:null,O5397Pos:{x:151,y:2},O3490:null,clickspotInfoPos:{x:139,y:3},O5397Size:{x:9,y:9},O5731:null,clickspotThumbSize:{x:11,
y:10},O341:null,O99:null,O99Pos:{x:3,y:3},O1707:null,O3348:null,O1707Pos:{x:120,y:1},O1375:null,O1748:null,O1748Pos:{x:50,y:98},O5533:null,O5533Pos:{x:93,y:69},O5533Size:{x:26,y:11},O1795:null,O1795Pos:{x:0,y:36},O1795Size:{x:65,y:11},O2381:null,O2381Pos:{x:123,
y:92},O5780:null,O5780Pos:{x:76,y:88},O5780Size:{x:11,y:11},O4497:null,O4497Pos:{x:134,y:91},textOrPos:{x:14,y:13},O3720:null,O3720Pos:{x:25,y:13},O6065:null,O6065Pos:{x:0,y:0},O6065Size:{x:65,y:11},O7646:null,O7646Pos:{x:29,y:90},O7646Size:{x:26,y:11},O6102:null,O6102Pos:{x:108,
y:90},O6102Size:{x:26,y:11},O1914:null,O1914Pos:{x:76,y:94},O866:null,O866Pos:{x:27,y:32},O866Size:{x:109,y:53},O3478:null,O3478Pos:{x:30,y:20},O3478Size:{x:12,y:11},O8334:null,O8334Pos:{x:121,y:21},O8334Size:{x:11,y:10},O5753:null,O5753Pos:{x:125,
y:2},O5753Size:{x:10,y:9},O8261:0.4,O145:0.25,O3766:[],O7045:[],O6297:[],O6679:[],O3346:[],O5372:[],O4018:[],O1305:[],O5104:[],O263Ok:{x1:58,y1:60,x2:105,y2:70},clickspotChangeName:{x1:10,y1:2,x2:70,y2:11},O87:null,O87Pos:{x:8,y:95},O87Size:{x:10,y:10},O3415:null,
O3415Pos:{x:146,y:95},O3415Size:{x:10,y:10},O6751:null,O6751Pos:{x:150,y:16},O6751Size:{x:10,y:10},O7763:null,O7763Pos:{x:150,y:95},O7763Size:{x:10,y:10},O6020:null,O6020Pos:{x:0,y:1},O6020Size:{x:9,y:10},O4781:0.5,O2977:0.22,O903:0.4,O6532:5,flagged:!1,
doSparkleMiftsButton:!1,pos:{x:0,y:0},standardPos:{x:0,y:0},size:{x:163,y:109},maxX:0,minX:5,O4123:"main",O187:15,O1090:void 0,isOpen:!1,O3993:null,O1521:!1,O1994:0,O6794:!1,O2252:null,O5280:null,O7835:"...",O7835Pos:{x:80,y:50},visitedFramePos:{x:38,y:20},visitedThumbPos:{x:41,y:23},visitedThumbSize:{x:80,y:62},O7537:"",O3650:0,O7537Offset:{x:15,
y:4},O603:!0,O7956:null,O1627:null,O6524:null,miftSettings:{itemsPerPage:4,offset:{x:5,y:16},padding:4,O2143:0.6,showPrivate:!1,publicPrivateToggleOffset:{x:87,y:3}},O4234:null,O1394:!1,O6574:!1,O7520:null,O1399:-1,O1525:["w","h","m","wp"],O777:["wearable","holdable","mountable","wearablePlus"],O2156:["wearable","holdable",
"mountable","wearable+"],O3216:["w","h","m","wp"],backAlpha:0.9,O2255:0,init:function(a,b){this.pos.x=a;this.pos.y=b;this.standardPos.x=ig.ua.mobile?Math.round(ig.system.widthHalf-this.size.x/2+60):Math.round(ig.system.widthHalf-this.size.x/2);this.standardPos.y=Math.round(ig.system.O8417+16);this.maxX=ig.system.width-20-this.size.x;this.standardPos.y+this.size.y>ig.system.height&&(this.standardPos.y=Math.round(ig.system.height-this.size.y-6));this.O4982();
this.decorator=new Decorator;jQuery("body").on("keyup blur","#nameChange",this.O4841);var c=this;jQuery("body").on("keydown","#nameChange",function(a){c.O4406(a,c)})},O3657:function(){this.openForPlayerId(ig.game.O4269.O2507,{x:this.standardPos.x,y:this.standardPos.y},ig.game.isEditorHere)},openForPlayerId:function(a,b,c){this.O1521=!1;if(ig.game.areaDialog&&ig.game.areaDialog.isOpen&&("addEditor"==ig.game.areaDialog.mode||"addSuperEditor"==ig.game.areaDialog.mode))ig.game.areaDialog.O6023(a);
else if(ig.game.areaDialog&&ig.game.areaDialog.isOpen&&ig.game.areaDialog.O2152&&!ig.game.areaDialog.isSubAreaDialog&&"ANY"!=ig.game.O2714&&(!ig.game.areaDialog.editors||!ig.game.areaDialog.editors[a])&&!c)confirm("DO YOU WANT TO ADD THIS PERSON AS EDITOR?")&&(ig.game.areaDialog.mode="addEditor",ig.game.areaDialog.O6023(a));else if(ig.game.O6310&&ig.game.painter.data&&"mift"==ig.game.painter.data.type)ig.game.painter.O1607(a);else{ig.game.areaDialog&&ig.game.areaDialog.isOpen&&
ig.game.areaDialog.close();this.O1994=0;var d=this;ig.game.O7421.O1818(a,ig.game.O172.O6722,ig.game.areaId).done(function(c){if(c){b?(ig.ua.mobile?d.setPos(b.x-60,d.standardPos.y):d.setPos(b.x-15,d.standardPos.y),ig.ua.mobile?d.setPos(b.x-60,d.standardPos.y):d.setPos(b.x-15,d.standardPos.y)):(d.setPos(d.standardPos.x,d.standardPos.y),d.setPos(d.standardPos.x,d.standardPos.y));ig.game.writableDialog&&ig.game.writableDialog.isOpen?d.pos.y=ig.system.height-
6-d.size.y:ig.game.statsDialog&&ig.game.statsDialog.isOpen&&(d.pos.y=30);ig.game.friendsDialog.isOpen&&(d.pos.x=ig.game.friendsDialog.pos.x+ig.game.friendsDialog.size.x+15,d.pos.x>d.maxX&&(d.pos.x=d.maxX));d.O2147();d.O3993.O4102=a==ig.game.O4269.O2507;d.O3993.name=c.screenName;d.O3993.id=a;d.O3993.rank=c.rank;d.O3993.ageInDays=c.ageDays;d.O3993.O3827=c.stat_ItemsPlaced;d.O3993.aggregateVotes=
c.aggregateVotes;d.O3993.isOnline=c.online;d.O3993.unfindable=c.unfindable;d.O3993.isFullAccount=c.isFullAccount;d.O3993.isAreaBanned=null;d.O3993.O4293=null;d.O3993.O1835=null;d.O3993.isEditorHere=c.isEditorHere;d.O3993.hasMinfinity=Boolean(c.hasMinfinity);d.O3993.isBacker=c.isBacker;d.O3993.O3803=c.profileItemIds;d.O3993.customProfileColor=
ig.game.colors.O1701(c.profileColor);d.O3993.O3427=c.profileBackId;d.O3993.O1000=c.profileDynaId;d.wallpaperImage=null;d.O1090=void 0;d.O6574=!1;d.O3490=null;if(!d.O3993.O4102&&d.O8017()){var f=ig.game.O172.O6043();ig.game.O7421.O3120(f,d.O3993.id).done(function(a){d.O3993.isAreaBanned=a&&
a.isBanned;a&&(d.O3993.O4293=a.banReason,d.O3993.O1835=a.banIssuedByUserId)})}d.flagged=c.flagged;d.O3993.O4102&&d.O2447();d._open()}})}ig.game.O4120.O4135(a)&&ig.game.O7421.O2039(a,this)},_open:function(){this.loadAsyncData();this.O1909();this.O3565();this.O4123=this.O4123s.MAIN;this.O5533=null;this.O4755();this.O5434();
ig.game.O7673(!1,!1,!1,!1,!0);this.toClose=!1;this.O2974();this.backAlpha=0.9;this.isOpen=!0;null!=this.O5539&&(this.O5539==this.O4123s.VISITED&&this.O3709(),this.O5539=null)},O5434:function(){this.O7537=this.O3993.name;this.O3650=ig.game.whiteFont.O6289(this.O7537);this.O6020Size.x=this.O7537Offset.x+this.O3650+23},
loadAsyncData:function(){var a=this;null==this.O3993.O3827&&ig.game.O7421.O4301(this.O3993.id,this).done(function(b){a.O3993.O3827=b.total});null==this.O3993.ageInDays&&ig.game.O7421.O6635ForPlayer_P(this.O3993.id,this).done(function(b){a.O3993.ageInDays=b.total});!this.O3993.O4102&&ig.game.isFullAccount&&(ig.game.O4120.O3434(this.O3993.id,
this).done(function(b){a.O3993.O3154=b}),ig.game.O4120.O1167(this.O3993.id,this).done(function(b){a.O3993.isOneOfOurBlockedPeople=b;a.O3720&&a.O3720.O3937(a.O3993.isOneOfOurBlockedPeople?"unblock":"block")}))},O8017:function(){var a=!1;ig.game.isFullAccount&&(1<=ig.game.O4269.rank&&this.O3993)&&(ig.game.O8053&&"INDIVIDUALS"==ig.game.O2714?
a=ig.game.isEditorHere&&!this.O3993.isEditorHere:0!=ig.game.O172.O6722&&(a=5<=ig.game.O4269.rank&&(!this.O3993.isFullAccount||4>=this.O3993.rank)));return a},O1240:function(a,b){this.O7956=new DatedPagedData(this.miftSettings.itemsPerPage,ig.game.O7421.O5622,{id:a,priv:!1},"ts");b&&(this.O1627=new DatedPagedData(this.miftSettings.itemsPerPage,ig.game.O7421.O5622,
{id:a,priv:!0},"ts"));this.O6524=this.O7956},O1909:function(){ig.game.O7421.O1637(this.O3993.id,this).done(function(a){this.O2495(a)})},O2147:function(){this.O3993={rank:null,name:null,id:null,O4102:!1,O3827:null,ageInDays:null,topItems:[],isEditorHere:!1,isFullAccount:!1,O3154:!1,isAreaBanned:null,O4293:null,O1835:null,O3803:null,
customProfileColor:null,O3427:null,O1000:null};this.miftSettings.showPrivate=!1;this.O6524=this.O7956;this.newMiftsOverlayAlpha=0},close:function(){ig.game.areaDialog&&(ig.game.areaDialog.mode=null);this.O1090&&(this.O1090&&this.O1090.tidyUp&&this.O1090.tidyUp(),delete this.O1090);this.O3859();ig.game.readableDialog&&(ig.game.readableDialog.isOpen&&this.O6574)&&
ig.game.readableDialog.close();this.O4123=this.O4123s.MAIN;this.O3490=null;this.O6574=!1;this.O1587();this.doSparkleMiftsButton=!1;ig.game.O4269.O7060=null;this.O3565();this.O6044();this.parent()},O3859:function(){if(this.O3993&&this.O3993.topItems&&ig.game.O6858&&ig.game.O6858.isPlaying)for(var a=0;a<this.O3993.topItems.length;a++){var b=this.O3993.topItems[a];
b&&(b.thing&&ig.game.O6858.O1631==b.thing.id)&&ig.game.O6858.O453()}},O4982:function(){function a(a){null!=a&&(a.x+=b.menuPos.x,a.y+=b.menuPos.y);return a}var b=this;a(this.O1026Pos);a(this.O263Pos);a(this.O5963Pos);a(this.O5969Pos);a(this.O8056Pos);a(this.O3720Pos);a(this.textOrPos);a(this.O6065Pos);a(this.O1795Pos);a(this.O6491Pos);this.O5533&&
a(this.O5533)},O4755:function(){function a(a){return{x:a.x+b.pos.x,y:a.y+b.pos.y}}var b=this;this.O1375=null;b.O3766=[];b.O7045=[];b.O6297=[];b.O6679=[];b.O3346=[];b.O5372=[];b.O4018=[];b.O1305=[];b.O5104=[];this.O5397=new UIClickSpot(a(this.O5397Pos),this.O5397Size,!1,null);this.O5397.onClick=
function(){b.close()};this.O3766.push(this.O5397);this.O1748=new UIClickSpot(a(this.O1748Pos),{x:45,y:6},!1,null);this.O1748.onClick=function(){b.O6908()};this.O7045.push(this.O1748);this.O6297.push(this.O1748);if(this.O3993.isFullAccount&&this.O3993.hasMinfinity){var c={x:ig.game.O5405.backerOrMinfinityIcon.width,y:ig.game.O5405.backerOrMinfinityIcon.height};
this.O99=new UIClickSpot(a(this.O99Pos),c,!1,null);this.O99.onClick=function(){ig.game.iapDialogManager.openMainDialog();ig.game.sounds.whoosh.play();b.close()};this.O3766.push(this.O99)}this.O6020=new UIClickSpot(a(this.O6020Pos),this.O6020Size,!1,null);this.O6020.onClick=function(){b.O4123!=b.O4123s.MAIN&&(ig.game.sounds.click.play(),b.O3565(),
b.O4123=b.O4123s.MAIN,b.O6044(),b.O1521=!1)};this.O6020.doPlaySound=!1;this.O3766.push(this.O6020);this.O1026=new UIClickSpot(a(this.O1026Pos),this.O1026Size,!1,null);this.O1026.onClick=function(){1<=ig.game.O4269.rank?(ig.game.O4803.register(ig.game.O4803.types.OPENED_CHNG_BODY),b.O4123=b.O4123s.BODY):ig.game.O4132.O2959()};this.O7045.push(this.O1026);
this.O3993.isFullAccount&&(this.O8204=new UIClickSpot(a(this.O8204Pos),this.O8204Size,!1,null),this.O8204.onClick=function(){b.O1240(b.O3993.id,b.O3993.O4102);b.O4123=b.O4123s.MIFTS},ig.game.isFullAccount&&this.O7045.push(this.O8204),this.O6297.push(this.O8204));this.O8204PageButtonUp=new UIClickSpot(a(this.O6751Pos),this.O6751Size,
!1,null);this.O8204PageButtonUp.onClick=function(){b.O3897()};this.O1305.push(this.O8204PageButtonUp);this.O5104.push(this.O8204PageButtonUp);this.O8204PageButtonDown=new UIClickSpot(a(this.O7763Pos),this.O7763Size,!1,null);this.O8204PageButtonDown.onClick=function(){b.O7212()};this.O1305.push(this.O8204PageButtonDown);this.O5104.push(this.O8204PageButtonDown);
this.O7025=null;this.O3993.O4102||(this.O7025=new UIClickSpot(a(this.O7025Pos),this.O7025Size,!1,null),this.O7025.onClick=function(){ig.game.isFullAccount?b.addMift():ig.game.bottomMenu.showLoginDialog(!0)},this.O1305.push(this.O7025),this.O5104.push(this.O7025));this.O2311()?(c={x:ig.game.O5405.collectButton.width,y:ig.game.O5405.collectButton.height},
this.O1707=new UIClickSpot(a(this.O1707Pos),c,!1,null),this.O1707.onClick=function(){ig.game.O4703.O2163(b.O3993.attachmentId,ig.game.panelSet.panels[ig.game.panelSet.tabEnum.collected].O7424+1)},this.O7045.push(this.O1707)):this.O1707=null;this.O3993.O4102&&ig.game.isFullAccount&&ig.game.O4269.attachments&&ig.game.O4269.attachments.b&&!ig.game.O7510.O4053(ig.game.O4269)?
(c={x:ig.game.O5405.collectButton.width,y:ig.game.O5405.collectButton.height},this.O3348=new UIClickSpot(a(this.O1707Pos),c,!1,null),this.O3348.onClick=function(){ig.game.O4269.attachments.b&&ig.game.O4703.O2163(ig.game.O4269.attachments.b.id,ig.game.panelSet.panels[ig.game.panelSet.tabEnum.collected].O7424+1)},this.O6679.push(this.O3348)):this.O3348=
null;ig.game.O4269.isFullAccount||!ig.game.O5555?(this.O263=new UIClickSpot(a(this.O263Pos),this.O263Size,!1,null),this.O263.onClick=function(){1<=ig.game.O4269.rank?(b.O4123=b.O4123s.NAME,b.O56()):ig.game.O4132.O2959()},this.O7045.push(this.O263)):this.O263=null;if(!this.O3993.O4102&&this.O8017()){if(c={x:ig.game.O5405.areaBanButton.width,
y:ig.game.O5405.areaBanButton.height},this.O2381=new UIClickSpot(a(this.O2381Pos),c,!1,null),this.O2381.doPlaySound=!1,this.O2381.onClick=function(){b.O3424()},this.O6297.push(this.O2381),c=ml.Misc.O2849(this.O3993.id),ig.game.multithing&&ig.game.multithing.isOpen&&ig.game.multithing.O256()&&c&&c.viewingMultithingPlacementId==ig.game.multithing.placementId){var d=
Boolean(ig.game.multithing.participants[this.O3993.id]),c=(d?"remove from":"add to")+" "+ig.game.multithing.name;this.O1375=new UIClickText(a({x:this.size.x/2,y:-14}),c,ig.game.blackWhiteFont,"#FFFFFF",0.5,void 0,!0);this.O1375.onClick=function(){var a=ml.Misc.O2849(b.O3993.id);a&&(d?ig.game.multithingManager.removeParticipant(a):ig.game.multithingManager.addParticipant(a));b.close()};this.O6297.push(this.O1375)}}else this.O2381=
null;this.O3993.O4102?(this.O6491=new UIClickSpot(a(this.O6491Pos),this.O6491Size,!1,null),this.O6491.onClick=function(){b.O5575()},this.O7045.push(this.O6491)):this.O6491=null;this.O3993.isFullAccount&&(this.O5963=new UIClickSpot(a(this.O5963Pos),this.O5963Size,!1,null),this.O5963.onClick=function(){1<=
ig.game.O4269.rank?ig.game.friendsDialog.open():ig.game.O4132.O2959()},this.O7045.push(this.O5963),this.O3993.isOnline&&(!this.O3993.unfindable&&ig.game.isFullAccount)&&(this.O5533=new UIClickSpot(a(this.O5533Pos),this.O5533Size,!1,null),this.O5533.onClick=function(){ig.game.O5051.O4364(b.O3993.id,b.O3993.name);b.close()},
this.O6297.push(this.O5533)),this.O5969=new UIClickSpot(a(this.O5969Pos),this.O5969Size,!1,null),this.O5969.onClick=function(){b.O3709()},this.O7045.push(this.O5969),this.O6297.push(this.O5969),ig.ua.steam||(this.O8056=new UIClickText(a(this.O8056Pos),"LOGOUT",ig.game.blackSmallFont,"#000000",this.O145),this.O8056.onClick=function(){b.signOut()},
this.O7045.push(this.O8056)),this.O6267=new UIClickText(a(this.O6267Pos),"MINFINITY",ig.game.blackFont,"#000000",0.35),this.O6267.onClick=function(){ig.game.iapDialogManager.openMainDialog();ig.game.sounds.whoosh.play();b.close()},this.O7045.push(this.O6267),this.O6065=new UIClickSpot(a(this.O6065Pos),this.O6065Size,!1,null),this.O6065.onClick=
function(){ig.game.isFullAccount?b.O3993.O3154?(ig.game.O4120.O704(b.O3993.id),b.O3993.O3154=!1):(ig.game.O4120.O3655(b.O3993.id),b.O3993.O3154=!0):ig.game.bottomMenu.showLoginDialog(!0)},this.O6297.push(this.O6065),this.O2201()&&(this.O1795=new UIClickSpot(a(this.O1795Pos),this.O1795Size,
!1,null),this.O1795.onClick=function(){ig.game.areaDialog.O831(b.O3993.id,b.O3993.name,!b.O3993.isEditorHere)},this.O6297.push(this.O1795)));var c=this.O3993.isFullAccount?ig.game.O5662(this.O3720Pos):{x:4,y:97},e=this.O3993.isOneOfOurBlockedPeople?"unblock":"block";this.O3720=new UIClickText(a(c),e,ig.game.blackSmallFont,"#000000",this.O8261-0.1);this.O3720.onClick=
function(){ig.game.isFullAccount?(b.O3993.isOneOfOurBlockedPeople?(ig.game.O4120.O6362(b.O3993.id),b.O3993.isOneOfOurBlockedPeople=!1,b.O3720.text="block"):b.O3993.O3154||(ig.game.O4120.O6306(b.O3993.id),b.O3993.isOneOfOurBlockedPeople=!0,b.O3720.text="unblock"),ig.game.writableDialog.isOpen&&ig.game.writableDialog.O8426()):ig.game.bottomMenu.showLoginDialog(!0)};
this.O3720.name="block";this.O6297.push(this.O3720);this.O7646=new UIClickSpot(a(this.O7646Pos),this.O7646Size,!1,null);this.O7646.onClick=function(){b.O2252&&(ig.game.O5051.O7648(b.O2252.loc),b.close())};this.O5372.push(this.O7646);this.O4018.push(this.O7646);
this.O6102=new UIClickSpot(a(this.O6102Pos),this.O6102Size,!1,null);this.O6102.onClick=function(){b.O2252&&(ig.game.portaller.O4154(b.O2252._id),b.close())};this.O5372.push(this.O6102);c={x:ig.game.O5405.addHomeButton.width,y:ig.game.O5405.addHomeButton.height};this.O1914=new UIClickSpot(a(this.O1914Pos),
c,!1,null);this.O1914.onClick=function(){b.O2252&&(ig.game.O5442==b.O2252._id?ig.game.O7421.O5599(null).done(function(){ig.game.O5442=null;ig.game.sounds.pickup.play()}).fail(function(){}):ig.game.O7421.O5599(b.O2252._id).done(function(){ig.game.O5442=b.O2252._id;ig.game.sounds.success.play()}).fail(function(){}))};this.O5372.push(this.O1914);
this.O866=new UIClickSpot(a(this.O866Pos),this.O866Size,!1,null);this.O866.onClick=function(){b.O2252&&(ig.game.portaller.O4154(b.O2252._id),b.close())};this.O5372.push(this.O866);this.O3478=new UIClickSpot(a(this.O3478Pos),this.O3478Size,
!1,null);this.O3478.onClick=function(){b.O2252&&(ig.game.myLocationDialog.O2591(b.O2252.shortCode,b.O2252.isPrivate),b.close())};this.O5372.push(this.O3478);ig.ua.mobile||(this.O5753=new UIClickSpot(a(this.O5753Pos),this.O5753Size,!1,null),this.O5753.onClick=function(){b.close();ig.game.albumDialog.open(b.O3993.id)},
this.O5372.push(this.O5753),this.O4018.push(this.O5753));ig.ua.mobile||(this.O8334=new UIClickSpot(a(this.O8334Pos),this.O8334Size,!1,null),this.O8334.onClick=function(){ig.ua.mobile||b.O2252&&ml.Misc.openUrl(ig.game.O3754.O5021(b.O2252.shortCode))},this.O5372.push(this.O8334),
this.O4018.push(this.O8334));this.O5780=new UIClickSpot(a(this.O5780Pos),this.O5780Size,!1,null);this.O5780.onClick=function(){b.O2447()};this.O6679.push(this.O5780);this.O4497=new UIClickText(a(this.O4497Pos),"more...",ig.game.blackSmallFont,"#000000",0.5);this.O4497.onClick=function(){ig.game.areaSearchDialog.open("bodies")};
this.O6679.push(this.O4497);this.O5731=new UIClickSpot(a(this.thumbUpSymbolPos),this.clickspotThumbSize,!1,null);this.O5731.onClick=function(){ig.game.isFullAccount?b.O1572():ig.game.bottomMenu.showLoginDialog(!0)};this.O6297.push(this.O5731);if(ig.game.O4132.O1198(ig.game.O4132.O3829.REPORT_PERSON)&&(!this.O3993||!this.O3993.O4102))c={x:ig.game.O5405.flagOn.width,
y:ig.game.O5405.flagOn.height},this.O341=new UIClickSpot(a(this.flagSymbolPos),c,!1,null),this.O341.onClick=function(){ig.game.isFullAccount?b.flagged?b.O6956():b.addFlag():ig.game.bottomMenu.showLoginDialog(!0)},this.O7045.push(this.O341),this.O6297.push(this.O341);this.O6751=new UIClickSpot(a(this.O6751Pos),this.O6751Size,!1,null);this.O6751.onClick=function(){b.O1028()};
this.O5372.push(this.O6751);this.O4018.push(this.O6751);this.O7763=new UIClickSpot(a(this.O7763Pos),this.O7763Size,!1,null);this.O7763.onClick=function(){b.O6286()};this.O5372.push(this.O7763);this.O4018.push(this.O7763)},O2201:function(){return ig.game.O8053&&
!ig.game.O707&&ig.game.O2052&&!ig.game.O6845&&1<=ig.game.O4269.rank},O1440:function(a){return{x:a.x+this.pos.x,y:a.y+this.pos.y}},O3424:function(){if(this.O8017())if(this.O3993.isAreaBanned){if(this.O3993.isAreaBanned){b="<p>This person is locked from this area.</p><p>";if(this.O3993.O4293&&""!=this.O3993.O4293)this.O3993.O1835==ig.game.O4269.O2507&&
(b+="Your reason (only visible to you):<br/><em>"+ig.game.strings.O4334(this.O3993.O4293)+"</em>");else var a="ig.game.playerDialog.openForPlayerId('"+ig.game.strings.O4334(this.O3993.O1835)+"')",b=b+('The reason is visible to <span class="pseudoLink" onclick="'+a+'">the person who issued the lock</a>.');b+="</p>";b+='<a href="javascript:ig.game.playerDialog.O6763()" class="okButton">Remove Lock</a>';ig.game.alertDialog.open(b,!0,null,
null,null,!0,null,null,null,null,null,!0)}}else{ig.game.sounds.click.play();var b;b="<p>";b+='<span style="opacity: .75">';b+="Lock "+ig.game.strings.O4334(this.O3993.name)+" ";b+=" out of ";b+=ig.game.strings.O4334(ig.game.O5699?"Area "+ig.game.O172.currentArea:ig.game.O966);ig.game.O707||(b+=" and<br/>its Writables ");b+=" for ";b+='<select id="banTime">';b+='<option value="1">1 MINUTE</option>';b+='<option value="'+this.O187+
'" selected="selected">'+this.O187+" MINUTES</option>";b+='<option value="1440">1 DAY</option>';ig.game.O707||(b+='<option value="10080">1 WEEK</option>',b+='<option value="null">FOREVER (UNTIL REMOVED)</option>');b+="</select>";b+='<p><input type="text" id="lockReason" maxlength="255" style="width: 90%; text-transform: uppercase;" placeholder="LOCK REASON (PLEASE TRY TELL THIS PERSON BEFORE, TOO)" />';b+='<span id="lockReasonBeSpecific" style="color: red; display: none">Please elaborate with more specifics</span>';
b+="</p>";b+='<a href="javascript:ig.game.playerDialog.O4046()" class="okButton">Ok</a>';b+="</p>";ig.game.alertDialog.open(b,!0,null,null,null,!0,null,null,null,null,null,!0)}},O4046:function(){if(this.O8017()){var a=jQuery("#banTime").val();"null"==a&&(a=null);var b=this,c=ig.game.O172.O6043(),d=jQuery("#lockReason").val();d&&(d=ig.game.strings.trim(d));var e=d&&15<=d.length||0<=d.indexOf(" ");d?ig.game.O707&&!e?(jQuery("#lockReasonBeSpecific").show(),
ig.game.sounds.nocando.play()):(void 0===d&&(d=null),ig.game.alertDialog.close(),ig.game.O7421.O4439(c,this.O3993.id,a,d).done(function(a){a&&a.banApplied?(b.O3993.isAreaBanned=!0,b.O3993.O4293=d,b.O3993.O1835=ig.game.O4269.O2507,ig.game.sounds.putdown.play()):ig.game.sounds.nocando.play()})):(jQuery("#lockReason").attr("placeholder","PLEASE PROVIDE A LOCK REASON"),jQuery("#lockReason").addClass("missingValueInputBox"),
ig.game.sounds.nocando.play())}},O6763:function(){if(this.O8017()){ig.game.sounds.click.play();ig.game.alertDialog.close();var a=ig.game.O172.O6043(),b=this;ig.game.O7421.O717(a,this.O3993.id).done(function(a){a&&a.banRemoved&&(b.O3993.isAreaBanned=!1,ig.game.sounds.pickup.play())})}},addFlag:function(){var a=this;ig.game.alertDialog.O8429("Please enter reason for reporting this person:",null,function(b){b&&
""!=ig.game.strings.trim(b)&&ig.game.O7421.O1859(a.O3993.id,b,a).done(function(b){a.flagged=!!b})},"Report",null,null,null,null,ig.game.O5124)},O6956:function(){var a=this;ig.game.O7421.O1859(this.O3993.id,null,this).done(function(b){a.flagged=!!b})},O868:function(){var a=this;this.O6794=!1;this.O5280=this.O2252=null;this.O3993.O4102?ig.game.O4120.O1462(this.O1994,
this).done(function(b,c){a.O6794=c;if(a.O2252=b)ig.game.O3754.O6006(a.O2252.shortCode).done(function(b){a.O5280=b}),ig.game.O7715.O2398(a.O2252.loc.x,a.O2252.loc.y)}):ig.game.O4120.O2240(this.O3993.id,this.O1994,this).done(function(b,c){a.O6794=c;(a.O2252=
b)&&ig.game.O3754.O6006(a.O2252.shortCode).done(function(b){a.O5280=b})})},update:function(){if(this.isOpen){for(var a=0;a<this.O3766.length;a++)this.O3766[a].update();if(this.O4123==this.O4123s.MAIN){if(this.O3993.O4102)for(a=0;a<this.O7045.length;a++)this.O7045[a].update();else for(a=0;a<this.O6297.length;a++)this.O6297[a].update();
for(a=0;a<this.O3993.topItems.length;a++)this.O3993.topItems[a].update()}else if(this.O4123==this.O4123s.BODY){this.O7547();for(a=0;a<this.O6679.length;a++)this.O6679[a].update()}else if(this.O4123==this.O4123s.NAME)ig.game.O6099.O7014(this.O263Ok,this.pos.x,this.pos.y)&&(ig.game.O6099.O6375(!0),this.O2961(),this.O3565(),this.O4123=
this.O4123s.MAIN);else if(this.O4123==this.O4123s.MIFTS)this.O2651();else if(this.O4123==this.O4123s.VISITED)if(ig.input.pressed("wheelup")?this.O1028():ig.input.pressed("wheeldown")&&this.O6286(),this.O3993.O4102)for(a=0;a<this.O5372.length;a++)this.O5372[a].update();else for(a=0;a<this.O4018.length;a++)this.O4018[a].update();
else this.O4123==this.O4123s.ATTACHMENTS&&this.O4648();this.O1090&&this.O1090.update&&this.O1090.update()}this.O2345();this.O4927();this.parent()},O2974:function(){if(this.O3993&&this.O3993.O1000&&void 0===this.O1090){this.O1090=null;var a=this,b=ig.game.O4961.getItemBasic(this.O3993.O1000,"ui_pld4");b.imagesBeingGenerated.done(function(){var c=
{thingTypeId:b.id,flip:0,attributes:b.attributes,animSheet:ig.game.entityManager.getAnimationForEntity(b,0,0),O6454:!0,O5998:!0,O8323:!0};ig.game.entityManager.O6079(b.O7062(),b,c,!0);var d=a.pos.x+Math.round(a.size.x/2-9.5+ig.game._rscreen.x),e=a.pos.y+Math.round(a.size.y/2-5+ig.game._rscreen.y),f="Entity"+ig.game.strings.toUpperCaseFirst(b.base.toLowerCase());ig.global[f]||(f="EntityDefault");a.O1090=new ig.global[f](d,e,c);a.O1090.update()})}},
O2345:function(){ig.input.pressed("f2")&&(this.isOpen&&this.O3993.O4102?this.O4123==this.O4123s.VISITED?this.close():this.O3709():(this.O5539=this.O4123s.VISITED,this.O3657()))},O3709:function(){this.O4123=this.O4123s.VISITED;this.O868()},O1028:function(){0<this.O1994&&(this.O1994--,this.O868())},O6286:function(){this.O6794&&
(this.O1994++,this.O868())},O1572:function(a){if(1<=ig.game.O4269.rank){if(!this.lastThumbUpTimer||0.5<=this.lastThumbUpTimer.delta())a||(a=this.O3993.id),ig.game.O4132.O2502(ig.game.O4132.O3829.VOTE)&&(ig.game.O884.O5546(a),ig.game.O2063[a]||(ig.game.O2063[a]=!0,ig.game.O4349.O5482(a)),this.close()),this.lastThumbUpTimer=
new ml.Timer,ig.game.motionDialog&&ig.game.motionDialog.O5076("upvote")}else ig.game.O4132.O2959()},O56:function(){this.O3565();var a=jQuery('<input type="text" id="nameChange" style="position:absolute;visibility:hidden;border-style:solid;border-color:#000; display:block" value="'+ig.game.O4269.screenName+'" />'),b=jQuery("#"+ig.game.canvasId).position();a.appendTo("body");a.css("font-size",5*ig.system.scale+"px");a.css("font-family",
"'Press Start 2P', sans-serif");a.css("border-width",ig.system.scale+"px");a.css("border-left-color","rgba(0,0,0,.4)");a.css("border-top-color","rgba(0,0,0,.4)");a.css("border-right-color","rgba(255,255,255,1)");a.css("border-bottom-color","rgba(255,255,255,1)");a.css("background-color","rgba(0,0,0,.12)");a.css("color","#333333");a.css("padding",ig.system.scale+"px");a.css("width",this.size.x*ig.system.scale-40+"px");a.css("text-transform","uppercase");var c=(this.size.x*ig.system.scale-a.width())/
2-3,d=(this.size.y*ig.system.scale-a.height())/2;a.css("top",(this.pos.y-12)*ig.system.scale+b.top+d);a.css("left",this.pos.x*ig.system.scale+b.left+c);a.css("visibility","visible");a.focus()},O3565:function(){jQuery("#nameChange").remove()},O4841:function(){var a=jQuery(this).val(),b=ig.game.validations.playerName.clean(a);a!=b&&jQuery(this).val(b)},O4406:function(a,b){if(13==(a.keyCode?a.keyCode:a.which))b.O2961(),b.O3565(),b.O4123=b.O4123s.MAIN},
truncate:function(){var a=jQuery(this).val(),b=a.replace(/[^0-9a-zA-Z!? .,-]/g,"");a!=b&&jQuery(this).val(b)},draw:function(){if(this.isOpen){this.O1283();var a=4;0>=this.O3993.rank&&(ig.system.context.globalAlpha=0.5,ig.game.O5405.draw(this.pos.x+4,this.pos.y+1,ig.system.context.globalAlpha,ig.game.O5405.rankBlack0),ig.system.context.globalAlpha=1,a+=11);if(this.O3993.hasMinfinity||this.O3993.isBacker)ig.game.O5405.draw(this.pos.x+a-1,this.pos.y+
3,1,ig.game.O5405.backerOrMinfinityIcon),a+=11;ig.system.context.globalAlpha=0.8;ig.game.blackFont.draw(this.O7537,this.pos.x+a,this.pos.y+this.O7537Offset.y);ig.system.context.globalAlpha=1;this.O4123!=this.O4123s.MAIN&&ig.game.O5405.O1019(this.pos.x+a+this.O3650+3,this.pos.y+3);if(this.O4123==this.O4123s.MAIN){if(this.O3993.isFullAccount){for(b=this.O3993.topItems.length-1;0<=b;b--)this.O3993.topItems[b].draw();
null!=this.O3490&&ig.game.O5405.O7496(this.pos.x+this.clickspotInfoPos.x,this.pos.y+this.clickspotInfoPos.y,0.9)}ig.system.context.globalAlpha=this.O6414;a=ig.system.context.globalAlpha;ig.system.context.globalAlpha=0.4;b="Days: "+(this.O3993.ageInDays?Math.round(this.O3993.ageInDays):"-");ig.game.blackSmallFont.draw(b,this.pos.x+88,this.pos.y+98,ig.Font.ALIGN.RIGHT);this.O3993.isFullAccount&&(ig.game.blackSmallFont.draw("Placed: "+
this.O4196(this.O3993.O3827),this.pos.x+88,this.pos.y+92,ig.Font.ALIGN.RIGHT),ig.game.O5405.O3947(this.pos.x+this.O8204Pos.x,this.pos.y+this.O8204Pos.y,0.6));ig.system.context.globalAlpha=a;this.doSparkleMiftsButton&&ig.game.chance(4)&&ig.game.decorator.O6664(this.pos.x+this.O8204Pos.x+ig.game.O5167(0,this.O8204Size.x)-3,this.pos.y+this.O8204Pos.y+ig.game.O5167(0,this.O8204Size.y)-
3,!0);!this.O3993.O4102&&this.O3993.isFullAccount&&ig.game.O5405.O4918(this.pos.x+this.thumbUpSymbolPos.x,this.pos.y+this.thumbUpSymbolPos.y,0.5);this.O341&&!this.O3993.O4102&&(this.flagged?ig.game.O5405.O3875(this.pos.x+this.flagSymbolPos.x,this.pos.y+this.flagSymbolPos.y,0.8):ig.game.O5405.O7293(this.pos.x+this.flagSymbolPos.x,this.pos.y+this.flagSymbolPos.y,0.5));ig.system.context.globalAlpha=1;if(this.O3993.O4102){if(this.O3993.isFullAccount){var b=
0;ig.game.O5405.draw(this.pos.x+this.menuPos.x,this.pos.y+this.menuPos.y+11*b,0.6,ig.game.O5405.playerDialogBodyButton);ig.game.O5405.draw(this.pos.x+this.menuPos.x+32,this.pos.y+this.menuPos.y+11*b++,0.6,ig.game.O5405.playerDialogNameButton);ig.game.O5405.draw(this.pos.x+this.menuPos.x,this.pos.y+this.menuPos.y+11*b++,0.6,ig.game.O5405.playerDialogMyFriendsButton);ig.game.O5405.draw(this.pos.x+this.menuPos.x,this.pos.y+this.menuPos.y+11*b++,0.6,ig.game.O5405.playerDialogSnapsButton);
this.O6491&&ig.game.O5405.draw(this.pos.x+this.menuPos.x,this.pos.y+this.menuPos.y+11*b++,0.6,ig.game.O5405.playerDialogAttachmentsButton);ig.ua.mobile||(ig.game.O5405.draw(this.pos.x+this.menuPos.x+57,this.pos.y+this.menuPos.y+14,1,ig.game.O5405.playerDialogMyFriendsShortcut),ig.game.O5405.draw(this.pos.x+this.menuPos.x+57,this.pos.y+this.menuPos.y+25,1,ig.game.O5405.playerDialogMyLocationShortcut))}else ig.system.context.globalAlpha=0.5,ig.game.blackSmallFont.draw("After logging in you\r\nwill find a friends\r\nlist, album and more\r\nhere",
this.pos.x+5,this.pos.y+21,0.3),ig.system.context.globalAlpha=1,ig.game.O5405.draw(this.pos.x+this.menuPos.x,this.pos.y+this.menuPos.y,0.6,ig.game.O5405.playerDialogBodyButton),this.O263&&ig.game.O5405.draw(this.pos.x+this.menuPos.x+32,this.pos.y+this.menuPos.y,0.6,ig.game.O5405.playerDialogNameButton);for(b=0;b<this.O7045.length;b++)this.O7045[b].draw&&this.O7045[b].draw()}else{a=!this.O3993.O3154||this.O3993.isOneOfOurBlockedPeople;
for(b=0;b<this.O6297.length;b++)("block"!=this.O6297[b].name||a)&&this.O6297[b].draw&&this.O6297[b].draw();this.O3993.isFullAccount?(b="playerDialogAddToMyFriendsButton"+(this.O3993.O3154?"_active":""),ig.game.O5405.draw(this.pos.x+this.menuPos.x,this.pos.y+this.menuPos.y,0.6,ig.game.O5405[b]),ig.game.O5405.draw(this.pos.x+this.menuPos.x,this.pos.y+this.menuPos.y+22,0.6,ig.game.O5405.playerDialogSnapsButton),
a&&(ig.system.context.globalAlpha=this.O8261-0.1,ig.game.blackSmallFont.draw("OR",this.pos.x+this.textOrPos.x,this.pos.y+this.textOrPos.y),ig.system.context.globalAlpha=1),this.O3993.O3154&&ig.game.O5405.O7297(this.pos.x+this.menuPos.x,this.pos.y+this.menuPos.y,0.8),this.O2201()&&(b="playerDialogEditorButton"+(this.O3993.isEditorHere?"_active":""),ig.game.O5405.draw(this.pos.x+this.menuPos.x,this.pos.y+
this.O1795Pos.y,0.6,ig.game.O5405[b])),this.O5533&&ig.game.O5405.O6027(this.pos.x+this.O5533Pos.x,this.pos.y+this.O5533Pos.y,0.8)):(ig.system.context.globalAlpha=0.5,ig.game.blackSmallFont.draw("This person hasn't logged in",this.pos.x+this.size.x/2,this.pos.y+this.size.y/2-3,ig.Font.ALIGN.CENTER),ig.system.context.globalAlpha=1,this.O1375&&this.O1375.draw());
this.O2381&&this.O8017()&&(b="areaBanButton"+(this.O3993.isAreaBanned?"Active":""),ig.game.O5405.draw(this.pos.x+this.O2381Pos.x,this.pos.y+this.O2381Pos.y,0.5+(this.O3993.isAreaBanned?0.3:0),ig.game.O5405[b]))}}else this.O4123==this.O4123s.BODY?(this.O3348&&(ig.system.context.globalAlpha=0.75,ig.game.O5405.O2678(this.pos.x+this.O1707Pos.x,
this.pos.y+this.O1707Pos.y),ig.system.context.globalAlpha=1),this.O3789Buttons(),ig.game.O5405.O3737(this.pos.x+this.O5780Pos.x,this.pos.y+this.O5780Pos.y,0.5),this.O4497.draw()):this.O4123==this.O4123s.MIFTS?this.drawMiftsPage():this.O4123==this.O4123s.NAME?ig.ua.mobile||ig.game.O5405.O7090(this.pos.x+this.okButtonPos.x,this.pos.y+this.okButtonPos.y,0.65):this.O4123==
this.O4123s.VISITED?this.O2252&&this.O5280?this.O8002(this.O2252):(ig.system.context.globalAlpha=this.O8261,ig.game.blackSmallFont.draw(this.O7835,this.pos.x+this.O7835Pos.x,this.pos.y+this.O7835Pos.y,ig.Font.ALIGN.CENTER),ig.system.context.globalAlpha=1):this.O4123==this.O4123s.ATTACHMENTS&&this.O7110()}},O6647:function(){return this.isOpen&&
this.O4123==this.O4123s.ATTACHMENTS&&(ig.game.isEditorHere||this.O1525[this.O1399]==ig.game.O7510.slots.WEARABLE_PLUS)},O2135:function(a){var b=this.O1525[this.O1399],c=ig.game.O7510.O6971(b);0<=c.indexOf(a.base)?ig.game.O4269.attachments[this.O1525[this.O1399]]?ig.game.sounds.nocando.play():ig.game.O7510.O4416(ig.game.O4269,
b,a.id,void 0,a.base):(a=ml.Misc.O8094(c,null,!0),ig.game.alertDialog.O1846("Please only pick "+a))},O386:function(a,b){var c=new UIClickText({x:this.pos.x+5,y:this.pos.y+21+18*a},b,ig.game.blackFont,"#000000",1),d=this;c.onClick=function(){d.O1399=a;d.O6044()};return c},O5575:function(){var a=this.pos.x+61,b=this.pos.y+20,c=this,d=ig.game.O5405;this.clicktextAttachmentTabs=[];for(var e=0;e<this.O1525.length;e++)this.clicktextAttachmentTabs[e]=
this.O386(e,this.O2156[e]);this.clicktextFindAttachment=new UIClickText({x:this.pos.x+61,y:this.pos.y+30},"find...",ig.game.blackSmallFont,"#000000",0.25);this.clicktextFindAttachment.onClick=function(){var a=null;switch(c.O777[c.O1399]){case "wearable":case "wearablePlus":a="wearables";break;case "holdable":a="holdables";break;case "mountable":a="mountables"}ig.game.areaSearchDialog.open(a)};this.clicktextRemoveAttachment=new UIClickText({x:a+
92,y:b},"x",ig.game.blackSmallFont,"#000000",0.5);this.clicktextRemoveAttachment.onClick=function(){var a=c.O1399,b=c.O777[a];"wearablePlus"!=b&&ig.game.settings.getGlue(b)&&ig.game.settings.O2477(b);ig.game.O7510.O3306(ig.game.O4269,c.O1525[a],!0)};this.clickspotGlueAttachment=new UIClickSpot({x:a,y:b+19},{x:25,y:6});this.clickspotGlueAttachment.onClick=function(){ig.game.settings.O2477(c.O777[c.O1399])};
this.clickspotWearablePlusFollows=new UIClickSpot({x:a,y:b+19},{x:25,y:6});this.clickspotWearablePlusFollows.onClick=function(){ig.game.settings.O947()};this.clickspotCollectAttachment=new UIClickSpot({x:a+81,y:b+17},{x:d.collectButton.width,y:d.collectButton.height});this.clickspotCollectAttachment.onClick=function(){var a=ig.game.O4269.attachments[c.O1525[c.O1399]];a&&ig.game.O4703.O2163(a.id,ig.game.panelSet.panels[ig.game.panelSet.tabEnum.collected].O7424+
1)};this.clickspotMoveAttachment=[];b+=35;e=0;this.clickspotMoveAttachment[e]=new UIClickSpot({x:a+15,y:b},{x:d.arrowUp.width,y:d.arrowUp.height});this.clickspotMoveAttachment[e].onClick=function(){c.O7098({x:0,y:-1})};this.clickspotMoveAttachment[e++].O5405Item=d.arrowUp;this.clickspotMoveAttachment[e]=new UIClickSpot({x:a+15,y:b+26},{x:d.arrowDown.width,y:d.arrowDown.height});this.clickspotMoveAttachment[e].onClick=function(){c.O7098({x:0,y:1})};this.clickspotMoveAttachment[e++].O5405Item=
d.arrowDown;this.clickspotMoveAttachment[e]=new UIClickSpot({x:a,y:b+14},{x:d.arrowLeft.width,y:d.arrowLeft.height});this.clickspotMoveAttachment[e].onClick=function(){c.O7098({x:-1,y:0})};this.clickspotMoveAttachment[e++].O5405Item=d.arrowLeft;this.clickspotMoveAttachment[e]=new UIClickSpot({x:a+27,y:b+14},{x:d.arrowRight.width,y:d.arrowRight.height});this.clickspotMoveAttachment[e].onClick=function(){c.O7098({x:1,y:0})};this.clickspotMoveAttachment[e++].O5405Item=
d.arrowRight;for(e=0;e<this.clickspotMoveAttachment.length;e++)this.clickspotMoveAttachment[e].doPlaySound=!1;for(e=this.O1399=0;e<this.O1525.length;e++)if(ig.game.O4269.attachments[this.O1525[e]]){this.O1399=e;break}this.O4123=this.O4123s.ATTACHMENTS},O7098:function(a){ig.game.O4269.O1457&&ig.game.O4269.O1457.flip.x&&(a.x*=-1);ig.game.O4269.O7098(this.O1525[this.O1399],
a);this.O112()},O112:function(){this.movedAttachmentTimer&&clearTimeout(this.movedAttachmentTimer);this.O2255=-1;var a=this;this.movedAttachmentTimer=setTimeout(function(){a.O2255=1},2E3)},O6044:function(){this.O2255=1},O1587:function(){this.clicktextAttachmentTabs=[];this.clickspotMoveAttachment=this.clickspotAttachmentMover=this.clickspotCollectAttachment=this.clickspotWearablePlusFollows=
this.clickspotGlueAttachment=this.clicktextRemoveAttachment=this.clicktextFindAttachment=null;this.O6044();this.O1399=-1},O7767:function(a){return 0<=["w","h","wp"].indexOf(a)},O4648:function(){for(var a=0;a<this.O1525.length;a++){var b=this.O1525[a],c=ig.game.O4269.attachments[b],d=a==this.O1399,e="wp"==b;if(this.clicktextAttachmentTabs&&this.clicktextAttachmentTabs[a]&&(this.clicktextAttachmentTabs[a].update(),
d))if(c){e?this.clickspotWearablePlusFollows.update():this.clickspotGlueAttachment.update();this.clickspotCollectAttachment.update();if(this.O7767(b))for(b=0;b<this.clickspotMoveAttachment.length;b++)this.clickspotMoveAttachment[b].update();this.clicktextRemoveAttachment.update()}else this.clicktextFindAttachment&&this.clicktextFindAttachment.update()}},O7110:function(){for(var a=this.pos.x+61,b=this.pos.y+20,c=ig.system.context,d=0;d<this.O1525.length;d++){var e=
this.O1525[d],f=ig.game.O4269.attachments[e],g=d==this.O1399,h=this.O777[this.O1399],k="wp"==e;if(this.clicktextAttachmentTabs){var l=this.clicktextAttachmentTabs[d];l.alpha=g?0.9:0.4;l.draw()}if(g)if(f){g=f.name;g=ig.game.strings.O2833(g,22,!0);l=window.Item.prototype.BASE_TYPES[f.base].verbose;l||(l=window.Item.prototype.BASE_TYPES[f.base].name);c.globalAlpha=0.8;ig.game.blackSmallFont.draw(g,a,b);c.globalAlpha=0.4;ig.game.blackSmallFont.draw(l,
a,b+7);g=this.clickspotGlueAttachment.pos;k?"DYNATHING"==f.base&&(f="checkbox"+(ig.game.settings.wearablePlusFollows?"Active":""),ig.game.O5405.draw(g.x,g.y,1,ig.game.O5405[f]),c.globalAlpha=0.4,ig.game.blackSmallFont.draw("slowly follows",g.x+11,g.y+2)):(f="checkbox"+(ig.game.settings.getGlue(h)?"Active":""),ig.game.O5405.draw(g.x,g.y,1,ig.game.O5405[f]),c.globalAlpha=0.4,ig.game.blackSmallFont.draw("glue",g.x+11,g.y+2));c.globalAlpha=1;ig.game.O5405.O2678(this.clickspotCollectAttachment.pos.x,
this.clickspotCollectAttachment.pos.y);if(this.O7767(e)){c.globalAlpha=1;for(e=0;e<this.clickspotMoveAttachment.length;e++)f=this.clickspotMoveAttachment[e],ig.game.O5405.draw(f.pos.x,f.pos.y,1,f.O5405Item);ig.ua.mobile||(c.globalAlpha=0.25,ig.game.blackSmallFont.draw("Shift+(Ctrl)+Arrows",a,b+78))}c.globalAlpha=1;this.clicktextRemoveAttachment.draw()}else{if(ig.game.isEditorHere||"wearablePlus"==h)c.globalAlpha=0.35,ig.game.blackSmallFont.draw("pick from side panel >>",a,b),
c.globalAlpha=1;this.clicktextFindAttachment.draw();k&&(c.globalAlpha=0.35,ig.game.blackSmallFont.draw("+ always glued\n+ any area\n+ no physical effects\n",a,b+55),c.globalAlpha=1)}}},O4927:function(){0!=this.O2255&&(this.backAlpha+=4*this.O2255*ig.system.tick,0>this.O2255&&0.4>=this.backAlpha?(this.backAlpha=0.4,this.O2255=0):0<this.O2255&&0.9<=this.backAlpha&&(this.backAlpha=0.9,this.O2255=0))},O1283:function(){var a=
[238,238,238],b=this.O3993.customProfileColor;b&&ig.game.colors.dialogRgbs[b].O4579&&(a=ig.game.colors.dialogRgbs[b].O4579);var b=ig.system.scale,c=this.pos.x,d=this.pos.y,e=this.pos.x+this.size.x,f=this.pos.y+this.size.y,g=ig.system.context;g.beginPath();g.fillStyle="rgba("+a.join(",")+","+this.backAlpha+")";g.moveTo((c+2)*b,d*b);g.lineTo((e-2)*b,d*b);g.lineTo(e*b,(d+2)*b);g.lineTo(e*b,(f-2)*b);g.lineTo((e-2)*b,f*b);g.lineTo((c+2)*b,f*b);g.lineTo(c*b,(f-2)*b);g.lineTo(c*b,(d+
2)*b);g.fill();g.closePath();g.beginPath();g.lineWidth=1*b;g.strokeStyle="rgba(0,0,0,.15)";g.moveTo((c+4)*b,(d+13)*b);g.lineTo((e-4)*b,(d+13)*b);g.stroke();g.closePath();g.beginPath();g.strokeStyle="rgba(255,255,255,.6)";g.moveTo((c+4)*b,(d+13+1)*b);g.lineTo((e-4)*b,(d+13+1)*b);g.stroke();g.closePath();this.O2010();this.O1492();ig.game.O5405.draw(this.pos.x+150,this.pos.y+2,0.7,ig.game.O5405.closeButton)},O1492:function(){this.O1090&&this.O1090.draw&&
this.O1090.draw()},O2010:function(){if(this.O3993.O3427)if(this.wallpaperImage){if(this.wallpaperImage.loaded){var a=this.pos.x,b=this.pos.y+13,c=this.pos.x+this.size.x,d=this.pos.y+this.size.y-3,e=0.8;this.O3993.customProfileColor&&(e="white"==this.O3993.customProfileColor?1:"yellow"==this.O3993.customProfileColor?0.9:"cyan"==this.O3993.customProfileColor?0.8:0<=["pink","purple"].indexOf(this.O3993.customProfileColor)?
0.4:0<=["black","blue","red"].indexOf(this.O3993.customProfileColor)?0.3:0.7);ig.system.context.globalAlpha=e;for(ml.Misc.O1651("lighten");a<c;a+=this.wallpaperImage.width)for(e=b;e<d;e+=this.wallpaperImage.height){var f=this.wallpaperImage.width,g=this.wallpaperImage.height;a+f>c&&(f-=a+f-c);e+g>d&&(g-=e+g-d);this.wallpaperImage.draw(a,e,0,0,f,g)}ml.Misc.O13();ig.system.context.globalAlpha=1}}else this.wallpaperImage=new ml.Image(ig.game.itemImageResourcePrefix+("i/"+this.O3993.O3427+
".png"))},O4196:function(a){var b="0";null!=a&&(void 0!=a&&0!=a)&&(b=100>a?"1+":1E3>a?"100+":1E4>a?"1k+":"++");return b},O2651:function(){this.doSparkleMiftsButton=!1;for(var a=this.miftSettings.offset,b=this.miftSettings.padding,c=0;c<this.O6524.data.length&&c<this.miftSettings.itemsPerPage;c++){var d=this.O6524.data[c];if(d&&d.itemId){var e=ig.game.O4961.getItemBasic(d.itemId,"ui_pld3");if(e){var f=this.pos.x+a.x,g=this.pos.y+a.y+
(ig.game.tileSize+b)*c,h=ig.game.O6099.O4678(f+ig.game.tileSize,g,f+this.size.x*this.miftSettings.O2143,g+ig.game.tileSize),k=ig.game.O6099.O4678(f,g,f+ig.game.tileSize,g+ig.game.tileSize),f=ig.game.O6099.O5674(f,g,f+ig.game.tileSize,g+ig.game.tileSize);h?(ig.game.O6099.O6375(!0),this.openForPlayerId(d.fromId)):k&&ig.input.state("ctrl")||k&&ig.ua.mobile||f?(ig.game.O6099.O6375(!1),
ig.game.O6099.O1788(!1),this.O2694(d._id,d.fromName,d.ts,d.isPrivate,d.itemId)):k&&(ig.game.O6099.O6375(!1),e.soundId&&ig.game.sounds.O7220(e.soundId))}}}ig.input.pressed("wheelup")?this.O3897():ig.input.pressed("wheeldown")&&this.O7212();if(this.O3993.O4102){for(c=0;c<this.O1305.length;c++)this.O1305[c].update();a=this.miftSettings.publicPrivateToggleOffset;
f=this.pos.x+a.x;g=this.pos.y+a.y;ig.game.O6099.O4678(f-2,g-2,f+19+4,g+4+4)?(ig.game.O6099.O6375(!0),this.miftSettings.showPrivate=!1,this.O6524=this.O7956):ig.game.O6099.O4678(f+28-2,g-2,f+28+27+4,g+4+4)&&(ig.game.O6099.O6375(!0),this.miftSettings.showPrivate=!0,this.O6524=this.O1627)}else for(c=0;c<this.O5104.length;c++)this.O5104[c].update()},
drawMiftsPage:function(){0<this.newMiftsOverlayAlpha&&(ig.system.context.fillStyle="rgba(255,255,255,"+this.newMiftsOverlayAlpha+")",ig.system.context.fillRect(0,0,ig.system.realWidth,ig.system.O1709));this.miftSettings.showPrivate&&(ig.system.context.fillStyle="rgba(155,141,85,.5)",ig.system.context.fillRect((this.pos.x+4)*ig.system.scale,(this.pos.y+13)*ig.system.scale,(this.size.x-4-3)*ig.system.scale,(this.size.y-13-5)*ig.system.scale));if(this.O3993.O4102){var a=this.miftSettings.publicPrivateToggleOffset;
ig.game.O5405.draw(this.pos.x+a.x,this.pos.y+a.y,0.8,ig.game.O5405["miftPublicPrivateToggle_"+(this.miftSettings.showPrivate?"private":"public")])}for(var a=this.miftSettings.offset,b=this.miftSettings.padding,c=!1,d=0;d<this.O6524.data.length&&d<this.miftSettings.itemsPerPage;d++){var e=this.O6524.data[d];if(e&&e.itemId){var f=ig.game.O4961.getItemBasic(e.itemId,"ui_pld1");if(f){var g=this.pos.x+a.x,h=this.pos.y+a.y+(ig.game.tileSize+b)*d,k=!e.deliverySeenByRecipient;
k&&(c=!0,this.O3993.O4102&&!e.animation&&(e.animation={offsetY:-30,velocityY:1.25,O6277:0.75,alpha:0,textAlphaFactor:0}));var l=c&&!k?0.3:1,m=1;if(e.animation){0.25<e.animation.velocityY&&(e.animation.velocityY*=0.95);e.animation.offsetY+=e.animation.velocityY;if(0<=e.animation.offsetY&&0<e.animation.velocityY&&(e.animation.offsetY=0,e.animation.velocityY=0,0==d&&ig.game.sounds.putdown.play(),ig.game.O7421.O1915(e._id),e.deliverySeenByRecipient=
!0,f.soundId)){var n=f.soundId;setTimeout(function(){ig.game.sounds.O7220(n)},(d+1)*(0==d?1E3:3E3))}e.animation.alpha+=0.05;e.animation.textAlphaFactor+=0.01;1<e.animation.alpha&&(e.animation.alpha=1);1<e.animation.textAlphaFactor&&(e.animation.textAlphaFactor=1);0>e.animation.O6277&&(e.animation.O6277=0);this.newMiftsOverlayAlpha=e.animation.O6277-=0.005;ml.Misc.O1651("xor");f.draw(g,h,0,0,0.25*e.animation.alpha);ml.Misc.O13();f.draw(g,h+e.animation.offsetY,
0,0,e.animation.alpha);m=e.animation.textAlphaFactor}else f.draw(g,h,0,0,l);ig.system.context.globalAlpha=0.7*m*l;for(var f=e.text,f=ig.game.strings.replaceAll(e.text,"\r\n","  "),f=ig.game.strings.replaceAll(e.text,"\r","  "),f=ig.game.strings.replaceAll(e.text,"\n","  "),f=ig.game.strings.O4423(f,30),p=0;p<f.length;p++)ig.game.blackSmallFont.draw(f[p],g+ig.game.tileSize+6,h+7*p+1);p="-"+e.fromName;ig.game.O6099.O6849(g+ig.game.tileSize,h,g+this.size.x*this.miftSettings.O2143,
h+ig.game.tileSize)?ig.system.context.globalAlpha=0.6*m*l:ig.system.context.globalAlpha=0.4*m*l;ig.game.blackSmallFont.draw(p,g+ig.game.tileSize+6,h+7*f.length+1);ig.system.context.globalAlpha=1;e=48>=(new Date-Date.parse(e.ts))/1E3/60/60;if((k||e)&&ig.game.chance(4))e=k=ig.game.tileSize,ig.game.chance(20)&&(k=this.size.x-40,e=14),ig.game.decorator.O6664(g+ig.game.O5167(0,k),h+ig.game.O5167(0,e),!0)}}}c&&!this.O1521&&(ig.game.sounds.environment_glimmer_8.play(),ig.game.sounds.whoosh.play(),
this.O1521=!0);this.O6524.O7140Page&&ig.game.O5405.O7679(this.pos.x+this.O6751Pos.x,this.pos.y+this.O6751Pos.y,this.O4781);this.O6524.hasNextPage&&ig.game.O5405.O2029(this.pos.x+this.O7763Pos.x,this.pos.y+this.O7763Pos.y,this.O4781);this.O7025&&ig.game.O5405.O25(this.pos.x+this.O7025Pos.x,
this.pos.y+this.O7025Pos.y,0.8);0==this.O6524.data.length&&(ig.system.context.globalAlpha=0.5,ig.game.blackSmallFont.draw("No MIFTs here yet",this.pos.x+this.size.x/2,this.pos.y+this.size.y/2-1,ig.Font.ALIGN.CENTER),ig.system.context.globalAlpha=1);this.O3993.O4102&&!this.miftSettings.showPrivate&&(this.O1627&&(this.O1627.data&&this.O1627.data[0]&&!this.O1627.data[0].deliverySeenByRecipient)&&
ig.game.chance(4))&&(a=this.miftSettings.publicPrivateToggleOffset,ig.game.decorator.O6664(this.pos.x+a.x+27+ig.game.O5167(0,27),this.pos.y+a.y+ig.game.O5167(0,3),!0))},O2694:function(a,b,c,d,e){var f=this;ig.game.O4961.getItem_P(e,"ui_miftcontext").done(function(e){var h="",k="ig.game.playerDialog.O2020('"+ig.game.strings.O4334(a)+"')",l="ig.game.playerDialog.O1773('"+ig.game.strings.O4334(a)+"')",h=h+"<p>"+("Mifted by "+ig.game.strings.O4334(b)+
" on "+ig.game.strings.O6583(new Date(c))),h=h+"</p>";e&&e.info&&(h+=ig.game.strings.O7229(e.info,"opacity: 60%"));f.O3993.O4102&&(h+="<p>",h+='<span class="pseudoLink" onclick="'+k+'">Remove</span>',d||(h+=' | <span class="pseudoLink" onclick="'+l+'">Make Private</span>'),h+="</p>");ig.game.alertDialog.open(h,!0,null,null,null,!0)})},O2020:function(a){if(confirm("Remove MIFT? This cannot be undone.")){var b=this;ig.game.alertDialog.close();ig.game.O7421.O3684(a).done(function(a){a&&
a.isHidden?(ig.game.sounds.success.play(),b.close()):ig.game.sounds.nocando.play()})}},O1773:function(a){if(confirm("Make MIFT private? This cannot be undone.")){var b=this;ig.game.alertDialog.close();ig.game.O7421.O267(a).done(function(a){a&&a.isPrivate?(ig.game.sounds.success.play(),b.close()):ig.game.sounds.nocando.play()})}},addMift:function(){ig.game.writableDialog.isOpen&&ig.game.writableDialog.close();ig.game.painter.prop||(ig.game.painter.prop={});ig.game.painter.O4869=
"mift";ig.game.painter.O6444={toId:this.O3993.id};ig.game.panelSet.O488.O6448();this.close()},O3897:function(){this.O6524.O7140Page&&this.O6524.O1743()},O7212:function(){this.O6524.hasNextPage&&this.O6524.O5768()},O8002:function(a){var b=this.pos.x+this.visitedThumbPos.x-14,c=this.pos.y+this.visitedThumbPos.y-
5,d=1.36*this.visitedThumbSize.x,e=1.36*this.visitedThumbSize.y,f=ig.system.scale,g=ig.system.context;g.fillStyle="rgba(255, 255, 255, .8)";a&&a.isPrivate&&(g.fillStyle="rgba(155, 141, 85, .9)");g.fillRect((b-3)*f,(c-2)*f,(d+6)*f,(e+4)*f);g.drawImage(this.O5280,b*f,c*f,d*f,e*f);ig.ua.mobile||ig.game.O5405.draw(this.pos.x+this.O5753Pos.x,this.pos.y+this.O5753Pos.y,1,ig.game.O5405.openAlbumButton);if(ig.game.O6099.O6849(b-
3,c-2,b+d+6,c+e+4)||ig.ua.mobile)ig.ua.mobile||ig.game.O5405.O3421(this.pos.x+this.O8334Pos.x,this.pos.y+this.O8334Pos.y,0.4),this.O3993.O4102&&(ig.game.O5405.O8190(this.pos.x+this.O3478Pos.x,this.pos.y+this.O3478Pos.y,0.4),ig.game.O5405.O5592(this.pos.x+this.O6102Pos.x,this.pos.y+this.O6102Pos.y,0.8),this.O2252&&
(ig.game.O5442==this.O2252._id?ig.game.O5405.draw(this.pos.x+this.O1914Pos.x,this.pos.y+this.O1914Pos.y,1,ig.game.O5405.addHomeButtonActive):ig.game.O5405.draw(this.pos.x+this.O1914Pos.x,this.pos.y+this.O1914Pos.y,0.4,ig.game.O5405.addHomeButton))),ig.game.O5405.O6027(this.pos.x+this.O7646Pos.x,this.pos.y+this.O7646Pos.y,0.8);this.O7451(0<
this.O1994,this.O6794)},O1538:function(a,b){a&&ig.game.O6099.O6849(this.pos.x+this.O87Pos.x-this.O6532,this.pos.y+this.O87Pos.y-this.O6532,this.pos.x+this.O87Pos.x+this.O87Size.x+this.O6532,this.pos.y+this.O87Pos.y+this.O87Size.y+this.O6532)&&ig.game.O5405.O4606(this.pos.x+
this.O87Pos.x-this.O6532+3,this.pos.y+this.O87Pos.y-this.O6532+1,this.O903);ig.game.O5405.O7754(this.pos.x+this.O87Pos.x,this.pos.y+this.O87Pos.y,a?this.O4781:this.O2977);b&&ig.game.O6099.O6849(this.pos.x+this.O3415Pos.x-this.O6532,this.pos.y+this.O3415Pos.y-
this.O6532,this.pos.x+this.O3415Pos.x+this.O3415Size.x+this.O6532,this.pos.y+this.O3415Pos.y+this.O3415Size.y+this.O6532)&&ig.game.O5405.O4606(this.pos.x+this.O3415Pos.x-this.O6532+3,this.pos.y+this.O3415Pos.y-this.O6532+1,this.O903);ig.game.O5405.O5369(this.pos.x+
this.O3415Pos.x,this.pos.y+this.O3415Pos.y,b?this.O4781:this.O2977)},O7451:function(a,b){a&&ig.game.O6099.O6849(this.pos.x+this.O6751Pos.x-this.O6532,this.pos.y+this.O6751Pos.y-this.O6532,this.pos.x+this.O6751Pos.x+this.O6751Size.x+this.O6532,this.pos.y+this.O6751Pos.y+this.O6751Size.y+
this.O6532)&&ig.game.O5405.O4606(this.pos.x+this.O6751Pos.x-this.O6532+3,this.pos.y+this.O6751Pos.y-this.O6532+1,this.O903);ig.game.O5405.O7679(this.pos.x+this.O6751Pos.x,this.pos.y+this.O6751Pos.y,a?this.O4781:this.O2977);b&&ig.game.O6099.O6849(this.pos.x+this.O7763Pos.x-
this.O6532,this.pos.y+this.O7763Pos.y-this.O6532,this.pos.x+this.O7763Pos.x+this.O7763Size.x+this.O6532,this.pos.y+this.O7763Pos.y+this.O7763Size.y+this.O6532)&&ig.game.O5405.O4606(this.pos.x+this.O7763Pos.x-this.O6532+3,this.pos.y+this.O7763Pos.y-this.O6532+1,
this.O903);ig.game.O5405.O2029(this.pos.x+this.O7763Pos.x,this.pos.y+this.O7763Pos.y,b?this.O4781:this.O2977)},setPos:function(a,b){this.pos.x=Math.min(Math.max(a,this.minX),this.maxX);this.pos.y=b;this.midX=this.pos.x+this.size.x/2},O2447:function(){ig.game.O7421.O6253(10,this).done(function(a){for(var b=0,c=0;2>c;c++)for(var d=0;5>d;d++)4>b&&ig.game.chance(24)?
(b++,this.O1672[5*c+d]=new AvatarSelectButtonLegacy(this.pos.x+this.margin+(this.avatarButtonSize.x+this.avatarButtonSpacing.x)*d,this.pos.y+this.O6418+10+(this.avatarButtonSize.y+this.avatarButtonSpacing.y)*c,ml.Misc.O7323(!1,void 0))):this.O1672[5*c+d]=new AvatarSelectButton(this.pos.x+this.margin+(this.avatarButtonSize.x+this.avatarButtonSpacing.x)*d,this.pos.y+this.O6418+10+(this.avatarButtonSize.y+this.avatarButtonSpacing.y)*c,a[5*c+d])})},
O3789Buttons:function(){for(var a=0;a<this.O1672.length;++a)this.O1672[a].draw()},O473:function(){for(var a=0;a<this.O1672.length;++a)this.O1672[a].update()},O7547:function(){for(var a=0;a<this.O1672.length;++a)if(this.O1672[a].O2677()){this.O4123=this.O4123s.MAIN;this.O1672[a].O4534();this.close();break}},O2961:function(){var a=jQuery("#nameChange").val(),a=ig.game.strings.trim(a);
""!=a&&ig.game.O4269.screenName!=a&&(ig.game.validations.playerName.isValid(a)?(ig.game.O4269.O4517(a),this.O3993.name=a,this.O5434(),ig.game.sounds.success.play()):ig.game.sounds.nocando.play())},signOut:function(){var a;a=""+("<p>If you're on a shared computer, to complete the process please also logout of "+ig.game.strings.O4334(ml.Misc.O8383())+" afterwards.</p>");ig.game.alertDialog.open(a+'<p><a href="javascript:ig.game.playerDialog.O3000()">Logout of Manyland now<a/></p>',
!0,void 0,void 0,void 0,!0)},O3000:function(){for(var a=["savedSearchString","savedSearchResultsPage","creatorEmergencyBackupData","search_String","search_PageNo","search_PageSize","search_Data","musicPlayerSettingOn","lastTabOpen","savedIssueToTracker_forwardedToIssuesPage","adsShownLog","openedFlagsAlertDialogDate","didSeeTrailer","skipNextAd","wasAskedAboutGuidance","portaller_currentAreaGroupName","lastDisplayedAdDateStamp","adsShownLog","doPlaySound","extraZoom","ignoreWasdMovement","lastDateTimeWhereNoAdLoaded",
"hideUI","lastMinfinityExpiryReminded","areaSearchQuery","didSearchTypeInCreator","didSeeRingRankGoneInfo_v1_06","adWasCollapsedOnDate",ig.game.bottomMenu.seenFlagTagsKey,ig.game.bottomMenu.isOnNewFlagAlertSystemKey],b=0;b<a.length;b++)localStorage.removeItem(a[b]);delete sessionStorage.urlCacheAppend_collectedItems;delete sessionStorage.urlCacheAppend_createdItems;0>=ig.game.O4269.rank&&(localStorage.someoneLoggedOutWhileBeingSoftbannedDateStamp=new Date);window.location.replace("/logout");this.close()},
aboutInfoClicked:function(a){ig.game.readableDialog&&ig.game.readableDialog.isOpen&&this.O6574?(this.O6574=!1,ig.game.readableDialog.close()):(ig.game.holderDialog&&ig.game.holderDialog.isOpen&&ig.game.holderDialog.close(),this.O6574=!0,ig.game.O4703.O3217(a))},O6908:function(){var a=this,b=this.O3993.id;ig.game.O4120.O4901(b).done(function(c){var d=ml.Misc.getTimestampFromObjectId(a.O3993.id),
d='<p style="opacity: 0.5">Born into this universe<br/>'+ig.game.strings.O5864(d,!1," ")+" at</p><p>"+a.O7586(d.toISOString())+" Manyland Time</p>";c&&!c.hiddenInFriendsList&&(c.online?(d+='<p style="color: green">Currently on</p>',ig.game.O4120.O4135(b)&&(d+='<p><span class="pseudolink pingFriendLink" id="pingFriendLink_'+b+'" onclick="'+("ig.game.friendsDialog.pingFriend('"+b+"')")+'" style="font-size: 100%">Ping</span></p>')):d+='<p style="opacity: 0.5">Last on '+
ig.game.strings.O1466(c.lastSeen,void 0," ")+"</p>");ig.game.alertDialog.open({html:d,O3468:!0})})},O7586:function(a){return a.substr(0,10)+" "+a.substr(11,8)},O2495:function(a){this.topItems=[];var b=this.O3993.O3803;if(!b||!jQuery.isArray(b))b=[];if(!a||!jQuery.isArray(a))a=[];if(b&&jQuery.isArray(b))for(var c=b.length-1;0<=c;c--)if(b[c]){var d=a.indexOf(b[c]);0<=d&&a.splice(d,1);a.unshift(b[c])}Math.min(a.length,9);c=
0;for(d=1;3>=d;d++)for(var e=1;3>=e;e++){var f=a[c];f&&this.O1917(f,e,d,c,b);c++}},O1917:function(a,b,c,d,e){var f=this,g=ig.game.O4961.getItemBasic(a,"ui_pld2");e=0<=e.indexOf(a);this.O3993.topItems.push(new ProfileItem(g,this.pos.x+28*(b-1)+5,this.pos.y+24*(c-1)+19,e,e&&1>=d));e&&!this.O2311()&&ig.game.O4961.getItem_P(a,"ui_pld2").done(function(b){b&&("info"==b.name&&null==f.O3490&&"READABLE"==b.base)&&(f.O3490=new UIClickSpot(f.O1440(f.clickspotInfoPos),
{x:ig.game.O5405.aboutInfoButton.width,y:ig.game.O5405.aboutInfoButton.height},!1,null),f.O3490.onClick=function(){f.aboutInfoClicked(a)},f.O7045.push(f.O3490),f.O6297.push(f.O3490))})},O2311:function(){return this.O3993.O4102&&ig.game.isFullAccount&&this.O3993.attachmentId},O4123s:{MAIN:"main",BODY:"body",NAME:"name",VISITED:"visited",MIFTS:"mifts",ATTACHMENTS:"attachments"}})});
ig.baked=!0;
ig.module("game.ui.mylocationdialog").requires("game.ui.components.uidialog").defines(function(){window.MyLocationDialog=UIDialog.extend({alpha:0.7,submitted:!1,O1184:!1,listed:!1,isPrivate:!1,O1878:jQuery.Deferred(),O5334:!0,O603:!0,O5397:null,O5397Pos:{x:131,y:2},O5397Size:{x:9,y:9},O7074:null,O7074Pos:{x:27,y:100},O7074Size:{x:44,y:12},O7130:null,O7130Pos:{x:79,y:101},
O7130Size:{x:57,y:10},O1496:null,O1496Pos:{x:27,y:5},O1496Size:{x:86,y:69},framePos:{x:27,y:5},shotPos:{},shotSize:{},findSymbolPos:{x:8,y:73},eyeSymbolPos:{x:8,y:86},locationUrlElementPos:{x:27,y:75},snapshotUrlElementPos:{x:27,y:86},urlElementSize:{width:105,height:4},O4480:null,O4480Size:{x:80,y:62},O4480SourcePos:{x:50,y:50},O4480SourceSize:{x:164,y:124},O2289:1,O4372:0.03,shortCode:"",clickspots:[],
fullPreviewCanvas:null,thumbPreviewCanvas:null,init:function(){this.size.x=ig.game.O5405.bottomMenuVisitedDialog.width;this.size.y=ig.game.O5405.bottomMenuVisitedDialog.height;this.pos.x=ig.system.widthHalf-this.size.y/2-32;this.pos.y=ig.system.O8417-this.size.y/2+75;ig.ua.mobile&&ig.system.O1004()&&(this.pos.y-=60);this.shotPos.x=(this.pos.x+this.framePos.x+3)*ig.system.scale;this.shotPos.y=(this.pos.y+this.framePos.y+3)*ig.system.scale;this.shotSize.x=this.O4480Size.x*
ig.system.scale;this.shotSize.y=this.O4480Size.y*ig.system.scale;var a=this;this.O5397=new UIClickSpot({x:this.pos.x+this.O5397Pos.x,y:this.pos.y+this.O5397Pos.y},this.O5397Size,!1,null);this.O5397.onClick=function(){a.close()};this.clickspots.push(this.O5397);this.O7074=new UIClickSpot({x:this.pos.x+this.O7074Pos.x,y:this.pos.y+this.O7074Pos.y},this.O7074Size,!1,null);this.O7074.onClick=
function(){a.O2011()};this.clickspots.push(this.O7074);this.O7130=new UIClickSpot({x:this.pos.x+this.O7130Pos.x,y:this.pos.y+this.O7130Pos.y},this.O7130Size,!1,null);this.O7130.onClick=function(){a.submitted&&a.listed&&a.O4442()};this.clickspots.push(this.O7130);this.O6678()},O6678:function(){var a=328,b=248;ig.ua.mobile?(a*=0.65,b*=0.65,
this.O4480SourcePos={x:(ig.system.widthHalf-a/2)*ig.system.scale,y:(ig.system.O8417-b/2)*ig.system.scale-20},this.O4480SourceSize={x:a*ig.system.scale,y:b*ig.system.scale}):(this.O4480SourcePos.x=(ig.system.widthHalf-20)*ig.system.scale-a/2*ig.system.scale,this.O4480SourcePos.y=ig.system.O8417*ig.system.scale-130*ig.system.scale,this.O4480SourceSize.x=a*ig.system.scale,this.O4480SourceSize.y=b*ig.system.scale)},update:function(){if(this.isOpen){for(var a=0;a<
this.clickspots.length;a++)this.clickspots[a].update();0<this.O2289&&(this.O2289=Math.max(this.O2289-this.O4372,0))}ig.input.pressed("f4")&&!ig.input.state("alt")&&(this.isOpen?this.close():ig.game.bottomMenu.subMenus[0].O597());this.parent()},draw:function(){this.isOpen&&(ig.game.O5405.O7980(this.pos.x,this.pos.y,this.alpha),ig.game.O5405.O5876(this.pos.x+this.framePos.x,this.pos.y+this.framePos.y,
this.alpha),ig.ua.mobile||(ig.game.O5405.O4347(this.pos.x+this.findSymbolPos.x,this.pos.y+this.findSymbolPos.y,this.alpha),ig.game.O5405.O4536(this.pos.x+this.eyeSymbolPos.x,this.pos.y+this.eyeSymbolPos.y,this.alpha)),this.O2697(),0<this.O2289&&(ig.system.context.fillStyle="rgba(255, 255, 255,"+this.O2289+")",ig.system.context.fillRect(this.shotPos.x,this.shotPos.y,this.shotSize.x,this.shotSize.y)),(this.submitted||this.O1184)&&
this.listed?(ig.game.O5405.O202On(this.pos.x+this.O7074Pos.x,this.pos.y+this.O7074Pos.y),this.O1184||(this.isPrivate?ig.game.O5405.O5136(this.pos.x+this.O7130Pos.x,this.pos.y+this.O7130Pos.y):ig.game.O5405.O4097(this.pos.x+this.O7130Pos.x,this.pos.y+this.O7130Pos.y))):(ig.game.O5405.O202(this.pos.x+
this.O7074Pos.x,this.pos.y+this.O7074Pos.y),this.isListedPublicly=!0))},O2697:function(){this.thumbPreviewCanvas&&ig.system.context.drawImage(this.thumbPreviewCanvas,this.shotPos.x,this.shotPos.y,this.shotSize.x,this.shotSize.y)},open:function(){var a=this;this.isPrivate=this.listed=this.submitted=!1;this.O1878=jQuery.Deferred();this.capture();this.O7685().done(function(){a.O2322();a.O6741();ig.game.sounds.whoosh.play();a.O2289=
1});ig.game.motionDialog&&ig.game.motionDialog.O5076("snap");this.parent()},O2591:function(a,b){var c=this;this.shortCode=a;this.isPrivate=b;this.O2322();this.submitted=this.listed=!0;this.O2289=0;ig.game.O3754.O6006(a).done(function(a){c.thumbPreviewCanvas=a;c.toClose=!1;c.isOpen=!0})},close:function(){this.O5329();this.parent()},O1139:function(){!this.submitted&&!this.O1184&&(this.O1184=!0,
this.O5544(!1),this.O1878.done(function(){this.submitted=!0;this.O1184=!1}).fail(function(){this.O1184=!1}))},O2011:function(){this.O1184||(this.submitted?this.toggleListedStatus():(this.listed=this.O1184=!0,this.O5544(!0),this.O1878.done(function(){this.submitted=!0;this.O1184=!1}).fail(function(){this.O1184=this.listed=!1})),ig.game.O4803.register(ig.game.O4803.types.ADDED_SNAPSHOT))},
toggleListedStatus:function(){var a=this;ig.game.O7421.O4122(this.shortCode,!this.listed).done(function(){a.listed=!a.listed})},O4442:function(){var a=this;ig.game.O7421.O6691(this.shortCode,!this.isPrivate).done(function(){a.isPrivate=!a.isPrivate})},capture:function(){this.fullPreviewCanvas=document.createElement("canvas");this.fullPreviewCanvas.setAttribute("id","fullPreviewCanvas");this.fullPreviewCanvas.setAttribute("width",this.O4480SourceSize.x);
this.fullPreviewCanvas.setAttribute("height",this.O4480SourceSize.y);this.fullPreviewCanvas.setAttribute("style","visibility:hidden");document.body.appendChild(this.fullPreviewCanvas);var a=this.fullPreviewCanvas.getContext("2d");this.thumbPreviewCanvas=document.createElement("canvas");this.thumbPreviewCanvas.setAttribute("id","thumbPreviewCanvas");this.thumbPreviewCanvas.setAttribute("width",this.O4480Size.x*ig.system.scale);this.thumbPreviewCanvas.setAttribute("height",this.O4480Size.y*
ig.system.scale);this.thumbPreviewCanvas.setAttribute("style","visibility:hidden");document.body.appendChild(this.thumbPreviewCanvas);this.thumbPreviewCanvas.getContext("2d").drawImage(ig.system.canvas,this.O4480SourcePos.x,this.O4480SourcePos.y,this.O4480SourceSize.x,this.O4480SourceSize.y,0,0,this.O4480Size.x*ig.system.scale,this.O4480Size.y*ig.system.scale);a.drawImage(ig.system.canvas,this.O4480SourcePos.x,this.O4480SourcePos.y,this.O4480SourceSize.x,
this.O4480SourceSize.y,0,0,this.O4480SourceSize.x,this.O4480SourceSize.y)},O6741:function(){var a=this.fullPreviewCanvas.getContext("2d"),b=(ig.game.O4269.screenName+" at "+ig.game.root).toUpperCase();ig.game.O45&&(b+="/"+String(ig.game.O45).toUpperCase());a.font="14px 'Press Start 2P'";a.fillStyle="rgba(0, 0, 0, 0.3)";a.fillText(b,10,this.O4480SourceSize.y-7);a.fillStyle="rgba(255, 255, 255, 0.4)";a.fillText(b,10,this.O4480SourceSize.y-10)},O7685:function(){var a=
jQuery.Deferred(),b=this;ig.game.O7421.O2347().done(function(c){b.shortCode=c;a.resolve()});return a.promise()},O5544:function(a){try{var b=this.fullPreviewCanvas.toDataURL(),c=this.thumbPreviewCanvas.toDataURL()}catch(d){ig.game.errorManager.warn("toDataURL Security exception for mylocationdialog");this.close();return}ig.game.O7421.O4072(this.shortCode,ig.game.O172.O363(),b,c,a,this.isPrivate,this).done(function(){this.O1878.resolveWith(this)}).fail(function(){this.O1878.rejectWith(this)});
return this.O1878.promise()},O1996:function(){ig.system.context.beginPath();ig.system.context.rect(this.O4480SourcePos.x,this.O4480SourcePos.y,this.O4480SourceSize.x,this.O4480SourceSize.y);ig.system.context.lineWidth=2;ig.system.context.strokeStyle="black";ig.system.context.stroke()},O8203:function(){var a=ig.game.socialIntegration.getFacebookPostUrl(this.shortCode);this.submitted?window.location=a:this.O5544(!1).done(function(){window.location=
a})},O2149:function(a,b,c,d){d=jQuery('<input type="text" id="'+b+'" class="domElement bottomMenuVisitedUrl" onclick="this.select()" readonly="readonly" value="'+d+'" />');this.O249(d,a,c);d.appendTo("body");ig.ua.mobile||d.css("visibility","visible");b=jQuery('<div id="'+b+'Fader" class="domElement bottomMenuVisitedUrlFader"></div>');this.O249(b,a,c,{width:1,height:1});b.css("background-size",this.urlElementSize.width/5*ig.system.scale+"px "+this.urlElementSize.height*
ig.system.scale+"px");b.appendTo("body");b.css("visibility","visible");return d},O249:function(a,b,c,d){void 0==d&&(d={width:0,height:0});a.css("font-size",4*ig.system.scale+"px");a.css("border-width",ig.system.scale+"px");a.css("padding",ig.system.scale+"px");a.css("width",this.urlElementSize.width*ig.system.scale+"px");a.css("height",this.urlElementSize.height*ig.system.scale+"px");a.css("top",(this.pos.y+c.y)*ig.system.scale+b.top+d.height*ig.system.scale);a.css("left",(this.pos.x+
c.x)*ig.system.scale+b.left+d.width*ig.system.scale)},O2322:function(){if(!ig.ua.mobile){this.O5329();var a=jQuery("#"+ig.game.canvasId).position(),b=this.O2149(a,"locationURL",this.locationUrlElementPos,ig.game.O3754.O3972(this.shortCode)),a=this.O2149(a,"snapshotURL",this.snapshotUrlElementPos,ig.game.O3754.O5021(this.shortCode)),c=this;b.click(function(){c.O1139()});a.click(function(){c.O1139()})}},
O5329:function(){jQuery("#locationURL").remove();jQuery("#snapshotURL").remove();jQuery("#fullPreviewCanvas").remove();jQuery("#thumbPreviewCanvas").remove();jQuery(".bottomMenuVisitedUrlFader").remove()}})});ig.baked=!0;
ig.module("game.ui.components.uiclickspothelper").requires("game.ui.components.uiclicktext").defines(function(){window.UIClickSpotHelper=ig.Class.extend({items:null,contextRectangle:{x:null,y:null,width:null,height:null},O4123:null,init:function(a,b){this.items=a;this.contextRectangle=b;this.O3971()},O3971:function(){for(var a in this.items){var b=this.items[a];b.margin||(b.margin={x:0,y:0});b.x-=b.margin.x;b.y-=b.margin.y;b.width+=2*b.margin.x;b.height+=2*b.margin.y}},O2684:function(){for(var a in this.items){var b=
this.items[a];if(Array.isArray(b))for(var c=0;c<b.length;c++)this.O6499(b[c],a,c);else this.O6499(b,a,null)}},O2923:function(a){for(var b in this.items){var c=this.items[b];this.O7011(c)&&ig.game.O5405.draw(c.x+c.margin.x,c.y+c.margin.y,a,ig.game.O5405[c.group+"_"+b])}},O6607:function(){for(var a in this.items){var b=this.items[a];if(Array.isArray(b))for(var c=0;c<b.length;c++)this.O4944(b[c]);else this.O4944(b)}},O4944:function(a){this.O7011(a)&&
(a.doDebug&&a.clickspot)&&a.clickspot.O3262()},O7011:function(a){return null==this.O4123||null==a.O451||void 0==a.O451||"*"==a.O451[0]||-1<jQuery.inArray(this.O4123,a.O451)},O6499:function(a,b,c){if(this.O7011(a)){if(null==a.clickspot||void 0==a.clickspot)b=this.O1440(a),a.clickspot=new UIClickSpot(b,{x:b.width,y:b.height},!1,null),void 0!=a.doPlaySound&&null!=a.doPlaySound&&(a.clickspot.doPlaySound=a.doPlaySound),
null!=c?(a.onClick&&(a.clickspot.onClick=function(){a.onClick(c)}),a.onRightClick&&(a.clickspot.onClick=function(){a.onClick(c)}),a.O5944&&(a.clickspot.O5944=function(){a.O5944(c)}),a.O2172&&(a.clickspot.O2172=function(){a.O2172(c)})):(a.onClick&&(a.clickspot.onClick=function(){a.onClick()}),a.O5944&&(a.clickspot.O5944=function(){a.O5944()}),a.O2172&&(a.clickspot.O2172=function(){a.O2172()}));a.clickspot.update()}},
removeItems:function(){for(var a in this.items){var b=this.items[a];if(Array.isArray(b))for(var c=0;c<b.length;c++)b[c].clickspot=null;else b.clickspot=null}},stretch:function(a,b,c,d){for(var e in this.items){var f=this.items[e];0!=a&&(f.x=Math.ceil(f.x*a),f.width=Math.ceil(f.width*a),0!=c&&(f.x+=c));0!=b&&(f.y=Math.ceil(f.y*b),f.height=Math.ceil(f.height*b),0!=d&&(f.x+=d))}},O3668:function(a,b){for(var c in this.items){var d=this.items[c];0!=a&&(d.x=Math.ceil(d.x-a/2),d.width+=a);0!=b&&(d.y=
Math.ceil(d.y-b/2),d.height+=b)}},O1440:function(a){return{x:this.contextRectangle.x+a.x,y:this.contextRectangle.y+a.y,width:a.width,height:a.height}}})});ig.baked=!0;
ig.module("game.ui.areadialog").requires("game.ui.components.uidialog","game.ui.components.uiclickspot","game.ui.components.uiclickspothelper","game.ui.components.uiclicktext").defines(function(){window.AreaDialog=UIDialog.extend({pos:{x:10,y:10},size:{x:207,y:174},backgroundImage:null,img:null,O7422:1,O1380:6,nameMaxLength:40,O3806:1,O2812:40,O2499:1,O5047:6,O1826:40,O7411:200,O6246:["ANY",
"INDIVIDUALS"],protectionPos:[{x:152,y:13},{x:152,y:29}],state:"",O6483:!1,O2996:!1,O3363:void 0,O8328:!1,O888:!1,O1945:!1,O1658:!1,O3539:!1,O6630:!1,O2936:!1,O3159:!1,O354:null,data:{id:null,name:"",description:"",protection:"INDIVIDUALS",editors:[],supers:[],drift:{angle:0,speed:0},
areaGroupId:null,interactingId:null,generatorId:null,isSubArea:!1,isSinglePersonExperience:!1,isUnlisted:!1,backOverrideRgb:null,nonLoggedInChatIfEditorAround:!1,titleFont:null},driftRect:{x:132,y:119,width:18,height:18},backOverrideRgbRect:{x:193,y:123,width:9,height:9},O5955:0,driftImg:null,drifts:[{angle:0,speed:0},{angle:270,speed:20},{angle:315,speed:20},{angle:0,speed:20},{angle:45,speed:20},{angle:90,speed:20},{angle:135,speed:20},{angle:180,speed:20},{angle:225,speed:20}],singlePersonExperienceRect:{x:132,
y:19,width:9,height:9},interactingRect:{x:132,y:34,width:9,height:9},unlistedRect:{x:132,y:49,width:9,height:9},nonLoggedInChatIfEditorAroundRect:{x:132,y:64,width:9,height:9},generatorRect:{x:132,y:79,width:9,height:9},collectInteractingRect:{x:187,y:33,width:null,height:null},collectGeneratorRect:{x:187,y:78,width:null,height:null},ageRect:{x:132,y:7,width:null,height:null},snapshotRect:{x:132,y:97,width:null,height:null},subAreaInfoRect:{x:7,y:118,width:110,height:50},O5954:null,flagRect:{x:133,
y:158,width:5,height:8},titleRect:{x:3,y:4,width:114,height:8},sponsorRect:{x:60,y:6,width:60,height:8},descriptionRect:{x:3,y:26,width:113,height:38,padding:1},addressRect:{x:5,y:16,width:114,height:8},editorsRect:{x:2,y:70,width:109,height:90,padding:4},saveRect:{x:170,y:154,width:null,height:null},closeRect:{x:194,y:4,width:9,height:9},O4610:0.4,urlName:"",O2593:!1,O2152:!1,isSubAreaDialog:void 0,O8093:null,editors:{},O4215:null,O8150:null,
snapshotImage:null,O79:"*",editorshipToSet:{id:null,name:null,newState:null},O3523:null,O6097:null,O3530:!1,O7934:{},domElementIds:"createAreaTitle areaSponsor createAreaDescription createAreaEditors singlePersonExperienceLabel subAreaInfo".split(" "),areaNameSponsors:{9:"55fc86e4296655ce1bae19b5",m:"55fc86e4296655ce1bae19b5",h:"55fc86e4296655ce1bae19b5",x:"55fc86e4296655ce1bae19b5","-1":"57747dfecce67b1413666fe0",s:"55fc86e4296655ce1bae19b5",
pride:"51f6860bd71972b67b000004",d:"5a441cba09a6ccbe135c2760"},init:function(){},open:function(a,b){this.state="";ig.game.bottomMenu&&ig.game.bottomMenu.O609();ig.game.writableDialog.isOpen&&ig.game.writableDialog.close();ig.game.readableDialog.isOpen&&ig.game.readableDialog.close();if(!a||ig.game.O4269.rank>=ig.game.O3626){this.O3363=void 0;this.O2152=!a&&ig.game.isEditorHere;this.pos.x=Math.floor(ig.system.widthHalf-this.size.x/2);this.pos.y=Math.floor(ig.system.O8417-
this.size.y/2);this.pos.x+this.size.x>ig.system.width&&(this.pos.x=ig.system.width-this.size.x+4);0>this.pos.y&&(this.pos.y=-5);if(!this.isOpen){this.O6322();b&&(this.O8150=b,this.O4934(b));this.editors={};this.data.id=ig.game.areaId;this.O2152&&(this.data.drift=ig.game.O5662(ig.game.areaDrift),this.data.areaGroupId=ig.game.areaGroupId,this.data.interactingId=ig.game.areaGlobalInteractingId,this.data.generatorId=ig.game.areaGenerator.itemId);this.data.isSinglePersonExperience=
ig.game.O461;this.data.isUnlisted=ig.game.areaUnlisted;this.data.nonLoggedInChatIfEditorAround=ig.game.nonLoggedInChatIfEditorAround;this.data.backOverrideRgb=ig.game.O731;this.data.titleFont=ig.game.areaTitleFont;if(this.O2152||!ig.game.isEditorHere)ig.game.O2714&&(this.data.protection=ig.game.O2714),ig.game.areaName&&(this.data.name=ig.game.areaName),ig.game.O1054&&(this.data.description=ig.game.O1054);this.O2593=
a;ig.game.isEditorHere&&(this.editors[ig.game.O4269.O2507]={name:ig.game.O4269.name,isSuper:!0,isCreator:!0});var c=this;this.O2593||(this.O8328=!0,ig.game.O7421.O3311(this.data.id).done(function(a){a&&(c.editors=a,c.O8328=!1,c.O6275(),c.O2054(),c.doAutoSave&&(c.doAutoSave=!1,setTimeout(function(){c.trySave()},3E3)))}));this.data.drift&&(this.O5955=this.O156(this.data.drift));
this.isSubAreaDialog=this.O2593&&!ig.game.O707||this.O2152&&ig.game.O172.O1689();this.howLongAgo=null;if(ig.game.areaId&&!this.O2593&&!this.isSubAreaDialog){var d=ml.Misc.getTimestampFromObjectId(ig.game.areaId);this.howLongAgo=ig.game.strings.O5864(d,!0)}this.isSubAreaDialog&&(this.data.areaGroupId=ig.game.areaGroupId,this.data.isSubArea=!0);if(this.O2152||!ig.game.isEditorHere)this.urlName=this.O3325(this.data.name,
!0);this.O888=!this.O2593&&ig.game.isEditorHere&&("ANY"!=this.data.protection||this.data.isSinglePersonExperience);this.O1658=(this.O1945=!this.O2593&&ig.game.isEditorHere&&!this.isSubAreaDialog&&("ANY"!=this.data.protection||this.data.isUnlisted))&&!ig.game.O707;(this.O3159=this.O2936=!this.O2593&&ig.game.isEditorHere&&("ANY"!=this.data.protection||
5<=ig.game.O4269.rank))&&this.O7189();this.O6630=this.O3539=!this.O2593&&ig.game.isEditorHere&&!this.isSubAreaDialog&&"INDIVIDUALS"==this.data.protection;this.O2322();var d=ig.game.staticResourcePrefix+"media/create-area/",e=".png?v="+ig.game.version;this.img=new ml.Image(d+"background"+e,null,this);this.driftImg=new ml.Image(d+"drift"+e,null,this)}this.O2659();!ig.game.isEditorHere&&(void 0===this.O3363&&
ig.game.isFullAccount)&&ig.game.O7421.O2441(ig.game.areaGroupId).done(function(a){c.O3363=a&&a.flagged});this.parent()}else 0<ig.game.O4269.rank?ig.game.alertDialog.open({html:"<p>Please first try out placing and removing in this shared region, and collect or create something. You can collect something by dragging it into your side panel. You will then soon be able to create your own new area.</p>"}):ig.game.O4132.O2959();ig.game.isEditorHere&&!ig.game.areaAdForDisplay&&
jQuery("#areaAdsInfo").fadeIn()},O831:function(a,b,c){this.editorshipToSet={id:a,name:b,newState:Boolean(c)};this.O3523=a;this.open()},O6275:function(){var a=this.editorshipToSet&&this.editorshipToSet.id?this.editorshipToSet.id:null;if(a){var b=ig.game.strings.O4334(this.editorshipToSet.name);if(this.editorshipToSet.newState)this.O354='<span style="color: green" class="blinksoftAnimation">+'+b+"</span>",this.editors[a]={name:this.editorshipToSet.name,
justAddedViaEditorshipToSet:!0},ig.game.sounds.success.play();else{var c=this.editors[a];c&&(c.isSuper?(this.O354='<span style="color: red" class="blinksoftAnimation">'+b+"* can't be removed</span>",ig.game.sounds.nocando.play()):(this.O354='<span style="text-decoration: line-through; color: rgba(0,0,0,0.5)" class="blinksoftAnimation">'+b+"</span>",delete this.editors[a],ig.game.sounds.pickup.play()))}}this.editorshipToSet={}},O1641:function(){this.isOpen||
(ig.game.isFullAccount?ig.game.isEditorHere?ig.game.areaDialog.open(!0):ig.game.alertDialog.open('<p>To create a new area, go <span class="pseudoLink" onclick="'+(ig.game.O172.O1312?"ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest(3)":"ig.game.portaller.startExitAreaTeleportingRequest()")+'">elsewhere</span> first'+(1>=ig.game.O4269.rank?" and create &amp; build there a bit":"")+".</p>",!0):ig.game.bottomMenu.showLoginDialog(!0))},O6322:function(){this.data={id:null,
name:"",urlName:"",description:"",protection:"INDIVIDUALS",editors:[],supers:[],drift:{angle:0,speed:0},areaGroupId:null,interactingId:null,generatorId:null,isSubArea:!1,backOverrideRgb:null};this.O5955=0;this.editors={};this.O5954=this.editorsListMessage=this.snapshotImage=this.O8150=this.O4215=null},O2659:function(){var a=this,b={};b.close={O451:["*"],x:this.closeRect.x,y:this.closeRect.y,width:this.closeRect.width,height:this.closeRect.height,
doDebug:!1,clickspot:null,onClick:function(){a.close()}};ig.game.isEditorHere?(b.save={O451:[""],x:this.saveRect.x,y:this.saveRect.y,width:ig.game.O5405.bigOkButton.width,height:ig.game.O5405.bigOkButton.height,doDebug:!1,clickspot:null,onClick:function(){a.trySave()}},this.O2593||(this.O3539&&(b.addRemoveInteracting={O451:[""],x:this.interactingRect.x,y:this.interactingRect.y,width:this.interactingRect.width,height:this.interactingRect.height,
doDebug:!1,clickspot:null,onClick:function(){a.O3210()}},b.collectInteracting={O451:[""],x:this.collectInteractingRect.x,y:this.collectInteractingRect.y,width:ig.game.O5405.collectButton.width,height:ig.game.O5405.collectButton.height,doDebug:!1,clickspot:null,onClick:function(){a.O1329(a.data.interactingId)}},b.collectInteracting.doPlaySound=!1),this.O888&&(b.O2092={O451:[""],x:this.singlePersonExperienceRect.x,
y:this.singlePersonExperienceRect.y,width:this.singlePersonExperienceRect.width,height:this.singlePersonExperienceRect.height,doDebug:!1,clickspot:null,onClick:function(){a.O2092()}}),this.isSubAreaDialog||(this.O1945&&(b.O4008={O451:[""],x:this.unlistedRect.x,y:this.unlistedRect.y,width:this.unlistedRect.width,height:this.unlistedRect.height,doDebug:!1,clickspot:null,onClick:function(){a.O4008()}}),this.O1658&&
(b.nonLoggedInChatIfEditorAround={O451:[""],x:this.nonLoggedInChatIfEditorAroundRect.x,y:this.nonLoggedInChatIfEditorAroundRect.y,width:this.nonLoggedInChatIfEditorAroundRect.width,height:this.nonLoggedInChatIfEditorAroundRect.height,doDebug:!1,clickspot:null,onClick:function(){a.O7616()}}))),this.O2936&&(b.drift={O451:[""],x:this.driftRect.x,y:this.driftRect.y,width:this.driftRect.width,height:this.driftRect.height,doDebug:!1,clickspot:null,
onClick:function(){a.snapshotImage||a.O2932()}}),this.O3159&&(b.backOverrideRgb={O451:[""],x:this.backOverrideRgbRect.x,y:this.backOverrideRgbRect.y,width:this.backOverrideRgbRect.width,height:this.backOverrideRgbRect.height,doDebug:!1,clickspot:null,onClick:function(){a.O3244()}},this.O7934={width:163,height:172},this.O7934.x=Math.floor(this.size.x/2-this.O7934.width/2),this.O7934.y=Math.floor(this.size.y/
2-this.O7934.height/2),b.O7934={O451:["pickBackOverrideRgb"],x:this.O7934.x,y:this.O7934.y,width:this.O7934.width,height:this.O7934.height,doDebug:!1,clickspot:null,onClick:function(){a.pickColorAndCloseColorPicker()}})):b.addRemoveFlag={O451:[""],x:this.flagRect.x,y:this.flagRect.y,width:this.flagRect.width,height:this.flagRect.height,doDebug:!1,clickspot:null,onClick:function(){a.O620()}};this.clickSpots=
new UIClickSpotHelper(b,{x:this.pos.x,y:this.pos.y,width:this.size.x,height:this.size.y});this.clickSpots.O4123=this.state},O3244:function(){ig.input.state("ctrl")?ig.game.alertDialog.O8429('Enter Red, Green, Blue (like "255,0,0") or leave empty:',this.data.backOverrideRgb,ig.game.areaDialog.O6477):this.data.backOverrideRgb?(this.data.backOverrideRgb=null,ig.game.sounds.pickup.play()):this.O7042()},O6477:function(a){var b=ig.game.areaDialog;
b.data.backOverrideRgb=b.O478(a);b.data.backOverrideRgb?ig.game.sounds.success.play():ig.game.sounds.pickup.play()},O478:function(a){var b=null;a&&"string"===typeof a&&(a=a.split(","),3<=a.length&&(b=this.O3268(a[0])+","+this.O3268(a[1])+","+this.O3268(a[2])));return b},O3268:function(a){var b=0;isNaN(a)||(b=parseInt(a),0>b?b=0:255<b&&(b=255));return b},O7042:function(){this.state="pickBackOverrideRgb";
this.clickSpots.O4123=this.state;this.O8032()},pickColorAndCloseColorPicker:function(){var a=ig.system.context.getImageData(Math.floor(ig.input.mouse.x*ig.system.scale),Math.floor(ig.input.mouse.y*ig.system.scale),1,1).data,a=[a[0],a[1],a[2]];this.data.backOverrideRgb=a.join(",");ig.game.sounds.success.play();this.state="";this.clickSpots.O4123=this.state;this.O5377()},O620:function(){if(void 0!==this.O3363){var a=this;this.O3363?(this.O3363=
!1,ig.game.O7421.O1685(ig.game.areaGroupId,null).done(function(b){a.O3363=Boolean(b.flagged)})):ig.game.alertDialog.O8429("Please enter reason for reporting this area:",null,function(b){b&&""!=ig.game.strings.trim(b)&&ig.game.O7421.O1685(ig.game.areaGroupId,b).done(function(b){a.O3363=Boolean(b.flagged)})},"Report",null,null,null,null,ig.game.O5124)}},O156:function(a){for(var b=0,c=0;c<this.drifts.length;c++){var d=this.drifts[c];
if(a.angle==d.angle&&this.O8418(a.speed)==this.O8418(d.speed)){b=c;break}}return b},O8418:function(a){var b=null;a=Number(a);0<a?b=1:0>a?b=-1:0==a&&(b=0);return b},toggleProtection:function(a){this.data.protection=this.data.protection==this.O6246[0]?this.O6246[1]:this.O6246[0];this.O2054()},trySave:function(){var a=jQuery("#createAreaTitle").val(),b=jQuery("#createAreaDescription").val(),c=["elsewhere","last","home"];if(this.O8328)this.O331("Please wait while the editor list is being loaded");
else if(this.O2996)this.O331("This area name is not available");else if(a&&a!=a.trim())this.O331("Name may not start with or end in spaces");else if(a&&ig.game.strings.O1933(a))this.O331("Name may not include < or >");else if(ig.game.strings.O1933(b))this.O331("Description may not include < or >");else if(a&&0<=a.indexOf("  "))this.O331("Name may not include double spaces");else if(!this.O2152&&a&&!this.isSubAreaDialog&&
!(a.length>=this.O1380&&a.length<=this.nameMaxLength))this.O331("Name should use from "+this.O1380+"-"+this.nameMaxLength+' letters.<br/><br/><a href="/info#short" target="_blank">Very short names can be bought</a>, though.',!0);else if(!this.data.name||""==this.data.name.length)this.O331("Please enter an area name");else if(this.isSubAreaDialog&&!(this.data.name.length>=this.O3806&&this.data.name.length<=this.O2812))this.O331("Name must be between "+
this.O3806+"-"+this.O2812+" letters");else if(this.isSubAreaDialog&&0<=c.indexOf(this.data.name.toLowerCase()))this.O331("Sorry, this name cannot be used");else{var d=this;this.data.description=b;if("INDIVIDUALS"==this.data.protection)for(var e in this.editors)e&&(this.data.editors.push(e),this.editors[e].isSuper&&this.data.supers.push(e));this.data.drift&&0==this.data.drift.speed&&delete this.data.drift;this.O2152?ig.game.O7421.O5500(this.data.id,
this.data).done(function(a){d.snapshotImage?ig.game.O4803.register(ig.game.O4803.types.CREATED_AREA_SNAPSHOT,function(){var a=d.snapshotImage.src.substr(22),b=ig.game.O5662(ig.game.customSnapshotDialog.size);ig.game.O7421.O2979(d.data.id,a,b.x,b.y).done(function(a){d.close();location.reload()})}):("INDIVIDUALS"==ig.game.O2714&&ig.game.O4349.O2738(d.O3523),d.O3523?d.O3523=
null:setTimeout(function(){location.reload()},500),d.close())}).fail(function(){ig.game.sounds.nocando.play()}):ig.game.O7421.createArea_P(this.data).done(function(a){a.tooMany?(ig.game.alertDialog.open("Sorry, you reached the current limit for creating "+(d.isSubAreaDialog?"sub-areas":"areas")+". Feel free to contact us at we@manyland.com to discuss."),ig.game.sounds.nocando.play()):(d.close(),ig.game.O4803.register(ig.game.O4803.types.DID_CREATE_AREA,function(){d.isSubAreaDialog?
ig.game.portaller.O8108(d.data.name,1):(ig.game.sounds.ringportalling.play(),ig.game.O231.O7566(d.urlName))}))}).fail(function(){ig.game.sounds.nocando.play();d.data.name=null;d.O4312()})}},O331:function(a,b){a="Ooops: "+a;b&&(a="<p>"+a+"</p>");ig.game.alertDialog.open(a,b);ig.game.sounds.nocando.play()},update:function(){this.isOpen&&(this.clickSpots.O2684(),this.O8093&&!this.snapshotImage&&this.O8093.update(),
this.O4215&&this.O4215.update());this.parent()},O2092:function(){this.data.isSinglePersonExperience=!this.data.isSinglePersonExperience;this.data.isSinglePersonExperience&&ig.game.sounds.success.play()},O4008:function(){this.data.isUnlisted=!this.data.isUnlisted;this.data.isUnlisted&&ig.game.sounds.success.play()},O7616:function(){this.data.nonLoggedInChatIfEditorAround=!this.data.nonLoggedInChatIfEditorAround;this.data.nonLoggedInChatIfEditorAround&&
ig.game.sounds.success.play()},O2054:function(){var a="";if(!this.O8328){if("INDIVIDUALS"==this.data.protection){var b='<span style="opacity: 0.5">'+this.O79+"</span>",c="opacity: 0.5; margin-bottom: 20px;";this.O2593&&(c+="line-height: 1.5em;");a+='<div style="'+c+'">'+(this.O2593?"Editors (can be changed later):":"Editors:")+"</div>";this.O354&&(a+='<div style="margin-bottom: 15px">'+this.O354+"</div>");
var a=a+'<table class="editorsTable">',d;for(d in this.editors)if((c=this.editors[d])&&c.name){var e=d==ig.game.O4269.O2507,a=a+'<tr class="editorLine">';if(e)a+="<td>Me"+(ig.game.O2052?b:"")+"</td>",ig.game.isEditorHere&&(a+="<td>&nbsp;</td>");else if(c.justAddedViaEditorshipToSet)delete c.justAddedViaEditorshipToSet;else{var a=a+"<td>",e=c.name,e=ig.game.strings.replaceAll(e,this.O79," "),e=e.trim(),e=ig.game.strings.O2833(e,20),f="ig.game.areaDialog.openPlayerProfile('"+
ig.game.strings.O4334(d)+"')",a=a+('<span onclick="'+f+'" class="hoverPseudolink" style="color: rgba(0,0,0,0.85)">'+ig.game.strings.O4334(e)+"</span>");c.isSuper&&(a+=b);a+="</td>";if(c.justAdded||ig.game.O2052&&!c.isSuper)a+="<td>&nbsp;<span onclick=\"ig.game.areaDialog.O5705('"+d+'\')" class="pseudolink editorRemove">Remove</span></td>'}a+="</tr>"}a+="</table>";b=!this.O2593;ig.game.O2052&&!this.O354&&(a+='<div class="editorAddLine"><span onclick="ig.game.areaDialog.O3406()" class="pseudolink editorAdd">Add</span>',
b&&(a+=' &nbsp;<span onclick="ig.game.areaDialog.O2171()" class="pseudolink superEditorAdd">Add*</span></div>'));b&&(a+='<div style="margin-top: 30px; opacity: 0.3; line-height: 1.6em">*<span class="pseudolink" onclick="ig.game.areaDialog.explainStarEditors()">Star editors</span> can edit this list</div>');this.O354=null}else a+="<div>","CITIZENS"==this.data.protection&&(a+="semi-"),a+="open edits",this.O2593&&(a+=" <span style='font-size: 90%; opacity: .5'>(can't be changed later)</span>"),
a+="<br/>&nbsp;</div>";this.O2593&&5<=ig.game.O4269.rank&&(a+='<div class="toggleProtection" style="color: rgb(168,168,168)">&nbsp;<br/>&nbsp;<br/><span onclick="ig.game.areaDialog.toggleProtection()" class="pseudoLink" style="font-size: 90%">',a+="INDIVIDUALS"==this.data.protection?"set to open edits":"set to editor list",a+="</span>",a+="</div>");jQuery("#createAreaEditors").show()}jQuery("#createAreaEditors").html(a)},explainStarEditors:function(){ig.game.alertDialog.open({html:"<p>Star editors can add or remove area editors. Once added, star editors are unremovable and equal co-owners of the area</p>",
O3526:!0})},O5705:function(a){delete this.editors[a];ig.game.sounds.click.play();this.O2054()},O6023:function(a){var b=this;ig.game.O7421.O1818(a).done(function(c){c&&(b.editors[a]?ig.game.sounds.nocando.play():b.editors[a]={name:c.screenName,isSuper:"addSuperEditor"==b.mode,justAdded:!0},b.mode=null,ig.game.friendsDialog.close(),b.O2054(),ig.game.writableDialog&&ig.game.writableDialog.isOpen&&ig.game.writableDialog.close(),
ig.game.playerDialog&&ig.game.playerDialog.isOpen&&ig.game.playerDialog.close(),ig.game.sounds.success.play())})},O3406:function(){ig.game.sounds.click.play();this.mode="addEditor";ig.game.friendsDialog.open()},O2171:function(){this.mode="addSuperEditor";ig.game.alertDialog.open({html:'<p><span style="color: red">Caution:</span> Making someone a Star Editor fully shares ownership of the area, and can never be undone again.</p>',O6041:function(){ig.game.friendsDialog.open()},
O3526:!0})},draw:function(){this.isOpen&&(this.img&&this.img.loaded&&this.driftImg&&this.driftImg.loaded)&&(this.img.draw(this.pos.x,this.pos.y,0,0,this.size.x,this.size.y),this.O7262(),this.clickSpots.O6607(),this.O5714(),this.drawTitle(),this.O3108(),this.O1172(),this.O4084(),this.O7943(),this.O7880(),this.O1683(),this.O1069(),
this.O1704(),this.clicktextEditorFootnote&&this.clicktextEditorFootnote.draw(),this.O36(),this.O2298(),this.O4946(),ig.game.isEditorHere&&ig.game.O5405.O791(this.pos.x+this.saveRect.x,this.pos.y+this.saveRect.y),ig.game.O5405.O2119(this.pos.x+this.closeRect.x,this.pos.y+this.closeRect.y))},O36:function(){this.O3539&&this.data.interactingId&&ig.game.O5405.draw(this.pos.x+
this.collectInteractingRect.x,this.pos.y+this.collectInteractingRect.y,1,ig.game.O5405.collectButton)},O185:function(){this.O6630&&(this.data.generatorId&&ig.game.areaGenerator.O3628)&&ig.game.O5405.draw(this.pos.x+this.collectGeneratorRect.x,this.pos.y+this.collectGeneratorRect.y,1,ig.game.O5405.collectButton)},O1704:function(){!this.isSubAreaDialog&&(!this.O2593&&ig.game.albumDialog.O3067())&&ig.game.O5405.draw(this.pos.x+
124,this.pos.y+5,1,ig.game.O5405.openAlbumButton)},O2298:function(){if(ig.game.isEditorHere&&!this.isSubAreaDialog&&"INDIVIDUALS"==this.data.protection&&!this.O2593){if(!this.O4215){this.O4215=new UIClickText({x:this.pos.x+this.snapshotRect.x,y:this.pos.y+this.snapshotRect.y},"+snapshot",ig.game.blackSmallFont,"#000000",this.O4610);this.O4215.playSound=!1;var a=this;this.O4215.onClick=function(){""==a.state&&(ig.game.areaDialog.snapshotImage?
(ig.game.areaDialog.snapshotImage=null,ig.game.areaDialog.O8150=null,ig.game.areaDialog.O4215=null,ig.game.sounds.bin.play()):(ig.game.customSnapshotDialog.open(),ig.game.areaDialog.close()))}}if(this.snapshotImage&&this.snapshotImage.width){var b=this.snapshotImage.width/(ig.system.scale/2)-1;ig.system.context.drawImage(this.snapshotImage,(this.pos.x+this.snapshotRect.x)*ig.system.scale,(this.pos.y+this.snapshotRect.y)*ig.system.scale,b,this.snapshotImage.height/(ig.system.scale/
2)-1);"x"!=this.O4215.text&&(this.O4215.pos.x+=b/ig.system.scale+3,this.O4215.O3937("x"),this.O4215.alpha=0.25)}this.O4215.draw()}},O6118:function(){if(this.O6630&&!this.data.generatorId&&!ig.game.areaGenerator.itemId&&!ig.game.areaGenerator.O3628){if(!this.O5954){this.O5954=new UIClickText({x:this.pos.x+this.generatorRect.x+53,y:this.pos.y+this.generatorRect.y+2},"Try",ig.game.blackSmallFont,"#000000",
this.O4610);var a=this;this.O5954.onClick=function(){a.data.generatorId||(ig.game.areaGenerator.O3371(),a.close())}}this.O5954.draw()}},O1069:function(){!ig.game.isEditorHere&&void 0!==this.O3363&&ig.game.O5405.draw(this.pos.x+this.flagRect.x,this.pos.y+this.flagRect.y,this.O3363?1:0.5,ig.game.O5405["flag"+(this.O3363?"On":"Off")])},O1172:function(){if(this.O3539){var a=
this.pos.x+this.interactingRect.x,b=this.pos.y+this.interactingRect.y;ig.game.O5405.draw(a,b,1,ig.game.O5405["areaGlobalInteractingButton"+(this.data.interactingId?"Active":"Inactive")]);ig.system.context.globalAlpha=this.O4610;ig.game.blackSmallFont.draw("interacting",a+12,b+2);ig.system.context.globalAlpha=1}},O2132:function(){if(this.O6630){var a=this.pos.x+this.generatorRect.x,b=this.pos.y+this.generatorRect.y;ig.game.O5405.draw(a,b,
1,ig.game.O5405["generatorButton"+(this.data.generatorId?"Active":"Inactive")]);ig.system.context.globalAlpha=this.O4610;ig.game.blackSmallFont.draw("generator",a+12,b+2);ig.system.context.globalAlpha=1}},O4084:function(){if(this.O888){var a=this.pos.x+this.singlePersonExperienceRect.x,b=this.pos.y+this.singlePersonExperienceRect.y;ig.game.O5405.draw(a,b,1,ig.game.O5405["singlePersonExperienceButton"+(this.data.isSinglePersonExperience?
"Active":"Inactive")]);ig.system.context.globalAlpha=this.O4610;ig.game.blackSmallFont.draw("see no one",a+12,b+2);ig.system.context.globalAlpha=1}},O7943:function(){if(this.O1945){var a=this.pos.x+this.unlistedRect.x,b=this.pos.y+this.unlistedRect.y;ig.game.O5405.draw(a,b,1,ig.game.O5405["unlistedButton"+(this.data.isUnlisted?"Active":"Inactive")]);ig.system.context.globalAlpha=this.O4610;ig.game.blackSmallFont.draw("hide in search",
a+12,b+2);ig.system.context.globalAlpha=1}},O7880:function(){if(this.O1658){var a=this.pos.x+this.nonLoggedInChatIfEditorAroundRect.x,b=this.pos.y+this.nonLoggedInChatIfEditorAroundRect.y;ig.game.O5405.draw(a,b,1,ig.game.O5405["nonLoggedInChatIfEditorAroundButton"+(this.data.nonLoggedInChatIfEditorAround?"Active":"Inactive")]);ig.system.context.globalAlpha=this.O4610;ig.game.blackSmallFont.draw("Explorer chat\nif editor here",
a+12,b);ig.system.context.globalAlpha=1}},O1683:function(){this.O3159&&(ig.game.O5405.draw(this.pos.x+this.backOverrideRgbRect.x,this.pos.y+this.backOverrideRgbRect.y,1,ig.game.O5405["backOverrideRgbButton"+(this.data.backOverrideRgb?"Active":"Inactive")]),this.data.backOverrideRgb&&(ig.system.context.fillStyle="rgb("+this.data.backOverrideRgb+")",this.fillRect(this.pos.x+this.backOverrideRgbRect.x+1,this.pos.y+this.backOverrideRgbRect.y+1,this.backOverrideRgbRect.width-
2,this.backOverrideRgbRect.height-2)))},O2932:function(){++this.O5955>=this.drifts.length&&(this.O5955=0);this.data.drift=ig.game.O5662(this.drifts[this.O5955])},O7189:function(){if(!this.O3530){var a="/media/color-picker.png?v="+ig.game.version;ig.game.isLocal||(a="//static.manyland.com"+a);this.O6097=new Image;this.O6097.crossOrigin="Anonymous";var b=this;this.O6097.onload=function(){b.O3530=
!0};this.O6097.src=a}},O4946:function(){"pickBackOverrideRgb"==this.state&&this.O3530&&ig.system.context.drawImage(this.O6097,0,0,this.O7934.width,this.O7934.height,this.pos.x*ig.system.scale+this.O7934.x*ig.system.scale,this.pos.y*ig.system.scale+this.O7934.y*ig.system.scale,this.O7934.width*ig.system.scale,this.O7934.height*ig.system.scale)},O5714:function(){if(this.O2936&&
!this.snapshotImage){var a=this.driftRect;this.driftImg.draw(this.pos.x+a.x,this.pos.y+a.y,this.O5955*(a.width+1),0,a.width,a.height);this.data.drift&&this.data.drift.speed?(!this.O8093&&this.O2936&&(this.O8093=new UIClickText({x:this.pos.x+a.x+a.width+5,y:this.pos.y+a.y+a.height-7},String(this.data.drift.speed)+"%",ig.game.blackFont,"#000000",0.5),this.O8093.onClick=function(){ig.game.alertDialog.O8429("Enter speed from 1 - 100%:",String(ig.game.areaDialog.data.drift.speed)+
"%",ig.game.areaDialog.O3231)}),this.O8093&&(ig.system.context.globalAlpha=0.5,this.O8093.draw(),ig.system.context.globalAlpha=1)):this.O8093&&(this.O8093=null)}},O3231:function(a){a&&(a=String(a),a=ig.game.strings.replaceAll(a,"%",""),a==parseInt(a)?(a=parseInt(a),1<=a&&100>=a?(ig.game.areaDialog.data.drift.speed=a,ig.game.areaDialog.O8093.O3937(String(a)+"%")):ig.game.sounds.nocando.play()):ig.game.sounds.nocando.play())},
drawTitle:function(){if(this.data.name&&!this.O2593){var a=this.data.name,a=ig.game.strings.O2833(a,30),b=this.pos.x+this.titleRect.x+3,c=this.pos.y+this.titleRect.y+3,d=this.data.titleFont?this.data.titleFont+"Font":"blackFont";this.data.titleFont&&(b-=1,c-=1);ig.game[d].draw(a,b,c)}},O3108:function(){var a=this.pos.x+this.addressRect.x+1,b=this.pos.y+this.addressRect.y+1;if(this.urlName){var c;this.isSubAreaDialog?c=ig.game.strings.O2833("Interacting: /to "+
this.data.name,24):(c=this.urlName,0===c.indexOf("shortento")&&(c=c.substring(9)+" (shortened)"),c=15>=c.length?"manyland.com/"+c:"../"+c,c=ig.game.strings.O2833(c,24));ig.system.context.globalAlpha=0.9;ig.game.whiteSmallFont.draw(c,a,b);ig.system.context.globalAlpha=1}else this.O2593&&this.O2996&&(ig.system.context.globalAlpha=0.4,ig.game.blackSmallFont.draw("oops, name unavailable",a,b),ig.system.context.globalAlpha=1)},O7392:function(){if(!this.isSubAreaDialog)for(var a=
0;a<this.O6246.length;a++){var b=this.protectionPos[a];this.data.protection==this.O6246[a]&&(ig.system.context.fillStyle="rgb(0,0,0)",this.fillRect(this.pos.x+b.x+3,this.pos.y+b.y+5,3,1),this.fillRect(this.pos.x+b.x+4,this.pos.y+b.y+4,1,3))}},O7262:function(){if(this.howLongAgo&&!this.isSubAreaDialog){var a=this.pos.x+this.ageRect.x,b=this.pos.y+this.ageRect.y;ig.system.context.globalAlpha=0.5;ig.game.whiteSmallFont.draw(this.howLongAgo,a,b);ig.system.context.globalAlpha=
1}},close:function(){this.O6097=this.editorshipToSet=this.O3523=null;this.O3530=!1;this.mode=null;this.O5329();ig.game.isEditorHere&&!ig.game.areaAdForDisplay&&jQuery("#areaAdsInfo").fadeOut();this.parent()},openPlayerProfile:function(a){this.close();this.isOpen=!1;ig.game.playerDialog.openForPlayerId(a,void 0,!0)},O7143:function(){var a=null;this.data&&this.data.name&&(a=this.areaNameSponsors[this.data.name]);return a},O2322:function(){var a=
this.O2593&&ig.game.isEditorHere;this.isSubAreaDialog&&!this.O2593&&(a=!1);var b=this.isSubAreaDialog?"sub-area name":"area name",c=this.O7524(this.titleRect,void 0,a,0);a||(c+="font-weight: bold");a&&(b='<input type="text" style="'+c+'" maxLength="'+this.nameMaxLength+'" onkeyup="ig.game.areaDialog.O4312()" class="createAreaInput" id="createAreaTitle" placeholder="'+b+'" value="'+ig.game.strings.O4334(this.data.name)+'"'+(a?"":' readonly="readonly"')+
"/>",jQuery(b).appendTo("body"));if((b=this.O7143())&&!a)a='<div id="areaSponsor" style="'+this.O7524(this.sponsorRect)+'"><span onclick="ig.game.areaDialog.openPlayerProfile(\''+b+'\')" class="pseudolink" style="color: rgb(160,130,0)">sponsor</span></div>',jQuery(a).appendTo("body");this.isSubAreaDialog?(a=""+('<div class="areaInfoLabel" id="subAreaInfo" style="'+this.O7524(this.subAreaInfoRect)+'opacity: 0.9">'),a+="Sub-Areas are part of this main area and inherit the settings.",
this.O2152||(a+="<br/><br/>(To create a new area, click 'Elsewhere' first)"),jQuery(a+"</div>").appendTo("body")):(a=this.O7524(this.descriptionRect,void 0,ig.game.isEditorHere),a+="padding: "+this.descriptionRect.padding*ig.system.scale+"px;",a='<textarea type="text" style="'+(a+"color: rgba(0,0,0,0.85);")+'" class="createAreaInput" id="createAreaDescription" '+(ig.game.isEditorHere?"":" readonly ")+'placeholder="'+(ig.game.isEditorHere?"optional description":"")+'" maxLength="'+
this.O7411+'">'+ig.game.strings.O4334(this.data.description)+"</textarea>",jQuery(a).appendTo("body"),a='<div style="'+this.O7524(this.editorsRect,2,ig.game.O2052)+";padding: "+this.editorsRect.padding*ig.system.scale+'px;" class="createAreaInput" id="createAreaEditors"></div>',jQuery(a).appendTo("body"));jQuery("#createAreaDescription").keydown(function(a){a.stopPropagation()});this.O2054();this.data&&(this.data.isSinglePersonExperience&&!ig.game.isEditorHere&&
!this.data.isSubArea)&&(a='<div style="'+this.O7524({x:-4,y:176,width:152,height:18},0)+'" id="singlePersonExperienceLabel">No one can see anyone else here</div>',jQuery(a).appendTo("body"))},O3835:function(a){var b=ig.system.scale;a=a?"rgba(0,0,0,0.5)":"rgba(255,255,255,0)";return"border-left: "+b+"px solid "+a+"; border-top: "+b+"px solid "+a+";"},O4312:function(){var a=jQuery("#createAreaTitle").val();if(a&&(!this.isSubAreaDialog&&a.length>=this.O1380||
this.isSubAreaDialog&&a.length>=this.O3806)){if(a!=this.data.name){var b=this,c=this.O3325(a);c&&(this.isSubAreaDialog?ig.game.O7421.O5262(c,this.data.areaGroupId).done(function(d){b.O5275(a,c,d)}):ig.game.O7421.O2438(c).done(function(d){b.O5275(a,c,d&&d.ok)}))}}else this.urlName=this.data.name="",this.O2996=!1},O5275:function(a,
b,c){a==jQuery("#createAreaTitle").val()&&(c?(this.data.name=ig.game.strings.trim(a),this.urlName=b,this.O2996=!1):(this.data.name=ig.game.strings.trim(a),this.urlName&&!this.O2996&&ig.game.sounds.nocando.play(),this.urlName="",this.O2996=!0))},O3325:function(a,b){var c="",d=this.isSubAreaDialog?this.O3806:this.O1380,e=this.isSubAreaDialog?this.O2812:this.nameMaxLength;if(a&&"string"==typeof a&&a==a.trim()&&
(a.length>=d&&a.length<=e||b)&&-1===a.indexOf("  ")){for(var f=0;f<a.length;f++){var g=a.substr(f,1),g=g.toLowerCase();0<="abcdefghijklmnopqrstuvwxyz0123456789-".indexOf(g)&&(c+=g)}b||c.length>=d&&c.length<=e||(c="")}return c},O3210:function(){"INDIVIDUALS"==this.data.protection&&(this.data.interactingId?(ig.game.sounds.bin.play(),this.data.interactingId=null):this.O2593||(this.data.interactingId=null,ig.game.alertDialog.open('<p>Now pick an Interacting from the right to add <a href="/info-interacting#areaGlobal" target="_blank">area-global</a> functionality.</p>',
!0,null,null,null,!0),ig.game.alertDialog.contextId="areaGlobalInteractingId"))},O7945:function(){"INDIVIDUALS"==this.data.protection&&(this.data.generatorId?(ig.game.sounds.bin.play(),this.data.generatorId=null):this.O2593||(this.data.generatorId=null,ig.game.alertDialog.open('<p>Now pick an <a href="/info-generator" target="_blank">Area Generator</a> from the right.</p>',!0,null,null,null,!0),ig.game.alertDialog.contextId="generatorId"))},O1329:function(a){if(a){var b=
ig.game.panelSet.panels[ig.game.panelSet.tabEnum.collected];1!=ig.game.panelSet.tabState&&ig.game.panelSet.O7981(1);ig.game.O4703.O2163(a,b.O7424)}},O5010:function(a){a&&(this.data.interactingId=a,ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),ig.game.sounds.success.play())},O4048:function(a){a&&(this.data.generatorId=a,ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),ig.game.sounds.success.play())},O7524:function(a,b,c,d){void 0===
b&&(b=1);var e=jQuery("#"+ig.game.canvasId).position();a="font-size: "+Math.round(4+2.5*ig.system.scale)+"px;left: "+Math.round(e.left+(this.pos.x+a.x+b)*ig.system.scale)+"px;top: "+Math.round(e.top+(this.pos.y+a.y+b)*ig.system.scale)+"px;width: "+(a.width-2*b)*ig.system.scale+"px;height: "+(a.height-2*b)*ig.system.scale+"px;";void 0!==c&&(void 0===d&&(d=0.5),a=a+("background-color: rgba(255,255,255,"+(c?0.9:d)+");")+this.O3835(c));return a},O5329:function(){for(var a=
0;a<this.domElementIds.length;a++)jQuery("#"+this.domElementIds[a]).remove()},O8032:function(){for(var a=0;a<this.domElementIds.length;a++)jQuery("#"+this.domElementIds[a]).hide()},O5377:function(){for(var a=0;a<this.domElementIds.length;a++)jQuery("#"+this.domElementIds[a]).show()},clearRect:function(a,b,c,d){ig.system.context.clearRect(Math.ceil(a*ig.system.scale),Math.ceil(b*ig.system.scale),Math.ceil(c*ig.system.scale),Math.ceil(d*ig.system.scale))},fillRect:function(a,b,c,
d){ig.system.context.fillRect(Math.ceil(a*ig.system.scale),Math.ceil(b*ig.system.scale),Math.ceil(c*ig.system.scale),Math.ceil(d*ig.system.scale))},strokeRect:function(a,b,c,d){ig.system.context.strokeRect(Math.ceil(a*ig.system.scale),Math.ceil(b*ig.system.scale),Math.ceil(c*ig.system.scale),Math.ceil(d*ig.system.scale))},fillText:function(a,b,c){ig.system.context.fillText(a,b*ig.system.scale,c*ig.system.scale)},O4934:function(a){var b=document.createElement("canvas");b.width=ig.game.customSnapshotDialog.size.x*
ig.system.scale;b.height=ig.game.customSnapshotDialog.size.y*ig.system.scale;b.getContext("2d").putImageData(a,0,0);this.snapshotImage=document.createElement("img");this.snapshotImage.src=b.toDataURL("image/png")}})});ig.baked=!0;
ig.module("game.ui.clonehistorydialog").requires("game.ui.components.uidialog","game.ui.components.uiclickspot","game.ui.components.uiclickspothelper").defines(function(){window.CloneHistoryDialog=UIDialog.extend({pos:{},size:{},entities:[],O3431:6,O6486:{},O7140:!1,hasNext:!1,O8177:0,O5128:null,positions:{},init:function(){this.positions.previousArrow={x:5,y:4};this.positions.nextArrow={x:18,y:this.positions.previousArrow.y}},open:function(a){this.isOpen&&this.close();
this.entities=[];this.O8177=0;this.size={x:ig.game.O5405.itemListDialog.width,y:ig.game.O5405.itemListDialog.height};this.O1202();this.O6486={x:Math.round(ig.game.O4269.pos.x),y:Math.round(ig.game.O4269.pos.y)};this.parent();this.O681(a)},O681:function(a){if(this.isOpen){var b=this.entities.length,c=this,d=a?a:this.entities[b-1].clonedFrom;if(d){var e=ig.game.O4961.getItemBasic(d,"ui_chd1_ok");e&&e.imagesBeingGenerated.done(function(){var a=
{thingTypeId:e.id,flip:0,attributes:e.attributes,animSheet:ig.game.entityManager.getAnimationForEntity(e,0,0),O6454:!0,O5998:!0};ig.game.entityManager.O6079(e.O7062(),e,a,!0);var g=c.pos.x+c.size.x+ig.game._rscreen.x-30*(c.entities.length+1),h=c.pos.y+ig.game._rscreen.y+a.animSheet.height/2+12;"STACKWEARB"==e.base&&(h-=8);var k="Entity"+ig.game.strings.toUpperCaseFirst(e.base.toLowerCase());ig.global[k]||(k="EntityDefault");c.entities[b]=new ig.global[k](g,h,a);
c.entities[b].clonedFrom=e.clonedFrom;c.entities[b].creatorName="";ig.game.O4703.O1620(d).done(function(a){c.entities[b].creatorName=a&&a.name});c.entities[b].update();c.entities.length<c.O3431&&setTimeout(function(){ig.game.cloneHistoryDialog.O681()},5)})}}},draw:function(){this.isOpen&&(ig.game.O5405.draw(this.pos.x,this.pos.y,0.85,ig.game.O5405.itemListDialog),ig.game.O5405.draw(this.pos.x+32,this.pos.y+4,0.85,ig.game.O5405.cloneHistoryHeader),
this.O7474(),this.O7140&&ig.game.O5405.draw(this.pos.x+this.positions.previousArrow.x,this.pos.y+this.positions.previousArrow.y,0.45,ig.game.O5405.previousArrow),this.hasNext&&ig.game.O5405.draw(this.pos.x+this.positions.nextArrow.x,this.pos.y+this.positions.nextArrow.y,0.45,ig.game.O5405.nextArrow))},O7474:function(){for(var a=this.entities.length-1;0<=a;a--){var b=this.entities[a];b&&b.draw()}for(a=this.entities.length-1;0<=a;a--)if((b=this.entities[a])&&
b.isHovered&&!ig.ua.mobile){var c=b.pos.x+b.size.x/2-ig.game.screen.x,d=this.pos.y+this.size.y/2+13,e=0;b.creatorName&&(ml.Misc.O3941(ig.game.strings.O2833(b.creatorName,25),c,d+e),e+=7);b=ml.Misc.getTimestampFromObjectId(b.thingTypeId);ml.Misc.O3941(ig.game.strings.O5864(b,!0," "),c,d+e)}},update:function(){this.O1202();this.O7140=this.entities.length>=this.O3431&&this.entities[this.entities.length-1].clonedFrom;this.hasNext=0>this.O8177;
this.O7284();for(var a=ig.game.O6099.O5632(),b=ig.game.O6099.O2757(),c=this.O4499(),d=0;d<this.entities.length;d++){var e=this.entities[d];if(e&&(e.update(),e.isHovered&&(b||ig.ua.mobile&&a))){ig.game.O6099.O1788(!0);var f=ig.game.O4961.getItemBasic(e.thingTypeId,"ui_chd2");ig.game.itemContextMenu.O2718(e,f,{x:e.pos.x-ig.game._rscreen.x,y:e.pos.y-ig.game._rscreen.y+23})}}c&&this.O7140&&ig.input.pressed("wheeldown")?
(ig.game.O6099.O6375(!0),this.O1743()):c&&this.hasNext&&ig.input.pressed("wheelup")?(ig.game.O6099.O6375(!0),this.O5768()):this.O7140&&this.O4678("previousArrow")?(ig.game.O6099.O6375(!0),this.O1743()):this.hasNext&&this.O4678("nextArrow")?(ig.game.O6099.O6375(!0),this.O5768()):ig.game.O6099.O4678(this.pos.x+180,this.pos.y+4,this.pos.x+
190,this.pos.y+10)&&(ig.game.O6099.O6375(!0),this.close());this.O6263();this.parent()},O1202:function(){this.pos={x:ig.game.O4269.pos.x-ig.game._rscreen.x-this.size.x/2+(ig.game.O2050?20:0),y:ig.game.O4269.pos.y-ig.game._rscreen.y-this.size.y/2-30}},O4499:function(){var a=!1;this.isOpen&&(a=ig.input.mouse.x>=this.pos.x&&ig.input.mouse.x<=this.pos.x+this.size.x&&ig.input.mouse.y>=this.pos.y&&ig.input.mouse.y<=this.pos.y+this.size.y);return a},
O4678:function(a){return ig.game.O6099.O4678(this.pos.x+this.positions[a].x,this.pos.y+this.positions[a].y,this.pos.x+this.positions[a].x+ig.game.O5405[a].width,this.pos.y+this.positions[a].y+ig.game.O5405[a].height)},O1743:function(){this.O8177--;ig.game.itemContextMenu.isOpen&&ig.game.itemContextMenu.close();var a=this.entities[this.entities.length-1].clonedFrom;this.O5128=this.entities[0].thingTypeId;this.O3174();
this.O681(a)},O5768:function(){0>this.O8177&&(this.O8177++,ig.game.itemContextMenu.isOpen&&ig.game.itemContextMenu.close(),this.O3174(),this.O681(this.O5128))},O7284:function(){for(var a=ig.game.O6099.O4260(),b=!1,c=0;c<this.entities.length;c++){var d=this.entities[c];d&&(d.isHovered=!1,b||(d.isHovered=a.x>=d.pos.x&&a.x<=d.pos.x+d.size.x&&a.y>=d.pos.y&&a.y<=d.pos.y+d.size.y,d.isHovered&&(b=!0)))}},O6263:function(){(!ig.game.O4269||
this.O6486.x!=Math.round(ig.game.O4269.pos.x)||this.O6486.y!=Math.round(ig.game.O4269.pos.y))&&this.close()},close:function(){this.isOpen&&(ig.game.itemContextMenu.O5414&&ig.game.itemContextMenu.isOpen&&ig.game.itemContextMenu.close(),this.O3174(),this.O5128=null,this.parent())},O3174:function(){for(var a=0;a<this.entities.length;a++)this.entities[a]&&this.entities[a].tidyUp&&this.entities[a].tidyUp(),delete this.entities[a];
this.entities=[]}})});ig.baked=!0;
ig.module("game.ui.itemlistdialog").requires("game.ui.components.uidialog","game.ui.components.uiclickspot","game.ui.components.uiclickspothelper").defines(function(){window.ItemListDialog=UIDialog.extend({pos:{},size:{},entities:[],O6486:{},positions:{},gridSize:{x:7,y:6},title:null,open:function(a,b,c,d){this.isOpen&&this.close();this.title=c;this.entities=[];this.page=d;this.size={x:219,y:219};this.O1202();this.O6486={x:Math.round(ig.game.O4269.pos.x),y:Math.round(ig.game.O4269.pos.y)};
this.parent();this.O5974(a,b)},O5974:function(a,b){console.log("this.page = "+this.page);for(var c=this.gridSize.x*this.gridSize.y*this.page,d=0;d<this.gridSize.y&&c<a.length;d++)for(var e=0;e<this.gridSize.x&&c<a.length;e++)a[c]&&this.O4582(a[c],b,c,e,d),c++},O4582:function(a,b,c,d,e){var f=this,g=ig.game.O4961.getItemBasic(a.itemId,"ui_lid1");g.imagesBeingGenerated.done(function(){var h={thingTypeId:g.id,flip:0,attributes:g.attributes,animSheet:ig.game.entityManager.getAnimationForEntity(g,
0,0),O6454:!0,O5998:!0};ig.game.entityManager.O6079(g.O7062(),g,h,!0);var k=f.pos.x+ig.game._rscreen.x+30*d+10,l=f.pos.y+ig.game._rscreen.y+32*e+h.animSheet.height/2+12;"STACKWEARB"==g.base&&(l-=8);var m="Entity"+ig.game.strings.toUpperCaseFirst(g.base.toLowerCase());ig.global[m]||(m="EntityDefault");f.entities[c]=new ig.global[m](k,l,h);f.entities[c].itemListDialogLabel=ig.game.strings.O4733(a[b]);f.entities[c].update()})},draw:function(){this.isOpen&&
(this.O4426(this.pos,this.size,[0,0,0,0.65]),ig.game.O5405.draw(this.pos.x+this.size.x-10,this.pos.y+2,0.4,ig.game.O5405.closeButtonSemiTransparent),ig.system.context.globalAlpha=0.5,ig.game.whiteFont.draw(this.title,this.pos.x+this.size.x/2,this.pos.y+4,ig.Font.ALIGN.CENTER),ig.system.context.globalAlpha=1,this.O7474())},O4426:function(a,b,c){var d=ig.system.context;d.fillStyle="rgba("+c.join(",")+")";d.fillRect(a.x*ig.system.scale,a.y*ig.system.scale,b.x*ig.system.scale,
b.y*ig.system.scale)},O7474:function(){for(var a=0;a<this.entities.length;a++){var b=this.entities[a];b&&b.draw()}for(a=0;a<this.entities.length;a++)if((b=this.entities[a])&&b.isHovered&&!ig.ua.mobile){var c=b.pos.x+b.size.x/2-ig.game.screen.x,d=b.pos.y+b.size.y/2-ig.game.screen.y;b.itemListDialogLabel&&ml.Misc.O3941(b.itemListDialogLabel,c,d+12)}},update:function(){this.O1202();this.O7284();var a=ig.game.O6099.O5632(),b=ig.game.O6099.O2757();
this.O4499();for(var c=0;c<this.entities.length;c++){var d=this.entities[c];if(d&&(d.update(),d.isHovered&&(b||ig.ua.mobile&&a))){ig.game.O6099.O1788(!0);var e=ig.game.O4961.getItemBasic(d.thingTypeId,"ui_lid2");ig.game.itemContextMenu.O2718(d,e,{x:d.pos.x-ig.game._rscreen.x,y:d.pos.y-ig.game._rscreen.y+4})}}ig.game.O6099.O4678(this.pos.x+this.size.x-11,this.pos.y,this.pos.x+this.size.x,this.pos.y+13)&&(ig.game.O6099.O6375(!0),
this.close());this.O6263();this.parent()},O1202:function(){this.pos={x:ig.game.O4269.pos.x-ig.game._rscreen.x-this.size.x/2+(ig.game.O2050?20:0),y:ig.game.O4269.pos.y-ig.game._rscreen.y-this.size.y/2-30}},O4499:function(){var a=!1;this.isOpen&&(a=ig.input.mouse.x>=this.pos.x&&ig.input.mouse.x<=this.pos.x+this.size.x&&ig.input.mouse.y>=this.pos.y&&ig.input.mouse.y<=this.pos.y+this.size.y);return a},O4678:function(a){return ig.game.O6099.O4678(this.pos.x+
this.positions[a].x,this.pos.y+this.positions[a].y,this.pos.x+this.positions[a].x+ig.game.O5405[a].width,this.pos.y+this.positions[a].y+ig.game.O5405[a].height)},O7284:function(){for(var a=ig.game.O6099.O4260(),b=!1,c=0;c<this.entities.length;c++){var d=this.entities[c];d&&(d.isHovered=!1,b||(d.isHovered=a.x>=d.pos.x&&a.x<=d.pos.x+d.size.x&&a.y>=d.pos.y&&a.y<=d.pos.y+d.size.y,d.isHovered&&(b=!0)))}},O6263:function(){(!ig.game.O4269||this.O6486.x!=
Math.round(ig.game.O4269.pos.x)||this.O6486.y!=Math.round(ig.game.O4269.pos.y))&&this.close()},close:function(){this.isOpen&&(ig.game.itemContextMenu.O5414&&ig.game.itemContextMenu.isOpen&&ig.game.itemContextMenu.close(),this.O3174(),this.parent())},O3174:function(){for(var a=0;a<this.entities.length;a++)this.entities[a]&&this.entities[a].tidyUp&&this.entities[a].tidyUp(),delete this.entities[a];this.entities=[]}})});ig.baked=!0;
ig.module("game.ui.actioninfo").defines(function(){window.Actioninfo=ig.Class.extend({pos:{x:0,y:0},opacity:0,energy:0,O4465:0,O6469:3,O271:"hold",O5172:0,isOpen:!1,O1566:"",showLabel:!0,O6115:!0,O6315:null,O8131:!1,open:function(a,b,c,d,e,f,g,h,k){if(!this.isOpen||this.O6315!=a)this.isOpen=!0,this.O6315=a,this.pos={x:b,y:c},this.O5172=void 0!=e&&null!=e?e:0,this.O271=d,this.opacity=this.energy=0,this.showLabel=
!g,this.O8131=k||ig.ua.isSteamBigPictureMode||ig.game.O4269&&1>=ig.game.O4269.rank||1>=ig.game.O5210,this.O4465=this.O6469,this.O1566=ig.ua.mobile?"action button":"space",ig.ua.isSteamBigPictureMode&&(this.O1566="b button"),f&&(this.O1566=f),this.O6115=!h},close:function(a){if(this.isOpen&&(void 0===a||this.O6315==a))this.isOpen=!1,this.O4465=-this.O6469},update:function(){if(this.isOpen&&(!this.O6315||
this.O6315._killed))this.O6315=null,this.close();if(0!=this.energy||0!=this.O4465)this.energy=(this.energy+this.O4465).limit(0,100),this.opacity=this.O8131?(this.energy/150).limit(0,1):(60<this.energy?(this.energy-60)/100:0).limit(0,1)},draw:function(){if(0<this.opacity&&!ig.game.portaller.isRingPortalling){var a=this.pos.x-ig.game._rscreen.x+3,b=this.pos.y-ig.game._rscreen.y+22;if(this.showLabel){var c="",d=d=ig.game.O1990;this.O271&&0<=this.O271.indexOf("\r")?
c=this.O271:(this.O6115&&(c=this.O1566),this.O271?(""!=c&&(c+=" = "),c+=this.O271):d=ig.game.O1990-3);c=ig.game.strings.O4423(c,16);if(this.O8131){ml.Misc.O1651("darken");ig.system.context.globalAlpha=0.15*this.opacity;for(var e=0;e<c.length;e++)for(var f=-1;1>=f;f++)for(var g=-1;1>=g;g++)ig.game.blackFont.draw(c[e],a+d+f,b+7*e+g,ig.Font.ALIGN.CENTER)}ig.system.context.globalAlpha=this.opacity;ml.Misc.O1651("lighter");
for(e=0;e<c.length;e++)ig.game.whiteFont.draw(c[e],a+d,b+7*e,ig.Font.ALIGN.CENTER);ml.Misc.O13()}ig.system.context.globalAlpha=1}}})});ig.baked=!0;
ig.module("game.ui.instrumentdialog").requires("game.ui.components.uidialog").defines(function(){window.InstrumentDialog=UIDialog.extend({image:null,notes:null,instrument:null,isOpen:!1,O603:!1,showNotes:!1,O4377:null,O4562:[],O1774:null,rgba:{r:255,g:255,b:255,alpha:0.7},rgbaSharp:{r:40,g:40,b:40,alpha:1},rgbaEmphasis:{r:255,g:255,b:230,alpha:1},rgbaSharpEmphasis:{r:70,g:65,b:50,alpha:1},rgbaBorder:{r:128,g:128,b:128,alpha:1},O2350:-60,O1237:1.2,
O4465Default:-5,O422:-3,O6336:void 0,doUseKeyboardToPlay:!1,keyboardButton:{x:0,y:0,width:0,height:0},O5946:[],O5024:["c","e","g"],O1121:void 0,isSilent:!1,O1513:null,O4652:[],O5252:5,open:function(){this.O7142();this.O4920();this.O4562=[];this.O1774=null;this.parent();this.isOpen=!0;this.O1513=new ml.Timer;ig.game.O8422&&(this.showNotes=
!0);ig.ua.mobile&&(ig.game.O2050&&ml.Misc.O373(),ig.game.virtualKeyboard&&ig.game.virtualKeyboard.O8134(),ig.game.virtualJoystick&&ig.game.virtualJoystick.O2659())},O4920:function(a){if((null==this.notes||a)&&this.instrument){this.isSilent=0===this.instrument.indexOf("silent_");this.notes=[];a=ig.game.O2050?80:8;var b=ig.game.sounds.instruments[this.instrument];if(ig.game.sounds.O6567(this.instrument)){var c=ig.game.sounds.O5093(),
d=ig.game.sounds.O8256(),e=12,f=b.max,g=2;54==f&&(g=6);a=(ig.system.width-a)/f*g;var h=0.18*ig.system.height;6==g&&(h=0.06*ig.system.height);var k=e,l=ig.system.height-h*g-22;ig.ua.mobile&&(k=e-=8,l-=10);for(var m=1;m<=f;m++){var n={x:k,y:l,width:a,height:h},n={kitNumber:m,rect:n};b.isGuitar&&(n.noteLabel=c[d[m-1]-1],k==e+a&&(n.extraBorderToLeft=!0),0<=[31,33,35].indexOf(d[m-1])&&(n.extraDotBelow=!0));this.notes.push(n);k+=a;0===m%(f/g)&&(k=e,l+=h)}}else{n=b.minOctave;
b=b.maxOctave;a=(ig.system.width-a)/(7*(b-n+1));h=0.36*ig.system.height;c=0.75*a;d=0.58*h;k=12;l=ig.system.height-h-22;ig.ua.mobile&&(k-=8,l-=10);0==b-n&&(k=ig.system.widthHalf-108);for(e=n;e<=b;e++)for(f=0;f<ig.game.sounds.tones.length;f++)g=ig.game.sounds.tones[f],m=0<=g.indexOf("s"),n={x:k,y:l,width:a,height:h},m&&(n.x-=c/2,n.width=c,n.height=d),this.notes.push({octave:e,note:g,isSharp:m,rect:n}),k+=a,m&&(k-=a)}1<=this.notes.length&&(this.keyboardButton={x:this.notes[0].rect.x+4,y:this.notes[0].rect.y+
4,width:ig.game.O5405.keyboardToPlayOff.width,height:ig.game.O5405.keyboardToPlayOff.height});this.doUseKeyboardToPlay=localStorage.getItem("doUseKeyboardToPlay");void 0!=this.doUseKeyboardToPlay&&null!=this.doUseKeyboardToPlay&&(this.doUseKeyboardToPlay=1==this.doUseKeyboardToPlay||"1"==this.doUseKeyboardToPlay)}},O7142:function(){this.O1121=ig.game.O5662(this.O5024)},update:function(){if(ig.game.painter&&ig.game.painter.isRunning)this.isOpen=
!1;else{var a=ig.game.O4269.attachments[ig.game.O7510.slots.HOLDABLE];a&&"STACKINSTR"==a.base?this.isOpen||this.open():this.isOpen&&(this.instrument=this.O4377=null,this.O4562=[],this.close());if(this.isOpen){ig.game.O8422&&!this.showNotes&&(this.showNotes=!0);if(this.O4377!=a.id&&(this.O4377=a.id,this.instrument=ig.game.sounds.O6823(a.name,a.attributes),this.notes=null,this.O4920(),
this.O6336={},a=localStorage.getItem(this.O137())))try{this.O6336=JSON.parse(a)}catch(b){this.O6336={}}for(a=this.O4562.length-1;0<=a;a--)0<this.O4562[a].energy&&(this.O4562[a].energy+=this.O422,0>=this.O4562[a].energy&&this.O4562.splice(a,1));!ig.ua.mobile&&(ig.game.O6099.O5632()&&this.O6688(ig.input.mouse,this.keyboardButton))&&(ig.game.O6099.O6375(!1),
this.doUseKeyboardToPlay=!this.doUseKeyboardToPlay,localStorage.setItem("doUseKeyboardToPlay",this.doUseKeyboardToPlay?1:0),ig.game.sounds.click.play());this.O6978();ig.input.state("esc")&&ig.game.O7510.O3306(ig.game.O4269,ig.game.O7510.slots.HOLDABLE,!0)}}},O137:function(){var a="default";this.instrument&&ig.game.sounds.O6567(this.instrument)&&(a="drums_"+ig.game.sounds.instruments[this.instrument].max);return"keyNotes_"+
a},O655:function(){var a=[16,27,32,37,38,39,40];if(this.doUseKeyboardToPlay&&this.instrument&&ig.game.O6576&&1<=ig.game.O6576.length)for(var b=0;b<ig.game.O6576.length;b++){var c=ig.game.O6576[b];if(ig.input.state("shift")){if(-1===a.indexOf(c)){var d={};if(null!=(ig.game.sounds.O6567(this.instrument)?this.getNoteWithKitNumberAtMousePoint(d):this.O6939(d)))this.O8182(d.i),this.O6336["c"+c]=
d.i,localStorage.setItem(this.O137(),JSON.stringify(this.O6336)),this.playSound(this.notes[d.i])}}else c=this.O6336["c"+c],void 0!==c&&(null!==c&&this.notes[c])&&(this.O643(this.notes[c]),this.playSound(this.notes[c]))}},O643:function(a){this.O1121&&(0<=this.O1121.length&&a&&a.note)&&(a=this.O1121.indexOf(a.note),0<=a?(this.O1121.splice(a,1),0==this.O1121.length&&
(ig.game.O4803.register(ig.game.O4803.types.PLAYED_CHORD_WITH_KEYS),this.O7142())):this.O7142())},O8182:function(a){for(var b in this.O6336)this.O6336.hasOwnProperty(b)&&this.O6336[b]==a&&delete this.O6336[b]},O2660:function(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){b=!0;break}return b},playSound:function(a){a.kitNumber?(this.isSilent||ig.game.sounds.O2318(this.instrument,
a.kitNumber,!0),ig.game.decorator.playingInstrumentKitNumber(ig.game.O4269,this.instrument,a.kitNumber)):(this.O3569(a),this.isSilent||ig.game.sounds.O8389(this.instrument,a.octave,a.note,!0),ig.game.decorator.O8039(ig.game.O4269,this.instrument,a.octave,a.note));this.O1774=a;this.O1774.energy=100},O3569:function(a){for(var b=this.O5946.length-1;0<=b;b--)10<(new Date-Date.parse(this.O5946[b].timestamp))/
1E3&&this.O5946.splice(b,1);a=ig.game.O5662(a);a.timestamp=new Date;this.O5946.push(a);15<this.O5946.length&&this.O5946.splice(this.O5946.length-1,1);a=this.O487();var b=this.O487(!0),c=ig.game.O6401.O1665("hears-notes",a);c||(c=ig.game.O6401.O1665("hears-notes",b));ig.game.O6401.O5038(ig.game.O4269,"plays-notes",a);ig.game.O6401.O5038(ig.game.O4269,
"plays-notes",b);c&&(this.O5946=[])},O487:function(a){for(var b="",c=0;c<this.O5946.length;c++){var d=this.O5946[c];1<=c&&(b+=" ");b+=ig.game.strings.replaceAll(d.note,"s","")+(d.isSharp?"#":"");a&&(b+=d.octave)}return b},O6978:function(){this.O655();this.O1774&&(0<this.O1774.energy&&(this.O1774.energy+=this.O4465Default),0>=this.O1774.energy&&(this.O1774=null));if(ig.game.O6099.O5632()){var a=
ig.game.sounds.O6567(this.instrument)?this.getNoteWithKitNumberAtMousePoint():this.O6939();if(null!=a&&(ig.game.O6099.O6375(!1),this.O4652.push(a),this.O4652.length>this.O5252&&this.O4652.shift(),!ig.input.state("ctrl"))){for(a=0;a<this.O4652.length;a++)this.playSound(this.O4652[a]);this.O4652=[];ig.game.O6401.O5038(ig.game.O4269,"plays",
ig.game.O4269.O804())}}else if(ig.game.O6099.O2757()){var b=ig.game.sounds.O6567(this.instrument),c=ig.game.sounds.instruments[this.instrument],a=b?this.getNoteWithKitNumberAtMousePoint():this.O6939();null!=a&&(!b||c.isGuitar?ig.game.O8422?ig.game.O6099.O1788(!1):(ig.game.O6099.O1788(!0),this.showNotes=!this.showNotes):ig.game.O6099.O1788())}},
getNoteWithKitNumberAtMousePoint:function(a){for(var b={x:Math.floor(ig.input.mouse.x),y:Math.floor(ig.input.mouse.y)},c=0;c<this.notes.length;c++){var d=this.notes[c];if(this.O6688(b,d.rect))return a&&(a.i=c),d}return null},O6939:function(a){for(var b={x:Math.floor(ig.input.mouse.x),y:Math.floor(ig.input.mouse.y)},c=0;1>=c;c++)for(var d=0==c,e=0;e<this.notes.length;e++){var f=this.notes[e];if((d&&f.isSharp||!d&&!f.isSharp)&&this.O6688(b,f.rect))return a&&(a.i=
e),f}return null},O6688:function(a,b){return a.x>=b.x&&a.x<=b.x+b.width&&a.y>=b.y&&a.y<=b.y+b.height},O356:function(a){return"rgba("+a.r+","+a.g+","+a.b+","+a.alpha+")"},O3041:function(a){this.O4562.push({note:a,energy:100})},O6852:function(a){for(var b=null,c=0;c<this.O4562.length;c++)0<this.O4562[c].energy&&(this.O4562[c].note.instrument==this.instrument&&this.O4562[c].note.octave==a.octave&&this.O4562[c].note.note==
a.note)&&(b=this.O4562[c]);return b},O5451:function(a){for(var b=null,c=0;c<this.O4562.length;c++)0<this.O4562[c].energy&&(this.O4562[c].note.instrument==this.instrument&&this.O4562[c].note.kitNumber==a.kitNumber)&&(b=this.O4562[c]);return b},draw:function(){if(this.isOpen&&this.instrument&&this.notes){if(ig.game.sounds.O6567(this.instrument)){for(var a=0;a<this.notes.length;a++){var b=this.notes[a],c=b.rect,
d=this.rgba,e=this.O5451(b);e&&(d=this.O3996(this.rgbaEmphasis,(0.7+0.0075*e.energy).limit(0,1)));this.O1774&&this.O1774.kitNumber==b.kitNumber&&(d=this.O2095(d,-Math.floor(this.O1774.energy/this.O1237)));ig.system.context.fillStyle=this.O356(d);this.fillRect(c.x,c.y,c.width,c.height);ig.system.context.strokeStyle=this.O356(this.rgbaBorder);ig.system.context.lineWidth=1*ig.system.scale;this.strokeRect(c.x,c.y,
c.width,c.height);b.extraBorderToLeft&&(ig.system.context.lineWidth=2*ig.system.scale,this.strokeRect(c.x,c.y,1,c.height));this.showNotes&&b.noteLabel&&(ig.system.context.globalAlpha=g?0.35:0.5,ig.game.blackFont.draw(b.noteLabel,c.x+c.width/2,c.y+c.height/2-2,ig.Font.ALIGN.CENTER),ig.system.context.globalAlpha=1)}for(a=0;a<this.notes.length;a++)b=this.notes[a],c=b.rect,b.extraDotBelow&&(ig.system.context.lineWidth=2*ig.system.scale,this.strokeRect(c.x+c.width/2-1,c.y+c.height-1,2,2))}else for(var f=
0;1>=f;f++)for(var g=1==f,h=g?ig.game.whiteFont:ig.game.blackFont,a=0;a<this.notes.length;a++)if(b=this.notes[a],g&&b.isSharp||!g&&!b.isSharp){c=b.rect;d=b.isSharp?this.rgbaSharp:this.rgba;if(e=this.O6852(b))b.isSharp?(d=this.O2095(this.rgbaSharp,Math.floor(e.energy/2).limit(0,30)),d.r=(d.r+15).limit(0,255),d.g=(d.g+10).limit(0,255)):d=this.O3996(this.rgbaEmphasis,(0.7+0.0075*e.energy).limit(0,1));this.O1774&&(this.O1774.octave==b.octave&&this.O1774.note==b.note)&&
(d=this.O2095(d,-Math.floor(this.O1774.energy/this.O1237)));ig.system.context.fillStyle=this.O356(d);this.fillRect(c.x,c.y,c.width,c.height);ig.system.context.strokeStyle=this.O356(this.rgbaBorder);ig.system.context.lineWidth=1*ig.system.scale;this.strokeRect(c.x,c.y,c.width,c.height);this.showNotes&&(d=b.note.replace("s","#"),"c"==d&&(d+=b.octave),ig.system.context.globalAlpha=g?0.35:0.5,h.draw(d,c.x+c.width/2,c.y+c.height-30,ig.Font.ALIGN.CENTER),ig.system.context.globalAlpha=
1)}ig.ua.mobile||(this.doUseKeyboardToPlay?(ig.game.O5405.draw(this.keyboardButton.x,this.keyboardButton.y,0.75,ig.game.O5405.keyboardToPlayOn),!this.O2660(this.O6336)&&(this.notes[0]&&this.notes[0].rect)&&this.O7050("shift+key assigns that key to the currently hovered note")):(ig.game.O5405.draw(this.keyboardButton.x,this.keyboardButton.y,0.5,ig.game.O5405.keyboardToPlayOff),this.isSilent&&this.O7050("silent")))}},O7050:function(a){var b=
this.O5540();if(0<b){var c=this.notes[0],d=this.notes[this.notes.length-1],d=c.rect.x+(c.rect.x+d.rect.x+d.rect.width)/2,c=c.rect.y+80,e=ig.Font.ALIGN.CENTER;ig.system.context.globalAlpha=b;ig.game.blackFont.draw(a,d,c+1,e);ig.game.blackFont.draw(a,d,c-1,e);ig.game.blackFont.draw(a,d-1,c,e);ig.game.blackFont.draw(a,d+1,c,e);ig.system.context.globalAlpha=1;ig.game.whiteFont.draw(a,d,c,e)}},O5540:function(){var a=0.35;this.isSilent&&!this.doUseKeyboardToPlay&&(this.O1513?
(a*=2-this.O1513.delta(),0>a&&(this.O1513=null)):a=0);return a},fillRect:function(a,b,c,d){ig.system.context.fillRect(Math.ceil(a*ig.system.scale),Math.ceil(b*ig.system.scale),Math.ceil(c*ig.system.scale),Math.ceil(d*ig.system.scale))},O3996:function(a,b){return{r:a.r,g:a.g,b:a.b,alpha:b}},O2095:function(a,b){return{r:(a.r+b).limit(0,255),g:(a.g+b).limit(0,255),b:(a.b+b).limit(0,255),alpha:a.alpha}},strokeRect:function(a,b,c,d){ig.system.context.strokeRect(Math.ceil(a*ig.system.scale),
Math.ceil(b*ig.system.scale),Math.ceil(c*ig.system.scale),Math.ceil(d*ig.system.scale))},close:function(){this.isOpen=!1;ig.ua.mobile&&(ig.game.virtualKeyboard&&ig.game.virtualKeyboard.O8134(),ig.game.virtualJoystick&&ig.game.virtualJoystick.O2659());this.parent()}})});ig.baked=!0;
ig.module("game.ui.boostdialog").requires("game.ui.components.uidialog").defines(function(){window.BoostDialog=UIDialog.extend({pos:{x:0,y:0},size:{x:0,y:0},offset:{x:0,y:0},isOpen:!1,O5405:null,rings:[{radius:57.5},{radius:99.5}],buttons:[[],[]],O2568:null,associatedItems:{},O4720:{},O1657:2,O6662:!1,O6106:null,O1327:0.75,O5966:null,init:function(){ig.ua.phone&&(this.rings[0].radius-=17,this.rings[1].radius-=
31)},open:function(){if(!this.isOpen)if(ig.game.O4269.rank>=this.O1657&&!ig.game.O3501.O2774){ig.game.itemListDialog&&ig.game.itemListDialog.isOpen&&ig.game.itemListDialog.close();this.O5405||(this.O5405=new O1778BoostDialog);this.O2568||(this.O2568=localStorage.selectedBoostCategory);var a=ig.ua.mobile;if(0==this.buttons[0].length){this.O6678();this.O5962(0);var b=this;this.associatedItems={};ig.game.O7421.O152().done(function(a){a&&
a.associations&&(b.associatedItems=a.associations);b.O6874();b.O2568&&b.O5962(1)})}else a&&this.reInit();ig.ua.mobile&&!ig.ua.phone&&jQuery('<div id="mobileCloseButton" onclick="ig.game.boostDialog.close()">&nbsp;X&nbsp;</div>').appendTo("body");this.parent()}else ig.game.O4132.O2959()},O6678:function(){this.offset.x=ig.game.O2050?-12:0;this.size={x:this.O5405.background.width,y:this.O5405.background.height};
this.pos.x=Math.floor(ig.system.widthHalf-this.size.x/2+this.offset.x);this.pos.y=Math.floor(ig.system.O8417-this.size.y/2+this.offset.y)},reInit:function(){this.O6678();this.O5962(0);this.O2568&&this.O5962(1)},O6874:function(){for(var a in this.associatedItems)this.O7337(a)},O7337:function(a){if(!this.O4720[a]){this.O4720[a]={isLoading:!0};var b=this;ig.game.O4961.getItem_P(this.associatedItems[a],
"d_boost1").done(function(c){b.O4720[a]={name:c.name}})}},O5962:function(a){if(0==a){this.buttons=[[],[]];for(var b in ig.game.O3501.names)this.buttons[a].push(this.getButtonData(b,a))}else for(b in this.buttons[a]=[],ig.game.O3501.names)if(b==this.O2568)for(var c=0;c<ig.game.O3501.names[b].length;c++)this.buttons[a].push(this.getButtonData(ig.game.O3501.names[b][c],a));this.O844(a);ig.game.sounds.shortWhoosh.play()},
getButtonData:function(a,b){return{name:a,label:this.O1531(a),isHovered:!1,x:0,y:0,width:this.O5405["button_"+a].width,height:this.O5405["button_"+a].height,ring:b}},O1531:function(a){var b=ig.game.O3501.manualLabel[a];b||(0<=a.indexOf("_")&&(a=a.split("_")[0]),b=ig.game.strings.O2708(a));return b},O844:function(a){for(var b=this.size.x,c=this.size.y,d=0,e=2*Math.PI/this.buttons[a].length,f=this.rings[a].radius,g=0;g<this.buttons[a].length;g++){var h=
this.buttons[a][g];h.ring==a&&(h.x=this.pos.x+Math.round(b/2+f*Math.cos(d)-h.width/2),h.y=this.pos.y+Math.round(c/2+f*Math.sin(d)-h.height/2),d+=e)}},update:function(){ig.input.state("ctrl")&&ig.input.pressed("b")&&(this.isOpen?(ig.input.O3472(),this.close()):this.open());if(this.isOpen){this.O2073();var a=!1,b=!1,c=!1,d=!1,e=!1;if(ig.ua.mobile){if((c=Boolean(ig.input.state("click")))&&!this.O6662)this.O6106=new ml.Timer;if(d=!c&&this.O6662)e=this.O6106&&
this.O6106.delta()>=this.O1327,this.O6106=null;this.O6662=c}else b=(a=ig.game.O6099.O2757())||ig.game.O6099.O5632();for(var f=0;f<this.rings.length;f++)for(var g=0;g<this.buttons[f].length;g++){var h=this.buttons[f][g];if(h.isHovered&&(b||d))if(0==h.ring)this.O2568=h.name==this.O2568?null:h.name,localStorage.selectedBoostCategory=this.O2568,this.O5962(1);else if(ig.input.state("ctrl")&&
!a)0<=ig.game.O3501.O893.indexOf(h.name)&&this.associatedItems[h.name]?(ig.game.O6099.O6375(!0),this.O8375(h.name)):ig.game.sounds.nocando.play();else if(ig.game.hasMinfinity||1<=ig.game.O3501.O1579||0<=ig.game.O3501.freeNames.indexOf(h.name))if(-1===ig.game.O3501.O893.indexOf(h.name)||this.associatedItems[h.name]){var k=(a||e)&&Boolean(ig.game.O3501.O1841(this.O2568,
h.name));a?ig.game.O6099.O1788(!0):ig.game.O6099.O6375(!0);this.O4690(h.name,k)}else this.O883(h.name);else this.close(),setTimeout(function(){ig.game.iapDialogManager.openMainDialog()},150)}if((b||c)&&22>=ml.Misc.O8132({x:this.pos.x+this.size.x/2,y:this.pos.y+this.size.y/2},ig.input.mouse))ig.game.O6099.O6375(!0),ig.game.iapDialogManager.openMainDialog();ig.game.O4269&&(10<=Math.abs(ig.game.O4269.vel.x)||
-10>=ig.game.O4269.vel.y)&&this.close();this.parent()}},O4690:function(a,b){if(ig.game.O3501.O8448(a,this.O2568,b))if("personNextToMe"==this.O2568){var c=this.O6360(a);if(c)if("giveWhatIHold"==a){var d=ig.game.O4269.attachments.h&&ig.game.O4269.attachments.h.id,e=Boolean(c.attachments.h);d&&!e?(ig.game.O7510.O3306(ig.game.O4269,"h",!0),ig.game.O3501.start(a,null,d,b,c.O2507)):(ig.game.O4269.say("i must hold something, and they nothing"),
this.close())}else ig.game.O3501.start(a,null,this.associatedItems[a],b,c.O2507);else this.close()}else ig.game.O3501.start(a,null,this.associatedItems[a],b);else this.close()},O6360:function(a){var b=null,c=(a="giveWhatIHold"==a)?60:200,d=null,e=ig.game.O413.player;if(e)for(var f=3<=e.length||a,g=ig.game.O4269.O6609?1:-1,h=0;h<e.length;h++){var k=e[h];if(!k._killed&&k.O2507!=ig.game.O4269.O2507){var l=!0;f&&(l=-1==g?ig.game.O4269.pos.x>
k.pos.x:ig.game.O4269.pos.x<k.pos.x);if(l&&(l=ig.game.O4269.O5320(k),l<=c&&(null==d||l<d)))b=k,d=l}}b||ig.game.O4269.say("there's no one "+(a?"right ":" ")+"next to me");return b},O883:function(a){var b=ig.game.O3501.O6476(a),c="";25>=b.length?(c="Please drag and drop a "+ml.Misc.O8094(b,null,!0)+" from your collection onto this boost.",0===a.indexOf("happening")&&(c+=" It will show for yourself only when boosted.")):
c="Please drag and drop something from your collection onto this boost.";ig.game.alertDialog.O1846(c);ig.game.alertDialog.contextId="boostDragInfo"},O2073:function(){var a=!1;this.O5966=null;for(var b=0;b<this.rings.length;b++)for(var c=0;c<this.buttons[b].length;c++){var d=this.buttons[b][c];d.isHovered=!1;a||(d.isHovered=ig.input.mouse.x>=d.x&&ig.input.mouse.x<=d.x+d.width&&ig.input.mouse.y>=d.y&&ig.input.mouse.y<=d.y+d.height,d.isHovered&&(this.O5966=
d.name,a=!0))}},O7900:function(){var a=[];ig.game.O3501.isRunning&&ig.game.O3501.O3685&&!ig.game.O3501.O3685.O4102?a=[ig.game.O3501.O3685.screenName,"started","a boost"]:this.O5966&&0<=ig.game.O3501.freeNames.indexOf(this.O5966)?a=["infinitely","available"]:ig.game.hasMinfinity?a=["infinite","boosts"]:(a=ig.game.O3501.O1579,0>a&&(a=0),a=[a,"boost"+(1!=a?"s":""),"left"]);
return a},draw:function(){if(this.isOpen){ig.ua.phone?this.O5584():this.O5405.draw(this.pos.x,this.pos.y,1,this.O5405.background);var a=this.O7900();ig.game.whiteFont.draw(a.join("\n"),this.pos.x+this.size.x/2,this.pos.y+this.size.y/2+(3==a.length?-11:-7),ig.Font.ALIGN.CENTER);for(a=0;a<this.rings.length;a++)for(var b=0;b<this.buttons[a].length;b++){var c=this.buttons[a][b],d=0;c&&(c.isHovered&&!ig.ua.mobile)&&(d=-2);this.O5405.draw(c.x,c.y+d,1,this.O5405["button_"+
this.buttons[a][b].name])}for(a=0;a<this.rings.length;a++)for(b=0;b<this.buttons[a].length;b++)if(c=this.buttons[a][b]){var e=c.name;if(this.O2568==e||c.isHovered&&!ig.ua.mobile){var d=c.x+c.width/2,f=c.y+c.height/2+8-2,c=ig.game.strings.O4423(c.label,16),g=!1,h=ig.game.O3501.O1841(this.O2568,e);h&&(c.push(h),g=!0);0<=ig.game.O3501.O893.indexOf(e)&&((e=this.O4720[e]?this.O4720[e].name:null)?c.unshift(ig.game.strings.O1288(e,
20)):c.unshift("..."));for(e=0;e<c.length;e++){var h=1,k=c[e];g&&e==c.length-1&&(h=0.7,k=(ig.ua.mobile?"Long-tap":"R.Click")+" = "+k);ml.Misc.O3941(k,d,f+6*e,1*h,0.7*h,1*h)}}}}},O5584:function(){var a=ig.system.context,b=ig.system.realWidth/2+(ig.game.O2050?-24:0),c=ig.system.O1709/2;a.beginPath();a.fillStyle="rgba(0,0,0,1)";a.arc(b,c,20*ig.system.scale,0,2*Math.PI,!1);a.fill();a.closePath();a.beginPath();a.strokeStyle="rgba(0,0,0,1)";a.lineWidth=3*ig.system.scale;a.arc(b,
c,this.rings[0].radius*ig.system.scale,0,2*Math.PI,!1);a.stroke();a.closePath();a.beginPath();a.strokeStyle="rgba(0,0,0,1)";a.lineWidth=3*ig.system.scale;a.fillStyle="rgba(0,0,0,.25)";a.arc(b,c,this.rings[1].radius*ig.system.scale,0,2*Math.PI,!1);a.fill();a.stroke();a.closePath()},O175:function(){for(var a=null,b=0;b<this.rings.length&&!a;b++)for(var c=0;c<this.buttons[b].length&&!a;c++){var d=this.buttons[b][c];d&&d.isHovered&&(a=d)}return a},O7420:function(a){this.O2073();
var b=this.O175();ig.game.alertDialog.close();var c=["WRITABLE","READABLE","MUSIC","SOUND"];if(b&&1==b.ring){var b=b.name,d=!0;0<=b.indexOf("setProfileItem_")&&-1===c.indexOf(a.base)&&(d=ig.game.O4269&&a.creatorId&&ig.game.O4269.O2507==a.creatorId);d?0<=ig.game.O3501.O893.indexOf(b)?(c=ig.game.O3501.O6476(b),0<=c.indexOf(a.base)?ig.game.O7510.O4721(a)?(ig.game.alertDialog.O1846("Only non-affecting Dynamics can be used."),
ig.game.sounds.nocando.play()):this.O4617(b,a.id):(a=ml.Misc.O8094(c,!0),ig.game.alertDialog.O1846("You can only add "+a+"."),ig.game.sounds.nocando.play())):(ig.game.alertDialog.O1846("This boost doesn't require an item."),ig.game.sounds.nocando.play()):ig.game.alertDialog.O1846("For this boost, please select an item you created (unless it's a "+ml.Misc.O8094(c)+").")}},O587:function(){var a=null;this.isOpen&&(a=this.O175());
return a&&1==a.ring},O4617:function(a,b){this.associatedItems[a]=b;delete this.O4720[a];ig.game.sounds.putdown.play();this.O6874();ig.game.O7421.O5815(a,b).done(function(a){a&&a.ok&&ig.game.sounds.success.play()});ig.game.O3501.O800(a,b)},O8375:function(a){delete this.associatedItems[a];delete this.O4720[a];ig.game.O7421.O5815(a,null).done(function(a){a&&
a.ok&&ig.game.sounds.bin.play()})},close:function(){jQuery("#mobileCloseButton").remove();ig.game.O3713();this.parent()}})});ig.baked=!0;
ig.module("game.ui.randomareasdialog").requires("game.ui.components.uidialog").defines(function(){window.RandomAreasDialog=UIDialog.extend({gridSize:{x:4,y:4},thumbSize:{x:50,y:50},O8141:{x:1,y:1},pos:{x:0,y:0},size:{x:0,y:0},offset:{x:0,y:0},isOpen:!1,areaNames:[],images:{},O2837:null,closeButtonPos:{x:0,y:0},open:function(){if(!this.isOpen){this.size.x=this.gridSize.x*this.thumbSize.x+2*this.O8141.x;this.size.y=this.size.x;this.pos.x=Math.floor(ig.system.widthHalf-this.size.x/2+
this.offset.x);this.pos.y=Math.floor(ig.system.O8417-this.size.y/2+this.offset.y);this.closeButtonPos={x:this.size.x-12,y:4};this.areaNames=[];var a=this;ig.game.O7421.O1901().done(function(b){b&&(a.areaNames=b.names,a.O6861())})}},update:function(){this.isOpen&&(ig.game.O6099.O5632()&&(this.O2296()?(ig.game.O6099.O6375(!0),this.close()):this.O2837&&(ig.game.O6099.O6375(!0),ml.Misc.O5752()&&
(this.O2837="foobar"),ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest(this.O2837),this.close())),this.parent())},O2296:function(){var a=this.pos.x+this.closeButtonPos.x,b=this.pos.y+this.closeButtonPos.y,c=ig.game.O5405.closeXWhite.width,d=ig.game.O5405.closeXWhite.height;return ig.input.mouse.x>=a&&ig.input.mouse.y>=b&&ig.input.mouse.x<=a+c&&ig.input.mouse.y<=b+d},draw:function(){this.isOpen&&(this.O1283(),this.O3055(),ig.game.O5405.draw(this.pos.x+
this.closeButtonPos.x,this.pos.y+this.closeButtonPos.y,0.5,ig.game.O5405.closeButtonSemiTransparent))},O1283:function(){ig.system.context.fillStyle="rgba(0,0,0,.75)";this.fillRect(this.pos.x,this.pos.y,this.size.x,this.size.y)},O3055:function(){var a=1,b=1;this.O2837=null;for(var c=0;c<this.areaNames.length;c++){var d=this.areaNames[c];this.O405(d);var e=this.pos.x+(a-1)*this.thumbSize.x+this.O8141.x,f=this.pos.y+(b-1)*this.thumbSize.y+this.O8141.y;
!this.O2837&&(ig.input.mouse.x>=e&&ig.input.mouse.y>=f&&ig.input.mouse.x<=e+this.thumbSize.x&&ig.input.mouse.y<=f+this.thumbSize.y)&&(this.O2837=d);this.images[d].loaded&&ig.system.context.drawImage(this.images[d],e*ig.system.scale,f*ig.system.scale,this.thumbSize.x*ig.system.scale,this.thumbSize.y*ig.system.scale);if(this.O2837==d)for(var d=ig.game.strings.O4423(d,16),e=Math.floor(e+this.thumbSize.x/2),f=f+this.thumbSize.y-13,g=0;g<d.length;g++)ml.Misc.O3941(d[g],
e,f+6*g,1,0.7,1);a++;if(a>this.gridSize.x&&(a=1,b++,b>this.gridSize.y))break}},O405:function(a){if(!this.images[a]){var b=this;this.images[a]=new Image;this.images[a].src=this.O790(a);this.images[a].onload=function(){b.images[a]&&(b.images[a].loaded=!0)}}},O790:function(a){a=ig.game.areaDialog.O3325(a);a=a.toLowerCase();a=ig.game.O3754.O3190(a,!0);return a+="?r="+ig.game.O5167(1E6,9E6)},fillRect:function(a,b,c,d){ig.system.context.fillRect(Math.ceil(a*
ig.system.scale),Math.ceil(b*ig.system.scale),Math.ceil(c*ig.system.scale),Math.ceil(d*ig.system.scale))},close:function(){this.isOpen=!1;this.areaNames=[];this.images={};this.hoveredItem=null;this.parent()},O6861:function(){ig.game.O7673();this.toClose=!1;this.isOpen=!0}})});ig.baked=!0;
ig.module("game.ui.debugdialog").requires("game.ui.components.uidialog").defines(function(){window.DebugDialog=UIDialog.extend({values:{},iterators:{},O7856:1E6,textSize:18,lastSeenMeasureId:null,fpsPrefix:"",O3627:!1,O8137:!1,O1575:!1,O6162:void 0,O1419:void 0,O2634:0,O3493:1,O6710:2.5,O343:1,O5066:2,init:function(){},update:function(){if(this.O3627)if(ig.game.O3331AveCount=
(ig.game.O3331AveCount||0)+1,ig.game.O3331AveTot=(ig.game.O3331AveTot||0)+ig.game.O3331,ig.game.O3331Ave=(ig.game.O3331AveTot/ig.game.O3331AveCount).toFixed(2),ig.game.O4990AveCount=(ig.game.O4990AveCount||0)+1,ig.game.O4990AveTot=(ig.game.O4990AveTot||0)+ig.game.O4990,ig.game.O4990Ave=(ig.game.O4990AveTot/ig.game.O4990AveCount).toFixed(2),ig.game.debugDrawBgTimeAveCount=
(ig.game.debugDrawBgTimeAveCount||0)+1,ig.game.debugDrawBgTimeAveTot=(ig.game.debugDrawBgTimeAveTot||0)+ig.game.debugDrawBgTime,ig.game.debugDrawBgTimeAve=(ig.game.debugDrawBgTimeAveTot/ig.game.O4990AveCount).toFixed(2),ig.game.debugDrawUiTimeAveCount=(ig.game.debugDrawUiTimeAveCount||0)+1,ig.game.debugDrawUiTimeAveTot=(ig.game.debugDrawUiTimeAveTot||0)+ig.game.debugDrawUiTime,ig.game.debugDrawUiTimeAve=(ig.game.debugDrawUiTimeAveTot/ig.game.debugDrawUiTimeAveCount).toFixed(2),ig.game.debugDrawEntitiesTimeAveCount=
(ig.game.debugDrawEntitiesTimeAveCount||0)+1,ig.game.debugDrawEntitiesTimeAveTot=(ig.game.debugDrawEntitiesTimeAveTot||0)+ig.game.debugDrawEntitiesTime,ig.game.debugDrawEntitiesTimeAve=(ig.game.debugDrawEntitiesTimeAveTot/ig.game.debugDrawEntitiesTimeAveCount).toFixed(2),ig.game.O7649.measureId!==this.lastSeenMeasureId&&(this.lastSeenMeasureId=ig.game.O7649.measureId,this.fpsPrefix=""==this.fpsPrefix?" ":""),void 0!==this.O6162)this.set("Showing",this.O1419+
" ("+this.O2634+")");else if(this.O1575)this.set("Showing all");else{this.set("Last FPS",null!==ig.game.O7649.O663?this.fpsPrefix+ig.game.O7649.O663:"...");this.set("Item cache",ig.game.O4961.O7298()+" / "+ig.game.O4961.maxCacheSize);this.O8137&&(this.set("CurrentWS",ig.game.O4349.O2529().url),this.set("smId",ig.game.O4349.socketManagerId));var a=ig.game.O7715.O1414(ig.game.O4269.pos.x,
ig.game.O4269.pos.y);this.set("People",ig.game.O413.player&&ig.game.O413.player.length);this.set("Onscreen Entities",ig.game.entities&&ig.game.entities.length);this.set("Offscreen Entities",ig.game.O1888&&ig.game.O1888.length);this.O8137&&(a=ig.game.O172.O330(a),this.set("Sector",a.sector.x+","+a.sector.y),this.set("Offset",a.offset.x+","+a.offset.y),this.set("Total lights",ig.game.O413.light&&ig.game.O413.light.length),
this.set("Mouse map loc",JSON.stringify(ig.game.O7715.O1407())),this.set("Draw ms",ig.game.O4990),this.set("Draw ms (ave)",ig.game.O4990Ave),this.set("Draw Bg ",ig.game.debugDrawBgTime),this.set("Draw Bg (ave)",ig.game.debugDrawBgTimeAve),this.set("Draw Entities ms",ig.game.debugDrawEntitiesTime),this.set("Draw Entities (ave)",ig.game.debugDrawEntitiesTimeAve),this.set("Draw UI",ig.game.debugDrawUiTime),this.set("Draw UI (ave)",ig.game.debugDrawUiTimeAve),
this.set("Update",ig.game.O3331),this.set("Update (ave)",ig.game.O3331Ave),this.set("Update Entities ms",ig.game.debugUpdateEntitiesTime),this.set("Check Entities ms",ig.game.debugCheckEntitiesTime),this.set("Image scale time",ig.game.imageGenTime),this.set("Image gen time",ml.Image.prototype.resizeTimeMs))}},O799:function(){this.O3493+=this.O6710*ig.system.tick;this.O3493<=this.O343?(this.O6710=
Math.abs(this.O6710),this.O3493=this.O343):this.O3493>=this.O5066&&(this.O6710=-Math.abs(this.O6710),this.O3493=this.O5066)},O7123:function(a){var b=ig.system.scale,c=ig.system.context;this.O2634=0;void 0!==this.O6162&&this.O799();for(var d=0;d<a.length;d++){var e=a[d],f=!0;if(void 0!==
this.O6162)for(var f=!1,g=0;g<this.O6162.length;g++)e instanceof this.O6162[g]&&(f=!0,this.O2634++);f&&(c.beginPath(),c.rect((e.pos.x-e.offset.x-ig.game.screen.x)*b,(e.pos.y-e.offset.y-ig.game.screen.y)*b,e.size.x*b,e.size.y*b),c.lineWidth=b*this.O3493,c.strokeStyle="rgba(50,255,50,0.8)",c.stroke())}},set:function(a,b,c){a=a.toUpperCase();this.values[a]=b;c&&(this.iterators[a]||(this.iterators[a]=1),this.iterators[a]++,
this.iterators[a]>=this.O7856&&(this.iterators[a]=0))},inc:function(a,b){this.values[a]=(this.values[a]||0)+b},clear:function(){this.values={};this.iterators={};this.O1575=!1;this.O2634=this.O1419=this.O6162=void 0;this.O3493=1;this.O6710=2.5},O7228:function(){ig.game.O4990AveCount=0;ig.game.O4990AveTot=0;ig.game.O4990Ave=0;ig.game.debugDrawUiTimeAveCount=
0;ig.game.debugDrawUiTimeAveTot=0;ig.game.debugDrawUiTimeAve=0},draw:function(){if(this.O3627){var a=0,b=!1,c;for(c in this.values)this.values.hasOwnProperty(c)&&(b||(this.O2939(),b=!0),this.O3498(a,c,this.values[c],this.iterators[c])),a++;this.O1575?ig.game.backgroundMaps[1]&&ig.game.backgroundMaps[1].O5186():ig.game.entities&&this.O7123(ig.game.entities)}},O2939:function(){ig.system.context.font=this.textSize+"px monospace";
ig.system.context.fillStyle="rgba(255,255,255,.85)"},O3498:function(a,b,c,d){d&&(c+=" ["+d+"]");a=30+(this.textSize+1)*a;void 0!==c&&(b+=": ");ig.system.context.fillText(b,20,a);void 0!==c&&ig.system.context.fillText(c,230,a)},O6154:function(){for(var a=[],b,c=0;c<ig.game.entities.length;c++)b=ig.game.entities[c],b.animSheet&&(b.animSheet.image&&-1==a.indexOf(b.animSheet.image.path))&&a.push(b.animSheet.image.path),b.baseType&&-1==a.indexOf(b.baseType)&&a.push(b.baseType);return a.concat(String.fromCharCode(13))}})});
ig.baked=!0;
ig.module("game.ui.alertdialog").requires("game.ui.components.uidialog").defines(function(){window.AlertDialog=UIDialog.extend({isOpen:!1,O6041:null,O4960:null,doShowBig:!1,O4878:!1,isPrompt:!1,O3468:!1,O7877:!1,fontStyle:"",contextId:null,fullyOpaque:!1,O5458:null,O6353:!1,O7750:!1,O1987:!1,O3526:!1,O3546:null,O4073:null,O3409:!1,init:function(){this.fontStyle="font-size: "+
(6+2*ig.system.scale)+"px;"},open:function(a,b,c,d,e,f,g,h,k,l,m,n){if(!this.isOpen){var p="";if("string"===typeof a)p=a;else{var q=a;q.html?(p=q.html,b=!0):(p=q.text,b=!1);c=q.O6041;d=q.O4960;e=q.doShowBig;f=q.O3468;g=q.fullyOpaque;h=q.O4878;k=q.O6353;l=q.O7750;m=q.O1987;n=q.O3526}this.O3468=!!f;this.O4960=void 0==d||null==d?"OK":d;this.O3468&&!d&&(this.O4960="x");this.O6041=c;this.doShowBig=!!e;this.O3526=
!!n;this.O4878=!!h;this.O6353=!!k;this.fullyOpaque=!!g;this.isPrompt=!1;this.O7750=!!l;this.O1987=!!m;this.O3409=Boolean(q&&q.O3409);this.O7004(p,b);this.isOpen=!0}},O1846:function(a){this.open(a,null,null,null,null,null,null,null,null,null,null,!0)},O1300:function(a){this.open(a,!0,null,null,null,null,null,null,null,null,null,!0)},O4098:function(a,b){var c;c=""+("<p>"+ig.game.strings.O4334(a)+"</p>");
this.O4073=b;this.open({html:c+'<div class="buttonPart"><a href="javascript:ig.game.alertDialog.O1258()" class="okButton">OK</a></div>',O3468:!0,O3526:!0})},O1258:function(){this.O4073&&(this.O4073(),this.O4073=null);this.close()},O8429:function(a,b,c,d,e,f,g,h,k,l,m){if(!this.isOpen){this.O3468=!1;if(null===k||void 0===k)k=1E6;e&&(this.doShowBig=!0);this.O7877=!0;this.O4960=
void 0==d||null==d?"OK":d;this.O6041=c;this.isPrompt=!0;if(void 0===b||null===b)b="";c="";a&&(c+='<div class="promptText" style="'+this.fontStyle+(m?"; text-transform: none":"")+'">'+ig.game.strings.O4334(a)+"</div>");a=f?"allowMixedCase":"allUpperCase";c+='<p class="promptInput" style="'+this.fontStyle+'">';e?(f=0.8*ig.system.height*ig.system.scale-37*ig.system.scale,3<=ig.system.scale&&(f+=20),c+='<textarea id="promptInputBox" maxlength="'+k+'" spellcheck="false" class="'+a+'" placeholder="" style="height: '+
Math.round(f-10)+'px">'+ig.game.strings.O4334(b)+"</textarea>"):(f="",b&&(f=' value="'+ig.game.strings.O4334(b)+'"'),c+='<input type="text" id="promptInputBox"'+f+' maxlength="'+k+'" class="'+a+'"/>');c+="</p>";g&&(c+=g);this.O7004(c,!0,e,l);this.O5458=h;var n=this;e||(jQuery("#promptInputBox").keyup(function(a){13==a.keyCode&&ig.game.alertDialog.O8312();n.O5458&&n.O5458(jQuery("#promptInputBox").val())}),jQuery("#promptInputBox").click(function(a){jQuery("#promptInputBox").select()}));
this.isOpen=!0;jQuery("#promptInputBox").focus();this.O3546=e?document.getElementById("promptInputBox"):null}},update:function(){this.isOpen&&ig.input.pressed("esc")&&(ig.input.O3472(),this.close())},O7004:function(a,b,c,d){var e="";b?e=a:(e=ig.game.strings.O4334(a),e=this.O4993(e),e="<p>"+e+"</p>");a=ig.system.realWidth/2;b=ig.system.O1709/2;ig.ua.mobile&&(a=Math.floor(1.3*a),b=Math.floor(1.3*b));d?(a=120*ig.system.scale,b=90*ig.system.scale):this.doShowBig?
(a=0.8*ig.system.realWidth,b=0.8*ig.system.O1709):this.O3526?(d=400,a=ig.system.realWidth/3,b=ig.system.O1709/5,a<d&&(a=d),300>b&&(b=300)):this.O4878&&(d=300,a=0.15*ig.system.realWidth,b=0.9*ig.system.O1709,a<d&&(a=d));180>a&&(a=180);var f=jQuery("#"+ig.game.canvasId),g=f.position();d=f.width();f=f.height();d=g.left+d/2-a/2;g=g.top+f/2-b/2;this.O4878?g=d=10:this.O6353&&(g=10);f="";f=c?f+"overflow-y: hidden":f+"overflow-y: auto";this.O3468?(c=this.O3409?
"close-button-extra-visible":"close-button",c="x"==this.O4960?'<img src="'+ml.Misc.O8018(c)+'" alt=""/>':ig.game.strings.O4334(this.O4960),e='<div class="contentPart" style="'+f+'">'+e+"</div>"+('<a href="javascript:ig.game.alertDialog.O8312()" id="alertDialogCloseButton">'+c+"</a>")):""!=this.O4960&&(c=b-45*ig.system.scale,3<=ig.system.scale&&(c+=20),e='<div class="contentPart" style="height: '+c+"px; "+f+'">'+e+"</div>",e+='<div class="buttonPart"><a href="javascript:ig.game.alertDialog.O8312()" class="okButton">'+
ig.game.strings.O4334(this.O4960)+"</a></div>");this.O7877&&!this.O3468&&(e+='<a href="javascript:ig.game.alertDialog.O5197()" id="alertDialogCloseButton"><img src="'+ml.Misc.O8018("close-button")+'" alt=""/></a>');c=this.fontStyle;c=this.O1987?c+"border: 0; background-color: transparent;":c+("border-top: "+ig.system.scale+"px solid #eee; border-left: "+ig.system.scale+"px solid #eee; border-bottom: "+ig.system.scale+"px solid #333; border-right: "+
ig.system.scale+"px solid #333;");this.O7750&&(c+="overflow-y: hidden;");this.O3468&&(c+="padding-top: "+6*ig.system.scale+"px;");e=jQuery('<div id="alertDialog" style="'+c+'">'+e+"</div>");e.attr("width",a);e.attr("height",b);e.css("width",a+"px");e.css("height",b+"px");e.css("left",d+"px");e.css("top",g+"px");this.fullyOpaque&&e.css("opacity","1");e.appendTo("body");this.size.x=a;this.size.y=b},O8312:function(){ig.game.O6099.O6375();ig.game.sounds.click.play();
if(this.isPrompt&&this.O6041){var a=jQuery("#promptInputBox").val();this.O6041(a)}else this.O6041&&this.O6041();this.close();ig.game.O5051.O930(!0)},O5197:function(){ig.game.sounds.click.play();this.close()},O4993:function(a){a=ig.game.strings.O4621(a);a="[["+a+"]]";a=ig.game.strings.replaceAll(a,"[[*","<strong>");a=ig.game.strings.replaceAll(a,"*]]","</strong>");a=ig.game.strings.replaceAll(a," *"," <strong>");
a=ig.game.strings.replaceAll(a,"* ","</strong> ");a=ig.game.strings.replaceAll(a,"*\r","<strong>\r");a=ig.game.strings.replaceAll(a,"[[","");a=ig.game.strings.replaceAll(a,"]]","");return a=ig.game.strings.replaceAll(a,"\r",'<span class="separation"></span>')},draw:function(){},close:function(){this.isOpen&&!ig.game.areaClosed&&(this.contextId=null,jQuery("#alertDialog").remove(),jQuery("#promptInputBox").remove(),ig.game.O3713(),this.isOpen=!1,ig.game.areaAdForDisplay||jQuery("#areaAdsInfo").fadeOut())},
O2094:function(a){if(this.O3546){var b=this.O8348();this.O3546.value=ig.game.alertDialog.O3546.value.valueOf().substr(0,b)+a+ig.game.alertDialog.O3546.value.valueOf().substr(b);this.setCursorPos(b+a.length)}},O8348:function(){return this.O3546.selectionStart},O2177:function(){return this.O3546?this.O3546.value:""},setCursorPos:function(a){this.O3546.selectionStart=a;this.O3546.selectionEnd=
a}})});ig.baked=!0;
ig.module("game.ui.interactingdialog").requires("game.ui.components.uidialog").defines(function(){window.InteractingDialog=UIDialog.extend({isOpen:!1,open:function(a){if(!this.isOpen){this.isOpen=!0;var b=0.8*ig.system.width,c=0.8*ig.system.height,b=b.limit(180,300),d=jQuery("#"+ig.game.canvasId),e=d.position(),f=d.width(),d=d.height(),f=e.left+f/2-b*ig.system.scale/2,e=e.top+d/2-c*ig.system.scale/2,d=1*ig.system.scale;a='<textarea id="interactingDialog" autofocus="autofocus" maxlength="1000000" style="'+("font-size: "+
(6+2*ig.system.scale)+"px;border-top: "+d+"px solid #eee; border-left: "+d+"px solid #eee; border-bottom: "+d+"px solid #eee; border-right: "+d+"px solid #eee;padding: "+3*ig.system.scale+"px")+'">'+ig.game.strings.O4334(a)+"</textarea>";a=jQuery(a);a.attr("width",b*ig.system.scale);a.attr("height",c*ig.system.scale);a.css("width",b*ig.system.scale+"px");a.css("height",c*ig.system.scale+"px");a.css("left",f+"px");a.css("top",e+"px");a.appendTo("body")}}})});ig.baked=!0;
ig.module("game.ui.userscripteditor").requires("game.ui.components.uidialog").defines(function(){window.UserScriptEditor=UIDialog.extend({isOpen:!1,pos:{x:0,y:0},size:{x:0,y:0},runs:!1,textfield:null,tabString:"    ",logField:null,isVisible:!0,O5936:!0,O4627:null,O870:!0,O2180:null,O6197:!0,O4589:null,open:function(a,b,c,d,e){!this.isOpen&&(ig.game.O4269&&1<=ig.game.O4269.rank)&&(this.isOpen||(this.runs=!1),this.O2180=b,this.O870=
!0,void 0!==c&&(this.O870=Boolean(c)),this.O6197=!0,void 0!==d&&(this.O6197=Boolean(d)),this.O4589=null,void 0!==e&&(this.O4589=e),ig.game.O4269&&(ig.game.O4269.vel={x:0,y:0},ig.game.O4269.accel={x:0,y:0},ig.game.O4269.setAnim(ig.game.O4269.anims.idle)),a||(a=""),this.isOpen=!0,this.size={x:Math.round(ig.system.width/2),y:ig.system.height-28},d=jQuery("#"+ig.game.canvasId),b=d.position(),c=d.width(),d.height(),this.pos.x=b.left+
c-this.size.x*ig.system.scale-10*ig.system.scale,ig.game.O2050&&(this.pos.x-=58*ig.system.scale),this.pos.y=b.top+3*ig.system.scale,this.O4627=a,a='<textarea id="userScriptEditorText" maxlength="1000000" spellcheck="false" style="'+("font-size: "+this.O5413()+"px;"+this.O3778()+"padding: "+3*ig.system.scale+"px")+'">'+ig.game.strings.O4334(a)+"</textarea>",a=jQuery(a),a.attr("width",this.size.x*ig.system.scale),a.attr("height",this.size.y*ig.system.scale),a.css("width",
this.size.x*ig.system.scale+"px"),a.css("height",this.size.y*ig.system.scale+"px"),a.css("left",this.pos.x+"px"),a.css("top",this.pos.y+"px"),a.appendTo("body"),a=b.left+c-92*ig.system.scale,ig.game.O2050&&(a-=61*ig.system.scale),b=this.pos.y+10,c=50*ig.system.scale,d=6*ig.system.scale,this.O8338(a,b,c),this.O140(a+c+d+2*ig.system.scale,b),this.O8213(a+c+d+15*ig.system.scale+(3<=ig.system.scale?-2:3),b),this.textfield=document.getElementById("userScriptEditorText"),
ig.game.camera.setOffset(),this.O5932(),jQuery("#userScriptEditorText").focus())},O3778:function(){var a=1*ig.system.scale;return"border-top: "+a+"px solid #ccc; border-left: "+a+"px solid #ccc; border-bottom: "+a+"px solid #ccc; border-right: "+a+"px solid #ccc;"},O8338:function(a,b,c){var d=jQuery('<div id="userScriptEditorStartStop" onclick="ig.game.userScriptEditor.O299()"><span id="userScriptEditorStartStopLabel">&#9654;</span> <span class="userScriptEditorShortcut">ctrl+s</span></div>');
d.css("left",a+"px");d.css("top",b+"px");d.css("width",c+"px");d.css("padding-left",3*ig.system.scale+"px");d.css("padding-right",3*ig.system.scale+"px");d.appendTo("body")},O140:function(a,b){var c=jQuery('<div id="userScriptEditorHelp" onclick="ig.game.sounds.click.play();ig.game.userScriptEditor.O2180.userScriptEditorOpenHelp()"><span id="userScriptEditorHelpLabel">?</span></div>');c.css("left",a+"px");c.css("top",b+"px");c.css("padding-left",3*ig.system.scale+"px");c.css("padding-right",
3*ig.system.scale+"px");c.appendTo("body")},O8213:function(a,b){var c=jQuery('<div id="userScriptEditorClose" onclick="ig.game.sounds.click.play();ig.game.userScriptEditor.close()"><span id="userScriptEditorCloseLabel">X</span></div>');c.css("left",a+"px");c.css("top",b+"px");c.css("padding-left",3*ig.system.scale+"px");c.css("padding-right",3*ig.system.scale+"px");c.appendTo("body")},O5413:function(){return 11+2*ig.system.scale},O6465:function(){var a='<textarea id="logFieldText" spellcheck="false" readonly="true" style="'+
("font-size: "+this.O5413()+"px;padding: "+3*ig.system.scale+"px;"+this.O3778())+'"></textarea>',a=jQuery(a),b=Math.round(this.size.y/4);a.attr("width",this.size.x*ig.system.scale);a.attr("height",b*ig.system.scale);a.css("width",this.size.x*ig.system.scale+"px");a.css("height",b*ig.system.scale+"px");a.css("left",this.pos.x+"px");a.css("top",this.pos.y+this.size.y*ig.system.scale-b*ig.system.scale+"px");a.appendTo("body");a=this.size.y-b-6;jQuery("#userScriptEditorText").css("height",
a*ig.system.scale+"px");this.logField=document.getElementById("logFieldText")},update:function(){if(this.isOpen){this.isVisible=ig.game.settings.showMainUI;if(this.isVisible!=this.O5936){this.O5936=this.isVisible;for(var a=["userScriptEditorText","logFieldText","userScriptEditorHelp","userScriptEditorStartStop"],b=0;b<a.length;b++){var c=a[b];this.isVisible?jQuery("#"+c).show():jQuery("#"+c).hide()}ig.game.camera.setOffset()}this.O6197&&(ig.input.state("esc")||ig.input.pressed("d_arr"))&&
this.close()}},O2262:function(){return this.isOpen&&this.isVisible&&!this.runs&&jQuery("#userScriptEditorText").is(":focus")},O1153:function(){jQuery("#logFieldText").remove();jQuery("#userScriptEditorText").css("height",this.size.y*ig.system.scale+"px")},O299:function(){ig.game.sounds.click.play();if(this.runs)this.O2180&&this.O2180.userScriptEditorRunEnded&&this.O2180.userScriptEditorRunEnded();else{window.consoleref.clear();ig.game.alertDialog.close();
this.O1153();this.logField=null;var a=jQuery("#userScriptEditorText").val();this.O2180&&this.O2180.userScriptEditorRunStarted&&this.O2180.userScriptEditorRunStarted(a)&&(this.runs=!0,jQuery("#userScriptEditorStartStopLabel").html("&#9632;"),jQuery("#userScriptEditorStartStop").toggleClass("userScriptEditorStartStopButtonRuns"));this.O1853(a)}},O1853:function(a){void 0===a&&(a=jQuery("#userScriptEditorText").val());if(!this.isCurrentlySaving&&a!=this.O4627){this.isCurrentlySaving=
!0;this.O4589?localStorage.lastSavedOffersEditingItemId=this.O4589:delete localStorage.lastSavedOffersEditingItemId;var b=this;ig.game.O7421.setUserScriptEditorData_P(a).done(function(c){if(!c||!c.ok)throw Error("There was an issue saving the editor content.");b.O4627=a;b.isCurrentlySaving=!1})}},O5932:function(){var a=this;jQuery("#userScriptEditorText").on("keydown",function(b){b.stopPropagation();if(121==b.keyCode)ig.game.settings.O4658();
else if(13==b.keyCode)a.textfield.selectionEnd>a.textfield.selectionStart||(b.preventDefault(),a.O7079());else if(b.ctrlKey&&83==b.keyCode)b.preventDefault(),a.O299();else if(27==b.keyCode)b.preventDefault(),a.O6197&&ig.game.brainManager.unload(!0);else if(9==b.keyCode){b.preventDefault();var c=a.textfield.value,c=c.replace(/\r\n/g,"\n");(c=a.O2566(c))||(c="");b.shiftKey?1<=c.length?a.O6883(ig.game.userScriptEditor.O7493):a.O2488():
1<=c.length?a.O6883(ig.game.userScriptEditor.O1320):a.O2094(a.tabString)}})},O7079:function(){var a="",b=this.textfield.selectionStart,c=this.textfield.value.substr(0,b),d=this.textfield.value.substr(b),e=c.lastIndexOf("\n");if(0<=e&&e<b)for(var e=c.substr(e,b).split("    ").length-1,f=1;f<=e;f++)a+="    ";this.textfield.value=c+"\n"+a+d;this.textfield.selectionStart=b+a.length+1;this.textfield.selectionEnd=this.textfield.selectionStart},O2566:function(a){var b=
"",c=this.textfield.selectionStart,d=this.textfield.selectionEnd;0<=c&&d>c&&(a||(a=this.textfield.value),b=a.substr(c,d-c));return this.lastSelection=b},O1320:function(a){a=ig.game.userScriptEditor.tabString+a.replace(/\n/g,"\n"+ig.game.userScriptEditor.tabString);var b=ig.game.userScriptEditor.tabString.length;a.substr(a.length-b)==ig.game.userScriptEditor.tabString&&(a=a.substr(0,a.length-b));return a},O7493:function(a){a=a.replace(/\n    /g,"\n");var b=ig.game.userScriptEditor.tabString.length;
a.substr(0,b)==ig.game.userScriptEditor.tabString&&(a=a.substr(b));return a},O2488:function(){var a=this.textfield.value,b=this.O8348(),c=this.tabString.length;a.substr(b-c,c)==this.tabString&&(a=a.substr(0,b-c)+a.substr(b,a.length-c),this.textfield.value=a,this.setCursorPos(b-c))},O2094:function(a){var b=this.O8348();this.textfield.value=ig.game.userScriptEditor.textfield.value.valueOf().substr(0,b)+a+ig.game.userScriptEditor.textfield.value.valueOf().substr(b);this.setCursorPos(b+
a.length)},O8348:function(){return this.textfield.selectionStart},O2177:function(){return this.textfield?this.textfield.value:""},setCursorPos:function(a){this.textfield.selectionStart=a;this.textfield.selectionEnd=a},O6883:function(a){var b=this.textfield.selectionStart,c=this.textfield.selectionEnd;if(0<=b&&c>b){var d=this.textfield.value,e=d.substr(b,c-b);a=a(e);a!=e&&(d=d.substr(0,b)+a+d.substr(c),this.textfield.value=d,this.textfield.selectionStart=b,this.textfield.selectionEnd=
b+a.length)}},close:function(){this.runs=!1;this.isOpen&&(this.O2180&&this.O2180.userScriptEditorClosed&&this.O2180.userScriptEditorClosed(),this.O2180=null,this.O870&&this.O1853(),this.logField=this.textfield=null,jQuery("#userScriptEditorStartStop").remove(),jQuery("#userScriptEditorHelp").remove(),jQuery("#userScriptEditorClose").remove(),jQuery("#userScriptEditorText").remove(),jQuery("#logFieldText").remove(),ig.game.O3713(),this.runs=this.isOpen=
!1,ig.game.camera.setOffset())},O8457:function(a,b,c,d){this.O4800(this.textfield,b,c);ig.game.sounds.shortWhoosh.play();d||!ig.game.O4269?(a="\r\nOops, there's an error in line "+b+"\r\n\r\n"+a,ig.game.alertDialog.open(a,null,null,null,null,!0,null,!0)):ig.game.O4269.say(a.toLowerCase())},O4800:function(a,b,c){b--;c--;for(var d=a.value.split("\n"),e=0,f=a.value.length,f=0;f<d.length&&f!=b;f++)e+=d[f].length+1;e+=c;if(d[b])return f=d[b].length+e-c,b="undefined"!=
typeof a.selectionStart,c=!b&&document.selection&&document.selection.createRange,b?(a.focus(),a.selectionStart=e,a.selectionEnd=f,!0):c?(a.focus(),a.select(),a=document.selection.createRange(),a.collapse(!0),a.moveEnd("character",f),a.moveStart("character",e),a.select(),!0):!1;console.warn("Line number "+b+" not found in script.")},O1719:function(a){this.logField||this.O6465();this.logField.value+=a;this.logField.scrollTop=this.logField.scrollHeight},O1467:function(){this.logField&&(this.logField.value=
"")},O3681:function(){this.runs&&(this.runs=!1,jQuery("#userScriptEditorStartStopLabel").html("&#9654;"),jQuery("#userScriptEditorStartStop").toggleClass("userScriptEditorStartStopButtonRuns"))}})});ig.baked=!0;
ig.module("game.ui.areasearchdialog").requires("game.ui.components.uidialog").defines(function(){window.AreaSearchDialog=UIDialog.extend({restrictToJustResults:!1,isOpen:!1,O5698:null,O6972:8,O5142:null,open:function(a,b){this.isOpen||(this.O204(),this.parent(),this.restrictToJustResults=Boolean(b),this.O7004(a),ig.game.sounds.shortWhoosh.play())},O204:function(){this.O5142="pvp;party;parkour;adventure;trivia;puzzle;quiz;quest;game;hub;casino;store;bodies;items;chat;art;friends;racing;sport;movies;university;school;mall;help;beach;horror;bar;cafe;club;space;fun;castle;welcome areas;music;code;talk;science;skins;multis;board games".split(";");
this.O5142.sort()},O229:function(){this.isOpen?this.close():this.open()},O7004:function(a){var b="";this.size.x=Math.min(200*ig.system.scale,ig.system.realWidth-50);this.size.y=Math.round(0.75*ig.system.O1709);this.pos.x=Math.round(ig.system.realWidth/2-this.size.x/2);this.pos.y=Math.round(ig.system.O1709/2-this.size.y/2);var c=5+2*ig.system.scale+"px",d="position: absolute; background-color: rgba(230,230,230,.8);border-radius: 5px; font-family: 'Press Start 2P', sans-serif; color: black; overflow-y: auto; overflow-x: hidden; text-transform: uppercase; "+
c,e="font-family: 'Press Start 2P', sans-serif; background-color: white; border: "+ig.system.scale+"px inset white; padding: "+(ig.system.scale+1)+"px; text-transform: uppercase; font-size: "+(4+2*ig.system.scale)+"px; width: "+this.size.x/2+"px;",f="display: block; position: absolute; opacity: .4; left: "+(this.size.x-16*ig.system.scale)+"px; top: "+4*ig.system.scale+"px;",g=ml.Misc.O8018("close-button");a?delete sessionStorage.areaSearchQuery:a=sessionStorage.areaSearchQuery?ig.game.strings.O4334(sessionStorage.areaSearchQuery):
"";var h="text-align: left; padding-left: "+this.size.x/4+"px; padding-top: "+5*ig.system.scale+"px; ";this.restrictToJustResults&&(h+="display: none;");b=b+('<div id="areaSearchDialog" style="'+d+'">')+('<p style="'+h+'">');b+='<input type="text" id="searchBox" style="'+e+'" value="'+a+'"/>';b+="</p>";b+='<div id="searchResult"></div>';b+='<img src="'+g+'" style="'+f+'" onclick="ig.game.areaSearchDialog.close()"/>';b+=this.O1563();b+='<div id="totalUsersOnline" style="color: green"></div>';
b+='<div class="areaSearchAd">'+ig.game.O6681(!0)+"</div>";b+=this.O8062(!0);b+="</div>";b=jQuery(b);b.css("left",this.pos.x+"px");b.css("top",this.pos.y+"px");b.css("width",this.size.x+"px");b.css("height",this.size.y+"px");b.css("fontSize",c);b.appendTo("body");var k=this;jQuery("#searchBox").keyup(function(a){switch(a.keyCode){case 13:k.O1717();break;case 27:k.close();break;case 49:a.ctrlKey&&ig.game.areaList.O3709();break;case 50:a.ctrlKey&&ig.game.areaList.O5660();
break;default:""==jQuery("#searchBox").val()&&(delete sessionStorage.areaSearchQuery,k.O8449(""))}});jQuery("#searchBox").focus();a&&""!=a&&this.O1717();this.O3270()},O3270:function(){ig.game.O7421.O7395().done(function(a){jQuery("#totalUsersOnline").html("People on: "+a.all)})},O1563:function(){var a;a='<div id="searchSuggestions" style="color: rgba(0,0,0,.4); text-align: center; line-height: 2.5em; padding: 25px">';
for(var b=0;b<this.O5142.length;b++){var c=ig.game.strings.O4334(this.O5142[b]);a+='<span class="pseudoLink" onclick="'+("ig.game.areaSearchDialog.O1632('"+c+"')")+'">'+ig.game.strings.replaceAll(c," ","&nbsp;")+"</span> &nbsp; "}return a+"</div>"},O1632:function(a){jQuery("#searchBox").val(a);this.O1717()},O8062:function(a){var b="";if(!this.restrictToJustResults&&(!ig.ua.phone||!ig.system.O1059())){var c="display: block; color: rgba(0,0,0,.7); left: 0; width: 100%; ",
c=a?c+("position: absolute; top: "+(this.size.y-105)+"px;"):c+"position: relative; top: 10px;";a=ig.game.isFullAccount&&!ig.ua.O6891?'<span style="opacity: .5; font-size: 90%">&nbsp; Ctrl+1</span>':"";var d=ig.game.isFullAccount&&!ig.ua.O6891?'<span style="opacity: .5; font-size: 90%">&nbsp; Ctrl+2</span>':"",b=b+('<div id="searchFooter" style="'+c+'">')+'<table style="width: 100%; margin-bottom: 15px; border-collapse: none">',b=b+"<tr>",b=b+"<td>&nbsp;</td>",b=b+('<td style="width: 50%; padding: 3px; padding-bottom: 3px; padding-top: 3px; vertical-align: middle; background-color: white; border-radius: 4px; text-align: center;" onclick="ig.game.areaList.O3709()"><div style="text-decoration: none; cursor: default" class="pseudoLink">Visited'+
a+"</div></td>"),b=b+"<td>&nbsp;</td>",b=b+('<td style="width: 50%; padding: 3px; padding-bottom: 3px; padding-top: 3px; vertical-align: middle; background-color: white; border-radius: 4px; text-align: center;" onclick="ig.game.areaList.O5660()"><div style="text-decoration: none; cursor: default" class="pseudoLink">Created'+d+"</div></td>"),b=b+"<td>&nbsp;</td>",b=b+"</tr>",b=b+"<tr>",b=b+'<td colspace="5"></td>',b=b+"</tr>",b=b+"<tr>",b=b+"<td>&nbsp;</td>",b=b+'<td style="width: 50%; padding: 3px; padding-bottom: 3px; padding-top: 3px; vertical-align: middle; background-color: white; border-radius: 4px; text-align: center;" onclick="ig.game.randomAreasDialog.open()"><div style="text-decoration: none; cursor: default" class="pseudoLink">Areas of the Hour</div></td>',
b=b+"<td>&nbsp;</td>",b=b+'<td style="width: 50%; padding: 3px; padding-bottom: 3px; padding-top: 3px; vertical-align: middle; background-color: white; border-radius: 4px; text-align: center;" onclick="ig.game.areaSearchDialog.O5634()"><div style="text-decoration: none; cursor: default" class="pseudoLink">More...</div></td>',b=b+"<td>&nbsp;</td>",b=b+"</tr>",b=b+"</table>",b=b+"</div>"}return b},O5634:function(){var a=ig.game.isLocal?"546f1193fda1416015f93382":"53eb9f388534266f180e0fd2";
ig.game.writableDialog&&(ig.game.writableDialog.O213(a,!0),this.close())},O1717:function(){var a=this,b=jQuery("#searchBox").val(),b=b.trim().toLowerCase(),b=ig.game.strings.O7082(b,"  "," ");""==b?delete sessionStorage.areaSearchQuery:sessionStorage.areaSearchQuery=b;jQuery("#totalUsersOnline").remove();if(""==b)this.O8449("");else if(b=="areas 1-"+this.O6972){var c=a.O376([],b);a.O8005(c,b)}else ig.game.O7421.O6924(b).done(function(c){c=
a.O376(c,b);a.O8005(c,b)})},O376:function(a,b){a||(a=[]);var c=[];switch(b){case "area 1":case "area 2":case "area 3":case "area 4":case "area 5":case "area 6":case "area 7":case "area 8":var d=ig.game.strings.replaceAll(b,"area ",""),e={name:b};e.thumbUrl=this.O3052(parseInt(d));c.push(e);break;case "area":case "areas":case "elsewhere":case "areas 1-"+this.O6972:this.O2481(c);break;case "welcome areas":this.O2481(c);
for(d=1;d<ig.game.O2814.length;d++)e={name:ig.game.O2814[d]},c.push(e);break;case "chat":case "meet":case "friends":e={name:"area 3"},e.thumbUrl=this.O3052(3),c.push(e)}return a=c.concat(a)},O2481:function(a){this.O3036(a,3);for(var b=1;b<=this.O6972;b++)3!=b&&this.O3036(a,b)},O3036:function(a,b){var c={name:"area "+b};c.thumbUrl=this.O3052(b);a.push(c)},O3052:function(a){return ig.game.staticResourcePrefix+"media/ring-thumb/"+
a+".png?v="+ig.game.version},O8449:function(a){""==a&&jQuery("#searchSuggestions").show();jQuery("#searchResult").html('<p style="margin-top: 30px; opacity: .4">'+a+"</p>");jQuery("#searchFooter").show();jQuery(".areaSearchAd").hide()},O8005:function(a,b){var c="";jQuery("#searchFooter").hide();jQuery("#searchSuggestions").hide();jQuery(".areaSearchAd").hide();var d=0<=this.O5142.indexOf(b),e=b&&0<=b.indexOf("meaning of life");e&&(c+='<div class="glowAnimation" style="font-size: 300%; color: gold; font-weight: bold; text-align: center;margin-top: 50px; margin-bottom: 50px;">42</div>',
ig.game.sounds.laser_carving_1.play());if(a&&1<=a.length){var f=!1,g=40*ig.system.scale,h="margin: "+7*ig.system.scale+"px; text-align: left; clear: both; padding-right: 6px; background-color: rgba(255,255,255,.6); height: "+g+"px; border-radius: 5px; overflow: hidden;",g="float: left; width: "+g+"px; height: "+g+"px; float: left; margin-right: "+7*ig.system.scale+"px; display: block;",k="opacity: .6; line-height: 16px; padding-top: "+3*ig.system.scale+"px; font-size: 90%";this.O5698=a;for(var l=
"",m=!1,n=0;n<a.length;n++){var p=a[n],q="";p.name=p.name.toLowerCase();var s=ig.game.strings.replaceAll(p.name," ",""),r=p.thumbUrl?p.thumbUrl:ig.game.O3754.O3190(s),q=q+('<div onclick="'+(s==ig.game.O45?"ig.game.areaSearchDialog.close()":"ig.game.areaSearchDialog.O4017("+n+")")+'" style="'+h+'">'),q=q+('   <img src="'+r+'" alt="" style="'+g+'" class="thumb"/>'),q=q+('   <div style="padding-top: '+7*ig.system.scale+'px">'),q=q+('       <div style="font-size: 110%; opacity: .8">'+
ig.game.strings.O4334(p.name)+"</div>");p.description&&(r=ig.game.strings.O1288(p.description,140),r=ig.game.strings.O4334(r),r=ig.game.strings.replaceAll(r,"   "," &nbsp; "),q+='       <div style="'+k+'">'+r+"</div>");q+="   </div>";q+="</div>";d&&this.O899(p.description)?l+=q:c+=q;if(p.name==b||s==b)f=!0}c+=l;!e&&!f&&(c+='<div id="directToLink"></div>',m=!0);c+=this.O8062()}else e||(delete sessionStorage.areaSearchQuery,d=ml.Misc.O8018("nothing-found"),
c+='<p style="text-align: center; padding-top: '+8*ig.system.scale+'px">',c=c+('<img src="'+d+'" alt="" style="opacity: .5"/>')+"</p>",c+='<div id="directToLink"></div>',m=!0,c+=this.O8062(!0));jQuery("#searchResult").html(c);jQuery("img.thumb").on("error",function(){this.src=ig.game.staticResourcePrefix+"media/empty-area-thumb.png?v="+ig.game.version});if(m){var v=this;ig.game.O7421.O4962(b).done(function(a){a&&a.ok&&jQuery("#directToLink").html(v.getDirectToLinkHtml(b))})}},
getDirectToLinkHtml:function(a){var b;b=""+('<p style="'+("text-align: center; padding-top: "+16*ig.system.scale+"px; padding-bottom: "+16*ig.system.scale+"px")+'">');var c="ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest('"+ig.game.strings.O4334(a)+"',true);",d=ml.Misc.O8018("transport-button");b=b+('<img src="'+d+'" alt="" style="opacity: .3"/> ')+('<span class="pseudolink" onclick="'+c+'" style="color: rgba(0,0,0,0.3)">to '+ig.game.strings.O4334(a)+"</span>");
return b+="</p>"},O899:function(a){var b=!1;if(a){a=a.toLowerCase();for(var c=0,d=0;d<this.O5142.length;d++){var e=this.O5142[d];if(ig.game.strings.O948(a,e)&&(b=6<=++c))break}if(!b){b=!0;for(d=0;4>d;d++)if(e=this.O5142[d],!ig.game.strings.O948(a,e)){b=!1;break}}}return b},O4017:function(a){var b=this.O5698[a].name,b=ml.Misc.O7149(b);ig.game.O4269.say("to "+b);setTimeout(function(){ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest(b)},
500);this.close()},close:function(){this.restrictToJustResults=!1;this.O5698=null;jQuery("#areaSearchDialog").remove();this.parent()}})});ig.baked=!0;
ig.module("game.ui.adcampaignsdialog").requires("game.ui.components.uidialog").defines(function(){window.AdCampaignsDialog=UIDialog.extend({isOpen:!1,O5509:!1,priceSlots:[{usd:5,impressions:1E4},{usd:10,impressions:3E4},{usd:40,impressions:25E4}],init:function(){if(this.O5509=-1!=window.location.href.indexOf("?adpaid")){window.history.pushState({},document.title,window.location.href.split("?")[0]);var a=this;setTimeout(function(){a.open()},1E3)}},open:function(){this.isOpen||
(ig.game.isFullAccount?(this.parent(),ig.game.writableDialog&&ig.game.writableDialog.isOpen&&ig.game.writableDialog.close(),this.O7004(),ig.game.sounds.shortWhoosh.play()):ig.game.bottomMenu.showLoginDialog(!0))},O7004:function(){var a="";this.size.x=380*ig.system.scale;this.size.y=Math.round(0.75*ig.system.O1709);this.pos.x=Math.round(ig.system.realWidth/2-this.size.x/2);this.pos.y=Math.round(ig.system.O1709/2-this.size.y/2);var b=5+2*ig.system.scale+"px",c="position: absolute; background-color: rgba(230,230,230,.8);border-radius: 5px; font-family: 'Press Start 2P', sans-serif; color: black; overflow-y: auto; overflow-x: hidden; text-transform: uppercase; "+
b,d="display: block; position: absolute; opacity: .4; left: "+(this.size.x-16*ig.system.scale)+"px; top: "+4*ig.system.scale+"px;",e=ml.Misc.O8018("close-button"),a=a+('<div id="adCampaignsDialog" style="'+c+'">'),a=a+('<img src="'+e+'" style="'+d+'" onclick="ig.game.adCampaignsDialog.close()"/>'),f=this;this.O7304(function(c){f.O5509&&(ig.game.sounds.minfinity.play(),a+='<p style="color: green; margin-top: 60px">The ad is successfully running now! Thank you!</p>');
a+=c;a+="</div>";c=jQuery(a);c.css("left",f.pos.x+"px");c.css("top",f.pos.y+"px");c.css("width",f.size.x+"px");c.css("height",f.size.y+"px");c.css("fontSize",b);c.appendTo("body");f.O5509=!1})},O7304:function(a){var b="",c=this;ig.game.O7421.O4915().done(function(d){if((d=d&&d.campaigns)&&1<=d.length){b+='<table class="adCampaigns" id="adCampaignsOverview">';b+="<tr>";b+="<th>Link text</th><th>Area</th><th>Impressions</th><th>Start time</th><th>&nbsp;</th><th>&nbsp;</th>";
b+="</tr>";for(var e=0;e<d.length;e++){var f=d[e],g=ig.game.strings.O4334(f.id);b+="<tr>";b+="<td>"+c.O1510(f.title,f.id,f.remainingImpressions)+"</td>";b+="<td>"+c.O1953(f.areaName,f.id,f.remainingImpressions)+"</td>";b+="<td>"+(f.totalImpressions-f.remainingImpressions)+" of "+f.totalImpressions+"</td>";b+="<td>"+ig.game.strings.O4334(f.dateCreated)+"</td>";b+="<td>"+c.O3961(f)+"</td>";f=c.O6506();f+="visibility: hidden;";
b+='<td><input type="button" id="updateAdCampaignButton_'+g+'" class="saveAdCampaignButton" value="Update" onclick="ig.game.adCampaignsDialog.updateCampaign(\''+g+'\')" style="'+f+'" /></td>';b+="</tr>"}b+="</table>"}b+=c.O6925(0==d.length);a(b)})},O3961:function(a){var b="";if(0<a.remainingImpressions)var c=ig.game.strings.O4334(a.id),b=b+('<img src="'+this.O1119(a.paused)+'" class="disableContentSelect" onclick="'+("ig.game.adCampaignsDialog.toggleAdPaused('"+
c+"')")+'" style="opacity: 0.7" id="campaignPaused_'+c+'"/>');else b="&nbsp;";return b},toggleAdPaused:function(a){var b=this.O5711(a),b=this.O1119(!b);jQuery("#campaignPaused_"+a).attr("src",b);this.showUpdateButton(a);ig.game.sounds.click.play()},O5711:function(a){return 0<=jQuery("#campaignPaused_"+a).attr("src").indexOf("playPause/play")},O1790:function(a){return a?"true":"false"},O1119:function(a){return ml.Misc.O8018("playPause/"+
(a?"play":"pause"))},O5424:function(a){return a&&"true"===a},O6506:function(){var a=ig.system.scale+"px solid rgba(0,0,0,0.4);";return"border: 0; border-bottom: "+a+"border-right: "+a},O1510:function(a,b,c){var d;d=""+('<input type="text" id="campaignTitle'+(b?"_"+b:"")+'" style="'+this.O7575(!!a)+'" size="35" maxlength="60"');a&&(d+=' value="'+ig.game.strings.O4334(a)+'"',d+=" oninput=\"ig.game.adCampaignsDialog.showUpdateButton('"+b+
"')\"");0===c&&(d+=' readonly="readonly" ');return d+"/>"},O1953:function(a,b,c){var d;d=""+('<input type="text" id="campaignAreaName'+(b?"_"+b:"")+'" style="'+this.O7575(!!a)+'" size="15" ');a&&(d+=' value="'+ig.game.strings.O4334(a)+'"',d+=" oninput=\"ig.game.adCampaignsDialog.showUpdateButton('"+b+"')\"");0===c&&(d+=' readonly="readonly" ');return d+"/>"},showUpdateButton:function(a){jQuery("#updateAdCampaignButton_"+a).css("visibility","visible")},O7575:function(a){var b=
"text-transform: uppercase; background-color: rgba(255,255,255,"+(a?"0.65":"1")+");";a&&(b+="border: 0;");return b},O6925:function(a){var b;b='<div id="softError" style="visibility: hidden; color: red"></div><div style="margin-top: 40px">';a||(b+='<p><span class="pseudoLink" onclick="jQuery(\'#createCampaign\').slideToggle(300)">+ New ad...</strong></p>');b+='<div id="createCampaign" style="'+(a?"":"display: none")+'">';b+='<table class="adCampaigns">';b+="<tr>";b+="<th>Link text</th><th>Area</th><th>Page views*</th><th></th>";
b+="</tr>";b+="<tr>";b+="<td>"+this.O1510()+"</td>";b+="<td>manyland.com/"+this.O1953()+"</td>";b+="<td>";b+='<select id="campaignMaxImpressions" style="font-size: 150%" size="3">';for(a=0;a<this.priceSlots.length;a++)b+='<option value="'+this.priceSlots[a].impressions+'">$'+this.priceSlots[a].usd+" &rarr; "+ig.game.strings.O4733(this.priceSlots[a].impressions)+"</option>";b+="</select>";b+="</td>";b+='<td><input type="button" class="saveAdCampaignButton" style="'+
this.O6506()+'" value="Create!" onclick="ig.game.adCampaignsDialog.saveNewCampaign()" /></td>';b+="</tr>";b+="</table>";b+='<p style="opacity: .4; line-height: 1.7em; font-size: 90%">*1 page view results in several appearances:<br/>On the side, in Writable threads, and on the Find Area dialog.<br/>Thank you for supporting Manyland!</p>';b+="</div>";return b+="</div>"},saveNewCampaign:function(){var a=jQuery("#campaignTitle").val(),b=jQuery("#campaignAreaName").val(),c=jQuery("#campaignMaxImpressions").val(),
a=a.toLowerCase().trim(),b=b.toLowerCase().trim(),b=ig.game.strings.replaceAll(b," ","");if(""==a||""==b||null==c)this.showSoftError("Please enter a link text, area name, and select the amount of impressions");else{var d=this;ig.game.O7421.O2761(b,a,c).done(function(a){var b=a.id;a=a.softError;b&&!ig.ua.steam&&(d.close(),localStorage.skipNextAd=!0,ig.game.iapManager.O2301(b));(b=d.O4119(a))&&d.showSoftError(b)})}},updateCampaign:function(a){var b=jQuery("#campaignTitle_"+
a).val(),c=jQuery("#campaignAreaName_"+a).val(),d=this.O5711(a),b=b.toLowerCase().trim(),c=c.toLowerCase().trim(),c=ig.game.strings.replaceAll(c," ","");if(""==b||""==c)ig.game.sounds.nocando.play();else{var e=this;ig.game.O7421.O656(a,c,b,d).done(function(a){(a=e.O4119(a.softError))?e.showSoftError(a):(ig.game.sounds.success.play(),e.close())})}},O4119:function(a){var b;switch(a){case "area_not_found":b="Oops, this area doesn't exist"}return b},
showSoftError:function(a){jQuery("#softError").html(a);jQuery("#softError").css({visibility:"visible"});ig.game.sounds.nocando.play()},O362:function(){jQuery("#softError").css({visibility:"hidden"});jQuery("#softError").html("")},close:function(){jQuery("#adCampaignsDialog").remove();this.parent()}})});ig.baked=!0;
ig.module("game.ui.arealist").defines(function(){window.AreaList=ig.Class.extend({thumbSize:0,O5802:"",init:function(){this.thumbSize=52*ig.system.scale;this.O5802="float: left; width: "+this.thumbSize+"px; height: "+this.thumbSize+"px"},O3709:function(){this.O5908(!0,!0)},O5660:function(){this.O5908(!1,!0,!0);ig.game.areaAdForDisplay||jQuery("#areaAdsInfo").fadeIn()},O4352:function(){var a=!0;if(ig.game.isFullAccount){if(ig.game.writableDialog&&
ig.game.writableDialog.isOpen)return;ig.game.O7673();ig.game.alertDialog&&ig.game.alertDialog.isOpen&&ig.game.alertDialog.close();jQuery("#readableDialog").remove();jQuery("#alertDialog").remove();ig.game.sounds.shortWhoosh.play();ig.game.alertDialog.open({html:" ",O3468:!0,fullyOpaque:!0});ig.game.alertDialog.contextId="areaThumbs";jQuery("#alertDialog").css("background-color","rgba(0,0,0,.75)").css("border",ig.system.scale+"px solid rgba(0,0,0,.75)").addClass("transparentScrollbar")}else ig.game.bottomMenu.showLoginDialog(!0),
a=!1;return a},O2823:function(){if(this.O4352()){var a=this,b=[];ig.game.O7421.O3677(this).done(function(c){for(var d=Math.min(c.length,20),e=0;e<d;e++)ig.game.O7421.O4901(c[e]).done(function(c){var d=c&&c.crAreaUrlName?c.crAreaUrlName:null;if(d&&-1===b.indexOf(d)){b.push(d);var e=ig.game.strings.O4334(d.toUpperCase()),e=e+(" ("+c.crAreaTotalOnline+")");c=ig.game.O3754.O3190(d.toLowerCase());d=d==ig.game.O45?
"ig.game.alertDialog.close()":"ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest('"+ig.game.strings.O4334(d)+"')";e='<img src="'+c+'" alt="" title="'+e+'" style="'+a.O5802+'" onclick="'+d+'" />';jQuery(".contentPart").append(e)}})})}},O5908:function(a,b,c){if(this.O4352()){var d=this;ig.game.O7421.O128().done(function(e){if(e&&1<=e.length){var f;f='<div style="text-align: center">';var g=function(a,b){var c=0;a.lastVisit>b.lastVisit?c=-1:a.lastVisit<
b.lastVisit&&(c=1);return c};c?e.sort(ml.Misc.O5620):e.sort(g);for(g=0;g<e.length;g++){var h=e[g],k=ml.Misc.O6635(h.lastVisit);if((h.isCreator&&b||!h.isCreator&&a)&&(!a||!(h.isCreator&&10<=k))){var l=h.urlName==ig.game.O45,k=ig.game.strings.O4334(h.name.toUpperCase()),k=k+(" ("+(h.totalOnline?h.totalOnline:0)+" now   "+ig.game.strings.O4733(h.totalVisitors)+" all time)"),k=k.toUpperCase(),m=ig.game.O3754.O3190(h.urlName.toLowerCase()),
h=l?"ig.game.alertDialog.close()":"ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest('"+ig.game.strings.O4334(h.urlName)+"')";f+='<img src="'+m+'" alt="" title="'+k+'" style="'+d.O5802+'" onclick="'+h+'" />'}}if(a){for(g=1;8>=g;g++)h=(l=ig.game.O5699&&1==ig.game.O172.O6722&&ig.game.O172.currentArea==g)?"ig.game.alertDialog.close()":"ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest("+g+")",k="area "+g,k=k.toUpperCase(),m=ig.game.staticResourcePrefix+
"media/ring-thumb/"+g+".png?v="+ig.game.version,f+='<img src="'+m+'" alt="" title="'+k+'" style="'+d.O5802+'" onclick="'+h+'" />';f+="</div>"}jQuery(".contentPart").html(f)}else ig.game.sounds.nocando.play()})}},close:function(){ig.game.alertDialog.close();ig.game.areaAdForDisplay||jQuery("#areaAdsInfo").fadeOut();this.parent()}})});ig.baked=!0;
ig.module("game.ui.thingreferencesdialog").requires("game.ui.components.uidialog").defines(function(){window.ThingReferencesDialog=UIDialog.extend({data:[],isOpen:!1,O1759:"thingReferencesDialog",O539:"",open:function(a,b){if(!this.isOpen){this.isOpen=!0;this.O539=b;this.data=a?a:[];var c=0.8*ig.system.height,d=jQuery("#"+ig.game.canvasId),e=d.position(),f=d.width(),d=d.height(),f=e.left+f-70*ig.system.scale-60*ig.system.scale,e=e.top+d/2-c*ig.system.scale/2,d=1*ig.system.scale,
d=jQuery('<div id="'+this.O1759+'" style="'+("font-size: "+(4+2*ig.system.scale)+"px;border-top: "+d+"px solid #eee; border-left: "+d+"px solid #eee; border-bottom: "+d+"px solid #eee; border-right: "+d+"px solid #eee;padding: "+3*ig.system.scale+"px")+'"></div>');d.attr("width",60*ig.system.scale);d.attr("height",c*ig.system.scale);d.css("width",60*ig.system.scale+"px");d.css("height",c*ig.system.scale+"px");d.css("left",f+"px");d.css("top",e+"px");d.appendTo("body");this.update()}},update:function(){jQuery(".thingReference").remove();
jQuery(".thingReferenceFootnote").remove();for(var a=0;a<this.data.length;a++){var b=this.data[a],c=ig.game.strings.O4334(b[0]),b=ig.game.strings.O4334(b[1]),c='<div class="thingReference" data-id="'+c+'">'+b+"</div>";jQuery("#"+this.O1759).append(c)}0==this.data.length&&(a='<p class="thingReferenceFootnote">Add '+this.O539+" From &gt;&gt;</p>",jQuery("#"+this.O1759).append(a));var d=this;jQuery(".thingReference").click(function(a){a=jQuery(this).attr("data-id");ig.input.state("ctrl")?
d.removeItem(a):(ig.game.O4703.O2163(a,2),1!=ig.game.panelSet.tabState&&ig.game.panelSet.O7981(1))})},addItem:function(a,b){if(a&&b){this.removeItem(a,!0);for(var c=b,d=0;this.O7793(b)&&!(b=c+" "+ ++d,1E4<=d););this.data.push([a,b]);ig.game.sounds.success.play();this.update()}},O7793:function(a){for(var b=!1,c=0;c<this.data.length;c++){var d=this.data[c];if(d&&d[1]&&d[1].toLowerCase()==a.toLowerCase()){b=!0;break}}return b},removeItem:function(a,b){for(var c=0;c<
this.data.length;c++)if(a==this.data[c][0]){this.data.splice(c,1);break}b||(ig.game.sounds.bin.play(),this.update())}})});ig.baked=!0;
ig.module("game.ui.friendsdialog").requires("game.ui.components.uidialog").defines(function(){window.FriendsDialog=UIDialog.extend({isOpen:!1,O1759:"friendsDialog",contentId:"contentPart",O6416:20,O8230:0,unfindable:void 0,statusText:void 0,O5103:500,fontStyle:"",O2189:"",O4885:null,receivedPingsByUserId:{},O4724:!1,totalOnlineDataCache:null,open:function(){if(!this.isOpen)if(this.O4724=
!1,ig.game.writableDialog&&ig.game.writableDialog.isOpen&&ig.game.writableDialog.close(),1<=ig.game.O4269.rank){this.fontStyle="font-size: "+(6+2*ig.system.scale)+"px;";ig.game.O7673(null,null,null,!0);ig.game.O4803.register(ig.game.O4803.types.OPENED_PEOPLE);this.isOpen=!0;this.O2189="border-top: "+ig.system.scale+"px solid rgba(100,100,100,.4); border-bottom: 0; margin-top: "+2*ig.system.scale+"px; margin-bottom: "+2*ig.system.scale+"px";if(void 0===
this.unfindable||void 0===this.statusText){var a=this;ig.game.settings.hideInFriendsList?this.O4291():ig.game.O4120.O4901(ig.game.O4269.O2507).done(function(b){b&&!b.hiddenInFriendsList&&(a.unfindable=b.unfindable,a.statusText=b.status,a.O4291())})}else this.O4291();ig.game.motionDialog&&ig.game.motionDialog.O5076("check friends")}else ig.game.O4132.O2959()},
update:function(){if(this.isOpen){if(ig.input.pressed("esc")||ig.input.pressed("f1"))ig.input.O3472(),this.close()}else ig.input.pressed("f1")&&this.open()},O3847:function(a){var b="";if(a){for(var c=1;8>=c;c++)var d=this.O8264(a&&a.core,1,c),b=b+(""==b?"Area ":"&nbsp; "),b=b+('<span class="pseudolink" onclick="'+("ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest("+c+")")+'">'+c+"</span> ("+ig.game.strings.O4334(d)+")");b+=" &nbsp; All: "+
a.all}return b},O8264:function(a,b,c){var d=" ";if(a&&1<=a.length)for(var e=0;e<a.length;e++){var f=a[e];if(f.p==b&&f.a==c&&(f.n||0===f.n)){d=f.n;break}}return d},O4291:function(){var a=this;ig.game.O4120.O1498().done(function(){a.O6824()})},O6824:function(){var a="",b=3*ig.system.scale,c=0.3;ig.ua.mobile&&ig.system.width>ig.system.height&&(c=0.2);var c=ig.system.width*c,d=ig.system.height-
6,c=c.limit(145,300),e=jQuery("#"+ig.game.canvasId).position();this.pos={x:3,y:3};this.size={x:c,y:d};var f=e.left+b,b=e.top+b,e="left: "+(f+c*ig.system.scale-8*ig.system.scale)+"px; top: "+(b+1*ig.system.scale)+"px; cursor: default; background-color: transparent; border: 0; opacity: .25",a=a+('<div id="areasOverview" style="font-size: '+(4+2*ig.system.scale)+'px;">'+this.O3847()+"</div>"),a=a+('<div id="'+this.contentId+'" class="contentPart"></div>'),a=a+('<span id="friendsDialogCloseButton" style="'+
e+'"><img src="'+ml.Misc.O8018("close-button")+'" alt=""/></span>'),e="";if(ig.game.settings.usePanelColorForOtherDialogs){var g=ig.game.settings.O2618();g&&(e+="background-color: rgba("+g.join(",")+",0.825);")}e+=this.fontStyle;a=jQuery('<div id="'+this.O1759+'" style="'+e+'">'+a+"</div>");a.attr("width",c*ig.system.scale);a.attr("height",d*ig.system.scale);a.css("width",c*ig.system.scale+"px");a.css("height",d*ig.system.scale+"px");a.css("left",f+"px");a.css("top",
b+"px");a.css("border-radius","5px");a.appendTo("body");var h=this;ig.game.O7421.O7395().done(function(a){h.totalOnlineDataCache=a;jQuery("#areasOverview").html(h.O3847(a))});jQuery("#"+this.O1759).scroll(function(){jQuery(this)[0].scrollHeight-jQuery(this).scrollTop()<=jQuery(this).outerHeight()&&h.O4533()}).on("click","#friendsDialogCloseButton",function(){h.O1830()}).on("click",".friendFindLink",function(a){var b=
jQuery(a.target).data("id");ig.game.O7421.O2039(b,h).done(function(c){if(c){c=jQuery(a.target).data("name");var d=!0==jQuery(a.target).data("exp"),e="1"==jQuery(a.target).data("areavisited"),f=jQuery(a.target).data("areaname");f&&!e?ig.game.portaller.O8108(f):h.O4622(b,c,d)}})}).on("click",".friendName",function(a){ig.game.sounds.click.play();a=jQuery(a.target).data("id");h.O7603(a)});this.O4533()},mixRgbs:function(a,b){return[Math.floor((a[0]+
b[0])/2),Math.floor((a[1]+b[1])/2),Math.floor((a[2]+b[2])/2)]},O1830:function(){ig.game.sounds.click.play();this.close()},close:function(){this.O8230=0;jQuery("#"+this.O1759).remove();ig.game.O3713();this.isOpen=!1},O4533:function(){var a=this;0==this.O8230&&ig.game.O4120.O4901(ig.game.O4269.O2507).done(function(b){b&&!b.hiddenInFriendsList&&jQuery("#"+a.contentId).prepend(a.O5835(b))});var b=0;ig.game.O4120.O8186(this.O8230,
this.O6416,this).done(function(c,d){c.forEach(function(c,d,g){++b<a.O6416&&a.O4373(c,a)});a.O8230++})},O4373:function(a,b){0==jQuery("#sep"+a).length&&(jQuery("#"+b.contentId).append('<div class="separator" style="'+b.O2189+'" id="sep'+a+'"></div>'),ig.game.O4120.O4901(a).done(function(c){c&&!c.hiddenInFriendsList&&jQuery("#sep"+a).after(b.O3793(a,c))}))},O5835:function(a){return this.O3793(ig.game.O4269.O2507,
{name:"Me",online:!0,status:this.statusText,unfindable:this.unfindable,crAreaName:a?a.crAreaName:"",crAreaTotalOnline:a?a.crAreaTotalOnline:""})},O3793:function(a,b){var c=a==ig.game.O4269.O2507,d="",e=ig.game.strings.O4334(b.name);a=ig.game.strings.O4334(a);var f=b.status?ig.game.strings.O4334(b.status):"",f=this.O2174(f);if(c&&!ig.game.settings.hideInFriendsList)d+='<div class="separator" style="'+this.O2189+'"></div>',f||(f="..."),f='<span id="ourStatus" onclick="ig.game.friendsDialog.O5803()">'+
f+"</span>",d+='<a class="friendName" data-id="'+a+'">'+e+"</a>",this.O4885=b.crAreaTotalOnline,b.unfindable?d+='<a class="findableToggler" href="javascript:ig.game.friendsDialog.O164()">I\'m unfindable</a>':(d+='<span class="friendDistance">',ig.game.O8053?(d+="In "+ig.game.strings.O4334(ig.game.O966),d=ig.game.O461?d+' <span style="font-size: 75%; opacity: .7">(can\'t see others here)</span>':d+(b.crAreaTotalOnline?" ("+b.crAreaTotalOnline+
")":"")):d=1==ig.game.O172.O6722?d+this.O7081(ig.game.O172.currentArea):d+"In Inner Ring",d+='</span> &nbsp; <a class="findableToggler" href="javascript:ig.game.friendsDialog.O164()">I\'m&nbsp;findable</a>');else{d+='<a class="friendName" data-id="'+a+'">'+e+"</a>";if(b.online){if(b.location&&!b.unfindable){var c=ig.game.O172.O3782(b.location),g="";c||(1==b.location.p&&b.location.a?g=b.location.a:b.crAreaName&&(g=ig.game.strings.O4334(b.crAreaName)));
e='<a class="friendFindLink pseudolink" data-id="'+a+'" data-name="'+e+'" data-exp="'+b.explored+'" data-areaname="'+g+'" data-areavisited="'+(b.crAreaGroupVisited?1:0)+'">';g="";c?ig.game.O461||(g=e+(b.distance?ig.game.strings.O5728(b.distance)+" from me":"")+"</a>"):g=b.crAreaName?"In "+e+ig.game.strings.O4334(b.crAreaName)+"</a>"+(b.crAreaTotalOnline?" ("+b.crAreaTotalOnline+")":""):1==b.location.p?this.O7081(b.location.a,e):"In Inner Ring</a>";""!=
g&&(d+='<span class="friendDistance" style="'+(ig.ua.mobile?"line-height: 4em":"")+'">'+g+"</span>")}this.receivedPingsByUserId[a]&&(d+=this.O8290(this.receivedPingsByUserId[a]));1<=ig.game.O4269.rank&&(d+='&nbsp; <span class="pseudolink pingFriendLink" id="pingFriendLink_'+a+'" onclick="'+("ig.game.friendsDialog.pingFriend('"+a+"')")+'" style="'+(ig.ua.mobile?"line-height: 4em":"")+'">ping&nbsp;with&nbsp;my&nbsp;location</span>')}else d+='<span class="lessImportant lastSeenTime">'+
ig.game.strings.O1466(b.lastSeen,void 0," ")+"</span>";this.O4724||(this.O4724=!0,ig.game.O4803.register(ig.game.O4803.types.SAW_FRIEND_ON_FRIENDS_LIST))}f&&(d+='<div class="friendStatus">'+f+"</div>");return d='<div id="user_'+a+'" class="friend '+(b.online?"isOnline":"isOffline")+'">'+d+"</div>"},O7081:function(a,b){void 0===b&&(b="");var c="In "+b+"Area "+a+(b?"</a>":"");if(this.totalOnlineDataCache)var d=
this.O8264(this.totalOnlineDataCache&&this.totalOnlineDataCache.core,1,a),c=c+(" ("+d+")");return c},O8121:function(a,b){this.receivedPingsByUserId[a]={html:b,time:new Date}},O8290:function(a){var b;b='&nbsp; <br/><span class="pingedYouLog">[pinged you from '+a.html;b+=" "+ig.game.strings.O5864(a.time,void 0," ");return b+="]</span>"},pingFriend:function(a){jQuery("#pingFriendLink_"+a).css("opacity",1);jQuery("#pingFriendLink_"+a).fadeOut(800,
function(){jQuery(this).hide()});ig.game.sounds.ping.play();var b=this;ig.game.O7421.O2039(a,this).done(function(c){c&&ig.game.O4349.O2475(a,b.O4885)})},O2174:function(a){a&&(a=ig.game.strings.O2213(a),a=ig.game.strings.O4187(a),a=ig.game.strings.O6547(a),a=ig.game.strings.O1387(a,!0),a=ig.game.strings.O7219(a),a=ig.game.strings.O4621(a,!0,!0),a=ig.game.strings.O6443(a));
return a},O164:function(){var a=this;ig.game.sounds.click.play();ig.game.O7421.O3855(this).done(function(b){a.unfindable=b.unfindable;a.O1690()})},O4622:function(a,b,c){this.close();c&&(c=ig.game.O4120.O5249(a),ig.game.userMapDialog.O7191(c.location));ig.game.O5051.O4364(a,b)},O5803:function(){var a="";this.statusText&&(a=ig.game.strings.O4334(this.statusText));a='<input type="text" value="'+
a+'" placeholder="Your text" id="ourStatus" maxlength="'+this.O5103+'" style="'+this.fontStyle+'" />';jQuery("#ourStatus").replaceWith(a);jQuery("#ourStatus").select();var b=this;jQuery("#ourStatus").keyup(function(a){13==a.keyCode&&b.O1527();27==a.keyCode&&b.O1690()});jQuery("#ourStatus").focusout(function(a){b.O1690()})},O1527:function(){var a=this,b=jQuery("#ourStatus").val();ig.game.O7421.O607(b).done(function(c){a.statusText=ig.game.strings.trim(b);
a.O1690();ig.game.sounds.success.play()})},O1690:function(){var a=this;ig.game.O4120.O4901(ig.game.O4269.O2507).done(function(b){b&&!b.hiddenInFriendsList&&jQuery("#user_"+ig.game.O4269.O2507).replaceWith(a.O5835(b))})},O7603:function(a){ig.ua.phone||ig.ua.mobile&&ig.system.O1059()?(this.close(),ig.game.playerDialog.openForPlayerId(a)):ig.game.playerDialog.isOpen&&ig.game.playerDialog.O3993&&ig.game.playerDialog.O3993.id==
a?ig.game.playerDialog.close():ig.game.playerDialog.openForPlayerId(a)}})});ig.baked=!0;
ig.module("game.ui.statsdialog").requires("game.ui.components.uidialog").defines(function(){window.StatsDialog=UIDialog.extend({data:{},isOpen:!1,O2627:null,O1759:"statsDialog",idPrefix:"i",backupKey:"areaStatsBackup",open:function(){if(!this.isOpen){this.isOpen=!0;this.data={};this.timer=new ml.Timer;jQuery('<div id="'+this.O1759+'" style="'+("left: "+40*ig.system.scale+"px; width: "+(ig.system.width*ig.system.scale-80*ig.system.scale)+"px;font-size: "+(4+2*ig.system.scale)+
"px;")+'"></div>').appendTo("body");this.loadBackupIfNeeded();this.O2373();this.O6478();this.O1746();var a=this;jQuery("#"+this.O1759).on("click",".personName",function(b){ig.game.sounds.click.play();b=jQuery(b.target).data("id");a.O7603(b)})}},O7603:function(a){ig.game.playerDialog.isOpen&&ig.game.playerDialog.O3993&&ig.game.playerDialog.O3993.id==a?ig.game.playerDialog.close():ig.game.playerDialog.openForPlayerId(a)},O2373:function(){var a=
ig.game.O413.player;if(a)for(var b=0;b<a.length;b++){var c=a[b];c._killed||this.O3301(c)}},O3301:function(a){if(a&&a.O2507){var b=this.idPrefix+a.O2507;this.data[b]||(this.data[b]={},this.data[b].name=a.screenName,a.attachments&&(a.attachments.h&&(this.data[b].held={},this.data[b].held[a.attachments.h.name]=1),a.attachments.m&&(this.data[b].mounted=a.attachments.m.name),a.attachments.w&&(this.data[b].worn=a.attachments.w.name)))}},addStat:function(a,b,c,d){var e=
["died","joined"];if(-1==="gathered removed built mounted worn held died joined".split(" ").indexOf(b))console.warn("Unsupported statType "+b);else{var f=this.idPrefix+a;if(!this.data[f]){a=ml.Misc.O2849(a);if(!a)return;this.data[f]={name:a.screenName}}var g=this.data[f];if(c||0<=e.indexOf(b))this.O3929(g,b,c);else{var h=ig.game.O4961.getItemBasic(d,"ui_std");if(h){var k=this;h.imagesBeingGenerated.done(function(){k.O3929(g,b,h.name)})}}}},O3929:function(a,
b,c){c=ig.game.strings.O2833(c,22,!0);switch(b){case "gathered":case "held":a[b]||(a[b]={});a[b][c]||(a[b][c]=0);a[b][c]++;break;case "removed":case "built":case "mounted":case "worn":a[b]=c;break;case "died":case "joined":case "hitsGiven":case "hitsReceived":if(void 0===a[b]||null===a[b])a[b]=0;a[b]++}this.O1746()},O1746:function(){var a;a="<table>"+('<tr class="topRow"><th id="statsTitle">'+this.O2952(this.O2627)+"</th><th>Gathered</th><th>Held</th><th>Last Worn &amp; Mounted</th><th>Last Built &amp; Removed</th><th>Died</th><th>Joined</th></tr>");
var b=!1,c;for(c in this.data){var d=this.data[c],e=ig.game.strings.O4334(c.substr(1)),f=ig.game.strings.O4334(d.name);a+="<tr"+(b?' class="alternate"':"")+">";a+='<th class="statsName"><a data-id="'+e+'" class="personName">'+f+"</a></th>";a+="<td>"+this.O7990(d.gathered)+"</td>";a+="<td>"+this.O7990(d.held)+"</td>";a+="<td>"+this.O3718(d)+"</td>";a+="<td>"+this.O334(d)+"</td>";a+="<td>"+(d.died?d.died:"")+"</td>";a+="<td>"+(d.joined?d.joined:
"")+"</td>";a+="</tr>";b=!b}a+="</table>";jQuery("#"+this.O1759).html(a)},O3718:function(a){var b=[];a.worn&&b.push("Worn "+ig.game.strings.O4334(a.worn));a.mounted&&b.push("Mounted "+ig.game.strings.O4334(a.mounted));return b.join("<br/>")},O334:function(a){var b=[];a.removed&&b.push("-"+ig.game.strings.O4334(a.removed));a.built&&b.push("+"+ig.game.strings.O4334(a.built));return b.join("<br/>")},O7990:function(a){var b="";a&&(b=JSON.stringify(a),
b=ig.game.strings.replaceAll(b,"{",""),b=ig.game.strings.replaceAll(b,"}",""),b=ig.game.strings.replaceAll(b,'"',""),b=ig.game.strings.replaceAll(b,":",": "),b=ig.game.strings.O4334(b),b=ig.game.strings.replaceAll(b,",","<br/>"));return b},update:function(){this.isOpen&&this.O6478()},O6478:function(){var a=Math.floor(this.timer.delta());if(a!=this.O2627){this.O2627=a;var b;b=""+this.O2952(a);jQuery("#statsTitle").html(b);
a%2||this.O3112()}},O2952:function(a){var b="",b=60>a?a+" seconds":Math.floor(a/60)+":"+a%60;return String(b)},close:function(){this.O2627=0;this.timer=null;jQuery("#"+this.O1759).remove();ig.game.O3713();localStorage.removeItem(this.backupKey);this.isOpen=!1},O3112:function(){var a=0,b;for(b in this.data)a++;0<a?(a=JSON.stringify(this.data),ig.game.O914.setItem(this.backupKey,a)):null===localStorage.getItem(this.backupKey)&&localStorage.removeItem(this.backupKey)},
loadBackupIfNeeded:function(){var a=localStorage.getItem(this.backupKey);a&&(this.data=JSON.parse(a),localStorage.removeItem(this.backupKey))}})});ig.baked=!0;
ig.module("game.ui.holderdialog").requires("game.ui.components.uidialog").defines(function(){window.HolderDialog=UIDialog.extend({isOpen:!1,holderId:null,animSheet:null,pos:{x:0,y:0},size:{x:null,y:null},backTileCount:{x:null,y:null},defaultBackTileCount:{x:8,y:7},O734:8,O3923:!1,O5788:null,items:[[]],O8177:0,O1355:0,pageable:!1,O554:!1,attributes:{},O8141:0,O3343:[0,0,0,1],O1548:null,O602:!1,O6454:!0,backgroundAnim:null,
O5102:null,O6037:{x:null,y:null},O6566:!1,O1581:!1,O7164:null,O4813:{},O5831:{},screenPosAtStart:{x:null,y:null},O5138:!1,O2280:null,O7008:null,O6486:{},O1516:!1,O7480:null,O814:!1,O6895:null,O645:!1,open:function(a,b,c,d,e,f,g){if(!this.isOpen&&ig.game.O4269&&0==ig.game.O4269.vel.x){ig.game.writableDialog&&
(ig.game.writableDialog.isOpen&&!ig.game.writableDialog.commentIdToAddItemTo)&&ig.game.writableDialog.close();this.O814=Boolean(e);this.O348();ig.game.O4269.vel.y=0;ig.input.O3472();ig.game.O4269.accel={x:0,y:0};this.O3923=d||!(!b||!b.parentPanel);this.O6486={x:Math.round(ig.game.O4269.pos.x),y:Math.round(ig.game.O4269.pos.y)};this.screenPosAtStart=ig.game.O5662(ig.game._rscreen);this.O4813=
{};this.O5831={};this.O6895=f;this.O645=Boolean(g);var h=ig.game.O4961.getItemBasic(a,"ui_hd4"),k=this;h&&h.imagesBeingGenerated.done(function(){ig.game.O7421.O3557(a).done(function(d){d&&(k.O839(h,a,d,b,c),k.isOpen=!0)})})}},O839:function(a,b,c,d,e){this.O602=!!c.isCreator;this.O2773(c.contents);a.attributes&&(this.attributes=ig.game.O5662(a.attributes));this.O8177=0;c=this.items.length;this.pageable=
this.attributes.upDownPaging||this.attributes.leftRightPaging;this.attributes.openOnLastPage&&(3<=c&&this.pageable)&&(this.O8177=c-2);void 0!==this.O6895&&null!==this.O6895&&(this.O8177=this.O6895);void 0!==this.O6895&&(delete this.attributes.upDownPaging,delete this.attributes.leftRightPaging);this.O1355=this.O8177;this.holderId=b;this.animSheet=ig.game.entityManager.getAnimationForEntity(a,0,0);this.O5788=d;this.O554=!(a.attributes&&
a.attributes.nonSelectable);a.rgb&&(this.O3343=a.rgb.split(","),this.O3343.push(1));this.O8141=0;this.attributes.border?this.O8141=1:this.attributes.thickBorder&&(this.O8141=3);this.O8464(e);this.O6678(a.attributes,a.backTileCount);this.O5138=10<=c||100<=this.getItemCount();this.O41();this.O1885();this.O3775()},O3775:function(){if(this.O554&&!this.O3923&&
!this.O1332()){var a=this.O1598();a&&(a.isSelected=!0)}},O1332:function(){var a=null;if(this.O283())for(var b=0;b<this.items[this.O8177].length;b++){var c=this.items[this.O8177][b];if(c.isSelected){a=c;break}}return a},O41:function(){this.backgroundAnim=[];for(var a=0;a<this.backTileCount.x;a++){this.backgroundAnim[a]=[];for(var b=0;b<this.backTileCount.y;b++)this.backgroundAnim[a][b]=
new ml.Animation(this.animSheet,1,[2]),this.attributes.changingBack&&ig.game.chance(50)&&(this.backgroundAnim[a][b].flip.x=!this.backgroundAnim[a][b].flip.x)}},O2800:function(){var a=ig.game.O5405.pageButtonUp.width,b=ig.game.O5405.pageButtonUp.height;if(this.attributes.upDownPaging){var c=this.pos.x+this.size.x-5-a;this.O4813={x:c,y:this.pos.y+5,width:a,height:b};this.O5831={x:c,y:this.pos.y+this.size.y-5-b,width:a,height:b};1==this.backTileCount.y&&(this.O4813.x-=
a)}else this.attributes.leftRightPaging&&(c=this.pos.y+this.size.y-5-b,this.O4813={x:this.pos.x+5,y:c,width:a,height:b},this.O5831={x:this.pos.x+this.size.x-5-a,y:c,width:a,height:b},1==this.backTileCount.x&&(this.O4813.y-=b))},getItemCount:function(){var a=0;if(this.items)for(var b=0;b<this.items.length;b++)this.items[b]&&this.items[b].length&&(a+=this.items[b].length);return a},O1885:function(){if(this.items)for(var a=0;a<this.items.length;a++)if(this.items[a]&&
this.items[a].length)for(var b=0;b<this.items[a].length;b++){var c=this.items[a][b];a==this.O8177||!this.O5138?c.entity||this.O1910(c):(c.entity&&c.entity.tidyUp&&c.entity.tidyUp(),delete c.entity)}},O8464:function(a){this.O3923||!this.O5788?a?ig.game.sounds.O7220(a):ig.game.sounds.shortWhoosh.play():this.O5788&&this.O5788.soundId?ig.game.sounds.playIncludedSound(this.O5788):ig.game.sounds.shortWhoosh.play()},
O6678:function(a,b){this.backTileCount=ig.game.O5662(this.defaultBackTileCount);if(b){var c=String(b).split(",");this.backTileCount={x:parseInt(c[0]),y:parseInt(c[1])}}this.size.x=this.backTileCount.x*ig.game.tileSize;this.size.y=this.backTileCount.y*ig.game.tileSize;this.O1202()},O1910:function(a){var b=ig.game.O4961.getItemBasic(a.id,"ui_hd2"),c=this;b.imagesBeingGenerated.done(function(){a.rot=void 0!=a.rot?a.rot:0;a.flip=void 0!=a.flip?a.flip:0;
b.rot=a.rot;b.flip=a.flip;var d={thingTypeId:b.id,flip:b.flip,attributes:b.attributes,animSheet:ig.game.entityManager.getAnimationForEntity(b,b.rot,b.flip),O6454:!0,O5998:c.O814};ig.game.entityManager.O6079(b.O7062(),b,d,!0);var e={x:c.pos.x+ig.game._rscreen.x+a.x,y:c.pos.y+ig.game._rscreen.y+a.y};c.O2022(e);var f="Entity"+ig.game.strings.toUpperCaseFirst(b.base.toLowerCase());ig.global[f]||(f="EntityDefault");a.entity=new ig.global[f](e.x,
e.y,d);a.name=b.name;a.base=b.base;a.attributes=ig.game.O5662(b.attributes);a.selectable=!(b.attributes&&b.attributes.nonSelectable);c.O554||(a.selectable=!1);a.rotatable=b.rotatable;a.flippable=b.flippable;a.textData=b.textData;a.entity.update()})},O1202:function(){var a=ig.system.width/2,b=ig.system.height/2;this.O3923?a=ig.system.width-this.size.x/2-60:ig.game.O4269&&(a=ig.game.O4269.pos.x-ig.game._rscreen.x,b=ig.game.O4269.pos.y-ig.game._rscreen.y);this.pos=
{x:a-this.size.x/2,y:b-this.size.y/2};this.O645&&(this.pos.x=10);this.O3923?(this.pos.x+=this.screenPosAtStart.x-ig.game._rscreen.x,this.pos.y+=this.screenPosAtStart.y-ig.game._rscreen.y):(this.pos.y-=Math.floor(5.5*ig.game.tileSize),6<=this.backTileCount.y&&(this.pos.y+=ig.game.tileSize));5>this.pos.y&&(this.pos.y+=Math.abs(this.pos.y-5));this.O2800()},update:function(){this.isOpen&&(this.O3670(),this.O1202(),this.O1308(),this.O3075(),
!ig.game.O6310&&(ig.game.isEditorHere||this.O602)?this.O2552():this.O1275(),this.O6096(),this.O6341(),this.O922(),this.O6263())},O6263:function(){(!ig.game.O4269||this.O6486.x!=Math.round(ig.game.O4269.pos.x)||this.O6486.y!=Math.round(ig.game.O4269.pos.y))&&this.close()},O3670:function(){this.O8177!=this.O1355&&(this.O1355=this.O8177,
this.O5138&&this.O1885(),this.O3775())},O6341:function(){var a={pos:{x:this.pos.x+ig.game._rscreen.x,y:this.pos.y+ig.game._rscreen.y},size:ig.game.O5662(this.size)};ig.game.decorator.O6341(a,this)},O3075:function(){if(this.O283())for(var a=this.items[this.O8177].length-1;0<=a;a--){var b=this.items[this.O8177][a];b&&(b.listId||(b.listId=ig.game.strings.O5151()),b.entity&&
b.entity.update())}},O5858:function(a){var b=!1;if(this.O283())for(var c=this.items[this.O8177].length-1;0<=c;c--){var d=this.items[this.O8177][c];if(d.entity&&(this.O602||d.selectable))if(d.isHovered=!1,!b){var e=d.entity;d.isHovered=a.x>=e.pos.x&&a.x<=e.pos.x+e.size.x&&a.y>=e.pos.y&&a.y<=e.pos.y+e.size.y;d.isHovered&&(b=!0)}}},O6834:function(a){var b=ig.input.mouse;return b.x>=a.x&&b.x<=a.x+a.width&&b.y>=a.y&&b.y<=a.y+a.height},O1973:function(){var a=
-1;if(this.O283())for(var b=0;b<this.items[this.O8177].length;b++)if(this.items[this.O8177][b].isHovered){a=b;break}return a},O7859:function(){var a=null;if(!ig.game.itemContextMenu.isOpen&&this.O283())for(var b=0;b<this.items[this.O8177].length;b++){var c=this.items[this.O8177][b];if(c.isHovered){a=c;break}}return a},O1275:function(){if(!ig.game.itemContextMenu.isOpen&&(this.O5858(ig.game.O6099.O4260()),ig.game.O6099.O5632())){var a=
this.O7859();a&&(ig.game.O6099.O6375(),this.O5495(a),ig.game.sounds.shortWhoosh.play())}},O2552:function(){if(!ig.game.O500&&!ig.game.itemContextMenu.isOpen){var a=ig.game.O6099.O4260(),b=ig.input.state("click"),c=-1,d=-1;if(!this.O1548){this.O5858(a);var e=this.O1973();0<=e&&(ig.game.O6099.O5632()&&!ig.game.O6310&&(this.O602&&ig.input.state("ctrl")?(ig.game.O6099.O6375(),
-1==d&&(d=e)):this.items[this.O8177][e].O4324||(c=e)),delete this.items[this.O8177][e].O4324)}0<=c?(c=this.items[this.O8177].splice(c,1)[0],ig.input.state("shift")&&this.attributes.snapToGrid&&(this.O1516=!0),c.isDragged=!0,"boostDragInfo"==ig.game.alertDialog.contextId&&ig.game.alertDialog.close(),this.O5102=new ml.Timer,this.O6037=ig.game.O5662(a),c.isSelected=!1,this.O3825(),c.offsetOnDrag={x:0,y:0},c.entity&&
c.entity.pos&&(c.offsetOnDrag={x:c.entity.pos.x-a.x,y:c.entity.pos.y-a.y}),ig.game.sounds.shortWhoosh.play(),this.items[this.O8177]||(this.items[this.O8177]=[]),this.items[this.O8177].push(c),this.O1548=c):0<=d&&this.O1849(d);this.O1548&&(c=this.O1548.offsetOnDrag,this.O1548.entity&&(this.O1548.entity.pos={x:a.x+c.x,y:a.y+c.y}),ig.game.panelSet&&1===ig.game.panelSet.tabState&&ig.game.panelSet.O7890.O219(),
b||(delete this.O1548.isDragged,delete this.O1548.offsetOnDrag,a=this.O6037&&3>=ml.Misc.O8132(a,this.O6037)&&this.O5102&&0.3>=this.O5102.delta(),this.O6037=this.O5102=null,this.O3825(),this.isSelected=!0,this.O1548.isHovered=!1,b=this.O4499(),c=a||!this.O602||!b,a?this.O2280==this.O1548.listId&&this.O7008&&0.5>=this.O7008.delta()&&ig.ua.mobile&&
this.O602?(this.O2895(),this.O1849(this.O2267(this.O1548.listId)),this.O7008=this.O2280=null):(this.O1504(this.O1548),this.O2280=this.O1548.listId,this.O7008=new ml.Timer):this.O7008=this.O2280=null,this.O1548&&(b||this.O877(this.O1548),c?this.O1548.entity&&(this.O1548.entity.pos.x=this.pos.x+
ig.game._rscreen.x+this.O1548.x,this.O1548.entity.pos.y=this.pos.y+ig.game._rscreen.y+this.O1548.y):(this.O1548.entity&&(this.O1548.entity.pos.x=Math.round(this.O1548.entity.pos.x),this.O1548.entity.pos.y=Math.round(this.O1548.entity.pos.y)),a=this.O2022(this.O1548.entity.pos),this.O1548.x=Math.round(this.O1548.entity.pos.x-this.pos.x-ig.game._rscreen.x),this.O1548.y=Math.round(this.O1548.entity.pos.y-
this.pos.y-ig.game._rscreen.y),a&&(this.O1548.entity=null,this.O1910(this.O1548)),this.O7544()),this.O1548=null)))}},O1849:function(a){0<=a&&(this.O1548&&(this.O1548=null),this.items[this.O8177].splice(a,1),ig.game.sounds.bin.play(),this.O7544(!0))},O2267:function(a){var b=-1;if(this.O283())for(var c=0;c<this.items[this.O8177].length;c++)if(this.items[this.O8177][c].listId==
a){b=c;break}return b},O3825:function(){if(this.O283())for(var a=this.items[this.O8177].length-1;0<=a;a--){var b=this.items[this.O8177][a];b.isSelected&&delete b.isSelected}},O2022:function(a){var b=!1;if(this.attributes.snapToGrid){var b=ig.game.O5662(a),c=ig.game.O1990,d=a.x-this.pos.x-ig.game._rscreen.x,e=a.y-this.pos.y-ig.game._rscreen.y,d=Math.round(d/c)*c,e=Math.round(e/c)*c;a.x=d+this.pos.x+ig.game._rscreen.x;a.y=
e+this.pos.y+ig.game._rscreen.y;b=a.x!=b.x||a.y!=b.y}return b},O877:function(a){if(this.O814&&ig.game.boostDialog&&ig.game.boostDialog.O587())ig.game.boostDialog.O7420(a);else if(ig.game.isEditorHere)if(ig.game.panelSet.O8171())if(ig.game.panelSet.O4738()||2==ig.game.panelSet.tabState&&ig.game.panelSet.O2505())this.close(),ig.game.painter&&ig.game.painter.O3118(a.id,
a.base,a.name);else{if(1==ig.game.panelSet.tabState){var b=ig.game.panelSet.O7890.O4273({x:ig.input.mouse.x,y:ig.input.mouse.y+ig.game.panelSet.O7890.O2557});ig.game.O4703.O2163(a.id,b)}}else"INTERMOT"!=a.base&&(b={x:Math.round(ig.input.mouse.x),y:Math.round(ig.input.mouse.y)},this.O1516?(this.O4851(b),this.O1516=!1):(b=ig.game.O7715.O2048(b.x,b.y),this.O4789(a,
b)))},O4851:function(a){var b=0,c;if(this.O283())for(var d=this.items[this.O8177].length-1;0<=d;d--)if(c=this.items[this.O8177][d],c.selectable)if(c.selected)this.O4789(c,ig.game.O7715.O2048(a.x,a.y));else{var b=b+ig.game.O7715.queuePerformDelayMs,e=a.x+c.x-this.O1548.x,f=a.y+c.y-this.O1548.y;this.O2033(this.O3715(c),ig.game.O7715.O2048(e,
f),!0,b)}},O2033:function(a,b,c,d){var e=this;setTimeout(function(){e.O4789(a,b,c,d)},d)},O3715:function(a){return{id:a.id,x:a.x,y:a.y,rot:a.rot,flip:a.flip,base:a.base,selectable:a.selectable,selected:a.selected}},O4789:function(a,b,c){ig.game.mapPlacementValidation.O4088(a,c)&&ig.game.O7715.O4202(a.id,a.rot,a.flip,b,void 0,c)},O6096:function(){if(ig.game.O6808())ig.input.O3472(),
this.O448("left");else if(ig.game.controlPressed_RIGHT())ig.input.O3472(),this.O448("right");else if(ig.game.O4047())ig.input.O3472(),this.O448("up");else if(ig.game.O7759())ig.input.O3472(),this.O448("down");else if(ig.input.pressed("enter")||ig.game.O1285())ig.input.O3472(),this.O5495(this.O259()),
this.close();if(this.pageable&&this.O4499()){var a=ig.game.O6099.O5632();if(ig.input.pressed("wheelup")||a&&this.O4813.O3628&&this.O6834(this.O4813))0<this.O8177&&(this.O2563(),this.O8177--,ig.game.sounds.click.play()),ig.game.O6099.O6375();else if(ig.input.pressed("wheeldown")||a&&this.O5831.O3628&&this.O6834(this.O5831))this.O8177<this.items.length-
1&&(this.O2563(),this.O8177++,ig.game.sounds.click.play()),ig.game.O6099.O6375()}this.O1548&&(this.O1548.isDragged&&ig.game.O6099.O5632()&&ig.input.O4903())&&(ig.game.O6099.O6375(),this.O3090(this.O1548));if(ig.game.O6099.O2757())if(this.O1548&&this.O1548.isDragged)this.O3090(this.O1548);else if(a=this.O7859()){var b=
ig.game.O4961.getItemBasic(a.id,"ui_hd3");b&&ig.game.itemContextMenu.O2718(a,b,this.getItemScreenPos(a))}if(ig.input.pressed("esc")||ig.game.O1285()&&!this.O554)ig.input.O3472(),this.close();ig.game.O4269||this.close()},O3090:function(a){if(a.rotatable){a.flippable?3==a.rot?(a.flip=a.flip?0:1,a.rot=0):a.rot++:a.rot=3==a.rot?0:a.rot+1;var b=ig.game.O5662(a.entity.pos);a.entity=null;this.O1910(a);
a.entity&&(a.entity.pos=b);ig.game.sounds.shortWhoosh.play()}},getItemScreenPos:function(a){return{x:this.pos.x+a.x,y:this.pos.y+a.y}},O1504:function(a){if(ig.ua.mobile){if(!this.O7480){var b=this;this.O7480=setTimeout(function(){b.O5495(a)},400)}}else this.O5495(a)},O5495:function(a){if(a)if(!(ig.game.isEditorHere||ig.game.O7804&&"INTERACT"!=a.base)&&this.O814){var b="WRITABLE READABLE HOLDER MEDIUM MUSIC SOUND PLACENAME VIEWABLE HELPER STACKWEARB".split(" ");
0<=["DYNATHING","STACKWEAR"].indexOf(a.base)?ig.game.O7510.O4721(a.entity)?ig.game.O884.O8271("editorOnly"):ig.game.O4703.O3217(a.id):0<=b.indexOf(a.base)?ig.game.O4703.O3217(a.id):ig.game.O884.O8271("editorOnly")}else ig.game.O6310&&ig.game.painter.O481()&&ig.game.alertDialog&&ig.game.alertDialog.isOpen?ig.game.O4703.O1106(a.id,
null,a.name,a.base):(a.entity&&"INTERACT"==a.base&&a.entity.O5346(!0),ig.game.O4703.O3217(a.id),ig.game.O6401.O5038(ig.game.O4269,"holder-selects",a.name))},O448:function(a){if(this.attributes.nonSelectable)this.close();else{var b=this.O7432(a,!0);b||(b=this.O7432(a,!1));if(!b){var c=this.O4813.O3628,d=this.O5831.O3628;switch(a){case "left":c&&this.attributes.leftRightPaging&&
this.O8177--;break;case "up":c&&this.attributes.upDownPaging&&this.O8177--;break;case "right":d&&this.attributes.leftRightPaging&&this.O8177++;break;case "down":d&&this.attributes.upDownPaging&&this.O8177++}}this.O8177==this.O1355&&(b?(this.O3825(),b.isSelected=!0):this.close())}},O7432:function(a,b){var c=null,d=this.O6912();if(0<=d){var e=null,f=this.items[this.O8177][d];if(this.O283())for(var g=
this.items[this.O8177].length-1;0<=g;g--){var h=this.items[this.O8177][g];if(g!=d&&h.entity&&h.selectable&&this.O2253(f.entity,h.entity,a,b)){var k=f.entity.O5320(h.entity);if(null==e||k<e)c=h,e=k}}}return c},O1598:function(){var a={x:this.size.x/2,y:this.size.y/2},b=null,c=null;if(this.O283())for(var d=0;d<this.items[this.O8177].length;d++){var e=this.items[this.O8177][d];if(e.selectable){var f=ml.Misc.O8132(a,
{x:e.x,y:e.y});if(null==c||f<c)b=e,c=f}}return b},O2253:function(a,b,c,d){var e=!1,f=a.pos.x+a.size.x/2;a=a.pos.y+a.size.y/2;var g=b.pos.x+b.size.x/2;b=b.pos.y+b.size.y/2;var h=Math.abs(f-g),k=Math.abs(a-b);switch(c){case "left":e=g<f&&(20>=k||!d);break;case "right":e=g>f&&(20>=k||!d);break;case "up":e=b<a&&(20>=h||!d);break;case "down":e=b>a&&(20>=h||!d)}return e},O259:function(){var a=this.O6912();return 0<=a?this.items[this.O8177][a]:
null},O6912:function(){var a=-1;if(this.O283())for(var b=this.items[this.O8177].length-1;0<=b;b--){var c=this.items[this.O8177][b];if(c.isSelected&&c.entity){a=b;break}}return a},draw:function(){this.isOpen&&(this.O1283(),this.O8098(),this.O6227(),this.O7474(),this.O2703(),this.drawEntityLabels(),this.O1668())},O2703:function(){if(this.O283())for(var a=0;a<this.items[this.O8177].length;a++){var b=
this.items[this.O8177][a];b.entity&&b.entity.isLiquid&&b.entity.draw(!0)}},O1283:function(){for(var a=ig.game.O5662(this.pos),b=0;b<this.backTileCount.x;b++)for(var c=0;c<this.backTileCount.y;c++){var d=a.x+b*ig.game.tileSize,e=a.y+c*ig.game.tileSize;this.attributes.changingBack?ig.game.chance(0.5)&&(this.backgroundAnim[b][c].flip.x=!this.backgroundAnim[b][c].flip.x):this.attributes.nonRandomBack||(this.backgroundAnim[b][c].flip.x=0===(b+c+this.O8177)%(this.attributes.patternedBack?
2:3));this.backgroundAnim[b][c].flip.x&&(d-=10);this.backgroundAnim[b][c].draw(d,e)}},O1308:function(){this.O4813.O3628=this.pageable&&0<this.O8177;this.O5831.O3628=this.pageable&&this.O8177<this.items.length-1},O6227:function(){this.O4813.O3628&&(this.attributes.upDownPaging?ig.game.O5405.O7679(this.O4813.x,this.O4813.y,0.5):this.attributes.leftRightPaging&&ig.game.O5405.O7754(this.O4813.x,
this.O4813.y,0.5));this.O5831.O3628&&(this.attributes.upDownPaging?ig.game.O5405.O2029(this.O5831.x,this.O5831.y,0.5):this.attributes.leftRightPaging&&ig.game.O5405.O5369(this.O5831.x,this.O5831.y,0.5))},O8098:function(){if(1<=this.O8141){var a={top:{x:this.pos.x,y:this.pos.y,width:this.size.x,height:this.O8141},left:{x:this.pos.x,y:this.pos.y,width:this.O8141,height:this.size.y},
right:{x:this.pos.x+this.size.x-this.O8141,y:this.pos.y,width:this.O8141,height:this.size.y},bottom:{x:this.pos.x,y:this.pos.y+this.size.y-this.O8141,width:this.size.x,height:this.O8141}};ig.system.context.fillStyle="rgba("+this.O3343.join(",")+")";for(var b in a)this.fillRect(a[b]);3==this.O8141&&this.O7414()}},O7414:function(){var a=ig.system.context,b=this.pos.x*ig.system.scale,c=this.pos.y*ig.system.scale,d=this.size.x*ig.system.scale,
e=this.size.y*ig.system.scale,f=8*ig.system.scale;a.beginPath();a.moveTo(b,c);a.lineTo(b+f,c);a.lineTo(b,c+f);a.closePath();a.fill();a.beginPath();a.moveTo(b+d,c);a.lineTo(b+d,c+f);a.lineTo(b+d-f,c);a.closePath();a.fill();a.beginPath();a.moveTo(b,c+e);a.lineTo(b+f,c+e);a.lineTo(b,c+e-f);a.closePath();a.fill();a.beginPath();a.moveTo(b+d,c+e);a.lineTo(b+d-f,c+e);a.lineTo(b+d,c+e-f);a.closePath();a.fill()},fillRect:function(a){ig.system.context.fillRect(a.x*ig.system.scale,a.y*ig.system.scale,a.width*
ig.system.scale,a.height*ig.system.scale)},O7474:function(){if(this.O283())for(var a=0;a<this.items[this.O8177].length;a++){var b=this.items[this.O8177][a];b.entity&&b.entity.draw()}},O1668:function(){if(this.O283())for(var a=0;a<this.items[this.O8177].length;a++){var b=this.items[this.O8177][a];b.entity&&b.entity.hasSpeech&&b.entity.O1668()}},O283:function(){return this.items&&this.items[this.O8177]&&0<=this.items[this.O8177].length},
drawEntityLabels:function(){if(this.O283())for(var a=0;a<this.items[this.O8177].length;a++){var b=this.items[this.O8177][a],c=b.isHovered&&b.selectable&&!b.isDragged||b.isSelected;b.entity&&c&&this.O3941(ig.game.strings.O2833(b.name,25),b.entity.pos.x+b.entity.size.x/2-ig.game.screen.x,b.entity.pos.y+0.75*b.entity.size.y-ig.game.screen.y,1)}},O3941:function(a,b,c,d){var e=ig.Font.ALIGN.CENTER;ig.system.context.globalAlpha=0.35*d;ig.game.blackSmallFont.draw(a,
b-1,c,e);ig.game.blackSmallFont.draw(a,b+1,c,e);ig.game.blackSmallFont.draw(a,b,c-1,e);ig.game.blackSmallFont.draw(a,b,c+1,e);ig.system.context.globalAlpha=0.85*d;ig.game.whiteSmallFont.draw(a,b,c,e)},addItem:function(a,b,c){var d=["MIFT"],e=ig.game.O4961.getItemBasic(a,"ui_hd1");e&&-1===d.indexOf(e.base)?(this.O5858(ig.game.O6099.O4260()),(d=this.O7859())&&0<=ig.game.O1850.indexOf(d.base)?ml.Misc.O8083(a,d.id,d.base):this.O602&&
a!=this.holderId&&(e=ig.game.O6099.O4260(),d=Math.round(e.x-this.pos.x-ig.game.screen.x-ig.game.O1990),e=Math.round(e.y-this.pos.y-ig.game.screen.y-ig.game.O1990),a={id:a,x:d,y:e,rot:b,flip:c,O4324:!0},this.items[this.O8177]||(this.items[this.O8177]=[]),a=this.items[this.O8177].push(a),this.O1910(this.items[this.O8177][a-1]),this.O283()&&(1==this.items[this.O8177].length&&!this.O5831.O3628)&&
this.items.push([]),this.O7544(),ig.game.sounds.putdown.play(),this.attributes.snapToGrid&&ig.game.O4803.register(ig.game.O4803.types.PLACED_SOMETHING_IN_GRID_HOLDER))):ig.game.sounds.nocando.play()},O2334:function(){return this.defaultBackTileCount.x+","+this.defaultBackTileCount.y},O2773:function(a){this.items=[[]];this.O8177=0;if(a&&1<=a.length)for(var b=this.O1435(a),c=0;c<=
b;c++)for(var d=this.O3351(a,c),e=0;e<=d;e++)for(var f=0;f<a.length;f++){var g=a[f];g.z==e&&g.pageNo==c&&(g={id:g.itemId,x:g.x,y:g.y,rot:g.rot,flip:g.flip},this.items[c]||(this.items[c]=[]),this.items[c].push(g))}this.O602&&this.items.push([])},O1435:function(a){for(var b=-1,c=0;c<a.length;c++){var d=a[c];d.pageNo>b&&(b=d.pageNo)}return b},O3351:function(a,b){for(var c=-1,d=0;d<a.length;d++){var e=a[d];e.pageNo==b&&e.z>c&&(c=e.z)}return c},O922:function(){this.O6566&&
(this.O7164&&10<=this.O7164.delta()&&(!this.O1548||!this.O1548.isDragged))&&this.O2563()},O7544:function(a){this.O6566=!0;this.O1581=!!a;this.O7164||(this.O7164=new ml.Timer)},O348:function(){this.O6566=!1;this.O7164=null;this.O1581=
!1},O2563:function(){if(this.O602&&this.O6566){var a=[];if(this.O283()){for(var b=!1,c=0;c<this.items[this.O8177].length&&!b;c++){var d=this.items[this.O8177][c];b||(b=!d.id);if(!b){var e={itemId:d.id,x:d.x,y:d.y,z:c,pageNo:this.O8177};d.rot&&(e.rot=d.rot);d.flip&&(e.flip=d.flip);a.push(e)}}!b&&(a&&0==a.length&&!this.O1581)&&(b=!0);b||ig.game.O7421.O3042(this.holderId,
this.O8177,a).done(function(a){})}this.O348()}},O3174:function(){if(this.items&&this.items.length)for(var a=0;a<this.items.length;a++)if(this.items[a]&&this.items[a].length)for(var b=0;b<this.items[a].length;b++){var c=this.items[a][b];c.entity&&c.entity.tidyUp&&c.entity.tidyUp();delete c.entity}},O2895:function(){this.O7480&&(clearTimeout(this.O7480),this.O7480=null)},close:function(){this.isOpen&&
(this.O1516=!1,this.O7008=this.O2280=null,this.O6895=void 0,this.O2563(),this.O3174(),this.items=[[]],this.O5788&&this.O5788.O7094&&this.O5788.O7094(ig.game.O4269.O2507,!1,!this.O3923),ig.game.mediaDialog&&(ig.game.mediaDialog.O3628&&"Embedding"==ig.game.mediaDialog.mediaType)&&ig.game.mediaDialog.O4192(),this.O2895(),this.O348(),
this.O4269PosAtOpen={x:null,y:null},this.isOpen=this.O554=!1,this.animSheet=this.holderId=null,this.O602=!1,this.O5788=null,this.pageable=this.O3923=!1,this.attributes={},this.parent())}})});ig.baked=!0;
ig.module("game.ui.multithing").requires("game.ui.components.uidialog").defines(function(){window.Multithing=UIDialog.extend({isOpen:!1,pos:{x:null,y:5},size:{x:342,y:190},participants:{},participantSections:[],neutralSections:[],maxParticipantsDefault:4,maxParticipantsPossible:8,placementId:null,O198:null,O6755:!1,O4086:!1,O8392:!1,staticItems:[],movableItems:[],staticItemsAtStart:[],movableItemsAtStart:[],O3243:!1,O6431:null,O6431Offset:{x:0,
y:0},O6250:0,name:null,O5026:"DECO DECOBIG DECOVBIG DECOFB LIVELY DYNATHING READABLE WRITABLE STACKHOLD SOLID DECOFG LIQUID GLOW ENVIRONM MEDIUM CONSUMAB EQUIPMENT EMITTER".split(" "),O4241:"DECO SOLID DYNATHING STACKHOLD DECOANIM LIVELY DECOFG DECOFB LIQUID CONSUMAB EQUIPMENT EMITTER GLOW".split(" "),O3007:1E3,O809:1E3,O5102:null,O6037:null,O2878:100,O5812:null,O4250:null,O5517:!1,
menuEntries:null,clickSpotMenuEntries:null,O2102:!1,O929:null,O1639:[],settings:{},O6232:{},O1397:null,O4427:null,showGrid:!1,O627:null,O1586:0,O3747:!1,O5399:!1,O3698:10,seedMax:1E6,O360:[],O4323:100,O265:!0,O2537:!0,open:function(a,b){this.isOpen||(this.O627=
new ml.Timer,this.O2537=b,this.O6250=0,this.participants={},this.staticItems=[],this.movableItems=[],this.settings={},this.O360=[],this.O265=!0,this.O8392=this.O4086=this.O6755=!1,this.O4250=this.O5812=this.O6037=this.O5102=null,this.O5517=!1,this.clickSpotMenuEntries=this.menuEntries=null,this.O2102=!1,this.O929=null,this.O1639=[],this.participantSections=
[],this.neutralSections=[],this.O6232={},this.O4427=this.O1397=null,this.O3243=this.O5399=this.O3747=this.showGrid=!1,this.O6431=null,this.placementId=a.placementId,this.O198=a,this.id=a.thingTypeId,this.name=this.O198.givenName,ig.game.O4269.viewingMultithingPlacementId=this.placementId,ig.game.O4349.O953("startViewing",this.placementId),ig.game.sounds.shortWhoosh.play(),
this.O6678(),this.O3049(),ig.game.O6401.O5038(ig.game.O4269,"activates",this.O198.givenName),this.parent(),ig.ua.mobile&&ig.game.virtualJoystick.O2659())},O4726:function(){var a=ig.game.O4269,b=ig.game.O413.player;if(b)for(var c=0;c<b.length;c++){var d=b[c];if(!d._killed&&(d.O2507!=a.O2507&&d.viewingMultithingPlacementId&&d.viewingMultithingSince&&d.viewingMultithingPlacementId==this.placementId)&&(!a.viewingMultithingSince||
d.viewingMultithingSince<a.viewingMultithingSince))a=d}return a},O4320:function(){this.menuEntries=[];var a=this;this.menuEntries.push({label:"restart",O5132:function(){a.restart()}});this.O2102&&(this.menuEntries.push({label:"set up statics",O5132:function(){a.O6728()},icon:"baseEditStatic"}),this.menuEntries.push({label:"set up movables",O5132:function(){a.O2366()},icon:"baseEditMovables"}),this.menuEntries.push({label:"more",O5132:function(){a.O1769()},
icon:"settingsIcon"}));this.menuEntries.push({label:"about multis...",O5132:function(){a.O284()}})},O6678:function(){this.pos.x=ig.system.width<this.size.x?0:Math.floor(ig.system.width/2-this.size.x/2);ig.game.O2050&&(this.pos.x-=16);this.pos=this.O7104(this.pos)},update:function(){this.isOpen&&(this.O198?(this.O8392&&!ig.game.alertDialog.isOpen&&(this.O8392=!1),this.O1723(),this.O3747&&this.O5399&&
(this.O5399=!1,ig.game.O4349.O953("askMasterForChangesSinceStart",this.placementId)),this.O540(),this.removeParticipantsWhoStoppedViewing(),this.O4930(),this.O2345(),this.O2639(),this.O2733(),this.O627||this.O1890(),this.O3075(this.staticItems),this.O3075(this.movableItems),ig.input.pressed("esc")?
ig.game.O6310||(ig.input.O3472(),this.close()):this.parent()):this.close())},O540:function(){this.O627&&(4<=this.O627.delta()&&0==this.O1586)&&(console.log("First Multi changes response delayed, perhaps we weren't visible to other yet, retrying"),this.O1586++,this.O627=new ml.Timer,ig.game.O4349.O953("askMasterForChangesSinceStart",
this.placementId))},O1723:function(){if(!this.O3747){for(var a=!0,b=0;b<this.staticItems.length;b++){var c=this.staticItems[b];if(!c||!c.entity){a=!1;break}}if(a)for(b=0;b<this.movableItems.length;b++)if(c=this.movableItems[b],!c||!c.entity){a=!1;break}a&&this.O5319();this.O3747=a}},O4935:function(){if(1<=this.O360.length){this.O265=!1;var a=this.O360.pop();switch(a.action){case "delete":this.doAddItem(a.id,
a.rot,a.flip,a.x,a.y);break;case "add":this.O6582(a.localId);break;case "startMove":var b=this.getItemByLocalId(this.staticItems,a.localId);b||(b=this.getItemByLocalId(this.movableItems,a.localId));b&&(b.targetX=a.x,b.targetY=a.y,b.flip=a.flip,b.rot=a.rot)}this.O265=!0}},O2345:function(){if(this.O2102){if(this.O6755||this.O4086)if(ig.input.state("ctrl")&&ig.input.pressed("d")){ig.input.O3472();var a=this.O4427;if(a){var b=
ig.input.state("shift")?{x:0,y:ig.game.tileSize}:{x:ig.game.tileSize,y:0};this.addItem(a.id,a.rot,a.flip,a.x+b.x,a.y+b.y,a.wiggleSpeed,a.wiggleDistance)}}else ig.input.state("ctrl")&&ig.input.pressed("z")&&!ig.game.O6310&&(ig.input.O3472(),this.O4935());ig.input.state("ctrl")&&ig.input.pressed("g")?(ig.input.O3472(),this.showGrid=!this.showGrid,ig.game.sounds.click.play()):ig.input.state("ctrl")&&ig.input.pressed("k")?(ig.input.O3472(),this.O6755?
this.O443():this.O6728()):ig.input.state("ctrl")&&ig.input.pressed("l")&&(ig.input.O3472(),this.O4086?this.O443():this.O2366())}},getItemChangesSinceStart:function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=a[d];if(e.x!=f.x||e.y!=f.y||e.rot!=f.rot||e.flip!=f.flip||e.state!=f.state){var g={id:e.localId};if(e.x!=f.x||e.y!=f.y)g.x=e.x,g.y=e.y;e.rot!=f.rot&&(g.rot=parseInt(e.rot));e.flip!=f.flip&&(g.flip=parseInt(e.flip));e.state!=f.state&&(g.state=
parseInt(e.state));c.push(g);e.changedByUs=!1}}return c},O2733:function(){if(this.O5517&&ig.game.O4269&&(0!=ig.game.O4269.vel.x||0!=ig.game.O4269.vel.y))this.O5517=!1,this.clickSpotMenuEntries=null;if(this.O5517&&(this.clickSpotMenuEntries||this.O3320(),this.clickSpotMenuEntries))for(var a=0;a<this.clickSpotMenuEntries.length;a++)this.clickSpotMenuEntries[a].update()},O3320:function(){var a=this.O198;if(a){var b=
ig.game.O5405.bottomMenuMoreMiddle.width,c=ig.game.O5405.bottomMenuMoreMiddle.height;this.clickSpotMenuEntries=[];for(var d=a.pos.x-ig.game._rscreen.x-32,e=this.menuEntries.length,f=0;f<e;f++)this.clickSpotMenuEntries[f]=new UIClickSpot({x:d,y:a.pos.y-ig.game._rscreen.y-e*c+f*c+22},{x:b,y:c},!1,null),this.clickSpotMenuEntries[f].onClick=this.menuEntries[f].O5132,this.clickSpotMenuEntries[f].icon=this.menuEntries[f].icon}},O2639:function(){var a=this.O198;
if(a){if(!this.O5812){a=a.givenName;this.O5812=new UIClickText({x:0,y:0},a,ig.game.blackWhiteFont,"rgb(255,255,255)",0.8);var b=this;this.O5812.onClick=function(){b.O2855()}}this.O4250||(this.O4250=new UIClickText({x:0,y:0},"x",ig.game.blackWhiteFont,"rgb(255,255,255)",0.8),b=this,this.O4250.onClick=function(){b.O7478()});if(!this.O929&&(this.O6755||this.O4086))a=this.O6755?
">> statics done":">> movables done",this.O929=new UIClickText({x:0,y:0},a,ig.game.blackWhiteFont,"rgb(255,255,255)",0.8),b=this,this.O929.onClick=function(){b.O443()};this.O4250.update();this.O5812.update();this.O929&&this.O929.update()}},O3075:function(a){if(this.O198){var b=ig.game.O5662(this.O198.pos);b.y-=7*ig.game.tileSize;for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.entity){var e=void 0===d.targetX;
if(e){var f=ig.game.O5662(d.entity.pos);d.entity.pos=b}this.O104(d);this.O1027(d);this.O7010(d);d.entity.update();e&&(d.entity.pos=f)}}}},O1027:function(a,b,c){if(void 0!==a.targetX&&void 0!==a.targetY){a.x=Math.floor((a.x+a.targetX)/2);a.y=Math.floor((a.y+a.targetY)/2);var d={x:a.x,y:a.y},e={x:a.targetX,y:a.targetY};b||this.O1349(a);if(b||2>=ml.Misc.O8132(d,e))a.x=a.targetX,a.y=a.targetY,delete a.targetX,delete a.targetY,a.isInOtherPrivateSection=
this.O1287(a),c||this.O8163(this.movableItems),a.originIsCloseToTargetAtStart?(this.O3131(a),a.originIsCloseToTargetAtStart=!1):this.O1349(a);a.entity&&(a.entity.pos.x=this.pos.x+a.x,a.entity.pos.y=this.pos.y+a.y,a.entity.O7453&&a.entity.O7453())}},O5319:function(){for(var a=0;a<this.staticItems.length;a++){var b=this.staticItems[a];b.isInOtherPrivateSection=this.O1287(b)}for(a=
0;a<this.movableItems.length;a++)b=this.movableItems[a],b.isInOtherPrivateSection=this.O1287(b)},O104:function(a){switch(a.base){case "DECOANIM":a.entity.O1457=a.entity.anims["cell"+(2==a.state||a.isInOtherPrivateSection?"2":"1")];break;case "DYNATHING":a.entity.multithingPrivate=Boolean(a.isInOtherPrivateSection),a.entity.multithingState=a.state,a.entity.multithingStatePositiveNegative=0==a.state?"neutral state":0<a.state?"positive state":"negative state",a.entity.multithingStateEvenOdd=
this.O8391(a.state)?"even state":"odd state"}},O8391:function(a){return Boolean(0==a%2)},O6993:function(a){var b=Math.floor(a.entity.size.x/2-1);a.x=a.x.limit(-b,this.size.x-a.entity.size.x+b);a.y=a.y.limit(-b,this.size.y-a.entity.size.y+b)},O1890:function(){if(this.O6431){var a=this.O6431;a.x=Math.round(ig.input.mouse.x+this.O6431Offset.x);a.y=Math.round(ig.input.mouse.y+this.O6431Offset.y);this.O6993(a);a.entity.pos.x=
this.pos.x+a.x;a.entity.pos.y=this.pos.y+a.y;this.O2951(a);a.entity.O7453&&a.entity.O7453();ig.game.chance(5)&&this.O1349(this.O6431)}ig.game.O6099.O2757()&&(ig.game.O6099.O1788(),this.O6431?this.O2142(this.O6431):ig.game.O500||(this.O6755||this.O4086?(a=this.O83(this.O6755?this.staticItems:this.movableItems))&&
this.O2353(a):((a=this.O83(this.movableItems))||(a=this.O83(this.staticItems)),a&&ig.game.itemContextMenu.O2718(a.entity,a,{x:this.pos.x+a.x,y:this.pos.y+a.y},void 0,!0))));if(ig.input.state("click"))!this.O3243&&this.O4499()&&(a=!0,ig.game.readableDialog&&ig.game.readableDialog.isOpen?(ig.game.readableDialog.close(),a=!1):ig.game.writableDialog&&ig.game.writableDialog.isOpen&&(ig.game.writableDialog.close(),
a=!1),this.O8221(),a&&!this.O6431&&this.O3568(),this.O5102=new ml.Timer,this.O6037=this.O5056(),this.O3243=!0,ig.game.motionDialog&&ig.game.motionDialog.O5076("multi activity"));else if(this.O3243){if(this.O6431){var a=this.O6431,b=this.O6037&&0>=ml.Misc.O8132(this.O5056(),this.O6037)&&this.O5102&&0.3>=this.O5102.delta(),c={id:a.localId};if(a.rotatable||
a.flippable)c.rot=a.rot;var d=this.getItemThisIsOn(this.staticItems,a),e=d&&d.attributes&&d.attributes.randomizer;if(b&&!e){if(void 0!==a.state&&(this.O6755||this.O4086||!a.entity||!a.entity.attributes||!a.entity.attributes.noOneClickStateChange))a.state++,a.state>a.maxState&&(a.state=a.minState),this.O1735(a)}else a.isInOtherPrivateSection=this.O1287(a),e&&(b=ig.game.O5167(0,this.seedMax),c.randomizerSeed=b,c.itemItsOnId=d.localId,this.O1321(d.localId,
b)),this.O3139(a);c.x=void 0!==a.targetX?a.targetX:a.x;c.y=void 0!==a.targetY?a.targetY:a.y;this.O5206(ig.game.O4269,a);this.settings.neutralSectionsShuffle&&this.settings.hasNeutralSections&&this.getItemIsInSections(this.neutralSections,a)?(b=ig.game.O5167(0,this.seedMax),this.O7722(this.neutralSections,b),c.shuffleSeed=b):this.settings.participantSectionsShuffle&&this.settings.hasParticipantSections&&(d=this.O5380(this.participantSections,
a),0<=d&&(b=ig.game.O5167(0,this.seedMax),this.O7722([this.participantSections[d]],b),c.shuffleSeed=b,c.participantIndex=d));c.state=a.state;a.flippable&&(c.flip=a.flip);ig.game.O4349.O953("itemChange",this.placementId,c);this.O4427=a;this.O6431=null}else this.O83(this.staticItems);this.O8163(this.movableItems);this.O6037=this.O5102=null;this.O3243=!1}},O2353:function(a){var b,
c=this,d=!1;b='<div class="multithingSettings">';this.O6755?(b+="<p>static items don't have settings</p>",d=!0):this.O4086&&(b+=this.O442("wiggleSpeed","drag wiggle speed (0-100%)",a.wiggleSpeed,!0),b+=this.O442("wiggleDistance","drag wiggle distance (0-100%)",a.wiggleDistance,!0));b+='<input type="hidden" id="itemSettingsLocalId" value="'+ig.game.strings.O4334(a.localId)+'"/>';ig.game.alertDialog.open({html:b+"</div>",O6041:function(){c.O8000()},
O3526:d})},O8000:function(){if(this.O4086){var a=jQuery("#itemSettingsLocalId").val();if(a&&(a=this.getItemByLocalId(this.O6755?this.staticItems:this.movableItems,a)))a.wiggleSpeed=this.getValidPercentValue(jQuery("#wiggleSpeed").val()),a.wiggleDistance=this.getValidPercentValue(jQuery("#wiggleDistance").val()),a.wiggleSpeed||delete a.wiggleSpeed,a.wiggleDistance||delete a.wiggleDistance,delete a.wiggle,console.log("item now",a.wiggleSpeed,a.wiggleDistance)}},
getValidPercentValue:function(a){var b=0;"string"===typeof a&&(a=ig.game.strings.replaceAll(a,"%",""),a=a.trim());a&&ml.Misc.O6680(a)&&(a=parseFloat(a),0>a?a=0:100<a&&(a=100),b=a);console.log("validV",b,typeof b);return b},O2951:function(a){if(a.wiggle){a.wiggle.counterX||(a.wiggle.counterX=1);a.wiggle.counterY||(a.wiggle.counterY=1);var b=a.wiggle.speed/200,c=60*ig.system.tick;a.wiggle.counterX+=b*c;a.wiggle.counterY+=(b+0.01)*c;ig.game.chance(50)&&a.wiggle.counterX+0.02;ig.game.chance(50)&&
a.wiggle.counterY+0.02;1E6<=a.wiggle.counterX&&(a.wiggle.counterX=1);1E6<=a.wiggle.counterY&&(a.wiggle.counterY=1);b=a.entity.pos;b.x+=Math.cos(a.wiggle.counterX)*(a.wiggle.distance/2);b.y+=Math.cos(a.wiggle.counterY)*(a.wiggle.distance/2)}},O3139:function(a){this.O5849(a)?(a.targetX=Math.round(a.x/ig.game.tileSize)*ig.game.tileSize,a.targetY=Math.round(a.y/ig.game.tileSize)*ig.game.tileSize):a.wiggle&&(delete a.wiggle,a.x=Math.round(a.entity.pos.x-this.pos.x),a.y=Math.round(a.entity.pos.y-
this.pos.y),this.O6993(a),a.entity.pos.x=this.pos.x+a.x,a.entity.pos.y=this.pos.y+a.y,a.entity.O7453&&a.entity.O7453());if(a.entity){var b=!1;"DECOANIM"==a.base&&(b=ig.game.sounds.playIncludedSound(a.entity,void 0,void 0,!0,!0));b||ig.game.sounds.O733(ig.game.sounds.shortWhoosh,0.35)}this.O1735(a);this.O6431StartPos&&(ml.Misc.O8132({x:this.O6431StartPos.x,y:this.O6431StartPos.y},{x:a.x,y:a.y})>=this.O3698?
this.O3131(a):this.O1349(a),this.O6431StartPos=null)},O1735:function(a){if(a.entity)switch(a.base){case "DYNATHING":a.entity.multithingMoved=!0;break;case "STACKWEARB":this.settings.livelyBodies&&(a.entity.O1457=a.entity.anims.run,a.entity.O1457.flip.x=Boolean(a.flip),a.specialModeTimer=new ml.Timer)}},O5849:function(a){var b=!1;null!==this.settings.snapToGridRect.x&&null!==this.settings.snapToGridRect.y&&(b=this.O6271(this.settings.snapToGridRect,
ig.game.tileSize),b=this.O3165({x:a.x,y:a.y},b));return b},O6271:function(a,b){return{x:a.x*b,y:a.y*b,width:a.width*b,height:a.height*b}},O3165:function(a,b){return a.x>=b.x&&a.x<=b.x+b.width&&a.y>=b.y&&a.y<=b.y+b.height},O7010:function(a){if(a.specialModeTimer&&0.35<=a.specialModeTimer.delta()&&a.entity)switch(a.base){case "STACKWEARB":a.entity.O1457=a.entity.anims.main,a.entity.O1457.flip.x=Boolean(a.flip)}},getItemIsInSections:function(a,b){for(var c=
!1,d=0;d<a.length;d++)if(this.O934(a[d],b)){c=!0;break}return c},O5380:function(a,b){for(var c=-1,d=0;d<a.length;d++)if(this.O934(a[d],b)){c=d;break}return c},O7722:function(a,b){ig.game.seedableRandom.setSeed(b);this.O6536();this.O4000(this.movableItems);for(var c=ig.game.seedableRandom.O5167(49,50),d=0;d<a.length;d++){var e=this.getItemsInRect(a[d]);if(2<=e.length&&this.O7550())for(var f=1;f<=
c;f++){var g=ig.game.seedableRandom.O5167(0,e.length-1),h=ig.game.seedableRandom.O5167(0,e.length-1);g==h&&(g=0,h=e.length-1);var k=e[g],l=e[h],k=e[g],l=e[h];k.targetX=l.x;k.targetY=l.y;l.targetX=k.x;l.targetY=k.y;f!=c&&(this.O1027(k,!0,!0),this.O1027(l,!0,!0))}}this.O8163(this.movableItems)},O7550:function(){for(var a=!0,b=0;b<this.movableItems.length;b++){var c=this.movableItems[b];if(void 0!==c.targetX||void 0!==c.targetY){a=!1;break}}return a},
getItemsInRect:function(a){for(var b=[],c=0;c<this.movableItems.length;c++)this.O934(a,this.movableItems[c])&&b.push(this.movableItems[c]);return b},O934:function(a,b){var c=!1;if(b.entity)var c=b.x+b.entity.size.x/2,d=b.y+b.entity.size.y/2,c=c>=a.x&&c<=a.x+a.width&&d>=a.y&&d<=a.y+a.height;return c},getItemThisIsOn:function(a,b){var c;if(b.entity)for(var d=b.entity.pos.x+b.entity.size.x/2,e=b.entity.pos.y+b.entity.size.y/2,f=0;f<a.length;f++){var g=a[f];if(g.entity&&d>=g.entity.pos.x&&
d<=g.entity.pos.x+g.entity.size.x&&e>=g.entity.pos.y&&e<=g.entity.pos.y+g.entity.size.y){c=g;break}}return c},O1321:function(a,b){ig.game.seedableRandom.setSeed(b);var c=this.getItemByLocalId(this.staticItems,a);this.O4898(c);c.entity&&("randomize"==c.entity.O4628||"private randomize"==c.entity.O4628?c.entity.reset(!0):c.entity.multithingRandomize=!0)},O992:function(a,b){ig.game.seedableRandom.setSeed(b);var c=this.getItemByLocalId(this.staticItems,
randomizerId);this.O4898(c);c.entity&&("randomize"==c.entity.O4628?c.entity.reset(!0):c.entity.multithingRandomize=!0)},O4898:function(a){a=a.entity;this.O4000(this.movableItems);for(var b=0;b<this.movableItems.length;b++){var c=this.movableItems[b];if(c.entity){var d=c.entity.pos.x+c.entity.size.x/2,e=c.entity.pos.y+c.entity.size.y/2;d>=a.pos.x&&(d<=a.pos.x+a.size.x&&e>=a.pos.y&&e<=a.pos.y+a.size.y)&&this.doRandomizeItem(c)}}this.O8163(this.movableItems)},
doRandomizeItem:function(a){a.entity&&(a.state=ig.game.seedableRandom.O5167(a.minState,a.maxState),"randomize"==a.entity.O4628?a.entity.reset(!0):a.entity.multithingRandomize=!0,this.O1349(a,!0),this.O1349(a,!1,6,3))},O1349:function(a,b,c,d,e,f){if(this.O2537&&a.entity){void 0===d&&(d=1);for(var g=1;g<=d;g++){var h=0,k=0;0<c&&(h=ig.game.O5167(-c,c),k=ig.game.O5167(-c,c));void 0===e&&(e=0);void 0===f&&(f=0);ig.game.spawnEntity(b?EntityBigDust:
EntityDust,Math.floor(this.pos.x+a.x+a.entity.size.x/2+h+e),Math.floor(this.pos.y+a.y+a.entity.size.y/2+k+f),{uiEntity:!0,O985:!0,decay:b?1.25:2})}}},O8163:function(a){a.sort(function(a,c){var d=0;return d=a.y>c.y?1:a.y<c.y?-1:a.x>c.x?1:a.x<c.x?-1:a.localId<c.localId?1:-1})},O4000:function(a){a.sort(function(a,c){var d=0;a.localId>c.localId?d=1:a.localId<c.localId&&(d=-1);return d})},O5056:function(){return{x:ig.input.mouse.x,y:ig.input.mouse.y}},O1287:function(a){return this.O3692(a,
!0)},O3692:function(a,b){var c=[];if(this.settings.hasNeutralSections)for(var d=0;d<this.neutralSections.length;d++)c.push(this.neutralSections[d]);if(this.settings.hasParticipantSections)for(d=0;d<this.participantSections.length;d++){var e=!0;b&&(e=!this.participants[ig.game.O4269.O2507]||d!==this.participants[ig.game.O4269.O2507].index);e&&c.push(this.participantSections[d])}var d=a.entity,e=void 0!==a.targetX?a.targetX:a.x,f=void 0!==a.targetY?a.targetY:a.y;return this.O6915(c,
a.entity?{x:e+d.size.x/2,y:f+d.size.y/2}:{x:e+ig.game.O1990,y:f+ig.game.O1990})},O4794:function(a){var b=!1;if(this.participants[ig.game.O4269.O2507]){for(var b=[],c=0;c<this.participantSections.length;c++)c==this.participants[ig.game.O4269.O2507].index&&b.push(this.participantSections[c]);c=a.entity;b=this.O6915(b,{x:(void 0!==a.targetX?a.targetX:a.x)+c.size.x/2,y:(void 0!==a.targetY?a.targetY:a.y)+c.size.y/2})}return b},O6915:function(a,
b){for(var c=!1,d=0;d<a.length&&!(c=a[d],c=b.x>=c.x&&b.x<=c.x+c.width&&b.y>=c.y&&b.y<=c.y+c.height);d++);return c},O7104:function(a){return{x:Math.floor(a.x/ig.system.scale)*ig.system.scale,y:Math.floor(a.y/ig.system.scale)*ig.system.scale}},O8221:function(){if((this.O6755||this.O4086||this.participants[ig.game.O4269.O2507])&&!ig.game.O500&&!ig.game.O6310){var a=this.O83(this.O6755?
this.staticItems:this.movableItems);a&&(ig.input.state("ctrl")?this.O6755||this.O4086?this.O6582(a.localId):this.O2102&&this.O4089():(this.O6431=a,this.O6431StartPos={x:a.x,y:a.y},this.O6431Offset={x:a.x-ig.input.mouse.x,y:a.y-ig.input.mouse.y},!this.O6755&&!this.O4086&&ig.game.sounds.playIncludedSound(this.O6431.entity),a.wiggleSpeed&&a.wiggleDistance&&(a.wiggle={speed:a.wiggleSpeed,distance:a.wiggleDistance}),
this.O1349(a,!0),ig.game.sounds.shortWhoosh.play(),this.O3246({action:"startMove",localId:a.localId,x:a.x,y:a.y,rot:a.rot,flip:a.flip})))}},O3246:function(a){if(this.O265&&(this.O6755||this.O4086))this.O360.push(a),this.O360.length>this.O4323&&this.O360.shift()},O3131:function(a){this.O1349(a,!0,8,ig.game.O5167(2,3))},O3568:function(){if(!this.O6755&&
!this.O4086){var a=this.O83(this.staticItems);if(a)switch(a.base){case "READABLE":this.O2134(a);break;case "WRITABLE":this.O2380(a);break;case "MEDIUM":this.O4348(a);break;case "DYNATHING":this.O4223(a)}}},O4223:function(a){if(a&&a.attributes&&a.attributes.randomizer&&void 0!==a.state){var b={id:a.localId},c=ig.game.O5167(0,this.seedMax);b.randomizerSeed=c;
ig.game.seedableRandom.setSeed(c);this.doRandomizeItem(a);ig.game.O4349.O953("itemChange",this.placementId,b)}},O2380:function(a){ig.game.writableDialog&&ig.game.writableDialog.isOpen?ig.game.writableDialog.close():ig.game.O4703.O3217(a.id,!0)},O4348:function(a){ig.game.mediaDialog&&ig.game.mediaDialog.O3628?ig.game.mediaDialog.O4192():ig.game.O4703.O3217(a.id,
!0)},O2134:function(a){if(ig.game.readableDialog&&ig.game.readableDialog.isOpen)ig.game.readableDialog.close();else if(!this.O1287(a))if(this.O4794(a)){var b=this,c=a.localId;ig.game.O4961.getItem_P(a.id,"multi").done(function(d){var e="width: 90%;";if(!a.attributes||!a.attributes.sansSerifFont)e+="text-transform: uppercase;";void 0===b.O6232[c]&&(b.O6232[c]=d.textData);d=""+('<textarea id="locallyEditableText" style="'+
e+'">')+ig.game.strings.O4334(b.O6232[c]);d+="</textarea>";ig.game.alertDialog.open({html:d,O3468:!0,O6041:function(){b.O6232[c]=jQuery("#locallyEditableText").val()}});jQuery("#locallyEditableText").css("height",ig.game.alertDialog.size.y-50+"px")})}else ig.game.O4703.O3217(a.id,!0)},O6582:function(a){for(var b=0;1>=b;b++)for(var c=0==b?this.staticItems:this.movableItems,d=0;d<c.length;d++)if(c[d].localId==
a){var e=c[d];this.O3246({action:"delete",id:e.id,x:e.x,y:e.y,rot:e.rot,flip:e.flip});c.splice(d,1);ig.game.sounds.bin.play();break}},O83:function(a){var b=ig.game.tileSize,c={};c.pos={x:ig.input.mouse.x,y:ig.input.mouse.y};c.size={x:0,y:0};c.pos=this.O7104(c.pos);for(var d=null,e=null,f=a.length-1;0<=f;f--){var g=a[f];if(g.entity){var h=g.entity.O5320(c);if(h<=b&&(null===d||h<d))d=h,e=g}}return e},draw:function(){if(this.isOpen){this.O2010();
this.settings.hasNeutralSections&&this.O2576(this.neutralSections);this.settings.hasParticipantSections&&this.O2576(this.participantSections,!0);var a=this.O993();this.O8444();this.O7594(this.staticItems);this.settings.hasParticipantSections&&this.O2576(this.participantSections,!0,!0);this.O627||this.O7594(this.movableItems);this.O7594(this.staticItems,!0);this.O627||this.O7594(this.movableItems,
!0);this.O5069(a);this.O534();this.O4806();this.drawMenuEntries()}},O7599:function(a,b,c,d){var e=ig.system.context;e.beginPath();e.moveTo(a*ig.system.scale,b*ig.system.scale);e.lineTo(c*ig.system.scale,d*ig.system.scale);e.stroke()},O8444:function(){if(this.showGrid){var a=ig.system.context;a.strokeStyle="rgba(255,255,255,.15)";a.lineWidth=ig.system.scale;ml.Misc.O1651("lighten");for(var b=ig.game.tileSize;b<this.size.y;b+=ig.game.tileSize){var c=
this.pos.x,d=this.pos.y+b,e=c+this.size.x,f=d;this.O7599(c,d,e,f)}for(b=ig.game.tileSize;b<this.size.x;b+=ig.game.tileSize)c=this.pos.x+b,d=this.pos.y,e=c,f=d+this.size.y,this.O7599(c,d,e,f);c=this.O7978()[0];c={x:this.pos.x+c.x,y:this.pos.y+this.size.y-c.width-c.y,width:c.width,height:c.width};a.fillStyle="rgba(255,255,255,.1)";ml.Misc.O8210(c,0);c=8*ig.game.tileSize;c={x:this.pos.x+this.size.x/2-c/2,y:this.pos.y+this.size.y/2-c/2,width:c,height:c};
a.strokeStyle="rgba(255,255,255,.3)";ml.Misc.O8210(c,0,!0);ml.Misc.O13()}},O534:function(){if(this.O6755||this.O4086){ig.system.context.line=ig.system.scale;var a=this.pos.x,b=this.pos.y,c=this.size.x,d=this.size.y,e=1,e={x:a-e,y:b-e,width:c+2*e,height:d+2*e};ig.system.context.strokeStyle="rgba(255,255,255,.5)";ml.Misc.O1651("lighten");ml.Misc.O8210(e,0,!0);e=2;a={x:a-e,y:b-e,width:c+2*e,height:d+2*e};
ig.system.context.strokeStyle="rgba(0,0,0,.5)";ml.Misc.O1651("darken");ml.Misc.O8210(a,0,!0);ml.Misc.O13()}},O4806:function(){var a=this.O198;a&&this.O5812&&(this.O5812.pos.x=a.pos.x-ig.game._rscreen.x-this.O5812.size.x/2+4,this.O5812.pos.y=a.pos.y-ig.game._rscreen.y+23,this.O4250.pos.x=this.O5812.pos.x+this.O5812.size.x+8,this.O4250.pos.y=this.O5812.pos.y,
this.O5812.draw(),this.O4250.draw(),this.O929&&(this.O929.pos.x=this.O5812.pos.x+this.O5812.size.x+28,this.O929.pos.y=this.O5812.pos.y,a={x:this.O929.pos.x-3,y:this.O929.pos.y-1,width:this.O929.size.x+6,height:this.O929.size.y+2},ig.system.context.fillStyle="rgba(0,100,0,.5)",ml.Misc.O1651("darken"),ml.Misc.O8210(a),ml.Misc.O13(),this.O929.draw()))},
drawMenuEntries:function(){var a=this.O198;if(this.O5517&&a&&this.clickSpotMenuEntries)for(var a=this.clickSpotMenuEntries.length,b=0;b<a;b++){var c=this.clickSpotMenuEntries[b],d="bottomMenuMore",d=0==b?d+"Top":b==a-1?d+"Bottom":d+"Middle";ig.game.O5405.draw(c.pos.x,c.pos.y,0.8,ig.game.O5405[d]);c.icon&&ig.game.O5405.draw(c.pos.x+4,c.pos.y+3,0.7,ig.game.O5405[c.icon]);ig.system.context.globalAlpha=0.7;ig.game.blackFont.draw(this.menuEntries[b].label,c.pos.x+5+
(c.icon?10:0),c.pos.y+5);ig.system.context.globalAlpha=1}},O993:function(){var a={x:ig.game._rscreen.x,y:ig.game._rscreen.y};ig.game._rscreen.x=0;ig.game._rscreen.y=0;return a},O5069:function(a){ig.game._rscreen.x=a.x;ig.game._rscreen.y=a.y},O7594:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d.entity)if("DECOFB"==d.base)b?d.entity.O6780():d.entity.draw();else if("LIQUID"==d.base)d.entity.draw(b);else{var e="DECOFG"==d.base||d.attributes&&d.attributes.inFront;
(e&&b||!e&&!b)&&d.entity.draw()}}},O2010:function(){if(0<this.settings.wallpaperOpacity){1!=this.settings.wallpaperOpacity&&(ig.system.context.globalAlpha=parseFloat(this.settings.wallpaperOpacity));for(var a=0;a<this.size.y;a+=ig.game.O5286)for(var b=0;b<this.size.x;b+=ig.game.O5286)this.O198.anims.back.draw(this.pos.x+b,this.pos.y+a);1!=this.settings.wallpaperOpacity&&(ig.system.context.globalAlpha=1)}},O2576:function(a,b,c){ig.system.context.fillStyle="rgba(0,0,0,.2)";
for(var d=0;d<a.length;d++){var e=ig.game.O5662(a[d]);e.x+=this.pos.x;e.y+=this.pos.y;this.settings.markSections&&!c&&(ml.Misc.O1651("darken"),ml.Misc.O8210(e),ml.Misc.O13());if(b&&c){var f=void 0!==this.settings.participantValueAtStart?0.5:0.25,g=this.O7792(d),h=null;if(g)g.entity&&(h=g.entity.O4102?"me":g.entity.screenName,void 0!==this.settings.participantValueAtStart&&(void 0===g.value&&(g.value=parseFloat(this.settings.participantValueAtStart)),
h+=": "+String(this.settings.participantValuePrefix?this.settings.participantValuePrefix:"")+ig.game.strings.O2521(g.value)));else if(b&&(this.O6755||this.O4086||this.O8392))h="participant "+(d+1);if(h){var k=e.x+e.width/2,e=e.y+e.height-10;ig.system.context.globalAlpha=f;ig.game[this.settings.fontName+"Font"].draw(h,k,e,ig.Font.ALIGN.CENTER);ig.system.context.globalAlpha=1;if(g&&h!=g.lastLabelShown){g.lastLabelShown=h;for(f=-15;15>=f;f+=5)ig.game.decorator.O6664(k+
f,e+ig.game.O5167(-4,5),!0)}}}}},O7792:function(a){var b,c;for(c in this.participants)if(this.participants[c].index==a){b=this.participants[c];break}return b},O4742:function(a,b,c,d){if(this.lockReceivedRemoteDataQueue){var e=this;setTimeout(function(){e.O1639.push({mode:b,data:d})},100)}else this.O1639.push({mode:b,data:d,originator:a})},O4930:function(){if(this.O3747){this.lockReceivedRemoteDataQueue=
!0;1<=this.O1639.length&&this.O6536();for(var a=0;a<this.O1639.length;a++){var b=this.O1639[a].data,c=this.O1639[a].originator;switch(this.O1639[a].mode){case "itemChange":this.O7556(b,c);break;case "changesSinceStart":if(this.O627)if(this.hashOfFullSetupAtStart!=b.hashOfFullSetupAtStart)ig.game.O4269.say("i need to wait until next time"),
this.close();else{if(b.itemChanges){if(b.itemChanges.staticItems)for(a=0;a<b.itemChanges.staticItems.length;a++)this.O7556(b.itemChanges.staticItems[a],c,!0);if(b.itemChanges.movableItems)for(a=0;a<b.itemChanges.movableItems.length;a++)this.O7556(b.itemChanges.movableItems[a],c,!0);this.O6536()}b.participants&&(this.participants=ig.game.O5662(b.participants),this.expandParticipantEntities());this.O627=
null}break;case "askMasterForChangesSinceStart":this.O256()&&(b={itemChanges:{}},b.itemChanges.movableItems=this.getItemChangesSinceStart(this.movableItemsAtStart,this.movableItems),b.itemChanges.staticItems=this.getItemChangesSinceStart(this.staticItemsAtStart,this.staticItems),b.participants=this.O6668(),b.hashOfFullSetupAtStart=this.hashOfFullSetupAtStart,ig.game.O4349.O953("changesSinceStart",this.placementId,b));break;case "addParticipant":if(b.userId&&
(c=ml.Misc.O2849(b.userId)))this.addParticipant(c),c.O4102&&ig.game.O884.O2127("i was added to "+this.name),ig.game.sounds.success.play();break;case "removeParticipant":b.userId&&(c=ml.Misc.O2849(b.userId),this.removeParticipant(c),b.O2507==this.O4102&&ig.game.O884.O2127("i was removed from "+this.name),ig.game.sounds.pickup.play());break;case "participantValueChange":if(!this.O627&&(b.userId&&
void 0!==b.value)&&(c=this.participants[b.userId])){var d=c.value;c.value=parseFloat(b.value);this.O7879(d,c.value)}break;case "resetParticipantValues":this.O627||this.resetParticipantValues();break;case "restart":this.O3747=!1,this.O6232={},this.O3049(),ig.game.sounds.whoosh.play()}}this.O1639=[];this.lockReceivedRemoteDataQueue=!1}},O6668:function(){var a={},b;for(b in this.participants){var c=
this.participants[b];a[b]={index:c.index};void 0!==c.value&&(a[b].value=c.value)}return a},O6536:function(){for(var a=0;a<this.movableItems.length;a++)this.O1027(this.movableItems[a],!0)},O7556:function(a,b,c){var d=this.getItemByLocalId(this.movableItems,a.id);d||(d=this.getItemByLocalId(this.staticItems,a.id));if(d){c||(void 0!==a.x&&void 0!==a.x&&void 0!==d.x&&void 0!==d.y?(d.originIsCloseToTargetAtStart=!1,ml.Misc.O8132({x:a.x,y:a.y},{x:d.x,
y:d.y})>=this.O3698?(this.O3131(d),d.originIsCloseToTargetAtStart=!0):this.O1349(d)):this.O1349(d,!0));ml.Misc.O6674(a.x)&&ml.Misc.O6674(a.y)&&(d.targetX=a.x,d.targetY=a.y,this.O1735(d));ml.Misc.O6674(a.rot)&&(d.rot=parseInt(a.rot),d.rotatable=!0,d.entity&&(d.entity=null,this.O1910(d)));ml.Misc.O6674(a.state)&&(d.state=a.state);void 0!==a.flip&&d.entity&&(d.flip=
a.flip);void 0!==a.randomizerSeed&&(this.O1027(d,!0),a.itemItsOnId?this.O1321(a.itemItsOnId,a.randomizerSeed):(ig.game.seedableRandom.setSeed(a.randomizerSeed),this.doRandomizeItem(d)));if(void 0!==a.shuffleSeed)if(this.O1027(d,!0),void 0!==a.participantIndex){var e=this.participantSections[a.participantIndex];e&&this.O7722([e],a.shuffleSeed)}else this.O7722(this.neutralSections,a.shuffleSeed);d.isInOtherPrivateSection=this.O1287(d);
b&&!c&&this.O5206(b,d);c||ig.game.sounds.shortWhoosh.play()}},O5206:function(a,b){if(this.O2537&&b.entity)for(var c=a.pos.x-ig.game._rscreen.x,d=a.pos.y-ig.game._rscreen.y,e=this.pos.x+(void 0!==b.targetX?b.targetX:b.x)+b.entity.size.x/2-c,f=this.pos.y+(void 0!==b.targetY?b.targetY:b.y)+b.entity.size.y/2-d,g=Math.sqrt(e*e+f*f)/25,h,e=e/g,k=f/g,l=1;l<=g;l++)f=e*l,h=k*l,ig.game.O6879(EntityDust,c+5+f+12*Math.random()-6,d+5+h+12*Math.random()-
6,{decay:1*(l/g),opacity:45,uiEntity:!0,O985:!0}),ig.game.chance(15)&&ig.game.O6879(EntityBigDust,c+5+f+12*Math.random()-6,d+5+h+12*Math.random()-6,{decay:1*(l/g),opacity:45,O1313:!0,uiEntity:!0,O985:!0})},getItemByLocalId:function(a,b){var c;if(b)for(var d=0;d<a.length;d++)if(a[d].localId==b){c=a[d];break}return c},O3049:function(a,b){var c=this;this.O6250=0;this.staticItems=[];this.movableItems=[];this.O360=[];this.O3747=
!1;this.O627=new ml.Timer;this.O5399=!1;ig.game.O7421.O2912(this.id).done(function(d){c.hashOfFullSetupAtStart=ig.game.strings.O5466(JSON.stringify(d.data));var e=c.O4725(d.data);c.O2102=Boolean(d.isCreator);c.O6646(e);if(0==c.settings.maxParticipants)c.O627=null;else if(d=c.O4726())d.O4102?(c.addParticipant(ig.game.O4269),c.O627=
null):c.O5399=!0;c.menuEntries||c.O4320();a?ig.game.O4349.O953("restart",c.placementId):b&&b()})},O2062:function(){var a=this.O2985(),b=this;ig.game.O7421.O5653(this.id,a).done(function(a){a&&(b.restart(),ig.game.sounds.success.play())})},O2985:function(){var a={};this.O8163(this.staticItems);this.O8163(this.movableItems);a.itemProps=[];a.staticItemsPropIndexAndXY=[];a.movableItemsPropIndexAndXY=
[];for(var b=0;1>=b;b++){var c,d;0==b?(c=this.staticItems,d=a.staticItemsPropIndexAndXY):(c=this.movableItems,d=a.movableItemsPropIndexAndXY);for(var e=0;e<c.length;e++){var f=c[e],g=this.O7291(f),h=this.O4884(a.itemProps,g);-1==h&&(a.itemProps.push(g),h=a.itemProps.length-1);d.push([h,parseFloat(f.x),parseFloat(f.y)])}}a.settings=this.O5299();return a},O5299:function(){var a={},b=this.O3274(),
c=this.settings,d;for(d in b){var e=JSON.stringify(b[d]),f=JSON.stringify(c[d]);e!=f&&(a[d]=ig.game.O5662(c[d]))}return a},O7291:function(a){var b={};b.id=a.id;a.state&&(b.state=parseInt(a.state));a.flip&&(b.flip=parseInt(a.flip));a.rot&&(b.rot=parseInt(a.rot));a.wiggleSpeed&&(b.wiggleSpeed=parseFloat(a.wiggleSpeed));a.wiggleDistance&&(b.wiggleDistance=parseFloat(a.wiggleDistance));return b},O4884:function(a,b){for(var c=-1,d=0;d<a.length;d++){var e=a[d];if(e.id==
b.id&&e.state==b.state&&e.rot==b.rot&&e.flip==b.flip&&e.wiggleSpeed==b.wiggleSpeed&&e.wiggleDistance==b.wiggleDistance){c=d;break}}return c},O4725:function(a){var b={staticItems:[],movableItems:[],settings:{}};if(a){Array.isArray(a.movableItemsPropIndexAndXY)||(a.movableItemsPropIndexAndXY=[]);Array.isArray(a.staticItemsPropIndexAndXY)||(a.staticItemsPropIndexAndXY=[]);for(var c=0;1>=c;c++){var d,e;0==c?(e=a.staticItemsPropIndexAndXY,d=b.staticItems):(e=a.movableItemsPropIndexAndXY,d=b.movableItems);
for(var f=0;f<e.length;f++){var g=e[f],h=g[1],k=g[2],g=a.itemProps[g[0]],l={};l.id=g.id;l.x=h;l.y=k;g.state&&(l.state=parseInt(g.state));g.rot&&(l.rot=parseInt(g.rot));g.flip&&(l.flip=parseInt(g.flip));g.wiggleSpeed&&(l.wiggleSpeed=parseFloat(g.wiggleSpeed));g.wiggleDistance&&(l.wiggleDistance=parseFloat(g.wiggleDistance));d.push(l)}}b.settings=a.settings;null===b.settings&&(b.settings=void 0)}return b},O8285:function(a){"string"===typeof a&&(a=Boolean("true"===a));return a},O6646:function(a){this.staticItems=
a.staticItems;this.movableItems=a.movableItems;this.settings=this.O3274();if(a.settings)for(var b in this.settings)void 0!==a.settings[b]&&(this.settings[b]=a.settings[b]);this.settings.markSections=this.O8285(this.settings.markSections);this.settings.hasParticipantSections=this.O8285(this.settings.hasParticipantSections);this.settings.hasNeutralSections=this.O8285(this.settings.hasNeutralSections);this.settings.neutralSectionsShuffle=this.O8285(this.settings.neutralSectionsShuffle);
this.settings.participantSectionsShuffle=this.O8285(this.settings.participantSectionsShuffle);void 0!==this.settings.participantValueAtStart&&(this.settings.participantValueAtStart=parseInt(this.settings.participantValueAtStart));void 0!==this.settings.maxParticipants&&(this.settings.maxParticipants=parseInt(this.settings.maxParticipants));this.O51();for(b=0;b<a.staticItems.length;b++){var c=this.staticItems[b];c.x=parseFloat(c.x);c.y=parseFloat(c.y);c.isStatic=!0;"fromCenterBelow"==
this.settings.staticItemsRevealMode&&(c.targetX=c.x,c.targetY=c.y,c.x=this.size.x/2,c.y=this.size.y+ig.game.tileSize)}for(b=0;b<a.movableItems.length;b++)c=this.movableItems[b],c.x=parseFloat(c.x),c.y=parseFloat(c.y),"fromCenterBelow"==this.settings.movableItemsRevealMode&&(c.targetX=c.x,c.targetY=c.y,c.x=this.size.x/2,c.y=this.size.y+ig.game.tileSize);this.O8163(this.staticItems);this.O8163(this.movableItems);this.movableItemsAtStart=ig.game.O5662(this.movableItems);this.staticItemsAtStart=
ig.game.O5662(this.staticItems);for(b=0;b<a.staticItems.length;b++)this.O1910(this.staticItems[b]);for(b=0;b<a.movableItems.length;b++)this.O1910(this.movableItems[b]);this.O5490()},O5229:function(a){return{x:parseFloat(a.x),y:parseFloat(a.y),width:parseFloat(a.width),height:parseFloat(a.height)}},O51:function(){if(this.settings.hasNeutralSections){var a=0;this.neutralSections[a]=this.O5229(this.settings.neutralSections[a])}if(this.settings.hasParticipantSections){this.participantSections=
[];for(a=0;a<this.settings.maxParticipants;a++)this.participantSections[a]=this.O5229(this.settings.participantSections[a])}for(a=0;a<this.movableItems.length;a++){var b=this.movableItems[a];b.entity&&(b.isInOtherPrivateSection=this.O1287(b))}},O7978:function(){var a=7*ig.game.tileSize;return[{x:this.size.x/2-a/2,y:2,width:a,height:29}]},O294:function(){var a=4*ig.game.tileSize,b={x:2,y:31,width:a,height:a},c={x:this.size.x-
a-2,y:31,width:a,height:a},d={x:2,y:2,width:98,height:24},e={x:b.x+b.width+4,y:this.size.y-24-2,width:86.5,height:24};return[{x:this.size.x-a-2,y:this.size.y-a-2,width:a,height:a},{x:2,y:this.size.y-a-2,width:a,height:a},b,c,d,{x:this.size.x-d.width-2,y:2,width:d.width,height:24},e,{x:c.x-4-e.width,y:e.y,width:e.width,height:24}]},O1910:function(a){void 0===a.localId&&(a.localId=++this.O6250);var b=["DYNATHING","DECOANIM"],c=ig.game.O4961.getItemBasic(a.id,"ui_mt2"),
d=this;c.imagesBeingGenerated.done(function(){a.rot=void 0!=a.rot?a.rot:0;a.flip=void 0!=a.flip?a.flip:0;c.rot=a.rot;c.flip=a.flip;var e={thingTypeId:c.id,flip:c.flip,attributes:c.attributes,animSheet:ig.game.entityManager.getAnimationForEntity(c,c.rot,c.flip),O6454:!0,O5998:!0,O1938:!0};"STACKWEARB"==a.base&&(e.blinkInMultithing=d.settings.livelyBodies);ig.game.entityManager.O6079(c.O7062(),c,e,!0);var f=d.pos.x+a.x,g=d.pos.y+a.y;a.name=c.name;a.base=
c.base;a.attributes=ig.game.O5662(c.attributes);a.rotatable=c.rotatable;a.flippable=a.isStatic||"STACKWEARB"==a.base;a.state||(a.state=void 0);if(0<=b.indexOf(a.base)){var h=d.getStateRangeFromBaseAndName(a.base,a.name);h&&(a.minState=h.min,a.maxState=h.max,a.state||(a.state=a.minState))}h="Entity"+ig.game.strings.toUpperCaseFirst(c.base.toLowerCase());ig.global[h]||(h="EntityDefault");a.entity=new ig.global[h](f,g,e);a.entity.update();a.isInOtherPrivateSection=d.O1287(a)})},
getStateRangeFromBaseAndName:function(a,b){var c;if("DECOANIM"==a)c={min:1,max:2};else if("DYNATHING"==a){var d=b.split(" "),d=d[d.length-1].split("-");2==d.length&&(d[0]=d[0].trim(),d[1]=d[1].trim(),this.O1147(d[0])&&this.O1147(d[1])&&(c={min:parseInt(d[0]),max:parseInt(d[1])}))}return c},O1147:function(a){return!isNaN(a)&&a==parseInt(a)},addItem:function(a,b,c,d,e,f,g){if(this.O2102)if(this.O6755||this.O4086){var h,k,l;this.O6755?
(h=this.O5026,k=this.O3007,l=this.staticItems):(h=this.O4241,k=this.O809,l=this.movableItems);if(l.length<k){if(k=ig.game.O4961.getItemBasic(a,"ui_mt1"))0<=h.indexOf(k.base)?this.doAddItem(a,b,c,d,e,f,g):(ig.game.alertDialog.O1846("The following can be included for Multi "+(this.O6755?" static background":"movables")+": "+ml.Misc.O8094(h)+"."),ig.game.sounds.nocando.play())}else ig.game.O4269.say("i reached the "+
(this.O6755?"static":"movable")+" items limit"),ig.game.sounds.nocando.play()}else this.O1397={id:a,rotation:b,flip:c},this.O1397.x=Math.round(ig.input.mouse.x-this.pos.x-ig.game.tileSize/2),this.O1397.y=Math.round(ig.input.mouse.y-this.pos.y-ig.game.tileSize/2),this.O4089();else ig.game.sounds.nocando.play()},O4089:function(){ig.game.O4269.say("i need to go into set up mode");this.O5517=!0;ig.game.sounds.shortWhoosh.play()},
doAddItem:function(a,b,c,d,e,f,g){var h=this.O6755?this.staticItems:this.movableItems,k={};k.id=a;k.x=void 0!==d?d:Math.round(ig.input.mouse.x-this.pos.x-ig.game.tileSize/2);k.y=void 0!==e?e:Math.round(ig.input.mouse.y-this.pos.y-ig.game.tileSize/2);k.rot=parseInt(b);k.flip=parseInt(c);k.isStatic=this.O6755;f&&(k.wiggleSpeed=f);g&&(k.wiggleDistance=g);a=h.length;h[a]=k;this.O4427=h[a];this.O1910(h[a]);ig.game.sounds.putdown.play();this.O3246({action:"add",
localId:k.localId})},O2142:function(a){if(a.rotatable||a.flippable)a.rotatable?a.flippable?3==a.rot?(a.flip=a.flip?0:1,a.rot=0):a.rot++:a.rot=3==a.rot?0:a.rot+1:a.flippable&&(a.flip=a.flip?0:1,a.entity.O1457.flip.x=Boolean(a.flip)),"STACKWEARB"!=a.base&&(a.entity=null,this.O1910(a)),ig.game.sounds.shortWhoosh.play()},O3174:function(a){for(var b=0;b<a.length;b++){var c=a[b];c.entity&&c.entity.tidyUp&&c.entity.tidyUp();delete c.entity}},restart:function(){this.O5517=
!1;this.O256()?(this.O3747=!1,this.O6232={},this.O3049(!0),ig.game.sounds.whoosh.play()):ig.game.O4269.say("only the one who started can restart")},O6728:function(){this.O2102?this.O256()?this.O6755||(this.O4086?(this.O2062(),this.O6755=!0,this.O4086=!1):(this.O6755=!0,this.O4086=!1,this.O3049()),this.O929=null):this.O3729():this.O1228();
this.O5517=!1},O3729:function(){ig.game.O4269.say(this.name+" was already started here")},O5490:function(){var a=this.O1397;a&&(this.addItem(a.id,a.rotation,a.flip,a.x,a.y),this.O1397=null)},O2366:function(){this.O2102?this.O256()?this.O4086||(this.O6755?(this.O2062(),this.O6755=!1,this.O4086=!0):(this.O6755=!1,this.O4086=
!0,this.O3049()),this.O929=null):this.O3729():this.O1228();this.O5517=!1},O443:function(){this.O4086=this.O6755=!1;this.O929=null;this.O2062()},O1228:function(){ig.game.alertDialog.O1846("only the creator can do this")},O284:function(){ml.Misc.openUrl("/info-multi");this.O5517=!1},O2855:function(){if(!this.O6755&&!(this.O4086||ig.game.alertDialog&&
ig.game.alertDialog.isOpen))this.O5517=!this.O5517},O7478:function(){this.O6755||this.O4086?confirm("CANCEL CHANGES?")&&(this.O4086=this.O6755=!1,this.O929=null,this.O3049()):this.close()},O1769:function(){var a=this;this.O3049(void 0,function(){a.O5342()})},O5342:function(){this.O5517=!1;for(var a="",b=this,c=this.O7978(),d=this.O294(),
e=[],f=0;f<=this.maxParticipantsPossible;f++)e.push(f);var g=[],h=[],f=1,k;for(k in ig.game.availableFonts)g.push(k),h.push(f++);a=a+'<div class="multithingSettings">'+this.O6479("maxParticipants","Suggested max. active participants",e,this.settings.maxParticipants);a+=this.O1131("hasNeutralSections","Has neutral section",this.settings.hasNeutralSections);a+=this.O1131("hasParticipantSections","Has participant sections",this.settings.hasParticipantSections);a+=this.O1131("markSections",
"Mark sections",this.settings.markSections);a+=this.O6479("fontName","font",g,this.settings.fontName,h);a+=this.O1131("neutralSectionsShuffle","Neutral section shuffles",this.settings.neutralSectionsShuffle);a+=this.O1131("participantSectionsShuffle","Participant sections shuffle",this.settings.participantSectionsShuffle);a+=this.O442("wallpaperOpacity","Background opacity (0-1)",this.settings.wallpaperOpacity);a+=this.O442("participantValueAtStart",
"Everyone's start value",this.settings.participantValueAtStart);a+=this.O442("participantValuePrefix","Value prefix",this.settings.participantValuePrefix);a+=this.O6479("staticItemsRevealMode","Statics reveal mode",["none","fromCenterBelow"],this.settings.staticItemsRevealMode);a+=this.O6479("movableItemsRevealMode","Movables reveal mode",["none","fromCenterBelow"],this.settings.movableItemsRevealMode);a+=this.O6132("snapToGridRect","snap to grid (18 x 10)",
this.settings.snapToGridRect,this.O6291());a+='<p class="pseudoLink" onclick="jQuery(\'#sectionPositions\').slideToggle()" style="background-color: rgba(0,0,0,.1)">Section Positions</p>';a+='<div id="sectionPositions" style="display: none">';for(f=0;f<this.settings.neutralSections.length;f++)a+=this.O6132("neutralSections_0","neutral section",this.settings.neutralSections[f],c[f]);for(f=0;f<this.settings.participantSections.length;f++)a+=this.O6132("participantSections_"+
f,"participant section "+(f+1),this.settings.participantSections[f],d[f]);a+="</div>";a+="</div>";this.O8392=!0;ig.game.alertDialog.open({html:a,O6041:function(){b.O1812()},O4960:"done",O4878:!0})},O3274:function(){return{hasNeutralSections:!1,hasParticipantSections:!1,markSections:!0,fontName:"blackWhite",neutralSectionsShuffle:!0,participantSectionsShuffle:!1,maxParticipants:this.maxParticipantsDefault,wallpaperOpacity:1,staticItemsRevealMode:"none",
movableItemsRevealMode:"none",participantValueAtStart:void 0,participantValuePrefix:void 0,snapToGridRect:this.O6291(),neutralSections:this.O7978(),participantSections:this.O294()}},O6291:function(){return{x:null,y:null,width:null,height:null}},O6479:function(a,b,c,d,e){var f,g="min-width: "+30*ig.system.scale+"px";f=""+("<p>"+ig.game.strings.O4334(b)+": ");f+='<select id="'+ig.game.strings.O4334(a)+
'" style="'+g+'" onchange="ig.game.multithing.O6442()">';for(a=0;a<c.length;a++){var g=c[a]==d?' selected="selected"':"",h=c[a];e?b=e[a]:(b=h,"string"===typeof h&&(b=ig.game.strings.O2708(b).toUpperCase()));h=ig.game.strings.O4334(h);b=ig.game.strings.O4334(b);f+='<option value="'+h+'"'+g+">"+b+"</option>"}return f+="</select></p>"},O6132:function(a,b,c,d){b=""+("<p>"+ig.game.strings.O4334(b)+":<br/>");var e={x:"left",y:"top"},f=0,g;for(g in c){var h=
null!==c[g]?c[g]:"",k=d[g]?d[g]:"";b+='<span style="color: rgb(100,100,100); font-size: 90%">'+ig.game.strings.O4334(e[g]?e[g]:g)+'&nbsp;<input id="'+ig.game.strings.O4334(a+"_"+g)+'" type="text" onchange="ig.game.multithing.O6442()" value="'+ig.game.strings.O4334(h)+'" placeholder="'+ig.game.strings.O4334(k)+'" style="width: 40px" />&nbsp;&nbsp;</span>';2==++f&&(b+="<br/>")}return b+"</p>"},O442:function(a,b,c,d){void 0===c&&(c="");b=""+("<p>"+ig.game.strings.O4334(b)+
": ");b+='<input id="'+ig.game.strings.O4334(a)+'" type="text" ';d||(b+='onchange="ig.game.multithing.O6442()" ');b+='value="'+ig.game.strings.O4334(c)+'"/>';return b+"</p>"},O1131:function(a,b,c){c=ig.game.staticResourcePrefix+"media/checkbox/"+(c?"on":"off")+"/"+Math.min(ig.system.scale,5)+".png";return'<p class="disableContentSelect" style="cursor: default" onclick="ig.game.settings.toggleCheckbox(\''+a+'\');ig.game.multithing.O6442()"><img src="'+
c+'" alt="" id="checkbox_'+a+'" /> '+ig.game.strings.O4334(b)+'<span id="'+a+'Info" style="display: inline-block; opacity: .5; margin-left: 28px; font-size: 90%"></span></p>'},O6442:function(){this.settings.maxParticipants=parseInt(jQuery("#maxParticipants").val());this.settings.hasNeutralSections=0<=jQuery("#checkbox_hasNeutralSections").attr("src").indexOf("/on/");this.settings.hasParticipantSections=0<=jQuery("#checkbox_hasParticipantSections").attr("src").indexOf("/on/");
this.settings.markSections=0<=jQuery("#checkbox_markSections").attr("src").indexOf("/on/");this.settings.neutralSectionsShuffle=0<=jQuery("#checkbox_neutralSectionsShuffle").attr("src").indexOf("/on/");this.settings.participantSectionsShuffle=0<=jQuery("#checkbox_participantSectionsShuffle").attr("src").indexOf("/on/");this.settings.fontName=jQuery("#fontName").val();this.settings.participantValueAtStart=jQuery("#participantValueAtStart").val();ml.Misc.O6674(this.settings.participantValueAtStart)?
this.settings.participantValueAtStart=parseInt(this.settings.participantValueAtStart):this.settings.participantValueAtStart=void 0;this.settings.participantValuePrefix=String(jQuery("#participantValuePrefix").val());this.settings.participantValuePrefix=""==this.settings.participantValuePrefix?void 0:ig.game.strings.O1288(this.settings.participantValuePrefix,15);this.settings.wallpaperOpacity=this.O2300(jQuery("#wallpaperOpacity").val(),this.settings.wallpaperOpacity);jQuery("#wallpaperOpacity").val(this.settings.wallpaperOpacity);
this.settings.staticItemsRevealMode=jQuery("#staticItemsRevealMode").val();this.settings.movableItemsRevealMode=jQuery("#movableItemsRevealMode").val();this.settings.snapToGridRect=this.O4561("snapToGridRect",this.O6291());for(var a=this.O7978(),b=this.O294(),c=0;c<this.settings.neutralSections.length;c++)this.settings.neutralSections[c]=this.O4561("neutralSections_"+c,a[c]);for(c=0;c<this.settings.participantSections.length;c++)this.settings.participantSections[c]=
this.O4561("participantSections_"+c,b[c]);this.O51()},O4561:function(a,b){var c={x:0,y:0,width:1,height:1},d;for(d in c){var e=jQuery("#"+a+"_"+d).val();c[d]=""==e.trim()?b[d]:this.O5427(e)}c.x=ml.Misc.O5179(c.x,0,this.size.x);c.y=ml.Misc.O5179(c.y,0,this.size.y);c.width=ml.Misc.O5179(c.width,0,this.size.x);c.height=ml.Misc.O5179(c.height,0,this.size.y);c.x+c.width>this.size.x&&(c.width=this.size.x-c.x);c.y+c.height>this.size.y&&
(c.height=this.size.y-c.y);return c},O5427:function(a){a=ig.game.strings.replaceAll(a,",",".");return a=ml.Misc.O6680(a)?parseFloat(a):0},O2300:function(a,b){a=ig.game.strings.replaceAll(a,",",".");var c=parseFloat(a);5>=a.length&&ml.Misc.O6680(c)&&0<=c&&1>=c?a=c:(a=b,ig.game.sounds.nocando.play());return a},O1812:function(){this.O8392=!1;this.O2062()},resetParticipantValues:function(a){if(void 0!==this.settings.participantValueAtStart){for(var b in this.participants)this.participants[b].value=
parseFloat(this.settings.participantValueAtStart);a&&ig.game.O4349.O953("resetParticipantValues",this.placementId);ig.game.sounds.click.play()}},O3728:function(a){if(this.isOpen&&a&&void 0!==this.settings.participantValueAtStart&&this.participants[ig.game.O4269.O2507])if("reset everyone"==a)this.resetParticipantValues(!0);else{var b=["plus","minus","times","divided_by","set"];a=a.toLowerCase().trim();a=ig.game.strings.replaceAll(a,
"divided by","divided_by");a=ig.game.strings.replaceAll(a,"multiplied by","times");var c=a.split(" ");if(3<=c.length){var d,e,f;if(0<=b.indexOf(c[0]))d=c[0],e=c[1],f=ml.Misc.O2858(c," ",2);else for(var g=0;g<b.length;g++)if(c=a.split(" "+b[g]+" "),2==c.length){f=c[0];d=b[g];e=c[1];break}void 0!==e&&(e=ml.Misc.O6680(e)?parseFloat(e):void 0);if(void 0!==d&&(void 0!==e&&void 0!==f)&&(a=this.O4402(f))){b=this.participants[a];c=b.value;switch(d){case "set":b.value=e;
break;case "plus":b.value+=e;break;case "minus":b.value-=e;break;case "divided_by":b.value/=e;break;case "times":b.value*=e}this.O7879(c,b.value);ig.game.O4349.O953("participantValueChange",this.placementId,{userId:a,value:b.value})}}}},O7879:function(a,b){ig.game.sounds[b>a?"score_up":b<a?"score_down":"click"].play()},O4402:function(a){var b;if("me"==a)b=ig.game.O4269.O2507;else if("you"==
a&&2==ml.Misc.O4361(this.participants))for(var c in this.participants){if(c!=ig.game.O4269.O2507){b=c;break}}else for(c in this.participants){var d=ml.Misc.O2849(c);if(d&&0===d.screenName.indexOf(a)){b=c;break}}return b},addParticipant:function(a){var b=!1;!this.participants[a.O2507]&&!this.O5141()&&(this.participants[a.O2507]={entity:a,index:this.getLowestFreeIndex()},a.O4102&&this.O5319(),b=!0);return b},
getLowestFreeIndex:function(){for(var a=-1,b=0;b<this.settings.maxParticipants;b++)if(!this.O7792(b)){a=b;break}return a},removeParticipant:function(a){delete this.participants[a.O2507];a.O4102&&this.O5319()},O256:function(){var a=this.O4726();return Boolean(a&&a.O4102)},O5141:function(){return Boolean(!this.settings.maxParticipants||ml.Misc.O4361(this.participants)>=parseInt(this.settings.maxParticipants))},
expandParticipantEntities:function(){for(var a in this.participants){var b=this.participants[a];b.entity||(b.entity=ml.Misc.O2849(a),b.entity||delete this.participants[a])}},removeParticipantsWhoStoppedViewing:function(){for(var a in this.participants)if(a!=ig.game.O4269.O2507){var b=this.participants[a];!b.entity||b.entity.viewingMultithingPlacementId!=this.placementId?delete this.participants[a]:ml.Misc.O2849(a)||delete this.participants[a]}},close:function(){this.isOpen&&
(ig.game.multithingManager.O2047(ig.game.O4269,this.placementId),this.isOpen=!1,this.O3174(this.staticItems),this.O3174(this.movableItems),this.O6232={},this.placementId=this.masterUser=this.O627=this.name=null,this.movableItemsAtStart=[],this.staticItemsAtStart=[],this.O5399=!1,this.O198=null,this.O360=[],this.O6250=0,this.staticItems=[],this.movableItems=[],this.O6037=
this.O5102=this.O6431=null,this.participants={},this.menuEntries=null,this.parent(),ig.ua.mobile&&ig.game.virtualJoystick.O2659())}})});ig.baked=!0;
ig.module("game.ui.motiondialogitem").defines(function(){window.UIMotionDialogItem=ig.Class.extend({pos:{x:0,y:0},nudge:{x:0,y:0},homePos:{x:0,y:0},size:{x:19,y:19},O5791:4,O1053:0,offset:{x:0,y:0},waggleVel:0,O4068:0,O4538:5,O5470:null,item:null,O2176:!1,binable:!1,O7325:14,rotation:0,flip:0,O7762:null,O8233:0.6,O2913:!1,selected:!1,O2480:0.6,O8373:1,O3669:0,init:function(a,b,c){this.testId=
Math.random();this.item=a;var d=this;this.item.dataLoading.done(function(){d.O3714()});this.pos.x=b;this.pos.y=c;this.homePos.x=b;this.homePos.y=c},O3714:function(){this.rotation=this.item&&this.item.defRot?this.item.defRot:0},O7307:function(){return ig.game.O6099.O4009(this.pos.x-this.O5791,this.pos.y-this.O5791,this.pos.x+this.size.x+this.O5791,this.pos.y+this.size.y+this.O5791)?(ig.game.O6099.O4013(),
!0):!1},O6849:function(){return ig.game.O6099.O6849(this.pos.x-this.O5791,this.pos.y-this.O5791,this.pos.x+this.size.x+this.O5791,this.pos.y+this.size.y)},update:function(){this.O6537();ig.game.motionDialog.O4216&&this.O3202()},O3202:function(){ig.game.O6099.O5632()&&(this.O6849()&&!this.O2176)&&(ig.game.O6099.O6375(),ig.input.state("ctrl")||ig.ua.mobile&&this.O5470&&
0.5>=this.O5470.delta()?(ig.ua.mobile&&ig.O3970.stopAll(),ig.game.motionDialog.O4394(this.item,this.item.id,function(){ig.game.motionDialog.close()}),this.O5470=null):(this.O2176=!0,ig.game.O500={tid:this.item.id,rotation:0,flip:!1,O6891:!1,rotatable:!1,flippable:!1,base:this.item.base},ig.game.O500Binable=!0,this.O5470=new ml.Timer,ig.game.sounds.pickup.play()));ig.input.state("click")&&this.O2176&&
(this.pos.x=ig.input.mouse.x-this.size.x/2,this.pos.y=ig.input.mouse.y-this.size.y/2,ig.game.motionDialog.O389({x:this.pos.x,y:this.pos.y}));this.O2176&&(ig.input.released("click")&&!ig.input.O4903())&&(ig.game.panelSet&&ig.input.mouse.x<ig.game.panelSet.panelPos.x?((!ig.game.O6099.O4290()||!ig.game.O7510.O1975(ig.game.O500.base,ig.game.O500.attributes))&&ig.game.motionDialog.O3227({x:this.pos.x,
y:this.pos.y},this.item),this.pos.x=this.homePos.x,this.pos.y=this.homePos.y,this.O2176=!1,ig.game.O500=!1,ig.game.O500Binable=!1,this.O5470=null):(this.O2176=!1,ig.game.O500=!1,ig.game.O500Binable=!1,this.pos.x=this.homePos.x,this.pos.y=this.homePos.y,ig.game.panelSet.O5220()&&ig.game.motionDialog.O4394(this.item,this.item.id,function(){})))},draw:function(a){this.O2176&&(ig.system.context.globalAlpha=
(this.O2480-0.2)*this.O3669,this.item.draw(this.homePos.x+this.nudge.x,this.homePos.y+this.nudge.y,this.rotation,this.flip,1),ig.system.context.globalAlpha=1);var b=this.selected?-2:0,c=ig.game.bottomMenu.subMenus&&ig.game.bottomMenu.subMenus[0]&&ig.game.bottomMenu.subMenus[0].O745;if(a)a="MOTION"==this.item.base?2:void 0,this.O2176?(ig.system.context.globalAlpha=1,this.item.draw(this.pos.x+this.O1053,this.pos.y,ig.game.O500.rotation,
ig.game.O500.flip,1,a)):c||(ig.system.context.globalAlpha=(this.selected?this.O8373:this.O2480)*this.O3669,this.item.draw(this.pos.x+this.nudge.x+this.O1053+this.offset.x,this.pos.y+this.nudge.y+this.offset.y+b,this.rotation,this.flip,1,a));else if(b=!this.O2176&&!ig.game.O500&&!ig.game.O7188.O2176FromMap&&this.O6849(),!c&&(b||this.selected)&&this.item.name)c=this.item.name.length>this.O7325?
this.item.name.substring(0,this.O7325-1)+"..":this.item.name,ig.game.motionDialog.O3941(c,this.homePos.x+this.nudge.x+this.offset.x+this.size.x/2,this.homePos.y+this.nudge.y+this.size.y+2+this.offset.y,this.O3669);ig.system.context.globalAlpha=1;this.nudge={x:0,y:0}},O2118:function(a,b,c){a=ig.system.O4928(a);b=ig.system.O4928(b);var d=this.item.img.width/c;c=this.item.img.height;d=d>ig.game.tileSize?ig.game.tileSize:d;c=c>ig.game.tileSize?ig.game.tileSize:
c;ig.system.context.drawImage(this.item.img.data,0,0,(0+d)*ig.system.scale,(0+c)*ig.system.scale,a,b,d*ig.system.scale,c*ig.system.scale)},doNudge:function(){this.nudge={x:10,y:0}},waggle:function(){this.waggleVel=2},O6537:function(){0!=this.waggleVel&&(this.O4068<=this.O4538?(this.O1053+=this.waggleVel,2<Math.abs(this.O1053)&&(this.waggleVel=-this.waggleVel,this.O4068++)):this.O4068=this.O1053=this.waggleVel=0)},O4753:function(){this.item&&
this.item.id&&ig.game.O7510.O8157(this.item,null,!0)}})});ig.baked=!0;
ig.module("game.ui.motiondialog").requires("game.ui.components.uidialog","game.ui.motiondialogitem").defines(function(){window.MotionDialog=UIDialog.extend({pos:{x:0,y:0},size:{x:0,y:0},isOpen:!1,O3669:0,O372:null,O5334:!1,O603:!1,O2781:null,motionIds:[],O5155:0,O2617:[],O8459:[],O7460:20,O7300:{},O3182:null,O1225:1,O5150:[],
O7300AsSaved:[],O5912:!1,O5914:0,selectedIndex:0,rowMin:0,rowMax:0,O203:!1,O4216:!1,O4956:16,O3319:2,O7325:14,O7659:null,O864:!1,bodyIdOfLastMotionSetLoaded:null,init:function(){},O6678:function(){var a=ig.ua.mobile?14:0.25*ig.system.width;this.size.x=ig.system.width-(a+a);this.size.y=27;this.rowMax=this.rowMin=0;ig.game.O8053&&
(this.O8459&&1<=this.O8459.length)&&(this.size.y+=28,this.rowMax++);this.pos.x=a;ig.game.O2050&&(this.pos.x-=17);this.pos.y=Math.round(ig.system.O8417+40);ig.ua.mobile&&(this.pos.y-=35);this.O5914=0},tryOpen:function(a){if((!ig.game.O4269||!ig.game.O4269.attachments||!ig.game.O4269.attachments.br)&&!this.isOpen&&!this.O6704()){var b=!0;if(!a&&(ig.game.O4269.attachments.h||ig.game.O4269.attachments.w&&ig.game.O4269.attachments.w.emitsId||
ig.game.O4269.O2031("actionable")))b=null==ig.game.O7510.O7485(ig.game.O4269,!0);if(b){this.O6678();this.targetY=this.pos.y;this.pos.y-=5;ig.game.O6310&&(this.pos.y=Math.floor(ig.system.height-35));this.O3669=0.2;this.toClose=!1;this.isOpen=!0;1<=this.O8459.length&&(this.selectedIndex=Math.floor(this.O8459.length/2));ig.game.sounds.O733(ig.game.sounds.whoosh,0.5);var c=this;this.O565().done(function(){c.O4304()})}}},
doPreload:function(){this.O565().done(function(){})},O4413:function(a,b){var c=0<=["MOTION","STACKWEARB"].indexOf(a.base);"DYNATHING"==a.base&&(c=a.attributes&&(a.attributes.attachable||a.attributes.follows||a.attributes.closelyFollows)&&(!ig.game.O7510.O4721(a)||b));return c},O2115:function(a){return this.O4413(a)&&"MOTION"==a.base},O6704:function(){var a=ig.game.O4269;
return a.O274&&a.O274.thing&&"CLIMB"==a.O274.thing.base},O565:function(a){var b=jQuery.Deferred(),c=ig.game.O4269.attachments.b&&ig.game.O4269.attachments.b.id;if(!c)return this.motionIds=[],this.O5155=0,this.O2617=[],this.O5914=this.rowMin=1,this.O2781=c,b.reject(),b.promise();if(this.O2781==c&&!a)0==this.motionIds.length&&(this.O5914=this.rowMin=1,this.motionIds=[],this.O5155=
0,this.O2617=[]),b.resolve();else{this.O2781=c;var d=this;this.O2781!=this.bodyIdOfLastMotionSetLoaded&&(this.O4216=!1,this.bodyIdOfLastMotionSetLoaded=this.O2781,ig.game.O7421.O194(this.O2781).done(function(a){a&&a.ids?(d.motionIds=a.ids,d.O5155=a.midpoint,b.resolve()):(d.motionIds=[],d.O5155=0,d.O8459&&1<=d.O8459.length&&(d.O5914=1,d.rowMin=1));d.checkIfWeAreCreatorsOfThisBody(b)}))}return b.promise()},
checkIfWeAreCreatorsOfThisBody:function(a){var b=this;ig.game.O4961.getItem_P(b.O2781,"d_motion1").done(function(c){c.creatorId==ig.game.O4269.O2507?(b.O4216=!0,a.resolve()):(b.O2781=null,a.reject())}).fail(function(){a.reject()})},O4304:function(){var a=this.motionIds.length,b=this.O4956+2*this.O3319,c=a*b;c>this.size.x?(c=this.pos.x,b=this.size.x/a):c=this.pos.x+(this.size.x-c)/2;var d,e;this.O2617=[];for(var f=
0;f<this.motionIds.length;f++)a=ig.game.O4961.getItemBasic(this.motionIds[f],"ui_md4"),d=c+f*b,e=this.pos.y,this.O2617.push(new UIMotionDialogItem(a,d,e));0==this.O5914&&(this.selectedIndex=Math.floor(this.motionIds.length/2))},update:function(){this.handleSetDidFinishInitialPossessionLoading();if(this.isOpen){this.pos.y<this.targetY&&(this.pos.y+=1.5,this.pos.y>this.targetY&&(this.pos.y=this.targetY));1>=this.O3669&&(this.O3669+=0.2,1<this.O3669&&(this.O3669=
1));if(ig.game.O7759()&&this.O5914<this.rowMax)this.O5914++,this.selectedIndex=Math.floor(this.O7227()/2);else if(ig.game.O4047()&&this.O5914>this.rowMin)this.O5914--,this.selectedIndex=Math.floor(this.O7227()/2);else if(ig.input.pressed("esc")||ig.game.O4047()||ig.game.O4269.O2865==ig.game.O4269.O2558.CLIMBING&&!ig.game.O4269.O3739&&!ig.game.O4269.O3739Previous)ig.input.O3472(),
this.close();else if(ig.game.O6808())1>=this.O2617.length&&0==this.O5914?this.close():this.selectedIndex--;else if(ig.game.controlPressed_RIGHT())1>=this.O2617.length&&0==this.O5914?this.close():this.selectedIndex++;else if(ig.input.pressed("enter")||ig.game.O1285()){if(null!==this.selectedIndex&&void 0!==this.selectedIndex)if(0==this.O5914)this.O2617[this.selectedIndex]&&(this.O2617[this.selectedIndex].O4753(),
ig.game.virtualJoystick.O6229=!1);else{var a=this.O8459[this.selectedIndex];a&&(ig.game.O4703.O3217(a.id,ig.game.O4269,void 0,!0),"DECO"==a.base&&(ig.game.O6401.O1665("sees",a.name),ig.game.O6401.O5038(ig.game.O4269,"does",a.name),ig.game.sounds.shortWhoosh.play()),ig.game.O6401.O5038(ig.game.O4269,"selects",a.name));ig.game.virtualJoystick.O6229=
!1}ig.input.O3472();this.close()}else if(ig.input.pressed("DELETE")){var b=this;this.O1219(function(){b.close()})}this.selectedIndex=this.selectedIndex.limit(0,this.O7227());this.O7671()}this.O7896();this.parent()},O7227:function(){var a=0;return a=0==this.O5914?1<=this.O2617.length?this.O2617.length-1:0:this.O8459&&1<=this.O8459.length?this.O8459.length-
1:0},O5076:function(a){ig.game.O4269&&(ig.game.O7510&&!ig.game.O7510.O4287(ig.game.O4269))&&this.O1951(a)},O1951:function(a){if("string"===typeof a){a=a.toLowerCase();a=ig.game.strings.trim(a);var b=this;this.O565().done(function(){1<=b.motionIds.length&&(b.O7484(a)?(b.O5914=0,b.selectedIndex=Math.floor(b.motionIds.length/2)):b.O7484(a,
!0))})}},O7484:function(a,b){for(var c=!1,d=0;d<this.motionIds.length&&!c;d++){var e=ig.game.O4961.getItemBasic(this.motionIds[d],"ui_md3");if(e&&e.base&&e.name)for(var f=e.name.split(","),g=0;g<f.length&&!c;g++){var h=f[g].toLowerCase(),h=ig.game.strings.trim(h),k=!1;if(b){var l=h.indexOf("*");"*"!=h&&(0<=l&&a.length>=h.length-1)&&(0==l?(h=h.substr(1),k=a.substr(a.length-h.length)):(h=h.substr(0,h.length-1),k=a.substr(0,h.length)),k=h==k)}else k=h==a;if(k){ig.game.O7510.O8157(e,
!0,!0);c=!0;this.isOpen&&this.close();break}}}return c},O7617:function(){if(!this.O203){this.O203=!0;var a=this;this.O565().done(function(){if(1<=a.motionIds.length)for(var b=0;b<a.motionIds.length;b++)ig.game.O4961.getItemBasic(a.motionIds[b],"ui_md1")})}},O7671:function(){for(var a=0;a<this.O2617.length;a++){var b=this.O2617[a];b.selected=a==this.selectedIndex&&0==this.O5914;
b.O3669=this.O3669;b.pos.y=this.pos.y;ig.game.O6310||(b.offset.y=this.pos.y-this.targetY);b.update()}},draw:function(){this.isOpen&&(this.O1283(),this.O505(),this.O3619())},O1283:function(){for(var a=0.1*this.O3669,b=1;5>=b;b++){var c=b-1;this.O7749(this.pos.x-c,this.pos.y-0.75*c,this.size.x+2*c,this.size.y+3*c,a)}0==this.motionIds.length&&this.O4216&&(ig.system.context.globalAlpha=0.25*this.O3669,
this.O372||(this.O372=ig.game.O5405.getImage(ig.game.O5405.motionsDialogLabel)),this.O372.draw(this.pos.x+this.size.x/2-this.O372.width/2,this.pos.y+10),ig.system.context.globalAlpha=1);if((!ig.game.isFullAccount||ig.game.O4269&&1>=ig.game.O4269.rank)&&0==this.motionIds.length&&0==this.O8459)ig.system.context.globalAlpha=0.35*this.O3669,ig.game.whiteSmallFont.draw("motions + area possessions",this.pos.x+this.size.x/2,this.pos.y+this.size.y/
2,ig.Font.ALIGN.CENTER),ig.system.context.globalAlpha=1},O7749:function(a,b,c,d,e){var f=ig.system.context;f.beginPath();f.fillStyle="rgba(0,0,0,"+e+")";f.fillRect(a*ig.system.scale,b*ig.system.scale,c*ig.system.scale,d*ig.system.scale)},O505:function(){for(var a=1;2>=a;a++)for(var b=0;b<this.O2617.length;b++)this.O2617[b].draw(1==a)},O389:function(a){var b=!1;this.O4909(a)&&(b=!0,a=this.O5799(a.x),
a<this.O2617.length&&this.O2617[a].doNudge());return b},O3227:function(a,b){var c=!1;if(this.O4909(a)){var c=!0,d=this.O5799(a.x);this.O2231(b.id,d)}return c},O5799:function(a){for(var b=this.O2617.length,c=0;c<this.O2617.length;c++)if(!this.O2617[c].O2176&&a<=this.O2617[c].pos.x+this.O2617[c].size.x){b=c;break}return b},O2231:function(a,
b){if(ig.game.isFullAccount)if(this.O4216){this.bodyIdOfLastMotionSetLoaded=null;var c=this;ig.game.O7421.O3258(a,this.O2781,b).done(function(a){c.O565(!0).done(function(){c.O4304();ig.game.sounds.putdown.play();ig.game.O4803.register(ig.game.O4803.types.ATTACHED_MOTION)})})}else ig.game.alertDialog.open("You can only add motions for bodies you've created.")},O1219:function(a){var b=
this.O2617[this.selectedIndex]&&this.O2617[this.selectedIndex].item&&this.O2617[this.selectedIndex].item.id;b&&this.O4394(this.O2617[this.selectedIndex].item,b,a)},O4394:function(a,b,c){var d=this;this.bodyIdOfLastMotionSetLoaded=null;ig.game.O4961.getItem_P(this.O2781,"d_motion2").done(function(a){a.creatorId==ig.game.O4269.O2507?ig.game.O7421.O8438(b,d.O2781).done(function(a){d.O565(!0).done(function(){d.O4304();
ig.game.sounds.bin.play();c()})}):ig.game.sounds.nocando.play()})},O4909:function(a){return a.x>=this.pos.x-30&&a.x<=this.pos.x+this.size.x+30&&a.y>=this.pos.y-30&&a.y<=this.pos.y+this.size.y+30},close:function(){this.parent()},O4659:function(a,b){if(this.O864)for(var c=a.split(","),d=0;d<c.length;d++){var e=c[d];-1===this.O1720(e)&&(this.O8459.length<this.O7460?(this.O8459.push(ig.game.O4961.getItemBasic(e,
"ui_md2",void 0,!0)),b||(0==d&&(this.tryOpen(!0),this.O5914=1,this.selectedIndex=this.O8459.length-1),this.O8459[this.O8459.length-1].isNew=!0)):0==d&&ig.game.sounds.nocando.play())}},O8343:function(a,b){if(this.O864){var c=this.O1720(a);0<=c&&(delete this.O7300[this.O8459[c].id],this.O8459.splice(c,1),b||ig.game.sounds.pickup.play(),this.close())}},
removeAllAreaPossessionItems:function(){if(1<=this.O8459.length){for(var a=[],b=0;b<this.O8459.length;b++)this.O8459[b].id&&a.push(this.O8459[b].id);this.O8459=[];this.O7300={};ig.game.sounds.pickup.play();this.close()}},O5557:function(a){if(ig.game.isEditorHere&&ig.game.O8053&&(a=ig.game.strings.replaceAll(a,"dontpossess ",""),a=ig.game.strings.replaceAll(a,"!",""),a=a.trim().toLowerCase()))"*"==
a?this.removeAllAreaPossessionItems():(a=this.O837(a))&&this.O8343(a)},O1720:function(a){var b=-1;if(a&&this.O8459)for(var c=0;c<this.O8459.length;c++){var d=this.O8459[c];if(d&&d.id==a){b=c;break}}return b},O837:function(a){var b=null;if(a&&this.O8459)for(var c=0;c<this.O8459.length;c++){var d=this.O8459[c];if(d&&d.name.toLowerCase()==
a){b=d.id;break}}return b},O5364:function(a){if(this.O864){var b=!1;if(a&&this.O8459)if("*"==a)b=1<=this.O8459.length;else{a=a.toLowerCase();for(var c=0;c<this.O8459.length;c++){var d=this.O8459[c];if(d&&d.name==a){b=!0;break}}}return b}},O3619:function(){if(1<=this.O8459.length){var a=ig.game.tileSize+2;18<=this.O8459.length?a-=5:14<=this.O8459.length&&
(a-=3);for(var b=1;2>=b;b++)for(var c=this.pos.x+this.size.x/2-this.O8459.length*a/2,d=0;d<this.O8459.length;d++){var e=this.O8459[d];if(e&&e.name&&e.img&&e.imagesGenerated){var f=c+d*a,g=this.pos.y+38,h=0.6,k=d==this.selectedIndex&&1==this.O5914;k&&(g-=2,h=1);ig.game.O6099.O6849(f,g,f+a,g+ig.game.tileSize)&&(k=!0,ig.input.pressed("click")&&(ig.game.O4703.O3217(e.id,ig.game.O4269,void 0,!0),ig.game.O6401.O5038(ig.game.O4269,
"selects",e.name),ig.input.O3472(),this.close()));if(1==b)if(ig.system.context.globalAlpha=h*this.O3669,h="MOTION"==e.base||"INTERMOT"==e.base?2:null,"DECOFB"==e.base&&(h=1),0<=ig.game.O6649.indexOf(e.base)&&(0.5*e.img.width>ig.game.tileSize||e.img.height>ig.game.tileSize))this.O2118(e,f,g,e.cellCount,e.base,h);else{var l=k=0;e.img.width<ig.game.tileSize&&(k=a/2-e.img.width/2,l=ig.game.O1990-e.img.height/2);e.draw(f+k,g+l,0,0,1,h)}else k&&(h=e.name.length>this.O7325?
e.name.substring(0,this.O7325-1)+"..":e.name,k=this.O7300[e.id],void 0!==k&&(h=ig.game.strings.O5728(k)+" "+h),this.O3941(h,f+ig.game.O1990,g+10,this.opacity)),e.isNew||e.isChangedUpwards?(delete e.isNew,delete e.isChangedUpwards,ig.game.decorator.O1805(f,g,ig.game.tileSize.x,ig.game.tileSize.y,!0),ig.game.sounds.putdown.play(),ig.game.sounds.collected.play()):e.isChangedDownwards&&(delete e.isChangedDownwards,ig.game.decorator.O3382({x:f,
y:g},!0),ig.game.sounds.pickup.play())}}ig.system.context.globalAlpha=1}},O3941:function(a,b,c,d){var e=ig.Font.ALIGN.CENTER;ig.system.context.globalAlpha=0.35*d;ig.game.blackSmallFont.draw(a,b-1,c,e);ig.game.blackSmallFont.draw(a,b+1,c,e);ig.game.blackSmallFont.draw(a,b,c-1,e);ig.game.blackSmallFont.draw(a,b,c+1,e);ig.system.context.globalAlpha=0.85*d;ig.game.whiteSmallFont.draw(a,b,c,e)},O2118:function(a,b,c,d,e,f){b=ig.system.O4928(b);c=ig.system.O4928(c);d=a.img.width/
d;var g=a.img.height;e=ig.game.tileSize;g=g>ig.game.tileSize?ig.game.tileSize:g;e*=ig.system.scale;g*=ig.system.scale;ig.system.context.drawImage(a.img.data,0,0,e,g,b,c,e,g);f&&ig.system.context.drawImage(a.img.data,d*f*ig.system.scale,0,e,g,b,c,e,g)},O5814:function(){this.O7659&&this.O8459.push(ig.game.O4961.getItemBasic(this.O7659,"ui_md5",void 0,!0));if(ig.game.O3595){for(var a=
0;a<ig.game.O3595.length;a++)this.O8459.push(ig.game.O4961.getItemBasic(ig.game.O3595[a],"ui_md6",void 0,!0));ig.game.O3595=null}ig.game.O7443&&(this.O7300=ig.game.O5662(ig.game.O7443),ig.game.O7443=null,ig.game.motionDialog.O6640());
this.O5150=this.O174();this.O7300AsSaved=ig.game.O5662(this.O7300)},O6640:function(){for(var a in this.O7300){var b=ig.game.O6401.O4836[a];b&&(this.O7300[a]=ig.game.O6401.O8118(a,this.O7300[a]),0>=this.O7300[a]&&b.O3768&&this.O8343(a))}},
handleSetDidFinishInitialPossessionLoading:function(){if(!this.O864&&!ig.game.O3595&&!ig.game.O7443){for(var a=!1,b=this.O8459.length-1;0<=b&&!a;b--)!this.O8459[b].name&&!this.O8459[b].O2103&&(a=!0);if(!a||0==this.O8459.length)this.O864=!0}},O5057:function(a){for(var b=0,c=0;c<this.O8459.length;c++){var d=
this.O8459[c].name;if(d&&d.toLowerCase()==a){a=this.O8459[c].id;this.O7300[a]&&(b=parseInt(this.O7300[a]));break}}return b},O851:function(a,b,c,d){if(this.O864){var e=this.O1720(a);-1==e&&this.O4659(a,d);e=this.O1720(a);0<=e&&this.O7716(e,a,b,c,d)}},O7716:function(a,b,c,d,e){var f=!1;void 0===this.O7300[b]&&
(this.O7300[b]=0,f=!0);var g=parseInt(this.O7300[b]),h=g;switch(d){case "+":g+=parseInt(c);break;case "-":g-=parseInt(c);break;case "*":g*=parseInt(c);break;case ":":g=Math.round(g/parseInt(c));break;case "=":g=parseInt(c)}g=ig.game.O6401.O8118(b,g);this.O7300[b]=parseInt(g);c=ig.game.O6401.O4836[b];if(0>=g&&c&&c.O3768)this.O8343(b);else if(ig.game.O4269&&(0==ig.game.O4269.vel.x&&
0==ig.game.O4269.vel.y)&&!e){if(g!=h||f)this.tryOpen(!0),this.O5914=1,this.selectedIndex=a;"="==d?this.O8459[a].isNew=!0:g>h?this.O8459[a].isChangedUpwards=!0:g<h&&(this.O8459[a].isChangedDownwards=!0)}},O7896:function(){if(ig.game.O8053&&ig.game.areaGroupId&&this.O864&&!this.O5912)if(this.O3182){if(this.O3182.delta()>=this.O1225&&
(this.O3182=null,this.O7872())){var a=this;this.O5912=!0;var b=this.O174(),c=ig.game.O5662(this.O7300);ig.game.O7421.O4758(ig.game.areaGroupId,b,c).done(function(d){if(d.ok)a.O5150=b,a.O7300AsSaved=c,a.O5912=!1;else throw Error("Could not save area possession set");})}}else this.O3182=new ml.Timer},O174:function(){for(var a=
[],b=0;b<this.O8459.length;b++)this.O8459[b].id&&a.push(this.O8459[b].id);return a},O7872:function(){var a=!1;if(this.O8459.length!=this.O5150.length||this.O7300.length!=this.O7300AsSaved.length)a=!0;else{for(var b=0;b<this.O8459.length&&!a;b++)this.O8459[b]&&(this.O5150[b]&&this.O8459[b].id!=this.O5150[b])&&
(a=!0);if(!a)for(var c in this.O7300)if(this.O7300[c]!=this.O7300AsSaved[c]){a=!0;break}}return a}})});ig.baked=!0;
ig.module("game.ui.mediadialog").requires("game.ui.components.uidialog","impact.timer").defines(function(){window.MediaDialog=UIDialog.extend({url:null,size:{x:532,y:304},pos:{x:0,y:0},homePos:{x:0,y:0},mediaType:null,O1316:null,O3628:!1,O5166:null,O5703:null,O4838:null,O3759:null,textAlpha:0.5,embedId:"mediaWidget",O6051:!1,mediaTypes:{YouTube:["http://www.youtube.com/","http://youtube.com/","http://m.youtube.com/","http://youtu.be/",
"https://www.youtube.com/"],Imgur:["http://i.imgur.com/","http://imgur.com/","https://i.imgur.com/","https://imgur.com/"],ManylandThirdPartyImage:["http://mlthirdpartycontent.com/image/"],ManylandSnapshot:["http://snapshot.manyland.com/"],Writable:["writable://"],Vimeo:["http://vimeo.com/"],SoundCloud:["https://soundcloud.com/"]},O3289:function(a,b,c,d,e){var f=!1;if(!ig.game.painter.isRunning)if(this.mediaType=d?"Embedding":this.O7554(a),"vimeo"==this.mediaType&&!c&&(this.mediaType=
null),ig.game.settings.photosensitiveGuard&&this.O7218(this.mediaType))f=!1;else{var g="Imgur"==this.mediaType||"ManylandThirdPartyImage"==this.mediaType||"ManylandSnapshot"==this.mediaType,h="YouTube"==this.mediaType||"Vimeo"==this.mediaType;d=h&&ig.game.O4269.O342()&&1<=ig.game.O4269.attachments.h.lines.length;var k=b==ig.game.O4269.O2507,g=ig.game.settings&&!k&&(g&&ig.game.settings.blockImagePastes||h&&ig.game.settings.blockVideoPastes);if(this.mediaType&&
!d&&!g&&(this.O4715(a)||"Writable"==this.mediaType))this.O3628&&this.O4192(),this.homePos=this.getPos(b),"YouTube"==this.mediaType&&(this.homePos.y-=25),this.url=a,this.O1316=b,this.O6051=!!c,this.O3628=!0,"Writable"==this.mediaType&&(this.O3628=!1),a=0<=["YouTube","Vimeo","SoundCloud"].indexOf(this.mediaType),this.O6051||(c=ml.Misc.O2849(b))&&(c.O4102&&"Imgur"!=this.mediaType&&"ManylandSnapshot"!=this.mediaType)&&
ig.game.settings.set("doPlaySound",!0),"stream"==this.mediaType&&ig.ua.iPad||!ig.game.settings.doPlaySound&&a||this.O6643(b,!!e),f=!0}return f},O7218:function(a){return 0<=["Imgur","Vimeo"].indexOf(a)},O8361:function(a){var b=this.O7554(a,!0);return 0<="YouTube Imgur ManylandSnapshot ManylandThirdPartyImage SoundCloud Writable".split(" ").indexOf(b)&&this.O6830(b,a)},O6643:function(a,b){var c=this.O6830(this.mediaType,
this.url);if(c)if("Writable"==this.mediaType)this.O471(c);else{var d=this.O3661(this.homePos);this.size.y=(ig.system.O8417-17-30)*ig.system.scale;this.size.x=Math.round(1.777*this.size.y);if("Embedding"==this.mediaType&&!(ig.ua.mobile&&ig.system.height>ig.system.width)){var e=ig.ua.mobile?1.8:1.3;0<=c.indexOf("//archive.org/embed/")&&(this.size.y*=1.05,this.size.x*=0.9);this.size.y=Math.floor(this.size.y*e);this.size.x=Math.floor(this.size.x*e)}else!ig.ua.mobile&&
0<=["Imgur","ManylandSnapshot","ManylandThirdPartyImage"].indexOf(this.mediaType)?(e=1.2,this.size.y=Math.floor(this.size.y*e),this.size.x=Math.floor(this.size.x*e)):ig.ua.mobile&&ig.system.width>ig.system.height&&(e=1.75,this.size.y=Math.floor(this.size.y*e),this.size.x=Math.floor(this.size.x*e));b&&(this.size.x=this.size.y=0);d="left: "+d.x+"px; top: "+d.y+"px; width: "+this.size.x+"px; height: "+this.size.y+"px; border: "+1*ig.system.scale+"px solid rgba(0,0,0,.5);";e="";if(0<=["Imgur","ManylandSnapshot",
"ManylandThirdPartyImage"].indexOf(this.mediaType))var d=d+"background-color: transparent; border: 0;",e="ml.Misc.openUrl('"+ig.game.strings.O4334(c)+"')",f=c,f=ig.game.strings.replaceAll(c,"snapshot.manyland.com","dv3g9b4gmxvw9.cloudfront.net"),e='<div id="'+this.embedId+'" style="'+d+'"><img src="'+ig.game.strings.O4334(f)+'" alt="" oncontextmenu="'+e+'" /></div>';else"Embedding"==this.mediaType?(d+="; border: 0; background-color: transparent;",ig.ua.iOS?e='<div id="'+this.embedId+'" style="'+
(d+"; overflow: scroll !important; -webkit-overflow-scrolling: touch !important;")+'"><object type="text/html" data="'+ig.game.strings.O4334(c)+'" style="width: 100%; height: 5000px;"></object></div>':(d+="; overflow: auto;",e='<iframe  sandbox="allow-scripts allow-same-origin allow-pointer-lock allow-presentation" id="'+this.embedId+'" src="'+ig.game.strings.O4334(c)+'" style="'+d+'" referrerpolicy="no-referrer-when-downgrade"></iframe>')):e='<iframe  sandbox="allow-scripts allow-same-origin allow-pointer-lock allow-presentation"  allow="autoplay; fullscreen" allowfullscreen id="'+
this.embedId+'" src="'+ig.game.strings.O4334(c)+'" style="'+d+'"></iframe>';if(""!=e){ig.ua.iPad&&jQuery("#"+this.embedId).remove();jQuery(e).appendTo("body");if(!this.O6051){var g=this;ig.game.isFullAccount&&(this.O4838=new UIClickText({x:0,y:0},"by",ig.game.blackWhiteFont,"#000000",this.textAlpha),this.O4838.O7225=!1,this.O4838.onClick=function(){ml.Misc.openUrl(g.url)},this.O3759=new UIClickText({x:0,y:0},"video"==this.mediaType?
"played by":"shown by",ig.game.blackWhiteFont,"#000000",this.textAlpha),this.O3759.O7225=!1,this.O3759.onClick=function(){ig.game.playerDialog.openForPlayerId(g.O1316)});this.O5703=new UIClickText({x:0,y:0}," x ",ig.game.blackWhiteFont,"#000000",this.textAlpha);this.O5703.O7225=!1;this.O5703.onClick=function(){g.O4192()}}this.O3628=!0}}},O471:function(a,b,c){a=a.split("://");if(2==a.length){a=a[1];var d=
null,e=a.split("/");2==e.length&&(a=e[0],d=e[1]);a=ig.game.strings.replaceAll(a,"/","");ig.game.writableDialog.open(a,void 0,void 0,!1,d,b,c)}},O3661:function(a){var b=jQuery("#"+ig.game.canvasId).position();a={x:Math.round((a.x-ig.game._rscreen.x)*ig.system.scale-this.size.x/2+b.left),y:Math.round((a.y-ig.game._rscreen.y)*ig.system.scale-this.size.y-1.25*ig.game.tileSize*ig.system.scale+b.top)};ig.ua.mobile&&ig.system.width>ig.system.height&&("Embedding"==this.mediaType?a.y+=
160:"YouTube"==this.mediaType&&(a.y+=140));return a},getPos:function(a){var b={x:20,y:20};(a=ml.Misc.O2849(a))&&(b=ig.game.O5662(a.pos));return b},O4192:function(){ig.ua.iPad?(jQuery("#"+this.embedId).attr("src",""),jQuery("#"+this.embedId).html(""),jQuery("#"+this.embedId).attr("style","display: none")):jQuery("#"+this.embedId).remove();this.O1316=ig.game.O6401.currentEmbeddingInteract=null;this.O3628=!1;ig.game.O3713()},update:function(){if(this.O3628){var a=
this.O3661(this.homePos);0>a.x+this.size.x||0>a.y+this.size.y||a.x>window.innerWidth||a.y>window.innerHeight?this.O4192():(jQuery("#"+this.embedId).css("left",a.x+"px"),jQuery("#"+this.embedId).css("top",a.y+"px"));ig.game.O6310||(this.O5166?4>=this.O5166.delta()&&((!ig.game.panelSet||!ig.game.panelSet.O4451||!ig.game.panelSet.O4451.inputBoxHasFocus)&&ig.system.canvas.focus(),this.O5166=new ml.Timer):this.O5166=
new ml.Timer);this.O4838&&this.O4838.update();this.O3759&&this.O3759.update();this.O5703&&this.O5703.update();ig.input.state("esc")&&(ig.input.O3472(),this.O4192())}},draw:function(){if(this.O3628){var a=this.homePos.y-ig.game._rscreen.y-this.size.y/ig.system.scale-33,b=this.homePos.x-ig.game._rscreen.x-this.size.x/2/ig.system.scale+1,c=this.homePos.x-ig.game._rscreen.x+this.size.x/2/ig.system.scale;this.O4838&&(this.O4838.pos=
{x:b,y:a},this.O4838.draw());this.O3759&&(this.O4838&&(ig.system.context.globalAlpha=this.textAlpha,ig.game.blackWhiteFont.draw("|",b+12,a),ig.system.context.globalAlpha=1),this.O3759.pos={x:b+19,y:a},this.O3759.draw());this.O5703&&(this.O5703.pos={x:c-7,y:a},this.O5703.draw())}},O7554:function(a,b){var c=null;if(null!=a&&""!=a&&"http://"!=a&&"https://"!=a)for(var d in this.mediaTypes)for(var e=this.mediaTypes[d],f=
0;f<e.length;f++){var g=ig.game.strings.replaceAll(e[f],"http://","https://");if(0===a.indexOf(e[f])||0===a.indexOf(g)){c=d;break}}"SoundCloud"==c&&!b&&(c=null);return c},O6830:function(a,b){var c=null;switch(a){case "YouTube":c=this.O3491(b);break;case "Imgur":c=this.O7097(b);break;case "ManylandSnapshot":c=this.O3888(b);break;case "Writable":c=this.O6666(b);break;case "ManylandThirdPartyImage":c=this.O3314(b);
break;case "Vimeo":c=this.O3233(b);break;case "Embedding":c=this.O578(b);break;case "SoundCloud":c=this.O3358(b)}"Writable"!=a&&!this.O4715(c)&&(c=null);return c},O4715:function(a){var b=!1;a&&(b=a.toLowerCase(),b=(0===a.indexOf("http://")||0===a.indexOf("https://")||0===a.indexOf("//"))&&-1===b.indexOf("javascript")&&-1===a.indexOf(" ")&&-1===a.indexOf('"')&&-1===a.indexOf("'")&&-1===a.indexOf("(")&&-1===a.indexOf(")")&&-1===a.indexOf(";")&&-1===
a.indexOf("<")&&-1===a.indexOf(">")&&6<=a.length);return b},O1728:function(a){return 0===a.indexOf("https://soundcloud.com/")},O578:function(a){a||(a="");a+=0<=a.indexOf("?")||0<=a.indexOf("#")?"&":"?";return a+="embedSource=manyland&embedScale="+String(ig.system.scale)},O3491:function(a){var b=null;a=a.split("v=");if(1<=a.length&&(a=a[1])){var c=a.indexOf("#"),d="";-1!=c&&(d="&start="+a.substring(c+3),a=a.substring(0,c));c=a.indexOf("&");-1!=c&&
(a=a.substring(0,c));a&&(b="//www.youtube.com/embed/"+a+"?autoplay=1&rel=0&controls=0&showinfo=0",d&&(b+=d))}return b},O7097:function(a){var b=null;0<=a.indexOf("/gallery")||0<=a.indexOf("/a/")||(a=a.split("com/"),1<=a.length&&(b=a[1],a=b.split("."),1<=a.length&&(b=a[0]),b="//i.imgur.com/"+b+".jpg"));return b},O3888:function(a){return a},O6666:function(a){return a},O3314:function(a){return a},O3233:function(a){var b=
null;(a=this.O7461(a,"http://vimeo.com/"))&&(b="//player.vimeo.com/video/"+a+"?title=0&amp;byline=0&amp;portrait=0&amp;autoplay=1");return b},O3358:function(a){var b=null,c=this.O7461(a,"https://soundcloud.com/");c||this.O7461(a,"http://soundcloud.com/");c&&(b="https://soundcloud.com/"+c);return b},O7461:function(a,b){var c=null;a&&(a.length>b.length&&0===a.indexOf(b))&&(c=a.substring(b.length));return c}})});
ig.baked=!0;
ig.module("game.ui.writabledialog").requires("game.ui.components.uidialog").defines(function(){window.WritableDialog=UIDialog.extend({pos:{x:0,y:0},homePos:{x:0,y:0},size:{x:532,y:304},isOpen:!1,opacity:0,energy:0,O4465:0,O6469:5,energyMin:-150,energyMax:100,rgbBackground:null,rgbText:null,title:null,threadTitle:null,threadTitleClarification:null,threadId:null,O2843:null,O4355:null,threads:[],comments:[],forumId:null,attributes:{},O7989:{},O6960:!1,O292:!1,
commentIdToAddItemTo:null,O1903:"",O3792:null,O8416:!1,O780:!1,O7525:!1,O3027:30,O7663:20,O892:1,O7669:50,isWriting:!1,O2069:!1,O1175:!1,O2963:!1,threadIsSticky:!1,O2403:!1,O2129:[],O2641:!1,O6545:0,O4705:4E4,O1232:null,O7853:!1,O7454:null,O4061:null,areaGroupId:null,
hasCalendarEvents:null,O3509:null,O5200:5,O5240:null,O1932:200,O7855:!1,O880:900,O7735:!1,isEditorOfAssociatedArea:!1,O721:!1,O1596:!1,O339:!1,canRead:!1,O990:!1,O973:"255,255,255",O4167:"0,0,0",O1667:"January February March April May June July August September October November December".split(" "),O995:!1,
mainBoardId:null,onlyEditorsCanAddThreads:!1,onlyEditorsCanAddComments:!1,onlyEditorsCanRead:!1,O4316:[],O4382:null,postKeyRequired:!1,O3622:50,O6419:"gotcha",O4567:!1,O6208:!1,O2085:0,O6372:5,O2339:!1,O2764:3,rgbBackgroundOverride:null,rgbTextOverride:null,O3103:function(a){a&&ig.game.O4269&&this.open(a.id,ig.game.O4269.pos.x,ig.game.O4269.pos.y,
!0)},O213:function(a,b){if(a){var c=this;ig.game.O4961.getItemBasic(a,"ui_wrd4").imagesBeingGenerated.done(function(){c.open(a,null,null,b)})}},O2958:function(a,b,c){if(this.isOpen&&a==this.forumId)this.threadTitle=null,this.O6634(void 0,b);else{this.close();var d=this,e=ig.game.O4961.getItemBasic(a,"ui_wrd3");e&&e.imagesBeingGenerated.done(function(){d.open(a,null,null,!0,b)})}c||ig.game.sounds.click.play()},open:function(a,b,c,d,e,f,g){if(!this.isOpen&&
a){this.mainBoardId="5391c17d7793ec237dbe56d5";this.O6208=!1;this.rgbBackgroundOverride=f;this.rgbTextOverride=g;if(void 0===b||null===b)b=ig.game.O4269.pos.x;if(void 0===c||null===c)c=ig.game.O4269.pos.y;this.O8416=!!d;this.O3792={x:b,y:c};this.forumId=a;this.threadId=e;this.title=this.threadTitle=null;this.threads=[];this.comments=[];this.O2129=[];this.O2069=!1;this.O4382=this.areaGroupId=null;this.rgbBackground=this.O973;
this.rgbText=this.O4167;this.rgbBackgroundOverride&&(this.rgbBackground=this.rgbBackgroundOverride);this.rgbTextOverride&&(this.rgbText=this.rgbTextOverride);this.O2963=this.O1175=!1;this.O3594(b,c);this.O6545=0;this.O7853=!1;this.energy=this.energyMin;this.O4465=this.O6469=d?25:5;this.O292=!1;this.commentIdToAddItemTo=null;this.O2641=!1;this.O5240=this.O1232=
null;this.O6960=this.O4060();this.hasCalendarEvents=this.O4061=this.O7454=this.O3509=null;this.onlyEditorsCanRead=this.onlyEditorsCanAddComments=this.onlyEditorsCanAddThreads=this.canRead=this.O1596=this.O339=this.O721=this.O7735=this.O7855=!1;this.attributes={};this.O4316=[];this.O4567=!1;ig.game.O7673();var h=this,
k=ig.game.O4961.getItemBasic(this.forumId,"ui_wrd2");k?k.imagesBeingGenerated.done(function(){h.O4567||(h.title=k.name,h.rgbBackground=k.rgb?k.rgb:h.O973,h.rgbText=k.rgb2?k.rgb2:h.O4167,h.rgbBackgroundOverride&&(h.rgbBackground=h.rgbBackgroundOverride),h.rgbTextOverride&&(h.rgbText=h.rgbTextOverride),h.attributes=k.attributes?k.attributes:{},h.O8041()?(h.O7018(),h.postKeyRequired=!ig.game.O4803.check(ig.game.O4803.types.SOLVED_BASE_POST_KEY),
h.O4787(f,g)):h.O7568()?(h.O7018(),h.O4787()):ig.game.O7421.O5870(h.forumId).done(function(a){h.O4567||(h.O7018(a),h.O4787(a))}),ig.game.motionDialog&&ig.game.motionDialog.O5076("read"))}):h.close()}},O4787:function(a){this.toClose=!1;this.isOpen=!0;a&&(a.name&&(this.title=a.name),a.rgbBackground&&(this.rgbBackground=a.rgbBackground),a.rgbText&&
(this.rgbText=a.rgbText),this.rgbBackgroundOverride&&(this.rgbBackground=this.rgbBackgroundOverride),this.rgbTextOverride&&(this.rgbText=this.rgbTextOverride));this.setInsetStyle();this.O7004();this.canRead?a&&a.isBannedFromAssociatedArea?this.O6332("Oops, editors blocked you from this Writable and its area"):(ig.game.O6401.O5038(ig.game.O4269,"reads",this.title),this.threadId?this.O6634(void 0,this.threadId):this.O6634()):this.O6332("This Writable can only be read by its editors");
this.O6861()},O6332:function(a){jQuery("#contentPart").html('<div class="writableHeader" style="text-align: center; margin-top: 50px; margin-left: 30px; margin-right: 30px">'+ig.game.strings.O4334(a)+"</div>")},O6861:function(){ig.game.O7673();this.toClose=!1;this.isOpen=!0},O4060:function(a){if(!this.forumId||!ig.game.O4269)return!1;a=this.mainBoardId==this.forumId;this.O995=
0<=["531bf4de83eaa4ea1f0001e8","53eb8700864ee8d813183bd4","54c913c49aba66040d0801e0"].indexOf(ig.game.O4269.O2507);var b=["5443ee092d4423a55ec3c4aa","527f940256ced31014000112"];a=!a&&ig.game.O4269&&ig.game.O4269.rank>=this.O892&&ig.game.isFullAccount&&-1===b.indexOf(ig.game.O4269.O2507)&&!this.O995;this.O990=this.O3269(this.forumId,ig.game.O4269.rank);a&&!this.O990&&
(a=!1);a&&(ig.game.O8284&&!ig.game.hasMinfinity)&&(a=!1);return a},openThreadDirectly:function(a){ig.game.O7673();a=ig.game.strings.replaceAll(a,"writable://","");a=a.split("/");if(2==a.length){var b=a[0],c=a[1],d=ig.game.O4961.getItemBasic(b,"ui_wrd5");d.imagesBeingGenerated.done(function(){ig.game.writableDialog.open(b,ig.game.O4269.pos.x,ig.game.O4269.pos.y,d.rgb,d.rgb2,d.name,null,c)})}},O7018:function(a){this.onlyEditorsCanRead=this.onlyEditorsCanAddThreads=
this.onlyEditorsCanAddComments=this.postKeyRequired=this.canRead=this.O1596=this.O339=this.O721=this.isEditorOfAssociatedArea=!1;a&&a.areaGroupId?(this.areaGroupId=a.areaGroupId,this.onlyEditorsCanAddComments=Boolean(a.onlyEditorsCanAddComments),this.onlyEditorsCanAddThreads=Boolean(a.onlyEditorsCanAddThreads),this.onlyEditorsCanRead=Boolean(a.onlyEditorsCanRead),this.postKeyRequired=Boolean(a.postKeyRequired),"55801d92394cd5180f55f9de"==this.forumId&&(this.onlyEditorsCanAddThreads=
!0),this.O339=(this.O721=this.isEditorOfAssociatedArea=a=Boolean(a.isEditorOfAssociatedArea))||!this.onlyEditorsCanAddComments,this.O1596=a||!this.onlyEditorsCanAddThreads,this.canRead=a||!this.onlyEditorsCanRead):(this.isEditorOfAssociatedArea=!1,this.O721=ig.game.O4269&&10<=ig.game.O4269.rank,this.canRead=this.O1596=this.O339=!0)},O6634:function(a,b){if(!this.O2641){this.O2641=
!0;void 0==a&&(a=null);this.threadsId=null;this.O2403=this.threadIsSticky=!1;if(a){-1===this.O4316.indexOf(a)&&this.O4316.push(a);var c=this.O4316.length;if(c>=("suggestion board"==this.title?100:50)){this.O2641=!1;return}}var c=this.O4316.length,d=this;this.forumId&&ig.game.O7421.O5402(this.forumId,a).done(function(c){d.canRead?(d.O1232=c.time,c.areaGroupId&&(d.areaGroupId=c.areaGroupId),c.threads&&1<=c.threads.length?
a?0==c.threads.length?d.O2069=!0:(d.threads=d.threads.concat(c.threads),d.O8426sOverview(!0)):(d.threads=c.threads,d.O178(d.threads),ig.game.O914.setItem("forumLastKnownCommentId_"+d.forumId,d.threads[0].lastComment.id),d.O6726()):a||(d.threads=[],d.O6726()),d.O2641=!1,null===d.hasCalendarEvents&&d.loadCalendar(null,null,!0)):d.O8426sOverview(!0);b&&(d.threadTitle=d.O3843(b),d.O2641=!1,
d.O4969(b))})}},O3843:function(a){var b;if(this.threads)for(var c=0;c<this.threads.length;c++)if(this.threads[c]._id==a){b=this.threads[c].title;break}return b},O178:function(a){if(a)for(var b=a.length-1;1<=b;b--){var c=a[b];"sticky"==c.titleClarification&&!c.wasMoved&&(c=a.splice(b,1)[0],c.wasMoved=!0,a.unshift(c))}},O4969:function(a,b,c,d,e,f){if(!this.O2641){this.O2641=!0;void 0==e&&(e=null);a&&(this.threadId=a);b&&(this.threadTitle=
b);this.threadTitleClarification=this.O6281(a);c&&(this.O2843=c);d&&(this.O4355=d);var g=this;g.O2641=!0;f&&(this.O5240=e,e=f);ig.game.O7421.O909(this.threadId,void 0,e).done(function(h){h.comments&&1<=h.comments.length?(ig.game.debug.O8137&&console.log("getForumThreadComments result:",h),g.O1232=h.time,g.comments=h.comments,g.O4710(g.comments),g.O6726(),g.O2085=
0):1>=g.O2085&&(g.threadLoadTries++,g.O2641=!1,f=e=null,g.O4969(a,b,c,d,e,f));g.O2641=!1})}},O696:function(a){this.O7454=this.O4061=null;this.O7855=!0;this.O4969(a,this.O688(a))},O688:function(a){var b="";if(this.threads)for(var c=0;c<this.threads.length;c++){var d=this.threads[c];if(d._id==a){b=d.title;break}}return b},loadCalendar:function(a,b,c){if(this.forumId&&!this.O2641){this.O2641=
!0;void 0!=a&&(this.O7454=a);void 0==b&&(this.O4061=b);a=new Date;this.O7454||(this.O7454=new Date(a.getFullYear(),a.getMonth(),1));this.O4061||(this.O4061=new Date(a.getFullYear(),a.getMonth()+2,1));a=this.O7454.toISOString();b=this.O4061.toISOString();c&&(this.O7454=this.O4061=null);this.threadsId=null;var d=this;ig.game.O7421.O1100(this.forumId,a,b).done(function(a){d.O3509=
null;a&&a.events&&(d.O3509=a.events);d.hasCalendarEvents=null!=d.O3509&&1<=d.O3509.length;c?d.hasCalendarEvents?jQuery(".calendarLink").show():jQuery(".calendarLink").hide():d.O6726();d.O2641=!1})}},O4954:function(){if(!this.O2641&&(this.O2641=!0,null!=this.threadId)){var a=this;ig.game.O7421.O909(this.threadId,this.comments[0].ts,null).done(function(b){a.isOpen&&b.comments&&1<=b.comments.length?
(ig.game.debug.O8137&&console.log("getForumThreadComments result:",b),b.comments.reverse(),a.comments&&(1<=a.comments.length&&2<=b.comments.length)&&(a.O5240=b.comments[b.comments.length-2].ts),a.comments=b.comments.concat(a.comments),a.O4710(a.comments),a.O6726()):a.O7853=!1;a.O2641=!1})}},O1828:function(){if(!this.O2641&&(this.O2641=!0,null!=this.threadId)){var a=this;ig.game.O7421.O909(this.threadId,
null,this.comments[this.comments.length-1].ts).done(function(b){a.isOpen&&(b.comments&&1<=b.comments.length)&&(a.comments=a.comments.concat(b.comments),a.O4710(a.comments),a.O6726());a.O2641=!1})}},tryShowThreadsWithoutLoading:function(){this.O4061=this.O7454=this.threadId=null;this.threads&&1<=this.threads.length?this.O6726():this.O6634()},O6726:function(){this.O7454?this.O7375():this.threadId?
this.O8426():this.O8426sOverview()},O7732:function(){this.O780=!this.O780;jQuery("#addThreadLink").html("&nbsp;&nbsp;"+this.O2439());jQuery("#addThread").slideToggle(300);ig.game.sounds.click.play()},O2439:function(){var a="";if(!ig.game.isFullAccount||1>=ig.game.O5210)a='<span style="font-size: 80%; text-decoration: underline">Add New</span> ';return a+=this.O780?ig.game.strings.arrows.up:ig.game.strings.arrows.down},
O8426sOverview:function(a){var b;this.O4355=this.O2843=this.threadId=this.threadTitle=null;this.O780=this.O1175=this.O2963=!1;this.commentIdToAddItemTo=null;this.O6545=0;b='<div class="writableHeader">'+ig.game.strings.O4334(this.title);if(this.O1596&&(this.O6960||!ig.game.isFullAccount))b+=' &nbsp; <span class="pseudolink" id="addThreadLink" onclick="ig.game.writableDialog.O7732()">&nbsp;&nbsp;'+
this.O2439()+"</span>";this.areaGroupId&&(b+=' <span class="pseudoLink areaInfoLink" style="font-size: 80%; opacity: .6; float: right"  onclick="ig.game.writableDialog.O7486()">...</span>');var c=new Date;b+='<span class="calendarLink pseudolink" style="display: '+(this.hasCalendarEvents?"block":"none")+(this.areaGroupId?"; margin-right: 30px":"")+'" onclick="ig.game.writableDialog.loadCalendar()">'+this.O1667[c.getMonth()]+"</span>";c=new Date;b=b+"</div>"+this.O660();
b+='<table class="threads">';for(var d=0;d<this.threads.length;d++){var e=this.threads[d];if("hidden"!=e.titleClarification||ig.game.debug.O8137){var f=ig.game.strings.O2258(ig.game.strings.O4334(e.title)),g=localStorage.getItem("lastReadDate_"+e._id),h=!1;this.O1529(new Date(e.lastComment.ts),c)<=this.O3027&&(h=void 0==g||new Date(e.lastComment.ts)>new Date(g));var k="null",l="null";h&&g&&(k="'"+g+"'",(g=localStorage.getItem("lastReadDateWithPadding_"+
e._id))&&(l="'"+g+"'"));k="ig.game.writableDialog.O6352("+d+","+k+","+l+")";b+='<tr id="threadRow'+d+'">';b+='<td class="containsNew pseudolink" onclick="'+k+'">'+(h?ig.game.strings.arrows.right:"")+"</td>";b+='<td class="threadTitle pseudolink" onclick="'+k+'">'+f+this.O2805(e.titleClarification)+(e.sticky?' <span class="stickyClarification">[sticky]</span>':"")+"</td>";b+='<td class="threadLastUser">';b+=ig.game.strings.O4334(this.O3801(e.lastComment.userName,
e.lastComment.userId,!0));b+=' <span class="threadLastUserDateTime">'+ig.game.strings.O652(e.lastComment.ts,this.O1232)+"</span>";b+="</td>";b+="</tr>"}}b+="</table>";jQuery("#contentPart").html(b);this.O5422();a||jQuery("#writableDialog").scrollTop(0)},O7486:function(){var a=this;ig.game.O7421.O4802(this.areaGroupId).done(function(b){b&&(a.isEditorOfAssociatedArea?ig.game.O7421.O7449(a.forumId).done(function(c){c&&
a.O1409(b,c)}):a.O1409(b))})},O1409:function(a,b){var c;c="<p>This Writable is maintained by the editors of ";c+=ig.game.strings.O4334(a.name);if(this.onlyEditorsCanAddThreads||this.onlyEditorsCanAddComments||this.onlyEditorsCanRead)c+=" (only they can ",this.onlyEditorsCanRead?c+="add threads, add comments, and read":this.onlyEditorsCanAddComments?c+="add threads and comments":this.onlyEditorsCanAddThreads&&(c+="add threads"),c+=" here)";if(a.editors){c+=
":</p><p>";for(var d=0;d<a.editors.length;d++){var e=a.editors[d],f="ig.game.playerDialog.openForPlayerId('"+e.id+"')";1<=d&&(c+=", ");c+='<span class="pseudoLink" onclick="'+f+'">'+ig.game.strings.O4334(e.name)+"</span>";e.isListEditor&&(c+="*")}}c+="</p>";var g;if(this.isEditorOfAssociatedArea&&b){d="";b.postKey&&(d=ig.game.strings.O4334(b.postKey));c+='<div><p>Post key: <input type="text" id="postKey" maxlength="'+this.O3622+'" style="text-transform: uppercase" value="'+d+
'"/> (<span class="pseudoLink" onclick="jQuery(\'#postKeyInfo\').slideToggle()">?</span>)</p><div id="postKeyInfo" style="display: none; background-color: rgb(245,245,245); border-radius: 5px; text-transform: uppercase; padding: 5px; margin: 10px; width: 80%; position: relative;margin-left: auto; margin-right: auto; color: rgba(0,0,0,.6)">   This optional key must be entered by everyone before making their first comment.    It can be mentioned in a rules sticky to require reading the rules before commenting.</div></div>';
var h=this;g=function(){var a=jQuery("#postKey").val();a&&(a=ig.game.strings.replaceAll(a,"  "," "),a=a.toLowerCase().trim());a!=b.postKey&&(""==a&&(a=null),ig.game.O7421.O2363(h.forumId,a).done(function(b){b&&b.ok?(h.postKeyRequired=Boolean(a),ig.game.sounds.success.play()):ig.game.sounds.nocando.play()}))}}ig.game.alertDialog.open({html:c,O6041:g})},O2805:function(a){var b="";a&&("locked"!=a&&"hidden"!=a)&&(b=ig.game.strings.O4334(a),b=' <span class="titleClarification">['+
b+"]</span>");return b},O6352:function(a,b,c){ig.game.sounds.click.play();if(a=this.threads[a])this.threadIsSticky=Boolean(a.sticky),this.O2403=Boolean(a.locked),this.O4969(a._id,a.title,a.ts,a.lastComment.ts,b,c)},O6281:function(a){var b=null;if(this.threads)for(var c=0;c<this.threads.length;c++)if(this.threads[c]._id==a){b=this.threads[c].titleClarification;break}return b},O8426:function(a){if(this.comments&&this.comments[0]){this.commentIdToAddItemTo=
null;this.O6545=0;var b;b=""+('<div class="writableHeader"><span class="pseudolink arrowBack" onclick="ig.game.writableDialog.'+(this.O7855?"loadCalendar":"tryShowThreadsWithoutLoading")+'();ig.game.sounds.click.play();">'+ig.game.strings.arrows.left+'&nbsp;&nbsp;</span> <span id="threadTitleInThread">'+ig.game.strings.O2258(ig.game.strings.O4334(this.threadTitle?this.threadTitle:""))+this.O2805(this.threadTitleClarification)+
(this.threadIsSticky?' <span class="stickyClarification">[sticky]</span>':"")+"</span></div>");var c=ig.game.tileSize*ig.system.scale,d="width: "+c+"px; height: "+c+"px",e=!1;b+='<div id="placeholderOlder"></div><table class="thread">';for(var f=0;f<this.comments.length;f++){var g=this.comments[f],h=g.userId==ig.game.O4269.O2507,k=ig.game.strings.O4334(g.userId),l=ig.game.strings.O4334(this.O3801(g.userName,g.userId)),m=this.O999(g._id);m&&(this.O4382=
g._id);var n="";!e&&(this.O5240&&new Date(g.ts)>new Date(this.O5240))&&(n=' id="placeToJumpTo"',e=!0);b+="<tr"+n+">";b+='<td class="userDateTime">';n=g.lastEdited&&this.getTimestampSecondsDifference(g.ts,g.lastEdited)>this.O880;b+='<div class="userDateTimeWrapper" style="height: '+(c+(n?56:41))+'px">';b+='<div class="user"><canvas class="userIcon i'+k+" "+(h?"ownUserIcon":"")+'" style="'+d+'" width="'+c+'" height="'+c+'"';h&&(b+=' onclick="ig.game.writableDialog.O4632()" ');
b+="></canvas> ";b+='<span class="pseudolink threadUserName" onclick="javascript:ig.game.playerDialog.openForPlayerId('+this.O7968(k)+')">'+l+"</span></div>";if(!this.O7853||!(f==this.comments.length-1&&h))b+='<div class="dateTime">'+ig.game.strings.O652(g.ts,this.O1232)+(n?"/<br/>"+ig.game.strings.O652(g.lastEdited,this.O1232):"")+"</div>";b+="</div>";b+=this.O8059(g,h);if(h){var p=
"ig.game.writableDialog.O5538('"+f+"')";b+='<div class="pseudolink editButton" onclick="'+p+'">'+ig.game.strings.arrows.right+"&nbsp;&nbsp;</div>"}else if(ig.game.O4269&&5<=ig.game.O4269.rank||this.O721)p="ig.game.writableDialog.O6897('"+ig.game.strings.O4334(g._id)+"')",b+='<div id="editButton_'+g._id+'" class="pseudolink editButton" onclick="'+p+'">'+ig.game.strings.arrows.right+"&nbsp;&nbsp;</div>";b+='<div id="commentOptions_'+g._id+
'" class="commentOptions">';this.O721&&(m?(h||(k="",this.threadTitleClarification&&(k=ig.game.strings.O4334(this.threadTitleClarification)),b+='<div class="clarification"><input type="text" id="clarificationInput" value="'+k+'" placeholder="title clarification"></div>'),b+='<div style="font-size: 75%">',b=this.threadIsSticky?b+('   <div class="pseudolink" onclick="ig.game.writableDialog.O3458(false)">'+ig.game.strings.arrows.right+"&nbsp;Unstickify&nbsp;thread</div>"):
b+('   <div class="pseudolink" onclick="ig.game.writableDialog.O3458(true)">'+ig.game.strings.arrows.right+"&nbsp;Stickify&nbsp;thread</div>"),b=this.O2403?b+('   <div class="pseudolink" onclick="ig.game.writableDialog.O5325(false)">'+ig.game.strings.arrows.right+"&nbsp;Unlock&nbsp;thread</div>"):b+('   <div class="pseudolink" onclick="ig.game.writableDialog.O5325(true)">'+ig.game.strings.arrows.right+"&nbsp;Lock&nbsp;thread</div>"),b+='   <div class="pseudolink" onclick="ig.game.writableDialog.O4141()">'+
ig.game.strings.arrows.right+"&nbsp;Remove&nbsp;thread</div>"):(b+='<div style="font-size: 75%">',k="'"+ig.game.strings.O4334(g._id)+"'",b+='   <div class="pseudolink" onclick="ig.game.writableDialog.O1130('+k+')">'+ig.game.strings.arrows.right+"&nbsp;Remove&nbsp;comment</div>"),b+="</div>");if(m&&(h||this.O721))b+='<div style="font-size: 75%">',b+='   <div class="pseudolink" onclick="ig.game.writableDialog.O2918()">'+ig.game.strings.arrows.right+"&nbsp;Get&nbsp;link</div>",
b+="</div>";ig.game.O4269&&(5<=ig.game.O4269.rank&&!h&&!this.O721)&&(b+='<div id="commentFlag_'+g._id+'" class="pseudolink commentFlag" onclick="'+p+'"></div>');b+="</div>";b+="</td>";h=this.O1183(g.content,g.items);if((!ig.game.settings||!ig.game.settings.showBlockedPeopleSpeech)&&ig.game.O4120.O2144(g.userId))h=this.O3560(h);b+='<td class="commentContent" id="comment'+f+'">'+h+"</td>";b+="</tr>"}b+=
"</table>";b+='<div id="placeholderNewer"></div>';b+=this.O660();jQuery("#contentPart").html(b);this.O5422(this.comments);this.O142();this.O2963=!this.O999(this.comments[0]._id);this.O1175=new Date(this.O4355)>new Date(this.comments[this.comments.length-1].ts);e&&(this.O5240=null,a?(b=document.getElementById("placeToJumpTo"))&&b.scrollIntoView():setTimeout(function(){var a=document.getElementById("placeToJumpTo");
a&&a.scrollIntoView()},200));this.O7853?(a=jQuery("#writableDialog"),a.scrollTop(a[0].scrollHeight-a.height()),this.O7853=!1):this.O2963&&!a&&(jQuery("#writableDialog").scrollTop(0),this.O7855=!1);jQuery("#clarificationInput").keyup(function(a){13==a.keyCode&&ig.game.writableDialog.O391()})}},O3560:function(a){var b="spoiler"+ig.game.O5167(1,1E8);return a='<span class="spoilerLink pseudolink" onclick="'+("jQuery('#"+
b+"').slideToggle()")+'" style="opacity: 0.35">blocked '+ig.game.strings.arrows.down+'</span>\r<div class="spoiler" id="'+b+'">'+a+"\r</div>"},O1130:function(a){var b=this;jQuery("#commentOptions_"+a).hide();ig.game.O7421.O1675(a).done(function(a){a&&a.ok&&(ig.game.sounds.success.play(),b.O6634(),b.O8426sOverview())})},O2918:function(){if(this.forumId&&this.threadId){var a="writable://"+this.forumId+"/"+this.threadId,a=ig.game.strings.O4334(a);
ig.game.alertDialog.open({html:'<p><input id="threadUrl" type="text" value="'+a+'" style="width: 90%; text-align: center; font-size: 120%; margin-top: 15px; font-weight: bold"/></p>',O3526:!0,O3468:!0});jQuery("#threadUrl").select()}},O3458:function(a){var b=this;ig.game.O7421.O3458(this.threadId,a).done(function(a){a&&a.ok?(ig.game.sounds.success.play(),b.O6634(),b.O8426sOverview()):ig.game.sounds.nocando.play()})},O5325:function(a){var b=
this;ig.game.O7421.O5325(this.threadId,a).done(function(a){a&&a.ok?(ig.game.sounds.success.play(),b.O6634(),b.O8426sOverview()):ig.game.sounds.nocando.play()})},O4141:function(){if(window.confirm("Remove this thread? This cannot be undone.")){var a=this;ig.game.O7421.O3315(this.threadId,!0).done(function(b){b&&b.ok?(ig.game.sounds.success.play(),a.O6634(),a.O8426sOverview()):ig.game.sounds.nocando.play()})}},O391:function(){var a=
this,b=jQuery("#clarificationInput").val();null!==b&&void 0!==b&&ig.game.O7421.O2395(this.threadId,b).done(function(c){c&&c.ok&&(ig.game.sounds.success.play(),a.threadTitleClarification=b,a.O8426(),a.threads=[],a.O6634())})},getTimestampSecondsDifference:function(a,b){var c=(new Date(b)).getTime()-(new Date(a)).getTime();return Math.abs(c/1E3)},O8059:function(a,b){var c="",d=this.O7246(a.totalLikes,a.oldestLikes,a.newestLikes),
c=c+('<div class="commentUpvotes '+(d?"hasNoUpvotes":"hasUpvotes")+'">'),e=ig.game.isFullAccount&&ig.game.O4269.rank>=this.O892&&(!ig.game.O8284||ig.game.hasMinfinity),f=e||1<=a.totalLikes;f&&(c+='<span class="pseudolink commentUpvoteButton"><img src="'+ml.Misc.O8018("comment-upvote-button")+'" alt="" ');e&&(c+='onclick="'+("ig.game.writableDialog.O8246('"+a._id+"',"+(b?"true":"false")+")")+'"');f&&(c+="/></span>");c+='<span class="commentUpvotesList" id="commentUpvotesList'+
a._id+'">'+d+"</span>";return c+"</div>"},O7246:function(a,b,c){var d="";a=a?parseInt(a):0;b=b&&1<=b.length?b:[];c=c&&1<=c.length?c:[];if(1<=a){for(;c.Length>this.O6372;)c.shift();b=b.concat(c);for(c=0;c<b.length;c++)var e=b[c],f="javascript:ig.game.playerDialog.openForPlayerId('"+ig.game.strings.O4334(e.id)+"')",d=d+('<span class="pseudolink" onclick="'+f+'">'+ig.game.strings.O4334(this.O3801(e.n,e.id))+"</span>"),d=d+"<br/>";a>b.length&&
(d+=" +&nbsp;"+(a-b.length))}return d},O5071:function(a,b){if(a){ig.game.sounds.clap.play();var c=this;ig.game.O7421.O1789(a).done(function(b){b&&!b.redundant&&(b=c.O7246(b.totalLikes,b.oldestLikes,b.newestLikes),jQuery("#commentUpvotesList"+a).html(b))})}},O8246:function(a,b){if(a){var c=this;ig.game.O7421.O8104(a).done(function(b){b&&(b.isLiked?ig.game.sounds.clap.play():ig.game.sounds.pickup.play(),b=c.O7246(b.totalLikes,
b.oldestLikes,b.newestLikes),jQuery("#commentUpvotesList"+a).html(b))})}},O7375:function(){var a,b="MON TUE WED THU FRI SAT SUN SUN".split(" ");a=""+('<div class="writableHeader"><span class="pseudolink arrowBack" onclick="ig.game.writableDialog.tryShowThreadsWithoutLoading();ig.game.sounds.click.play();">'+ig.game.strings.arrows.left+"&nbsp;&nbsp;</span></div>");var c=new Date,d=[this.O7454,new Date(this.O7454.getFullYear(),this.O7454.getMonth()+1,1)];a+=
'<table class="calendar">';for(var e=0;e<d.length;e++){for(var f=d[e],g=new Date(f);0!=this.O658(g);)g=this.addDays(g,-1);a+='<tr><th colspan="7">'+this.O1667[f.getMonth()]+" "+g.getFullYear()+"</th></tr>";for(var h=1;5>=h;h++){var k=g.getDate();a+="<tr>";for(var l=1;7>=l;l++){var k=g.getDate(),m=g.getMonth()==c.getMonth()&&g.getDate()==c.getDate(),n="border: "+ig.system.scale+"px solid rgba("+this.rgbText+",.2);";m&&(n="background-color: rgba("+this.rgbText+",.2);");a+='<td class="day day'+
l+'" style="'+n+'">';g.getMonth()==f.getMonth()&&(a+='<div class="dayHeader">'+k+" "+b[l-1]+"</div>",a+=this.O2279(g,k));a+="</td>";g=this.addDays(g,1)}a+="</tr>"}}a+='</table><div class="pseudolink timeConverter" onclick="ig.game.writableDialog.O1341()">Times</div>';a+='<div class="writableFooter"><span class="pseudolink arrowBack" onclick="ig.game.writableDialog.tryShowThreadsWithoutLoading();ig.game.sounds.click.play();">'+ig.game.strings.arrows.left+"&nbsp;&nbsp;</span></div>";
jQuery("#contentPart").html(a)},O1341:function(){var a,b=new Date;a='<table class="timeConverterTable">';for(var c=1;2>=c;c++){var d=1==c;a=d?a+'<tr class="localTime"><th>Your time:</th>':a+'<tr class="manylandTimeDisplay"><th>Manyland Time (UTC):</th>';for(var e=8;31>=e;e++){var f=24>=e?e:e-24,g=new Date(b.getFullYear(),b.getMonth(),b.getDay(),f,0,0,0),h=null,h=d?ig.game.strings.pad(f):g.toISOString().substr(11,2),f=e==b.getHours()?' class="timeConverterNow"':"";a+="<td"+f+">"+h+"</td>"}a+=
"</tr>"}ig.game.alertDialog.open(a+"</table>",!0,null,null,null,!0)},O2279:function(a,b){var c="";if(this.O3509&&1<=this.O3509.length){for(var d=[],e=0;e<this.O3509.length;e++){var f=this.O3509[e],g=new Date(f.eventDate),h=g.toISOString().substr(8,2);a.getMonth()==g.getMonth()&&parseInt(b)==parseInt(h)&&d.push(f)}if(1<=d.length){c+='<div class="dayContent">';d.sort(function(a,b){return new Date(a.eventDate)>new Date(b.eventDate)});for(e=0;e<d.length;e++){var f=
d[e],g="ig.game.writableDialog.O696('"+ig.game.strings.O4334(f.threadId)+"')",h=f.eventDate,h=h.substr(11,2)+":"+h.substr(14,2)+" MT",k=ig.game.strings.O2833(f.title,25),l=k.indexOf(" ");if(-1==l||15<=l)k=ig.game.strings.O2833(f.title,10);c+='<span class="calendarEvent pseudolink" onclick="'+g+'">'+h+": "+ig.game.strings.O4334(k)+"</span>"}c+="</div>"}}return c},addDays:function(a,b){var c=new Date(a);c.setDate(a.getDate()+b);return c},O658:function(a){a=
a.getDay()-1;return 0<=a?a:7},O4710:function(a){if(a&&1<=a.length){var b=a[a.length-1].ts,c="lastReadDate_"+this.threadId,d=localStorage.getItem(c);if(!d||new Date(b)>=new Date(d))ig.game.O914.setItem(c,b),2<=a.length&&(b=a.length-1-this.O5200,0>b&&(b=0),ig.game.O914.setItem("lastReadDateWithPadding_"+this.threadId,a[b].ts))}},O999:function(a){var b=!1;if(this.threads&&1<=this.threads.length)for(var c=0;c<this.threads.length;c++){var d=
this.threads[c];if(d.firstCommentId&&d.firstCommentId==a){b=!0;break}}else b=a==this.O4382;return b},O5538:function(a){ig.game.sounds.click.play();var b=this.comments[a];if(this.comments[a].currentlyEditing)this.O2129=[],jQuery("#threadTitleInThread").html(ig.game.strings.O4334(this.threadTitle)),jQuery("#comment"+a).html(this.O1183(b.content,b.items)),this.O142(),delete this.comments[a].currentlyEditing;else{b.currentlyEditing=
!0;this.O2129=b.items?ig.game.O5662(b.items):[];var c="ig.game.writableDialog.O3980('"+b._id+"',"+a+")",d='<div id="addComment">';if(this.O999(b._id)){var e='<input onclick="ig.game.writableDialog.O730()" type="text" id="commentTitleInput" value="'+ig.game.strings.O4334(this.threadTitle)+'" autocomplete="off" maxLength="'+this.O1932+'" onfocus="ig.game.writableDialog.O176()" onblur="ig.game.writableDialog.O7393()" style="'+
this.O1903+'" />';jQuery("#threadTitleInThread").html(e);this.O6897(b._id)}e="commentInput"+a;d+='<div><textarea onclick="ig.game.writableDialog.O730()" maxlength="'+this.O4705+'" class="commentInput" id="'+e+'" style="'+this.O1903+'" onfocus="ig.game.writableDialog.O176()" onblur="ig.game.writableDialog.O7393()">'+ig.game.strings.O4334(b.content)+"</textarea></div>"+this.getCommentTools(a)+'<p class="commentInputAdd"><img src="'+
ml.Misc.O8018("ok-button")+'" onclick="'+c+'" alt=""/></p></div>';d+=this.O3453(e);jQuery("#comment"+a).html(d)}},O730:function(){if(this.postKeyRequired&&this.O6960&&!ig.game.alertDialog.isOpen){var a=this;ig.game.alertDialog.O8429("Please enter post key (it may be found in the rules)",null,function(b){b&&(b=b.toLowerCase().trim(),a.O8041()?b==a.O6419?(ig.game.O4803.register(ig.game.O4803.types.SOLVED_BASE_POST_KEY),
a.O5764()):a.O7431():ig.game.O7421.O2365(a.forumId,b).done(function(b){b&&b.ok?a.O5764():a.O7431()}))},null,null,null,null,null,this.O3622,!0)}},O5764:function(){this.postKeyRequired=!1;ig.game.sounds.success.play()},O7431:function(){ig.game.alertDialog.O1846("Oops, that wasn't the right post key (the right one may be found in the sticky rules to this Writable).");ig.game.sounds.nocando.play()},
getCommentTools:function(a){a||(a="");var b=this.rgbText.split(","),c=127.5<=(parseInt(b[0])+parseInt(b[1])+parseInt(b[2]))/3?"white":"black",c="/"+c,b="";this.O852()&&(b='<div class="pseudolink toggleWritableHelp" onclick="ig.game.writableDialog.toggleEmojiHelp()">'+this.O3606("emoji-button"+c,"Emojis")+"</div>");var d=this.O3606("attach-button"+c,"Attach");a='<div class="pseudolink addItem" onclick="ig.game.writableDialog.O6157('+
this.O7968("commentInput"+a)+')">'+d+"</div>";c='<div class="pseudolink textFormatHelp" onclick="ig.game.writableDialog.O4784()">'+this.O3606("text-format-button"+c,"Format")+"</div>";return b+a+c},O3606:function(a,b){var c=b?ig.game.strings.O4334(b.toUpperCase()):"";return'<img src="'+ml.Misc.O8018(a)+'" alt="'+c+'" title="'+c+'"/>'},O4784:function(){jQuery("#writableHelp").toggle();var a=document.getElementById("writableHelp");
a&&a.scrollIntoView()},toggleEmojiHelp:function(){jQuery("#writableEmojiHelp").toggle();var a=document.getElementById("writableEmojiHelp");a&&a.scrollIntoView()},O852:function(){return!ig.ua.steam},O3453:function(a){var b="";this.O852()&&(b='<div id="writableEmojiHelp" class="disableContentSelect">'+this.O377(a)+"</div>");return'<div id="writableHelp" class="disableContentSelect">_<em>Text</em>_&nbsp; &nbsp;**<strong style="font-size: 115%">Text</strong>**&nbsp; &nbsp;~~<del>Text</del>~~&nbsp; &nbsp;^^<span class="lessImportantText">Text</span>^^&nbsp; &nbsp;-green-<span style="color: green">Text</span>-green-&nbsp; &nbsp;-case-<span class="mixedCase">Text</span>-case-&nbsp; &nbsp;<br/>-rotate180-<span style="display: inline-block; transform: rotate(180deg)">text</span>-rotate180-&nbsp; &nbsp;Dates: 2015-12-20&nbsp;20:00 MT&nbsp; &nbsp;<a href="/info-text" target="_blank">...</a></div>'+
b},O377:function(a){for(var b="",c="\ud83d\ude00 \ud83d\ude03 \ud83d\ude04 \ud83d\ude01 \ud83d\ude06 \ud83d\ude05 \ud83e\udd23 \ud83d\ude02 \ud83d\ude42 \ud83d\ude43 \ud83d\ude09 \ud83d\ude0a \ud83d\ude07 \ud83e\udd70 \ud83d\ude0d \ud83e\udd29 \ud83d\ude18 \ud83d\ude17 \ud83d\ude1a \ud83d\ude19 \ud83d\ude0b \ud83d\ude1b \ud83d\ude1c \ud83e\udd2a \ud83d\ude1d \ud83e\udd11 \ud83e\udd17 \ud83e\udd2d \ud83e\udd2b \ud83e\udd14 \ud83e\udd10 \ud83e\udd28 \ud83d\ude10 \ud83d\ude11 \ud83d\ude36 \ud83d\ude0f \ud83d\ude12 \ud83d\ude44 \ud83d\ude2c \ud83e\udd25 \ud83d\ude0c \ud83d\ude14 \ud83d\ude2a \ud83e\udd24 \ud83d\ude34 \ud83d\ude37 \ud83e\udd12 \ud83e\udd15 \ud83e\udd22 \ud83e\udd2e \ud83e\udd27 \ud83e\udd75 \ud83e\udd76 \ud83e\udd74 \ud83d\ude35 \ud83e\udd2f \ud83e\udd20 \ud83e\udd73 \ud83d\ude0e \ud83e\udd13 \ud83e\uddd0 \ud83d\ude15 \ud83d\ude1f \ud83d\ude41 \ud83d\ude2e \ud83d\ude2f \ud83d\ude32 \ud83d\ude33 \ud83e\udd7a \ud83d\ude26 \ud83d\ude27 \ud83d\ude28 \ud83d\ude30 \ud83d\ude25 \ud83d\ude22 \ud83d\ude2d \ud83d\ude31 \ud83d\ude16 \ud83d\ude23 \ud83d\ude1e \ud83d\ude13 \ud83d\ude29 \ud83d\ude2b \ud83e\udd71 \ud83d\ude24 \ud83d\ude21 \ud83d\ude20 \ud83e\udd2c \ud83d\ude08 \ud83d\udc7f \ud83d\udc97 \ud83d\udcaf \ud83d\udca5 \ud83d\udca3 \ud83d\udc4b \ud83e\udd1a \ud83d\udd90 \u270b \ud83d\udd96 \ud83d\udc4c \ud83e\udd0f \u270c \ud83e\udd1e \ud83e\udd1f \ud83e\udd18 \ud83e\udd19 \ud83d\udc48 \ud83d\udc49 \ud83d\udc46 \ud83d\udc47 \u261d \ud83d\udc4d \ud83d\udc4e \u270a \ud83d\udc4a \ud83e\udd1b \ud83e\udd1c \ud83d\udc4f \ud83d\ude4c \ud83d\udc50 \ud83e\udd32 \ud83e\udd1d \ud83d\ude4f \ud83d\udcaa \ud83d\udd25 \ud83d\ude80 \ud83d\udc8e \ud83d\ude48 \ud83d\ude49 \ud83d\ude4a \u26d4 \u26a1 \ud83c\udf45 \ud83c\udf55 \ud83c\udf77 \ud83c\udf53 \ud83c\udf7c \u2615 \ud83c\udf4f \ud83d\udc8a \u26bd \u26be \ud83c\udfae \ud83c\udfc6 \ud83c\udfb5 \u270d \ud83d\udc85 \ud83e\udd33 \ud83e\uddb5 \ud83e\uddb6 \ud83d\udc42 \ud83e\uddbb \ud83d\udc43 \ud83e\uddb7 \ud83e\uddb4 \ud83e\udde0 \ud83d\udc44 \ud83d\udc45 \ud83d\udc40 \ud83d\udc76 \ud83e\udd30 \ud83d\udc35 \ud83e\udda7 \ud83d\udc36 \ud83d\udc3a \ud83d\udc31 \ud83d\udc2f \ud83e\udd84 \u2600\ufe0f \ud83d\udc80 \ud83e\udd21 \ud83d\udc79 \ud83d\udc7a \ud83d\udc7b \ud83d\udc7d \ud83d\udc7e \ud83e\udd16 \ud83d\udc8b \ud83d\udc98 \ud83d\udc96 \ud83d\udcab \ud83d\udca6 \ud83d\udca8 \ud83d\udcac \ud83d\udca4 \u26ea \u2708\ufe0f \ud83e\udde8 \u2728 \ud83c\udfab \ud83c\udf9f\ufe0f \ud83c\udfc5 \ud83c\udfa4 \ud83c\udfb9 \ud83c\udfac \ud83c\udff9 \u26f8\ufe0f \ud83c\udf82 \ud83c\udf70 \ud83c\udf88 \ud83c\udf89 \ud83c\udf81 \ud83d\udd6f\ufe0f \ud83e\uddf1 \ud83d\udd79\ufe0f \ud83e\uddf8 \ud83d\udece\ufe0f \ud83e\uddf3 \u23f3 \u231a \u23f0 \ud83c\udf21\ufe0f \ud83c\udf80 \ud83d\udcde \u2328\ufe0f \ud83d\udcfa \ud83d\udcf7 \ud83d\udca1 \ud83d\udcd5 \ud83d\udcda \ud83d\udcdc \ud83d\udcb0 \ud83d\udce7 \ud83d\udce6 \ud83d\udced \u270f\ufe0f \ud83d\udd8c\ufe0f \ud83d\udcc5 \ud83d\udccc \ud83d\udccb \ud83d\udcca \ud83d\udcc8 \ud83d\udcc9 \ud83d\udd12 \ud83d\udd13 \ud83d\udd11 \ud83d\udd28 \ud83e\ude93 \ud83d\udee1\ufe0f \ud83d\udd17 \ud83d\udecf\ufe0f \ud83d\udeaa \ud83e\ude79 \ud83e\ude78 \ud83d\udc89 \ud83e\uddfc \ud83d\udcc1 \ud83d\udcb8 \ud83d\udd0e \ud83d\uddb1\ufe0f \ud83d\udcbb \ud83d\udd0b".split(" "),
d=0;d<c.length;d++){var e=c[d],b=b+('<span onclick="'+("ig.game.writableDialog.insertText('"+a+"','"+e+"')")+'">'+e+"</span> ");0==(d+1)%12&&(b+="<br/>")}return'<span style="font-size: 200%; line-height: 1.65em; cursor: default">'+b+"</span>"},insertText:function(a,b){var c=document.getElementById(a);if(c){var d=c.scrollTop,e=0,f=c.selectionStart||"0"==c.selectionStart?"ffLike":document.selection?"ie":!1;"ie"==f?(c.focus(),e=document.selection.createRange(),e.moveStart("character",-c.value.length),
e=e.text.length):"ffLike"==f&&(e=c.selectionStart);var g=c.value.substring(0,e),h=c.value.substring(e,c.value.length);c.value=g+b+h;e+=b.length;"ie"==f?(c.focus(),f=document.selection.createRange(),f.moveStart("character",-c.value.length),f.moveStart("character",e),f.moveEnd("character",0),f.select()):"ffLike"==f&&(c.selectionStart=e,c.selectionEnd=e,c.focus());c.scrollTop=d;ig.game.sounds.click.play()}},O3980:function(a,b){var c=jQuery("#commentInput"+b).val(),d=jQuery("#commentTitleInput").val();
if(c&&""!=c.trim()){if(this.O8117(c)){var e=this;this.O999(a)&&!1===this.hasCalendarEvents&&(this.hasCalendarEvents=null);var f=!1;null!=d&&(void 0!=d&&"string"===typeof d&&""==d.trim())&&(d=null,f=!0);var g=1<=this.O2129.length?this.O2129:null;ig.game.O7421.O647(a,c,g,d).done(function(a){if(a.ok){ig.game.sounds.success.play();d&&(e.threads=[]);e.O2129=[];if(a=e.comments[b])a.content=c,a.items=g,a.currentlyEditing=
!1,a=e.O1183(a.content,a.items),jQuery("#comment"+b).html(a),d?jQuery("#threadTitleInThread").html(ig.game.strings.O4334(d)):f&&jQuery("#threadTitleInThread").html(ig.game.strings.O4334(e.threadTitle)),e.O142();ig.game.motionDialog&&ig.game.motionDialog.O5076("write")}})}}else this.O999(a)?(this.O4113(!1),this.O6188()):this.O1130(a)},O1183:function(a,b){a=ig.game.strings.O522(a,
this.rgbBackground,this.rgbText);b&&(a=this.O4521(a,b));a=ig.game.strings.O7219(a);return a=ig.game.strings.O6443(a)},O3801:function(a,b,c){if(a&&"string"===typeof a&&(a=a.toLowerCase(),b=a.indexOf(" "),c||-1==b||12<=b))a=ig.game.strings.O2833(a,12);return a},O660:function(){var a="",b=null==this.threadId;if(this.O995)return"<p>"+ig.game.strings.O917()+
"</p>";if(!b&&ig.game.O8284&&!ig.game.hasMinfinity)return a=ig.game.isFullAccount?"ig.game.iapDialogManager.openMainDialog()":"ig.game.bottomMenu.showLoginDialog()",'<p>Get <span onclick="'+(a+";ig.game.sounds.whoosh.play()")+'" class="pseudoLink">Minfinity</span> to post in Writables.</p>';if(b&&!this.O1596||!b&&!this.O339)return a;if(this.threadId&&ig.game.isFullAccount&&!this.O990)return a=a+'<p style="opacity: 0.5; font-style: italic; text-align: right">Please wait before commenting on this Writable</p>'+
this.O1710(b);if(this.threadId&&5>ig.game.O4269.rank){var c=Date.now(),d=ml.Misc.getDateOfMongoId(this.threadId);if(d&&6<(c-d.getTime())/1E3/86400/30.4167)return'<p style="opacity: 0.25">This thread is so old that only some can still comment.</p>'}if(this.threadId&&("locked"==this.threadTitleClarification||this.O2403))return a+=this.O1710(b);c='<div class="pseudolink footerArrowBack" onclick="ig.game.writableDialog.tryShowThreadsWithoutLoading();ig.game.sounds.click.play();">'+
ig.game.strings.arrows.left+"&nbsp;&nbsp;</div>";if(this.O6960||!ig.game.isFullAccount){d=ig.game.tileSize*ig.system.scale;b&&(a+='<div id="addThread">',a+='<p><input type="text" id="commentTitleInput" onclick="ig.game.writableDialog.O730()" placeholder="TITLE" autocomplete="off" maxLength="'+this.O1932+'" onfocus="ig.game.writableDialog.O176()" onblur="ig.game.writableDialog.O7393()" style="'+this.O1903+'" /></p>');a+='<table class="thread">';
a+="<tr>";a+='<td class="userDateTime">';a+='<div class="user"><canvas class="userIcon i'+ig.game.O4269.O2507+'" id="editableProfilePic" style="'+("width: "+d+"px; height: "+d+"px")+"; display: block;"+this.O1903+'width="'+d+'" height="'+d+'" onclick="ig.game.writableDialog.O4632()"></canvas> ';a+='<span class="threadUserName">'+ig.game.strings.O4334(this.O3801(ig.game.O4269.screenName,ig.game.O4269.O2507))+"</span>";a+=c;a+="</td>";a+='<td class="commentContent">';
ml.Misc.O8018("ok-button");c=localStorage.getItem("writableCommentBackup");if(null==c||void 0==c)c="";c=ig.game.strings.O4334(c);a+='<div id="addComment"><div><textarea onclick="ig.game.writableDialog.O730()" maxlength="'+this.O4705+'" id="commentInput" style="'+this.O1903+'" onfocus="ig.game.writableDialog.O176()" onblur="ig.game.writableDialog.O7393()" onkeyup="ig.game.writableDialog.O3394(this)">'+c+"</textarea></div>"+
this.getCommentTools()+'<div class="commentInputAdd"><img src="'+ml.Misc.O8018("ok-button")+'" onclick="ig.game.writableDialog.O6518()" alt=""/></div></div>';a+="</tr>";a+="</table>";a+=this.O1710(b);a+=this.O3453("commentInput");b&&(a+="</div>")}else this.threadId&&(b="opacity: .2; text-align: center; border-top: "+ig.system.scale+"px solid rgba("+this.rgbText+",1); padding-top: 5px",ig.game.isFullAccount&&ig.game.O4269.rank<this.O892&&(a+=
'<p style="'+b+'">Please wait a bit before adding comments</p>'),a+=c);return a},O1710:function(a){var b="";!a&&ig.game.areaAdForDisplay&&(b=b+'<div class="writableAreaAd">'+ig.game.O6681(!0,!0),b+="</div>");return b},O4699:function(a){a="";748<this.size.x&&(a+='<div class="writableBannerAd" style="width: 100%; height: 90px; overflow: hidden; margin-top: 40px; margin-bottom: 40px;">\r\n    <div class="ympb_target" data-type="desktop-leaderboard-template" data-subtype="728x90" style="width: 728px; height: 90px; position: relative; margin-left: auto; margin-right: auto;"></div>\r\n',
a+="</div>\r\n");return a},O3394:function(a){""==a.value?(localStorage.removeItem("writableCommentBackup"),this.O6545=0):(this.O6545++,100==this.O6545&&(ig.game.O914.setItem("writableCommentBackup",a.value),this.O6545=0))},O176:function(){this.O6960?this.isWriting=!0:ig.game.bottomMenu.showLoginDialog(!0)},O7393:function(){this.isWriting=!1},O4632:function(){this.O6960?
(this.O292=!0,ig.game.O2050||ml.Misc.O373(),ig.game.alertDialog.open("Pick a Thing to show here >>")):ig.game.bottomMenu.showLoginDialog(!0)},O1529:function(a,b){return Math.abs(a-b)/864E5},O33:function(){if(!this.O7525){this.O7525=!0;for(var a=new Date,b=localStorage.length-1;0<=b;b--){var c=localStorage.key(b);if(0===c.indexOf("lastReadDate_")||0===c.indexOf("lastReadDateWithPadding_")){var d=localStorage.getItem(c);
d&&this.O1529(new Date(d),a)>=this.O3027&&localStorage.removeItem(c)}}}},O3842:function(){for(var a=localStorage.length-1;0<=a;a--){var b=localStorage.key(a);0===b.indexOf("lastReadDate_")&&localStorage.removeItem(b)}},O3034:function(a){ig.game.alertDialog.close();if("DECO"==a.base){ig.game.sounds.putdown.play();this.O7989["i"+ig.game.O4269.O2507]=null;var b=this;ig.game.O7421.setUserIcon_P(a.id).done(function(){b.O5422()})}else ig.game.sounds.nocando.play(),
ig.game.alertDialog.open("Please pick type Thing only.");ig.game.writableDialog.O292=!1},O5422:function(a){void 0==a&&(a=[]);var b={};a=ig.game.O5662(a);a.push({userId:ig.game.O4269.O2507});for(var c=0;c<a.length;c++){var d=a[c].userId;if(!b[d]){var e=this.O7989["i"+d];e?this.O26(d,e):this.O1602(d);b[d]=!0}}},O1602:function(a){var b=this;ig.game.O7421.O2559(a).done(function(c){c&&c.iconId&&(b.O7989["i"+
a]=c.iconId,b.O26(a,c.iconId))})},O26:function(a,b){var c=new Image;c.src=this.O8397(b);c.onload=function(){jQuery(".i"+a).each(function(a){if(!c.width||!c.height||!(c.width!=ig.game.tileSize||c.height!=ig.game.tileSize)){this.style.display="block";a=this.getContext("2d");var b=ig.game.tileSize*ig.system.scale;a.webkitImageSmoothingEnabled=!1;a.mozImageSmoothingEnabled=!1;a.imageSmoothingEnabled=!1;a.clearRect(0,0,b,b);a.drawImage(c,0,0,b,b)}})}},O8397:function(a){return"test"==
ig.game.mlenv||"production"==ig.game.mlenv?ig.game.itemImageResourcePrefix+a:window.Item.prototype.localMediaPath+a+".png"},O4521:function(a,b){if(b&&1<=b.length)for(var c=0;c<b.length;c++){var d=b[c];if(d&&ig.game.validations.O7613(d.id)){var e=ig.ua.chrome||ig.ua.steam,f=ig.game.strings.O4334(d.id),g=ig.game.strings.O4334(d.base),h=d.width*ig.system.scale,d=d.height*ig.system.scale,g="ig.game.writableDialog.O4558(event,'"+f+"','"+
g+"')";e&&(g="ig.game.O4703.O3217('"+f+"')");var k="",k=k+('<span class="commentInlineItemWrapper pseudolink" draggable="true" data-id="'+f+'" ');g&&(k+='onmouseup="'+g+'" ');e&&(k+='ondragstart="ig.game.writableDialog.O5376(event)" ondragend="ig.game.writableDialog.O2362(event)" ');k+='style="width: '+h+"px; height: "+d+'px">';k+='<canvas class="commentInlineItem" style="width: '+h+"px; height: "+d+'px" width="'+h+'" height="'+d+'" data-url="'+
this.O8397(f)+'"></canvas>';k+="</span>";a=ig.game.strings.replaceAll(a,"["+(c+1)+"]"," "+k+" ")}}return a},O4558:function(a,b,c){a&&3==a.which?"SOUND"==c&&ig.game.sounds.O7220(b):this.O2163(b)},O5376:function(a){jQuery("#writableDialog").slideUp(100);ig.game.panelSet&&1!=ig.game.panelSet.tabState&&ig.game.panelSet.O7981(1)},O2362:function(a){jQuery("#writableDialog").slideDown(300);if(a.toElement&&a.toElement.dataset){var b=
a.toElement.dataset.id;a={x:Math.round(a.x/ig.system.scale-ig.system.canvas.offsetLeft),y:Math.round(a.y/ig.system.scale-ig.system.canvas.offsetTop)};var c=ig.game.O7715.O2048(a.x,a.y);if(ig.game.O2050&&ig.game.panelSet&&a.x>=ig.game.panelSet.panelPos.x)a=ig.game.panelSet.O7890.O4273(a),ig.game.O4703.O2163(b,a,c);else{var d=ig.game.O4961.getItemBasic(b,"ui_wrd1");d&&d.imagesBeingGenerated.done(function(){ig.game.mapPlacementValidation.O4088(d,
void 0,!0)&&ig.game.O7715.O4202(b,0,0,c)})}}},O142:function(){var a=this;jQuery(".commentInlineItem").each(function(b,c){var d=jQuery(c).data("url");jQuery(c).removeData("url");a.O34(c,d)})},O34:function(a,b){var c=new Image;c.src=b;c.onload=function(){var b=a.getContext("2d");b.webkitImageSmoothingEnabled=!1;b.mozImageSmoothingEnabled=!1;b.imageSmoothingEnabled=!1;b.drawImage(c,0,0,a.width/ig.system.scale,a.height/ig.system.scale,0,0,a.width,
a.height)}},O2163:function(a){ig.game.isFullAccount&&(1!=ig.game.panelSet.tabState&&ig.game.panelSet.O7981(1),ig.game.O4703.O2163(a,2))},O6157:function(a){this.O2129&&(this.O2129.length<this.O7669?(this.commentIdToAddItemTo=a,ig.game.alertDialog.O1846("Pick something to add")):this.O8183())},O7013:function(a){ig.game.alertDialog.isOpen&&ig.game.alertDialog.close();if(this.O2129)if(this.O2129.length<
this.O7669){if(a&&a.img&&a.img.loaded&&this.commentIdToAddItemTo)if("MIFT"==a.base)ig.game.alertDialog.open("Mifts can't be added to comments, but if you want to provide a template, you can save it as clonable Thing first."),ig.game.sounds.nocando.play();else{ig.game.sounds.putdown.play();var b="#"+this.commentIdToAddItemTo,c=jQuery(b).val();if("string"===typeof c){var d=this.O5719(a);this.O2129.push({id:a.id,width:d.x,height:d.y,base:a.base});a=this.O2129.length-
1;d=0==a?"\r\n":" ";""==c.trim()&&(d="");jQuery(b).val(c+(d+"["+(a+1)+"]"));b=jQuery(b);b.scrollTop(b[0].scrollHeight-b.height())}}}else this.O8183()},O8183:function(){ig.game.sounds.nocando.play();ig.game.alertDialog.open("Up to "+this.O7669+" can be added at once")},O5719:function(a){var b={x:a.img.width,y:a.img.height};switch(a.base){case "MNTGROUND":case "MNTAIR":case "DECOACT":case "DECOTCH":case "PORTAL":case "PORTALDIR":case "PORTALR":case "THROWER":case "LIQUID":case "HARMANIM":case "INTERACT":case "LIVANIM":case "DECOANIM":case "DECOFB":case "MULTITHING":case "SPARKLING":case "FLEXIBLE":case "LIVELY":case "GLOW":case "EMITTER":case "AIMABLE":case "STACKWEAR":b.x=
a.img.width/2;b.y=a.img.height;break;case "MOTION":case "INTERMOT":case "HOLDER":var c;b.x=a.img.width/3;b.y=a.img.height;break;case "DYNATHING":case "HAPPENING":b.x=29;b.y=29;break;case "MUSICSHEET":b.x=32;b.y=36;break;case "STACKWEARB":c=a.img.width/ig.game.O1509!=parseInt(a.img.width/ig.game.O1509)?ig.game.O2565:ig.game.O1509;b.x=a.img.width/c;b.y=a.img.height;break;case "VIEWABLE":case "FARBACK":case "TRANSFORM":b.x=ig.game.O5286,b.y=ig.game.O5286}return b},
setInsetStyle:function(){var a="rgba(0,0,0,.5)",b="rgba(255,255,255,.5)",c=this.rgbBackground.split(","),c=(parseInt(c[0])+parseInt(c[1])+parseInt(c[2]))/3;30>=c?a="rgba(80,80,80,.5)":225<=c&&(b="rgba(175,175,175,.5)");this.O1903="background-color: "+this.O2771()+";color: rgb("+this.rgbText+");border-top: "+ig.system.scale+"px solid "+a+";border-left: "+ig.system.scale+"px solid "+a+";border-bottom: "+ig.system.scale+"px solid "+b+";border-right: "+ig.system.scale+"px solid "+
b+';"'},O7968:function(a){return"'"+a+"'"},O6518:function(){ig.game.sounds.click.play();this.O6960?(this.threadId?this.O6656():this.O6943(),ig.game.O4803.register(ig.game.O4803.types.SAVED_WRITABLE_COMMENT)):ig.game.bottomMenu.showLoginDialog(!0)},O4113:function(a){(this.O7735=a)?(jQuery("#writableDialog").addClass("loading"),jQuery(".commentInputAdd").css("pointer-events","none"),jQuery(".commentInputAdd").css("opacity",
0.35)):(jQuery("#writableDialog").removeClass("loading"),jQuery(".commentInputAdd").css("pointer-events",""),jQuery(".commentInputAdd").css("opacity",0.6))},O6656:function(){if(!this.O7735){this.O4113(!0);var a=jQuery("#commentInput").val(),b=this;a&&a.trim()?this.O8117(a)&&ig.game.O7421.O1948(this.threadId,a,this.O2129&&1<=this.O2129.length?this.O2129:null).done(function(a){a&&a.commentId&&ig.game.O914.setItem("forumLastKnownCommentId_"+
b.forumId,a.commentId);b.threads=[];ig.game.sounds.success.play();b.O2129=[];b.pauseScrolling=!0;b.O7853=!0;b.O4969(null,null,null,null,2<=b.comments.length?b.comments[b.comments.length-2].ts:b.comments[b.comments.length-1].ts);localStorage.removeItem("writableCommentBackup");b.O4113(!1);ig.game.O6401.O5038(ig.game.O4269,"writes",b.title);ig.game.motionDialog&&ig.game.motionDialog.O5076("write")}):(this.O4113(!1),
this.O6188())}},O8117:function(a){var b=!0;a=ig.game.strings.replaceAll(a,"https://soundcloud.com/","");a=ig.game.strings.replaceAll(a,"http://manyland.com/","");a=ig.game.strings.replaceAll(a,"http://snapshot.manyland.com/","");if(ig.game.O4269.rank<this.O2764&&(a=a.toLowerCase(),0<=a.indexOf("imgur.com")||0<=a.indexOf("discordapp.com"))){var c=this,b=!1;ig.game.alertDialog.open({text:"Please wait before using external image hosts like Imgur",
O3526:!0,O6041:function(){c.O4113(!1)}});ig.game.sounds.nocando.play()}return b},O6943:function(){if(!this.O7735){this.O4113(!0);var a=jQuery("#commentTitleInput").val(),b=jQuery("#commentInput").val(),c=this;a&&a.trim()&&b&&b.trim()?this.O7862(a)?this.O8117(a+" "+b)&&(!1===this.hasCalendarEvents&&(this.hasCalendarEvents=null),ig.game.O7421.addForumThreadAndFirstComment_P(this.forumId,a,b,this.O2129&&
1<=this.O2129.length?this.O2129:null).done(function(a){a&&a.commentId&&ig.game.O914.setItem("forumLastKnownCommentId_"+c.forumId,a.commentId);c.threads=[];ig.game.sounds.success.play();c.O2129=[];c.O6634();localStorage.removeItem("writableCommentBackup");c.O4113(!1);ig.game.O6401.O5038(ig.game.O4269,"writes",c.title);ig.game.motionDialog&&ig.game.motionDialog.O5076("write")}).fail(function(a){})):
(this.O4113(!1),ig.game.alertDialog.open("<p>Please ensure you address the whole group of this Writable.</p><p>You can go to manyland.com/support to contact us individually.</p>",!0)):(this.O4113(!1),ig.game.alertDialog.open("Please enter a title and comment"))}},O7862:function(a){var b=!0,c=ml.Misc.O5752()?"538893e8235ede78191ae428":"5391c17d7793ec237dbe56d5";if(this.forumId==c){a=" "+this.O6241(a)+" ";for(var c="horatio scott philipp phil phillip phillipp philip".split(" "),
d=0;d<c.length;d++)0<=a.indexOf(" "+c[d]+" ")&&(b=!1)}return b},O6241:function(a){var b="";a=a.toLowerCase();for(var c=0;c<a.length;c++){var d=a.substr(c,1);-1==="abcdefghijklmnopqrstuvwxyz0123456789 ".indexOf(d)&&(d=" ");b+=d}return b},O6188:function(){ig.game.alertDialog.O1846("Please enter a comment")},update:function(){this.energy=(this.energy+this.O4465).limit(this.energyMin,this.energyMax);this.opacity=0>=this.energy?0:(this.energy/this.energyMax).limit(0,
1);if(this.isOpen&&0<this.opacity){var a=this.O3661();jQuery("#writableDialog").css("left",a.x+"px");jQuery("#writableDialog").css("top",a.y+"px");jQuery("#writableDialog").css("opacity",this.opacity.toFixed(2));ig.game.camera.O5967>ig.game.camera.O3763&&(ig.game.camera.O5967-=2,ig.game.camera.O5967<ig.game.camera.O3763&&(ig.game.camera.O5967=ig.game.camera.O3763));this.O8416&&
this.O4857()&&this.close();this.O8462();if((ig.input.pressed("esc")||ig.input.pressed("f1"))&&!this.isWriting)ig.input.O3472(),this.close()}},O4857:function(){return Math.round(this.O3792.x)!=Math.round(ig.game.O4269.pos.x)||Math.round(this.O3792.y)!=Math.round(ig.game.O4269.pos.y)},O8462:function(){300>=ig.system.height&&(ig.game.playerDialog&&ig.game.playerDialog.isOpen?this.O6208||(jQuery("#writableDialog").css("visibility",
"hidden"),this.O6208=!0):this.O6208&&(jQuery("#writableDialog").css("visibility","visible"),this.O6208=!1))},O3594:function(a,b){this.fontStyle="font-size: "+(5+2*ig.system.scale)+"px;";this.size={x:0.5*ig.system.realWidth,y:0.7*ig.system.O1709};this.homePos={x:a,y:b};this.pos={x:a,y:b};this.O3661(this.homePos);if(ig.system.width>ig.system.height)this.size.y=(ig.system.height*(ig.ua.iPad?0.75:0.65)-
27-10)*ig.system.scale,this.size.x=Math.round(1.777*this.size.y),900>=ig.system.O1709&&(this.size.x=0.58*ig.system.realWidth,this.size.y=Math.round(1.2*this.size.y)),ig.ua.phone&&(this.size.x=ig.game.O2050?window.innerWidth-100:window.innerWidth-70,this.size.y+=80);else{var c=0.85;ig.ua.phone&&(ig.game.O2050?(c=0.8,this.homePos.x+=20):(c=0.9,this.homePos.x+=12));this.size.x=ig.system.width*c*ig.system.scale;this.size.y=ig.system.widthHalf*ig.system.scale;ig.ua.phone&&(this.size.y+=
0.3*ig.system.height)}},O3661:function(){var a=jQuery("#"+ig.game.canvasId).position(),a={x:Math.round((this.homePos.x-ig.game._rscreen.x)*ig.system.scale-this.size.x/2+a.left),y:Math.round((this.homePos.y-ig.game._rscreen.y)*ig.system.scale-this.size.y-ig.game.tileSize+a.top)};5>=a.y&&(a.y=5);return a},O7004:function(){var a=this.O3661(),b=jQuery('<div id="writableDialog" style="'+(this.fontStyle+"; color: rgb("+this.rgbText+");")+'"'+(this.attributes.mixedCaseFont?
' class="mixedCase"':"")+'>   <div id="contentPart" class="contentPart"></div></div>');b.css("left",a.x+"px");b.css("top",a.y+"px");b.css("width",this.size.x+"px");b.css("height",this.size.y+"px");b.css("background-color",this.O2408());b.appendTo("body");var c=this;jQuery("#commentInput").click(function(a){jQuery("#commentInput").select()});jQuery("#writableDialog").contextmenu(function(){if(ig.input.state("shift")||ig.ua.mobile||ig.ua.firefox)c.O2339=!c.O2339,
c.setInsetStyle(),jQuery("#writableDialog").css("background-color",c.O2408()),jQuery(".commentInput").css("background-color",c.O2771()),jQuery("textarea").css("background-color",c.O2771())});jQuery("#writableDialog").scroll(function(){if(!c.O7853&&!c.O2641&&!c.O4061)if(c.threadId)c.O2963&&1>=jQuery(this).scrollTop()?c.O4954():c.O1175&&jQuery(this)[0].scrollHeight-jQuery(this).scrollTop()<=
jQuery(this).outerHeight()+300&&c.O1828();else if(!c.O2069&&c.threads.length>=c.O7663&&jQuery(this)[0].scrollHeight-jQuery(this).scrollTop()<=jQuery(this).outerHeight()+4){var a=c.threads[c.threads.length-1].lastComment;a&&c.O6634(a.ts)}})},O2408:function(){return"rgba("+this.rgbBackground+","+(this.O2339?0.65:1)+")"},O2771:function(){return"rgba("+this.rgbBackground+","+(this.O2339?
0.1:1)+")"},O7504:function(){!this.isWriting&&""==jQuery("textarea").val()&&this.close()},close:function(){this.isOpen&&(this.O4567=!0,this.postKeyRequired=!1,this.threadId=null,this.threads=[],this.areaGroupId=null,this.O2069=!1,this.comments=[],this.forumId=null,this.O2129=[],this.O33(),this.O292=!1,this.commentIdToAddItemTo=null,jQuery("#writableDialog").remove(),ig.game.O3713(),this.isOpen=!1,this.O4465=
-10,this.canRead=this.O339=this.O1596=this.O721=!1)},O6897:function(a){ig.game.sounds.click.play();jQuery("#editButton_"+a).remove();jQuery("#commentOptions_"+a).show();var b=this;ig.game.O7421.O1593(a).done(function(c){b.O3369(a,!!c.flagged)})},O3369:function(a,b){var c='<img src="'+ml.Misc.O8018("flag/"+(b?"on":"off"))+'" alt=""/>',c='<span class="pseudolink" onclick="'+("ig.game.writableDialog.O5583('"+
ig.game.strings.O4334(a)+"')")+'">'+c+"</span>";jQuery("#commentFlag_"+a).html(c)},O5583:function(a){if(a){ig.game.sounds.click.play();var b=this;ig.game.O7421.O6342(a).done(function(c){b.O3369(a,!!c.flagged)})}},O3849:function(a){var b=null;if(a&&"string"===typeof a&&(a=a.match(/([0-9]{4}\-[0-9]{2}\-[0-9]{2}\s[0-9]{2}\:[0-9]{2}\s\M\T)/gi))&&1<=a.length)for(var b=[],c=0;c<a.length;c++){var d=ig.game.strings.O1127(a[c]);
b.push(d.toISOString())}return b},O5507:function(a){return(a=this.O3849(a))?a[0]:null},O7568:function(){return 0<=["542a2a011b65581f4b95d23f","54b2968f0eae9dc73bea7165"].indexOf(this.forumId)},O8041:function(){return 0<=["53eb9f388534266f180e0fd2","546f1193fda1416015f93382","54047ec2a8ae726f4b84fcaf","54b2972713fdb55446ed7bc9","55a7e0510b6ad1054d45999c"].indexOf(this.forumId)},O3269:function(a,
b){var c=!1;a&&(c=0>=b?!1:2>=b?-1===["54b2968f0eae9dc73bea7165","6102f138372bf325b48dc465"].indexOf(a.toString()):!0);return c}})});ig.baked=!0;
ig.module("game.ui.albumdialog").requires("game.ui.components.uidialog").defines(function(){window.AlbumDialog=UIDialog.extend({snaps:null,O5235:null,O3845:-1,O525:4,userId:null,isLoading:!1,O7865:!1,open:function(a){if(!this.isLoading){this.initValues();this.userId=a?a:ig.game.O4269.O2507;this.O3076();var b=this;this.isLoading=!0;ig.game.O7421.O1911(this.userId).done(function(a){b.isLoading=!1;a&&a.shortCodes?
b.doOpen(a.shortCodes):b.close()})}},O3067:function(){return!1},O2097:function(){if(!this.isLoading)if(this.O3067()){this.initValues();this.O7865=!0;this.O3076();var a=this;this.isLoading=!0;ig.game.O7421.O5101(ig.game.O172.O6722,ig.game.O172.currentArea).done(function(b){a.isLoading=!1;b&&b.shortCodes&&1<=b.shortCodes.length?a.doOpen(b.shortCodes):(ig.game.sounds.nocando.play(),a.close())})}else ig.game.sounds.nocando.play()},
initValues:function(){this.O5235=new ml.Timer;this.snaps=[];this.userId=null;this.O7865=!1},O3076:function(){ig.game.writableDialog&&ig.game.writableDialog.isOpen&&ig.game.writableDialog.close();jQuery('<div id="albumDialog" class="disableContentSelect"></div>').appendTo("body");ig.ua.mobile&&jQuery('<div id="mobileCloseButton" onclick="ig.game.albumDialog.close()">&nbsp;X&nbsp;</div>').appendTo("body")},doOpen:function(a){this.snaps=a;this.O6128();ig.game.O7673();
this.toClose=!1;this.isOpen=!0;var b=this;jQuery("#albumDialog").scroll(function(){jQuery(this)[0].scrollHeight-jQuery(this).scrollTop()<=jQuery(this).outerHeight()&&b.O6128()})},O6128:function(){for(var a="",b=this.O3845+this.O525-1,c=this.O3845+1;c<=b&&c<this.snaps.length;c++){var d=this.snaps[c],e=ig.game.strings.O4334(d),f="ig.game.albumDialog.O1925(event,'"+e+"')",d=ig.game.O3754.O5021(d,!0),
a=a+('<div class="snap" id="snap'+e+'">'),a=a+('<img src="'+d+'" alt="" onmouseup="'+f+'"/>'),a=a+"</div>";this.O3845=c}console.log(a);a&&jQuery("#albumDialog").append(a)},O1925:function(a,b){var c=this.O5235&&0.5>=this.O5235.delta();!ig.ua.mobile&&!c&&(a&&3==a.which?(console.log(this.userId),!this.O7865&&ig.game.O4269.O2507==this.userId&&(ig.game.myLocationDialog.O2591(b),this.close())):ig.input.state("ctrl")?ig.game.O4269.O2507==this.userId&&
(jQuery("#snap"+b).slideUp(),ig.game.O7421.O4122(b,!1).done(function(){ig.game.sounds.bin.play()})):(c=ig.game.O3754.O5021(b),ml.Misc.openUrl(c)))},update:function(){ig.game.isFullAccount&&(ig.input.state("ctrl")&&ig.input.pressed("i"))&&(this.isOpen?this.close():this.open());this.isOpen&&(ig.input.pressed("esc")||ig.game.O4269&&(0!=ig.game.O4269.vel.x||0!=ig.game.O4269.vel.y))&&this.close()},close:function(){jQuery("#albumDialog").remove();
jQuery("#mobileCloseButton").remove();this.snaps=null;this.O3845=0;ig.game.O3713();this.isOpen=!1;this.userId=null;this.O7865=!1;this.parent()}})});ig.baked=!0;
ig.module("game.ui.customsnapshotdialog").requires("game.ui.components.uidialog").defines(function(){window.CustomSnapshotDialog=UIDialog.extend({pos:{x:0,y:0},size:{x:52,y:52},isOpen:!1,open:function(){this.pixelData=null;document.body.style.cursor="crosshair";this.parent()},update:function(){this.isOpen&&(this.pos={x:ig.input.mouse.x-this.size.x/2,y:ig.input.mouse.y-this.size.y/2},ig.game.O6099.O5632()?(ig.game.O6099.O6375(!1),this.O7271()):
ig.input.released("esc")&&(document.body.style.cursor="default",this.isOpen=!1,this.close(),ig.game.areaDialog.open(!1)))},O7271:function(){this.isOpen=!1;ig.game.sounds.whoosh.play();document.body.style.cursor="default";var a=ig.system.context.getImageData(Math.floor(this.pos.x*ig.system.scale),Math.floor(this.pos.y*ig.system.scale),this.size.x*ig.system.scale,this.size.y*ig.system.scale);this.close();ig.game.areaDialog.open(!1,a)},draw:function(){this.isOpen&&this.O4426()},
O4426:function(){var a,b,c,d;this.pos.x=ml.Misc.O5179(this.pos.x,2,ig.system.width-this.size.x-2);this.pos.y=ml.Misc.O5179(this.pos.y,2,ig.system.height-this.size.y-2);var e=ig.system.context;b=this.pos.y;c=this.size.x;d=this.size.y;var f=ig.system.scale;a=this.pos.x*f;b*=f;c*=f;d*=f;f=ig.system.scale;e.fillStyle="rgba(255,255,255,.5)";var g=(b+ig.game.camera.screenTarget.y)%ig.system.scale;a-=(a+ig.game.camera.screenTarget.x)%ig.system.scale;b-=g;e.fillRect(a-f,b-f,f,d+2*f);e.fillRect(a+
c+f,b-f,f,d+2*f);e.fillRect(a,b-f,c+f,f);e.fillRect(a-f,b+d+f,c+3*f,f)}})});ig.baked=!0;
ig.module("game.ui.readabledialog").requires("game.ui.components.uidialog").defines(function(){window.ReadableDialog=UIDialog.extend({pos:{x:0,y:0},homePos:{x:0,y:0},size:{x:532,y:304},isOpen:!1,offset:{x:-11,y:-44},opacity:0,energy:0,O4465:0,O6469:5,energyMin:-150,energyMax:100,dialogId:"readableDialog",rgbBackground:null,rgbText:null,content:"",showBack:!0,centered:!1,attributes:{},init:function(){this.fontStyle="font-size: "+(5+2*ig.system.scale)+"px;";this.size={x:0.5*ig.system.realWidth,
y:0.7*ig.system.O1709}},open:function(a,b,c,d,e,f,g){this.isOpen||(this.homePos={x:a,y:b},this.pos={x:a,y:b},this.O3661(this.homePos),this.size.y=(0.65*ig.system.height-65-10)*ig.system.scale,this.size.x=Math.round(1.777*this.size.y),this.attributes=f?f:{},this.isOpen=!0,this.energy=this.energyMin,this.O4465=this.O6469,this.showBack=!(f&&f.noBack),this.centered=Boolean(f&&f.centered),this.rgbBackground=c?c:"255,255,255",this.rgbText=d?d:"0,0,0",this.content=
e,ig.game.O6401.O5038(ig.game.O4269,"reads",g),this.O7004(),ig.game.motionDialog&&ig.game.motionDialog.O5076("read"))},O3661:function(){var a=jQuery("#"+ig.game.canvasId).position();return{x:Math.round((this.homePos.x-ig.game._rscreen.x)*ig.system.scale-this.size.x/2+a.left),y:Math.round((this.homePos.y-ig.game._rscreen.y)*ig.system.scale-this.size.y-ig.game.tileSize+a.top)}},O7004:function(){var a=this.O3661(),
b=ig.game.strings.O522(this.content,this.rgbBackground,this.rgbText),c=1;this.attributes.semiTransparentBack&&(c=0.5);b='<div class="contentPart">'+b+"</div>";c=this.fontStyle+"; background-color: "+(this.showBack?"rgba("+this.rgbBackground+","+c+")":"transparent")+"; color: rgb("+this.rgbText+");";this.centered&&(c+="text-align: center;");var c=c+this.O1079(),d="";this.attributes.serifFont?d=' class="serifReadable"':this.attributes.sansSerifFont&&(d=' class="sansSerifReadable"');
b=jQuery('<div id="'+this.dialogId+'" style="'+c+'"'+d+">"+b+"</div>");b.css("left",a.x+"px");b.css("top",a.y+"px");b.css("width",this.size.x+"px");b.css("height",this.size.y+"px");b.appendTo("body");jQuery("#messageInput").click(function(a){jQuery("#messageInput").select()})},O1079:function(){var a="",b=5,c=0;this.attributes.tiltLeft&&this.attributes.tiltRight?(b=ig.game.O5167(2,b),c=ig.game.chance(50)?-b:b):this.attributes.tiltLeft?c=-b:this.attributes.tiltRight&&(c=b);0!=c&&
(a="transform: rotate("+c+"deg)");return a},update:function(){if(this.isOpen){this.energy=(this.energy+this.O4465).limit(this.energyMin,this.energyMax);this.opacity=0>=this.energy?0:(this.energy/this.energyMax).limit(0,1);if(0<this.opacity){var a=this.O3661();jQuery("#"+this.dialogId).css("left",a.x+"px");jQuery("#"+this.dialogId).css("top",a.y+"px");jQuery("#"+this.dialogId).css("opacity",this.opacity.toFixed(2))}ig.game.O4269&&1<=Math.abs(ig.game.O4269.vel.x)&&
this.close()}this.parent()},close:function(){this.isOpen&&(jQuery("#readableDialog").remove(),ig.game.O3713(),this.isOpen=!1,this.O4465=-10)}})});ig.baked=!0;
ig.module("game.ui.musicrecorder").defines(function(){window.MusicRecorder=ig.Class.extend({O7202:[],O54:20,buttons:null,rect:{x:0,y:0,width:48,height:19},isOpen:!1,alpha:0.8,O2250:"musicRecording",init:function(a){this.rect.x=ig.system.width-54;this.rect.y=ig.system.height-24;this.buttons={record:{x:0,y:0,states:["default","active1","active2"],state:"default"},play:{x:25,y:0,states:["default","active"],state:"default"},undo:{x:17,y:10,states:["default","delete"],state:"default"},
ok:{x:28,y:10},dataEmpty:{x:19,y:10,O3413:!1,state:"default"},dataFull:{x:7,y:10,O3413:!1}};for(var b in this.buttons){a=this.buttons[b];a.width=ig.game.O5405["musicRecorder_"+b+"_default"].width;a.height=ig.game.O5405["musicRecorder_"+b+"_default"].height;a.states||(a.states=["default"]);void 0==a.O3413&&(a.O3413=!0);a.spritesheetParts=[];for(var c=0;c<a.states.length;c++)a.spritesheetParts[a.states[c]]=ig.game.O5405.getImage(ig.game.O5405["musicRecorder_"+
b+"_"+a.states[c]])}},update:function(){ig.game.instrumentDialog&&this.isOpen!=ig.game.instrumentDialog.isOpen&&(ig.game.instrumentDialog.isOpen?this.open():this.close());if(this.isOpen){var a=ig.game.O6858;switch(this.O6514()){case "record":a.O1600?(a.O4759(),ig.game.O914.setItem(this.O2250,JSON.stringify(a.data))):(null!=a.O1631&&(a.O453(),a.O6322()),this.O6321(),a.O8330());break;case "play":a.isPlaying?(a.O453(),
a.O1600&&(a.O4759(),a.O3571())):a.O3571();break;case "undo":1<=this.O7202.length?a.O7994(this.O7202[this.O7202.length-1]):a.O6322();this.O7202.pop();a.data?ig.game.sounds.pickup.play():ig.game.sounds.bin.play();ig.game.O914.setItem(this.O2250,JSON.stringify(a.data));break;case "ok":ig.game.painter.musicData=ig.game.O5662(ig.game.O6858.data),ig.game.painter.O4869="music",ig.game.panelSet.O488.O6448()}this.buttons.record.state=
a.O1600?"active"+(Math.floor(a.O6918)%2?"1":"2"):"default";this.buttons.play.state=a.isPlaying?"active":"default";if(null!=a.data){this.buttons.undo.state=this.buttons.ok.state=this.buttons.dataFull.state="default";if(!this.O7202||0==this.O7202.length)this.buttons.undo.state="delete";this.buttons.dataEmpty.state=null}else this.buttons.undo.state=this.buttons.ok.state=this.buttons.dataFull.state=null,this.buttons.dataEmpty.state="default";if(a.isPlaying||a.O1600)this.buttons.undo.state=
null,this.buttons.ok.state=null;null!=a.O1631&&(this.buttons.record.state=null,this.buttons.dataFull.state=null,this.buttons.dataEmpty.state=null)}},O6321:function(){ig.game.O6858.data&&(this.O7202.length>this.O54&&this.O7202.shift(),this.O7202[this.O7202.length]=ig.game.O5662(ig.game.O6858.data))},O6514:function(){var a=null;if(ig.game.O6099.O5632()){var b={x:Math.floor(ig.input.mouse.x),y:Math.floor(ig.input.mouse.y)};
if(this.O6688(b,this.rect))for(var c in this.buttons){var d=this.buttons[c],e={x:this.rect.x+d.x,y:this.rect.y+d.y,width:d.width,height:d.height};if(d.O3413&&d.state&&this.O6688(b,e)){ig.game.O6099.O6375(!0);a=c;break}}}return a},O6688:function(a,b){return a.x>=b.x&&a.x<=b.x+b.width&&a.y>=b.y&&a.y<=b.y+b.height},draw:function(){if(this.isOpen&&3!=ig.game.panelSet.tabState){ig.system.context.globalAlpha=this.alpha;for(var a in this.buttons){var b=
this.buttons[a];b.state&&b.spritesheetParts[b.state].draw(this.rect.x+b.x,this.rect.y+b.y)}ig.system.context.globalAlpha=1}},open:function(){if(!this.isOpen&&ig.game.isEditorHere){var a=ig.game.O6858;a.reset();try{var b=localStorage.getItem(this.O2250);b&&a.O7994(JSON.parse(b))}catch(c){localStorage.removeItem(this.O2250),ig.game.errorManager.warn("Music recording backup cleared due to issue")}this.O7202=[];this.isOpen=!0;ig.game.panelSet&&3==ig.game.panelSet.tabState&&
ig.game.panelSet.O7981(2)}},O6322:function(){this.O7202=[];localStorage.removeItem(this.O2250)},close:function(){this.O7202=[];this.isOpen=!1}})});ig.baked=!0;
ig.module("game.ui.viewabledialog").requires("game.ui.components.uidialog").defines(function(){window.ViewableDialog=UIDialog.extend({pos:{x:0,y:0},size:{x:38,y:38},isOpen:!1,offset:{x:-11,y:-44},cell:1,maxCell:2,O8027:3,cellTimer:null,opacity:0,energy:0,O4465:0,O6469:5,energyMin:-150,energyMax:100,image:null,O7100:!1,O802:!1,init:function(){},open:function(a,b,c,d,e,f,g){!this.isOpen&&(c.image&&c.image.loaded&&c.image.width)&&(this.offset={x:-11,y:-44},ig.game.O4269.attachments.b&&
ig.game.O4269.attachments.b.animSheet&&(this.offset.y+=ig.game.tileSize-ig.game.O4269.attachments.b.animSheet.height),this.O6469=5,this.O8027=3,g&&(g.slow?this.O8027=5:g.fast?(this.O8027=1.5,this.O6469=10):g.veryFast&&(this.O8027=0.5,this.O6469=25)),this.isOpen=!0,this.O802=!!d,this.maxCell=Math.floor(c.image.width/this.size.x)-1,this.pos={x:a,y:b},this.image=c.image,this.cell=1,this.cellTimer=null,this.energy=
this.energyMin,f&&(this.energy=0),this.O4465=this.O6469,e&&ig.game.sounds.O7220(e))},update:function(){this.energy=(this.energy+this.O4465).limit(this.energyMin,this.energyMax);this.opacity=0>=this.energy?0:(this.energy/this.energyMax).limit(0,1);!this.cellTimer&&this.energy==this.energyMax&&(this.cellTimer=new ml.Timer);this.isOpen&&(this.cellTimer&&this.cellTimer.delta()>=this.O8027)&&(this.cellTimer.reset(),this.cell++,this.cell>this.maxCell&&(this.O802?
(this.cell--,this.close()):this.cell=1))},draw:function(){0<this.opacity&&(ig.system.context.globalAlpha=this.opacity,ig.system.context.drawImage(this.image.data,this.cell*this.size.x*ig.system.scale,0,this.size.x*ig.system.scale,this.size.y*ig.system.scale,(this.pos.x-ig.game._rscreen.x+this.offset.x)*ig.system.scale,(this.pos.y-ig.game._rscreen.y+this.offset.y)*ig.system.scale,this.size.x*ig.system.scale,this.size.y*ig.system.scale),ig.system.context.globalAlpha=1)},close:function(){this.isOpen&&
(this.cellTimer=null,this.isOpen=!1,this.O4465=-10)}})});ig.baked=!0;
ig.module("game.ui.virtualjoystick").requires("game.ui.components.uidialog","game.ui.components.uiclickspot","game.ui.components.uiclickspothelper").defines(function(){window.VirtualJoystick=UIDialog.extend({state:"",input:{left:!1,right:!1,up:!1,down:!1,action:!1},inputPrevious:{left:!1,right:!1,up:!1,down:!1,action:!1},O6229:!1,clickSpots:null,alpha:0.4,O5177:0,O6172:null,topY:0,O1088:!1,init:function(){ig.game.O3459||this.O2659()},
O2659:function(){var a=this,b=0,c=-30,d=-36,e=ig.game.instrumentDialog&&ig.game.instrumentDialog.isOpen?-80:0,f=0;ig.ua.phone?f=ig.system.O1059()?-58:-50:ig.ua.tablet&&(f=-90);c+=f;d+=f;if(ig.ua.mobile)if(ig.system.O1004())f=25,ig.game.virtualKeyboard&&ig.game.virtualKeyboard.isOpen&&(f-=50),c+=f,d+=f;else if(!ig.game.virtualKeyboard||!ig.game.virtualKeyboard.isOpen)c+=23,d+=23;ig.game.O2050&&(b-=54);b={left:{x:5,y:ig.system.height+c+e,width:28,height:12,O451:["*"],
doDebug:!1,clickspot:null,doPlaySound:!1,group:"virtualJoystick",margin:{x:8,y:22},O5944:function(){a.input.left=!0;a.input.right=!1},O2172:function(){a.input.left=!1}},right:{x:48,y:ig.system.height+c+e,width:28,height:12,O451:["*"],doDebug:!1,clickspot:null,doPlaySound:!1,group:"virtualJoystick",margin:{x:8,y:22},O5944:function(){a.input.right=!0;a.input.left=!1},O2172:function(){a.input.right=!1}},up:{x:ig.system.width-31+b,y:ig.system.height+d+e,width:23,
height:28,O451:["*"],doDebug:!1,clickspot:null,doPlaySound:!1,group:"virtualJoystick",margin:{x:8,y:7},O5944:function(){a.input.up=!0;a.input.down=!1},O2172:function(){a.input.up=!1}},down:{x:ig.system.width-31+b,y:ig.system.height+d+40+e,width:23,height:28,O451:["*"],doDebug:!1,clickspot:null,doPlaySound:!1,group:"virtualJoystick",margin:{x:8,y:5},O5944:function(){a.input.down=!0;a.input.up=!1},O2172:function(){a.input.down=!1}},action:{x:ig.system.width-
70+b,y:ig.system.height+d+3+e,width:23,height:24,O451:["*"],doDebug:!1,clickspot:null,doPlaySound:!1,group:"virtualJoystick",margin:{x:8,y:10},O5944:function(){a.input.action||(a.input.action=!0,a.O5328())},O2172:function(){a.input.action=!1}}};this.topY=ig.system.height+c+e;if(!(ig.ua.phone&&ig.system.height>ig.system.width))if(ig.game.multithing&&ig.game.multithing.isOpen)b.left.y+=47,b.right.y+=47,b.up.y+=47,b.action.y+=47,b.down.x-=80,b.down.y+=7;else if(ig.ua.phone||
ig.game.virtualKeyboard&&ig.game.virtualKeyboard.isOpen&&(!ig.game.instrumentDialog||!ig.game.instrumentDialog.isOpen))b.down.x-=80,b.down.y=ig.system.height+d+e;this.clickSpots=new UIClickSpotHelper(b,{x:0,y:0,width:480,height:320})},O3096:function(){this.O6172=new ml.Timer},update:function(){this.O6229=!1;this.O6172&&0.75<=this.O6172.delta()&&(this.O6172=null);this.O3628()&&!ig.game.O500&&(this.inputPrevious=ig.game.O5662(this.input),
this.clickSpots.O4123=this.state,this.clickSpots.O2684(),0<this.O5177&&(this.O5177--,ig.game.O7510.O5328(!0)),this.parent())},O5328:function(){this.O6229=!0;0>=this.O5177&&!ig.game.O4269.attachments[ig.game.O7510.slots.HOLDABLE]&&(this.O5177=7)},draw:function(){this.O3628()&&this.clickSpots.O2923(this.alpha)},O3628:function(){return ig.ua.mobile&&
!ig.game.O2571(!0)&&!this.O6172&&!this.O1088},O2713:function(){3<=ig.game.O4269.rank||!this.O1088?this.O1088=!this.O1088:ig.game.sounds.nocando.play()},O4149:function(){return ig.ua.mobile},O3912:function(){return this.O3628&&(this.input.left||this.input.right||this.input.up||this.input.down||this.input.action)},
stop:function(){this.input={left:!1,right:!1,up:!1,down:!1,action:!1}}})});ig.baked=!0;
ig.module("game.ui.virtualkeyboard").requires("game.ui.components.uidialog","game.ui.components.uiclickspot","game.ui.components.uiclickspothelper").defines(function(){VirtualKeyboard=UIDialog.extend({state:null,O5893:null,O6349:[],O1017:2,togglerMargin:{x:16,y:10},isOpen:!1,alpha:0.5,O7834:null,O4545:!1,init:function(){this.O4545=!1;this.O8134()},O4512:function(){if(this.isOpen)this.close();else if(!ig.game.painter||!ig.game.painter.isRunning)this.open(),
ig.game.virtualJoystick.stop();ig.game.virtualJoystick&&ig.game.virtualJoystick.O2659()},open:function(){this.isOpen=!0;this.O7912();this.state="default";this.O6349=[];ig.game.camera.setOffset();ig.game.virtualJoystick&&ig.game.virtualJoystick.O2659()},close:function(){jQuery("#nativeKeyboardInput").remove();this.O7834=null;this.isOpen=!1;ig.game.camera.setOffset();ig.game.virtualJoystick&&ig.game.virtualJoystick.O2659()},O8134:function(){var a=
this,b=ig.game.O2050||ig.game.instrumentDialog&&ig.game.instrumentDialog.isOpen?55:0,c=ig.system.width/2-this.togglerMargin.x-b-ig.game.O5405.virtualKeyboardOpenButton.width/2,d=ig.system.height-this.togglerMargin.y-15;ig.ua.tablet&&(c=ig.system.width-38-b);this.O5893=new UIClickSpotHelper({O4512:{O451:["*"],x:c,y:d,width:ig.game.O5405.virtualKeyboardOpenButton.width+2*this.togglerMargin.x,height:ig.game.O5405.virtualKeyboardOpenButton.height+
2*this.togglerMargin.y,doPlaySound:!0,doDebug:!1,onClick:function(){a.O4512()}}},{x:0,y:0,width:ig.system.width,height:ig.system.height})},update:function(){if(ig.ua.mobile){if(this.isOpen&&this.O7834){var a=this.O7834.value;if(""!=a&&null!=a){this.O7834.value="";for(var b=0;b<a.length;b++){var c=a[b];this.O2214("key_"+c);ig.game.O884.O321(c);ig.game.O4269.O662(c)}}}this.O5893.O4123=this.state;this.O5893.O2684()}},
keyPressBackspace:function(){this.O2214("key_backspace");ig.game.O884.O5444()},draw:function(){if(ig.ua.mobile){var a=this.O5893.items.O4512;ig.game.O5405.O2190(a.x+this.togglerMargin.x+3,a.y+this.togglerMargin.y,this.alpha);this.O5893.O6607()}},O2214:function(a){this.O6349.unshift(a);this.O6349.length>this.O1017&&this.O6349.splice(this.O1017);
(2<=this.O6349.length&&"key_newLine"==this.O6349[0]&&"key_newLine"==this.O6349[1]||1==this.O6349.length&&"key_newLine"==this.O6349[0])&&this.close()},O7912:function(){jQuery("#nativeKeyboardInput").remove();var a=jQuery('<input type="text" class="dialogInputBox" id="nativeKeyboardInput" autocomplete="off" autocorrect="off" autocapitalize="off" value=""/>');a.appendTo("body");a.css("padding",2*ig.system.scale+"px");a.css("width",50*ig.system.scale+
"px");a.css("font-size",5*ig.system.scale+"px");a.css("border-width",1*ig.system.scale+"px");a.css("left","50px");a.css("top","10px");a.css("visibility","visible");this.O4545&&(a.css("background-color","white"),a.css("color","black"),a.css("opacity","0.75"),a.css("width","70%"));a.focus();var b=this;jQuery("#nativeKeyboardInput").keyup(function(a){13==a.keyCode?b.O1642():8==a.keyCode&&b.keyPressBackspace()});jQuery("#nativeKeyboardInput").blur(function(a){b.close()});this.O7834=
document.getElementById("nativeKeyboardInput")},O1642:function(){ig.game.O884.O5606();this.O2214("key_newLine");var a=ig.game.O884.O4966.slice().reverse().join("");0===a.toLowerCase().indexOf("to ")&&ig.game.O884.O4994(a);ig.game.O884.O4966=[];ig.game.O884.isInMotionSpeechMode=!1;ig.game.O4269.O6731=!1}})});ig.baked=!0;
ig.module("game.ui.healthbar").defines(function(){window.HealthBar=ig.Class.extend({prevHealth:0,pos:{x:0,y:0},barPos:{x:0,y:0},O2326:9,O807:3,O653:null,O5511:0.5,O3514:0.15,fadingOut:!1,fadeOutStep:0.02,O6952:null,O7552:1.5,opacity:0.8,O6161:0.8,beatTimer:null,beatTime:0.8,O4463:null,pulseTime:1,O4025:0,O6215:1.7,init:function(){this.prevHealth=ig.game.O4269.health},O4020:function(a,
b){this.pos.x=a;this.pos.y=b;this.barPos.x=this.pos.x+this.O2326+this.O807;this.barPos.y=this.pos.y+4},update:function(){ig.game.O4269.health<this.prevHealth&&(this.fadingOut=!1,this.O653=new ml.Timer,this.opacity=this.O6161);ig.game.O4269.health<ig.game.O4269.O4811&&(this.O653&&this.O653.delta()>=this.O5511&&ig.game.autoHeals)&&(ig.game.O4269.health=Math.min(ig.game.O4269.health+this.O3514,ig.game.O4269.O4811),
ig.game.O4269.health==ig.game.O4269.O4811&&(this.O6952=new ml.Timer));this.O6952&&this.O6952.delta()>this.O7552&&(this.O6952=null,this.fadingOut=!0);this.fadingOut&&(this.opacity=Math.max(this.opacity-this.fadeOutStep,0),0==this.opacity&&(this.fadingOut=!1));this.prevHealth=ig.game.O4269.health},draw:function(){if(ig.game.O4269.health<ig.game.O4269.O4811||this.O6952&&this.O6952.delta()<=
this.O7552||this.fadingOut){ig.system.context.globalAlpha=this.opacity;ig.game.O5405.O1415(this.pos.x,this.pos.y+2);ig.game.O5405.O1493(this.barPos.x,this.barPos.y);for(var a=Math.floor(50/ig.game.O4269.O4811*ig.game.O4269.health),b=1;b<=a;b++)ig.game.O5405.O2075(this.barPos.x+b,this.barPos.y+1);if(ig.game.autoHeals&&ig.game.O4269.health<ig.game.O4269.O4811&&(!this.O4463||this.O4463.delta()>this.pulseTime)&&
this.O653&&this.O653.delta()>=this.O5511)ig.game.O5405.O5284(this.barPos.x+this.O4025,this.barPos.y),this.O4025+=this.O6215,this.O4025>=a-6&&(this.O4025=0,this.O4463=new ml.Timer);ig.system.context.globalAlpha=1;if(ig.game.O4269.health<ig.game.O4269.O4811&&!ig.game.O4269.isDead&&(!this.beatTimer||this.beatTimer.delta()>this.beatTime))if(ig.game.autoHeals||this.O653&&3>=this.O653.delta())ig.game.sounds.heartbeat.volume=
ig.game.autoHeals?Math.min(1.1-ig.game.O4269.health/ig.game.O4269.O4811,1):Math.max(0,Math.min(1-this.O653.delta()/3,1)),ig.game.sounds.heartbeat.play(),this.beatTimer=new ml.Timer}}})});ig.baked=!0;
ig.module("game.ui.bottommenu-more").requires("game.ui.components.uidialog","game.ui.components.uiclickspot").defines(function(){window.BottomMenuMore=UIDialog.extend({opacity:1,O5334:!0,O603:!0,clickSpotMyLocation:null,clickSpotCreateArea:null,clickSpotFindAreas:null,clickSpotMap:null,clickSpotPaste:null,clickSpotNews:null,clickSpotBoost:null,clickSpotSettings:null,clickSpotHelp:null,clickSpotHeight:0,O1357:null,O2734:null,O6330:!1,O7546:null,
numberOfMenuItems:0,O4401:0.35,O745:!1,O6144:!0,init:function(a,b,c){this.O6144=!ig.ua.android;this.numberOfMenuItems=ig.game.isFullAccount?9:5;!this.O6144&&ig.game.isFullAccount&&this.numberOfMenuItems--;this.size.x=ig.game.O5405.bottomMenuMoreMiddle.width;this.size.y=ig.game.O5405.bottomMenuMoreMiddle.height*this.numberOfMenuItems;this.clickSpotHeight=this.size.y/this.numberOfMenuItems;this.pos.x=a;this.pos.y=b-this.size.y-4;
this.O6421=c},update:function(){this.O1337();this.isOpen&&(this.clickSpotMyLocation&&this.clickSpotMyLocation.update(),this.clickSpotMap&&this.clickSpotMap.update(),this.clickSpotPaste&&this.clickSpotPaste.update(),this.clickSpotCreateArea&&this.clickSpotCreateArea.update(),this.clickSpotFindAreas&&this.clickSpotFindAreas.update(),this.clickSpotNews&&this.clickSpotNews.update(),this.clickSpotBoost&&this.clickSpotBoost.update(),this.clickSpotSettings&&this.clickSpotSettings.update(),
this.clickSpotHelp&&this.clickSpotHelp.update(),this.O7546&&this.O7546.update());this.parent()},draw:function(){if(this.isOpen){this.O7546&&this.O7546.draw();for(var a=this.pos.x+this.size.x-5,b=1;b<=this.numberOfMenuItems;b++){var c="bottomMenuMore",c=1==b?c+"Top":b==this.numberOfMenuItems?c+"Bottom":c+"Middle";ig.game.O5405.draw(this.pos.x,this.pos.y+(b-1)*ig.game.O5405.bottomMenuMoreMiddle.height,1,ig.game.O5405[c])}this.clickSpotMap&&
(ig.system.context.globalAlpha=0.7,ig.game.blackFont.draw("Map",this.clickSpotMap.pos.x+5,this.clickSpotMap.pos.y+5),ig.system.context.globalAlpha=1,ig.ua.mobile||(ig.system.context.globalAlpha=this.O4401,ig.game.blackFont.draw("f9",a,this.clickSpotMap.pos.y+5,ig.Font.ALIGN.RIGHT)));this.clickSpotNews&&(ig.system.context.globalAlpha=0.7,ig.game.blackFont.draw("News",this.clickSpotNews.pos.x+5,this.clickSpotNews.pos.y+5),ig.system.context.globalAlpha=1);this.clickSpotFindAreas&&(ig.game.O5405.draw(this.clickSpotFindAreas.pos.x+
5-2,this.clickSpotFindAreas.pos.y+5-1,0.6,ig.game.O5405.findAreaIcon),ig.system.context.globalAlpha=0.7,ig.game.blackFont.draw("Find Areas",this.clickSpotFindAreas.pos.x+15+5,this.clickSpotFindAreas.pos.y+5),ig.system.context.globalAlpha=1);this.clickSpotBoost&&(ig.system.context.globalAlpha=0.7,ig.game.blackFont.draw("Boosts",this.clickSpotBoost.pos.x+5,this.clickSpotBoost.pos.y+5),ig.ua.mobile||(ig.system.context.globalAlpha=this.O4401,ig.game.blackFont.draw("ctrl+b",a,this.clickSpotBoost.pos.y+
5,ig.Font.ALIGN.RIGHT)),ig.system.context.globalAlpha=1);this.clickSpotCreateArea&&(ig.game.O5405.draw(this.clickSpotCreateArea.pos.x+5-1,this.clickSpotCreateArea.pos.y+5-1,0.6,ig.game.O5405.createAreaIcon),b=ig.game.O707||!ig.game.isEditorHere?"Create Area":"Create Sub-Area",ig.game.O4269&&ig.game.O4269.rank>=ig.game.O3626||(b="Create Area"),ig.system.context.globalAlpha=0.7,ig.game.blackFont.draw(b,this.clickSpotCreateArea.pos.x+5+15,this.clickSpotCreateArea.pos.y+
5),ig.system.context.globalAlpha=1);this.clickSpotPaste&&(ig.system.context.globalAlpha=0.7,ig.game.blackFont.draw("Paste",this.clickSpotPaste.pos.x+5,this.clickSpotPaste.pos.y+5),ig.ua.mobile||(ig.system.context.globalAlpha=this.O4401,ig.game.blackFont.draw("ctrl+v",a,this.clickSpotPaste.pos.y+5,ig.Font.ALIGN.RIGHT)),ig.system.context.globalAlpha=1);this.clickSpotMyLocation&&(ig.game.O5405.draw(this.clickSpotMyLocation.pos.x+5-1,this.clickSpotMyLocation.pos.y+5-1,0.6,ig.game.O5405.bottomMenuMoreHereIcon),
ig.system.context.globalAlpha=0.7,ig.game.blackFont.draw("Snapshot",this.clickSpotMyLocation.pos.x+5+15,this.clickSpotMyLocation.pos.y+5),ig.ua.mobile||(ig.system.context.globalAlpha=this.O4401,ig.game.blackFont.draw("f4",a,this.clickSpotMyLocation.pos.y+5,ig.Font.ALIGN.RIGHT)),ig.system.context.globalAlpha=1);this.clickSpotHelp&&(ig.system.context.globalAlpha=0.7,ig.game.blackFont.draw("Help",this.clickSpotHelp.pos.x+5-1,this.clickSpotHelp.pos.y+5),ig.system.context.globalAlpha=1);this.clickSpotSettings&&
(ig.game.O5405.draw(this.clickSpotSettings.pos.x+5-1,this.clickSpotSettings.pos.y+5-1,0.6,ig.game.O5405.settingsIcon),ig.system.context.globalAlpha=0.7,ig.game.blackFont.draw("Settings",this.clickSpotSettings.pos.x+5+15,this.clickSpotSettings.pos.y+5),ig.system.context.globalAlpha=1);this.O4691();ig.game.isFullAccount&&this.O3816()}},O3816:function(){var a="SUN MON TUE WED THU FRI SAT".split(" "),b=function(a){return 9>=a?"0"+a.toString():a},c=this.pos.x+
46,d=this.pos.y+this.size.y-12;this.O2734||(this.O2734=new ml.Timer);2<=this.O2734.delta()&&(this.O2734.reset(),(this.O6330=!this.O6330)&&this.O1357.reset());var e=new Date(ig.game.O1638.milliseconds);ig.system.context.globalAlpha=this.O4401;this.O6330?(b=a[e.getUTCDay()]+" "+this.O4581(e.getUTCDate()),ig.game.blackFont.draw(b,this.pos.x+this.size.x-4,d,ig.Font.ALIGN.RIGHT)):(this.O1357||
(this.O1357=new ml.Timer),a=0.5<=this.O1357.delta()?" ":":",1<=this.O1357.delta()&&(this.O1357=null),ig.game.blackFont.draw(b(e.getUTCHours()),c+7,d,ig.Font.ALIGN.RIGHT),ig.game.blackFont.draw(a,c+9,d-1,ig.Font.ALIGN.CENTER),ig.game.blackFont.draw(b(e.getUTCMinutes()),c+11,d),ig.game.blackFont.draw("MT",c+22,d));ig.system.context.globalAlpha=1},O4581:function(a){var b="";a=a.toString();b=a.substring(a.length-2);if("11"===b||"12"===b||"13"===b)b=a+"th";else switch(a.substring(a.length-
1)){case "1":b=a+"st";break;case "2":b=a+"nd";break;case "3":b=a+"rd";break;default:b=a+"th"}return b},O4691:function(){if(ig.game.isFullAccount){var a=ig.game.bottomMenu.alerts;if(a&&0<ig.game.bottomMenu.O5227()){var b={news:this.clickSpotNews},c;for(c in a)if(("news"!=c||ig.game.bottomMenu.O3936())&&0<a[c]){var d=b[c];d&&ig.game.bottomMenu.O5838(d.pos.x+d.size.x-7,d.pos.y+d.size.y-13,a[c])}}}},O597:function(){this.close();this.O745=
ig.game.O3252=!0;ig.game.draw();ig.game.userMapDialog.O6678();ig.game.userMapDialog.draw();ig.game.motionDialog.draw();ig.game.O5211.O7494(ig.game.O4269)},open:function(){this.parent();var a=this,b=this.pos.x,c=this.pos.y,d={x:this.size.x,y:this.clickSpotHeight};if(ig.game.O172.O5460()||ig.game.isEditorHere||ig.game.O5699){var e=ig.game.O6185(!1),e=ig.game.strings.O428(e),e=ig.game.strings.O2833(e.trim(),
20);this.O7546=new UIClickText({x:this.pos.x+5,y:this.pos.y-10},e,ig.game.whiteFont,"#FFFFFF",1);this.O7546.onClick=function(){ig.game.virtualJoystick.O3096();ig.game.O172.O1312()||ig.game.O5699?a.O1326():ig.game.areaDialog.open(!1)}}this.clickSpotFindAreas=new UIClickSpot({x:b,y:c},d,!1,null);this.clickSpotFindAreas.onClick=function(){ig.game.virtualJoystick.O3096();a.close();ig.game.areaSearchDialog&&ig.game.areaSearchDialog.open()};
c+=this.clickSpotHeight;this.clickSpotCreateArea=new UIClickSpot({x:b,y:c},d,!1,null);this.clickSpotCreateArea.onClick=function(){ig.game.virtualJoystick.O3096();a.close();ig.game.areaDialog.O1641()};c+=this.clickSpotHeight;ig.game.isFullAccount&&(this.clickSpotMyLocation=new UIClickSpot({x:b,y:c},d,!1,null),this.clickSpotMyLocation.onClick=function(){ig.game.virtualJoystick.O3096();a.O597()},c+=this.clickSpotHeight);ig.game.isFullAccount&&(this.clickSpotMap=
new UIClickSpot({x:b,y:c},d,!1,null),this.clickSpotMap.onClick=function(){ig.game.virtualJoystick.O3096();a.close();ig.game.userMapDialog.O768()},c+=this.clickSpotHeight,this.O6144&&(this.clickSpotPaste=new UIClickSpot({x:b,y:c},d,!1,null),this.clickSpotPaste.onClick=function(){ig.game.virtualJoystick.O3096();a.close();ig.game.hasMinfinity?ml.Misc.O6167():ig.game.iapDialogManager.openMainDialog()},c+=this.clickSpotHeight));this.clickSpotNews=new UIClickSpot({x:b,
y:c},d,!1,"clickSpotNews");this.clickSpotNews.onClick=function(){ig.game.virtualJoystick.O3096();a.close();a.O6421.O7334()};c+=this.clickSpotHeight;ig.game.isFullAccount&&(this.clickSpotBoost=new UIClickSpot({x:b,y:c},d,!1,null),this.clickSpotBoost.onClick=function(){ig.game.virtualJoystick.O3096();a.close();ig.game.boostDialog.isOpen?ig.game.boostDialog.close():ig.game.boostDialog.open()},c+=this.clickSpotHeight);this.clickSpotSettings=new UIClickSpot({x:b,y:c},d,!1,null);
this.clickSpotSettings.onClick=function(){ig.game.virtualJoystick.O3096();a.close();ig.game.settings.openDialog()};c+=this.clickSpotHeight;this.clickSpotHelp=new UIClickSpot({x:b,y:c},d,!0,"clickSpotHelp");jQuery(this.clickSpotHelp.O5845).click(function(){a.close();ml.Misc.O284(!0)});c+=this.clickSpotHeight},O1326:function(){this.close();var a=ig.game.O172.O1312()?0:ig.game.O172.currentArea,a=""+('<p><img src="'+(ig.game.staticResourcePrefix+
"media/ring-thumb/"+a+".png?v="+ig.game.version)+'" alt=""/></p>');ig.game.alertDialog.open({html:a+'<div class="pseudoLink" onclick="ig.game.areaSearchDialog.open(\'areas 1-8\')" style="text-transform: uppercase; opacity: .6">more...</div>',O3468:!0,O3526:!0})},O1337:function(){this.O745&&(this.O745=!1,ig.game.myLocationDialog.open())},close:function(){this.O2734=this.O1357=null;this.O6330=
!1;this.O7546&&this.O7546.remove();this.clickSpotMyLocation&&this.clickSpotMyLocation.remove();this.clickSpotPaste&&this.clickSpotPaste.remove();this.clickSpotMap&&this.clickSpotMap.remove();this.clickSpotNews&&this.clickSpotNews.remove();this.clickSpotCreateArea&&this.clickSpotCreateArea.remove();this.clickSpotFindAreas&&this.clickSpotFindAreas.remove();this.clickSpotBoost&&this.clickSpotBoost.remove();this.clickSpotSettings&&this.clickSpotSettings.remove();this.clickSpotHelp&&
this.clickSpotHelp.remove();this.parent()}})});ig.baked=!0;
ig.module("game.ui.bottommenu").requires("game.ui.bottommenu-more","game.ui.components.uiclicktext").defines(function(){window.BottomMenu=ig.Class.extend({posRelativeToBottom:{x:4,y:7},pos:{},alpha:0,O6235:{},O241:null,O664:{},O3513:{},O8040:{},O1309:null,O3928:null,O5297:null,O3858:null,O6521:!1,subMenus:[],O6392:[],O3486:null,
alerts:{visited:0,news:0,help:0},O3586:!1,O5669:null,O3965:null,O412:!1,O308:null,O2513:null,O1478:!0,O6828:null,O3689:!1,O3771:null,O4357:null,O5582:!1,seenFlagTagsKey:"seenFlagTags",isOnNewFlagAlertSystemKey:"isOnNewFlagAlertSystem",O6941:-1,init:function(){this.pos={x:4,y:7};this.O5582=120>=(ig.game.O414?
ig.game.O414/60:0)||ig.game.O4269&&1>=ig.game.O4269.rank;this.O6235={x1:0,y1:0,x2:15,y2:10};this.O5582&&(this.O6235.x2+=22);var a=0;ig.ua.mobile&&(a=5,this.O6235.x1-=a,this.O6235.x2+=2*a,this.O6235.y1-=6,this.O6235.y2+=12);!ig.game.O5699&&-1===ig.game.O2814.indexOf(ig.game.O966)&&(this.O412=!0);this.O6911();this.O2731();if(ig.game.O707||
this.O4812())this.O241=(this.O1478=!ig.ua.mobile)?{x1:24,y1:-3,x2:null,y2:8}:{x1:5,y1:4,x2:null,y2:8},this.O5582&&(this.O241.x1+=20),ig.ua.mobile&&(this.O241.x1=9),this.O4812()?this.O241.x2=this.O241.x1+ig.game.O5405.meetPeople.width:(this.O241.x2=this.O241.x1+ig.game.O5405.meetPeopleSmall.width,ig.ua.mobile||(this.O241.x1-=5)),
ig.ua.mobile&&(this.O241.y2+=5);this.alpha=0.7;this.O4812()||(this.alpha-=0.2);!ig.game.isFullAccount&&(ig.game.O4269&&1<=ig.game.O4269.rank)&&(this.O3965={x:parseInt(ig.system.widthHalf-ig.game.O5405.nonFullAccountStatus.width/2),y:ig.system.height-ig.game.O5405.nonFullAccountStatus.height-5},ig.ua.iPad&&(ig.system.height>ig.system.width&&!ig.game.isFullAccount&&this.O412)&&(this.O3965.x-=26),ig.ua.phone?(this.O3965.x=
ig.system.width-ig.game.O5405.nonFullAccountStatus.width-5,this.O3965.y=6):ig.ua.mobile&&ig.system.height>ig.system.width&&(this.O3965.x+=15),this.O664={x1:this.O3965.x-8,y1:this.O3965.y-8,x2:this.O3965.x+ig.game.O5405.nonFullAccountStatus.width+16,y2:this.O3965.y+ig.game.O5405.nonFullAccountStatus.height+16},ig.game.O4855||(this.O3586=!0));for(var b=1;5>=b;b++)this.O6392[b]=ig.game.O5405.getImage(ig.game.O5405["alertIcon"+
b]);this.O3486=ig.game.O5405.getImage(ig.game.O5405.O3486);this.pos.y=ig.system.height-ig.game.O5405.bottomMenuButton.height-this.pos.y;this.subMenus.push(new BottomMenuMore(this.pos.x+this.O6235.x1+a,this.pos.y,this));ig.game.isFullAccount&&this.O1218();this.showFlagsAlertIfNeeded();this.O6941=this.subMenus.length-1},update:function(){ig.game.O6099.O7014(this.O6235,this.pos.x,this.pos.y)&&
(ig.game.O6099.O6375(!0),ml.Misc.O774(),this.O3838(this.O6941));if(ig.game.settings.showMainUI)if(this.O4505(),this.O6911(),this.O2731(),this.O6402(),this.updateClicktextUprankedInfo(),this.O7391(),ig.game.O5442&&ig.game.O6099.O7014(this.O8040,0,0))ig.game.O4803.register(ig.game.O4803.types.TELEPORTED_HOME,
function(){ig.game.O6099.O6375();ig.game.portaller.O4154(ig.game.O5442)});else if(this.O412&&ig.game.O6099.O7014(this.O3513,0,0))ig.game.O6099.O6375(),ig.game.portaller.startExitAreaTeleportingRequest();else if(this.O3928&&ig.game.O6099.O7014(this.O3928,0,0))ig.game.holderDialog.isOpen?
ig.game.holderDialog.close():(console.clear(),console.log("We will try to open a Holder of a specific Id now, which may fail locally if that Id doesn't exist."),ig.game.holderDialog.open(ig.game.isLocal?"55ae5e57f7cb996010d2f958":"55ae6474cbc4a7db27499cb3"));else if(this.O241&&(this.O1478&&ig.game.O6099.O7014(this.O241,this.pos.x,this.pos.y)||ig.game.O6099.O7014(this.O241,this.O241.x1,
this.O241.y1))){ig.game.O4803.register(ig.game.O4803.types.USED_MEET);ig.game.O6099.O6375(!0);var a=[3],a=a[ig.game.O5167(0,a.length-1)];ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest(a)}for(a=0;a<this.subMenus.length;a++)this.subMenus[a].update();ig.input.pressed("f9")&&(!ig.input.state("shift")&&ig.game.userMapDialog&&ig.game.O4269)&&ig.game.userMapDialog.O768();this.O3586&&ig.game.O6099.O7014(this.O664,
0,0)&&(top.location!=self.location?this.O7178():(ig.game.O6099.O6375(!0),this.showLoginDialog()));this.O2409()},O7178:function(){top.location=self.location.href},O6402:function(){if(ig.game.O4932){if(!this.O5297){var a={x:parseInt(ig.system.widthHalf),y:5};this.O5297=new UIClickText(a,"oops! so many people",ig.game.whiteSmallFont,"#ffffff",0.7,void 0,!0);this.O5297.onClick=
function(){var a;a=""+('<p><img src="'+ig.game.staticResourcePrefix+'media/emergency-whale.png" alt="" style="'+("width: "+90*ig.system.scale+"px")+'"/></p>');a+="<p>Sorry, our servers are in coping mode as there's so many people on right now! ";a+="We're working hard to resolve this. In the meantime, you can't see other people around or ";a+="do item searches. Our apologies!";a+="</p>";ig.game.alertDialog.open({html:a,O3468:!0});jQuery("#alertDialog").css("background-color","rgb(107,156,230)").css("color",
"rgb(255,255,255)")}}this.O5297&&this.O5297.update()}},O7391:function(){if(ig.game.O4855){if(!this.O3858){var a={x:parseInt(ig.system.widthHalf),y:5},b=this;this.O3858=new UIClickText(a,"servers are currently upgraded",ig.game.whiteSmallFont,"#ffffff",0.7,void 0,!0);this.O3858.onClick=function(){b.O748()}}this.O3858&&
this.O3858.update()}},O748:function(){var a;a=""+('<p><img src="'+ig.game.staticResourcePrefix+'media/emergency-whale.png" alt="" style="'+("width: "+90*ig.system.scale+"px")+'"/></p>');ig.game.alertDialog.open({html:a+"<p>Sorry, creating, posting, logging in &amp; more are temporarily disabled as we're testing a server upgrade!</p>",O3468:!0});jQuery("#alertDialog").css("background-color","rgb(107,156,230)").css("color","rgb(255,255,255)")},
updateClicktextUprankedInfo:function(){if(ig.game.O4269&&ig.game.isFullAccount&&!this.O1309&&!this.openedUprankedInfo)if(1>=ig.game.O5210&&ig.game.O4269.rank==ig.game.O3626&&!ig.game.O4803.check(ig.game.O4803.types.DID_CREATE_AREA)){var a=this,b={x:parseInt(ig.system.widthHalf),y:this.pos.y+1};this.O1309=new UIClickText(b,"did you know?",ig.game.whiteSmallFont,"#ffffff",0.7,void 0,!0);this.O1309.onClick=
function(){ig.game.alertDialog.O1846("You can now create new areas from the bottom-left menu. Thanks for being in Manyland, and please make yourself at home!");a.openedUprankedInfo=!0;ig.game.sounds.success.play();ig.game.bottomMenu.O1309=null}}else 4==ig.game.O4269.rank&&(ig.game.O4803.check(ig.game.O4803.types.ISSUED_CTEST)&&!ig.game.O4803.check(ig.game.O4803.types.PASSED_CTEST))&&(a=this,b={x:parseInt(ig.system.widthHalf),
y:this.pos.y+1},this.O1309=new UIClickText(b,"did you know?",ig.game.whiteSmallFont,"#ffffff",0.7,void 0,!0),this.O1309.onClick=function(){ig.game.O4803.register(ig.game.O4803.types.PASSED_CTEST);a.openedUprankedInfo=!0;ig.game.sounds.success.play();ig.game.bottomMenu.O1309=null;ig.game.alertDialog.open({text:"You can now edit at spawn zone centers and the inner ring. Thank you for being in Manyland!",O6041:function(){ig.game.O172.O4675()&&
ig.game.portaller.startExitAreaTeleportingRequest()},O3526:!0})});this.O1309&&this.O1309.update()},O2409:function(){if(this.O6828){var a=this.O6828.delta();10<=a&&!this.O3689?(this.O3689=!0,jQuery("#pingFromFriend").fadeOut(1E3,function(){jQuery(this).remove()})):60<=a&&(this.O6828=null,this.O3689=!1)}},O6911:function(){var a=ig.game.O5442?
"elsewhereButtonSmall":"elsewhereButton";ig.ua.mobile?this.O308=ig.game.O5442?{x:3,y:4}:{x:6,y:6}:(this.O308={x:ig.system.width-ig.game.O5405[a].width-6,y:ig.system.height-ig.game.O5405[a].height-6},ig.game.O2050&&(this.O308.x-=58),ig.ua.mobile&&(this.O308.x-=26),ig.game.O5442&&(this.O308.x-=20,this.O308.y+=1));this.O412&&(this.O3513=
{x1:this.O308.x,y1:this.O308.y,x2:this.O308.x+ig.game.O5405[a].width,y2:this.O308.y+ig.game.O5405[a].height},ig.ua.mobile&&(this.O3513.x1-=5,this.O3513.x2+=10,this.O3513.y1-=5,this.O3513.y2+=10));if(!ig.ua.mobile&&ig.game.O707&&(!ig.game.isFullAccount||1>=ig.game.O5210))a=this.O412?this.O308.x-82:ig.system.width-
75,!this.O412&&ig.game.O2050&&(a-=60),this.O3928={x1:a,y1:ig.system.height-11},ig.game.O5442&&(this.O3928.x1-=24),this.O3928.x2=this.O3928.x1+ig.game.O5405.questionsAndFeedbackButton.width,this.O3928.y2=this.O3928.y1+ig.game.O5405.questionsAndFeedbackButton.height},O2731:function(){ig.game.O5442&&
(this.O2513={x:ig.system.width-ig.game.O5405.homeButton.width-5,y:ig.system.height-ig.game.O5405.homeButton.height-5},ig.game.O2050&&(this.O2513.x-=58),ig.ua.mobile&&(this.O2513.x=3,this.O2513.y=28),this.O8040={x1:this.O2513.x,y1:this.O2513.y,x2:this.O2513.x+ig.game.O5405.homeButton.width,y2:this.O2513.y+ig.game.O5405.homeButton.height},ig.ua.mobile&&(this.O8040.y2+=5))},showLoginDialog:function(a){ig.game.O4855?
this.O748():ig.game.isFullAccount?ig.game.alertDialog.O1846("You are already logged in"):(ig.game.playerDialog&&ig.game.playerDialog.isOpen&&ig.game.playerDialog.close(),ig.game.bottomMenu.showLoginDialogWeb(a))},O5045:function(){ig.game.O1132="0.01";ig.game.alertDialog.close();ig.game.O5211.fadeInShroud(function(){window.location.href="//store.steampowered.com/app/342280"})},showLoginDialogSteamAndWeb:function(a,b){var c;c='<div id="loginDialog"><p style="margin-bottom: 0; padding-bottom: 0">';
c=a?c+"<strong>To do this, please get Manyland, also on Steam!</strong>":c+"<strong>Manyland is also on Steam!</strong>";c+="<br/><br/>Create items, areas, build &amp; live with us!<br/>";c+="+ 100 extra boosts!<br/>";c+="+ No ads!<br/>";c+="+ Help support the costs of running Manyland!";c+="</p>";c+='<p style="margin-top: 0; padding-top: 20px"><span class="button" onclick="ig.game.bottomMenu.O5045()" style="cursor: pointer">&gt;&gt; Get at Steam&nbsp;</span></p>';var d=b?"ig.game.alertDialog.close()":
"ig.game.bottomMenu.showLoginDialogWeb()";c+='<div style="border-top: '+ig.system.scale+'px solid rgba(0,0,0,.25); width: 80%; margin-left: auto; margin-right: auto"></div>';ig.game.O2164&&!ml.Misc.O3887()&&!b?c+='<p><span class="pseudoLink" style="color: #777; font-size: 90%" onclick="'+d+'">I have an existing web account...</span></p>':(c+='<p style="margin-bottom: 0; padding-bottom: 0">or '+(b?"take me":"login")+" to the ad-supported</p>",c+='<p style="margin-top: 0; padding-top: 20px"><span class="button" onclick="'+
d+'" style="cursor: pointer">&gt;&gt; web version</span></p>');c+="</div>";ig.game.alertDialog.open({html:c,O3468:!0})},showLoginDialogWeb:function(a){var b=ig.ua.isIOsUIWebView,c='<a class="button" href="/auth/google" onclick="javascript:'+(b?"ig.game.bottomMenu.O4228()":"ig.game.O231.goToFullAccountLogin('google')")+';return false;">&gt;&gt;&nbsp;<span class="service">Google</span>&nbsp;</a>',d;d='<div id="loginDialog"><div style="margin-top: 18px; margin-bottom: 10px">';
d=a?d+'To do this, please login to <img src="//d2eim8cueyd9dt.cloudfront.net/media/logo.png" alt=""/>,<br/>a universe we invent and live together!':d+'Welcome to <img src="//d2eim8cueyd9dt.cloudfront.net/media/logo.png" alt=""/>,<br/>a universe we invent and live together!';d+="</div>";ig.ua.phone||(d+=ml.Misc.O317());d+='<p class="termsMention">If you agree to our spirit &amp; <a href="javascript:ig.game.bottomMenu.O3909()" target="_blank" id="termsLink">terms</a> and are between 13 and Infinity years old, ';
ig.ua.mobile||(d+="<br/>");d+="join us with</p>";d+="<p"+(ig.ua.phone?' style="line-height: 5em"':"")+">";d=b?d+('<a class="button" href="https://manyland.com/auth/facebook" onclick="javascript:ig.game.O231.goToFullAccountLogin(\'facebook\');return false;">&gt;&gt;&nbsp;<span class="service" id="facebook">Facebook</span></a> or <a class="button" href="https://manyland.com/auth/amazon" onclick="javascript:ig.game.O231.goToFullAccountLogin(\'amazon\');return false;">&gt;&gt;&nbsp;<span class="service" id="amazon">Amazon</span></a> <a href="javascript:ig.game.bottomMenu.O3285()" id="buttonsMoreToggle">or...</a> <span id="buttonsMore">'+
c+"</span>"):d+(c+' or <a class="button" href="https://manyland.com/auth/facebook" onclick="javascript:ig.game.O231.goToFullAccountLogin(\'facebook\');return false;">&gt;&gt;&nbsp;<span class="service" id="facebook">Facebook</span></a> <a href="javascript:ig.game.bottomMenu.O3285()" id="buttonsMoreToggle">or...</a> <span id="buttonsMore"><a class="button" href="https://manyland.com/auth/amazon" onclick="javascript:ig.game.O231.goToFullAccountLogin(\'amazon\');return false;">&gt;&gt;&nbsp;<span class="service" id="amazon">Amazon</span></a></span>');
d+="</p>";d+="</div>";ig.game.alertDialog.close();ig.game.alertDialog.open(d,!0,null,null,!0,!0,!0);ig.game.O914.setItem("didSeeTrailer","1")},O4228:function(){ig.game.alertDialog.close();ig.game.alertDialog.O8429("PLEASE OPEN manyland.com/#token IN YOUR MOBILE BROWSER, LOGIN, COPY THE TOKEN, AND PASTE HERE:",void 0,ig.game.bottomMenu.O5597,void 0,!1,!0,void 0,void 0,void 0,void 0,!0)},O5597:function(a){a&&ig.game.O7421.O3649(a,
this).done(function(){window.location.reload()}).fail(function(a,c){ig.game.alertDialog.open("oops, that didn't work... ");ig.game.sounds.nocando.play()})},O3285:function(){jQuery("#buttonsMore").toggle()},O3909:function(){ig.game.alertDialog.close();ig.game.alertDialog.open('<iframe src="/info#etiquette" style="width: 95%; height: 315px" sandbox></iframe>',!0,ig.game.bottomMenu.showLoginDialog)},O3838:function(a){this.subMenus[a].isOpen?this.subMenus[a].close():(this.O1682(),
this.subMenus[a].open())},O609:function(){this.subMenus&&(this.subMenus[this.O6941]&&this.subMenus[this.O6941].isOpen)&&this.subMenus[this.O6941].close()},draw:function(){if(ig.game.settings.showMainUI){this.O412&&(ig.game.O5442?ig.game.O5405.O571(this.O308.x,this.O308.y,this.alpha):ig.game.O5405.O3207(this.O308.x,this.O308.y,
this.alpha));if(this.O241){var a=this.O1478?{x:this.pos.x,y:this.pos.y+1}:{x:0,y:0};this.O4812()?ig.game.O5405.O3868(a.x+this.O241.x1,a.y+this.O241.y1,this.alpha):ig.game.O5405.O7951(a.x+this.O241.x1,a.y+this.O241.y1,this.alpha)}this.O3928&&ig.game.O5405.draw(this.O3928.x1,this.O3928.y1,this.alpha,
ig.game.O5405.questionsAndFeedbackButton)}a=this.alpha;ig.game.settings.showMainUI||(a*=0.3);this.O5582?ig.game.O5405.O1047(this.pos.x+1,this.pos.y-0-1,a):ig.game.O5405.O2036(this.pos.x+1,this.pos.y+0,a);for(a=0;a<this.subMenus.length;++a)this.subMenus[a].draw();ig.game.settings.showMainUI&&ig.game.O5442&&ig.game.O5405.O8353(this.O2513.x,this.O2513.y,this.alpha);ig.game.isFullAccount?
ig.game.settings.showMainUI&&this.O8087():this.O3586&&ig.game.O5405.O8015(this.O3965.x,this.O3965.y,this.alpha);ig.ua.phone&&this.O3586&&ig.game.O5405.O8015(this.O3965.x,this.O3965.y,this.alpha);ig.game.settings.showMainUI&&(this.O1309&&this.O1309.draw(),this.O5297&&this.O5297.draw(),this.O3858&&
this.O3858.draw());this.O3505()},O4812:function(){return!(ig.game.O4269&&ig.game.isFullAccount&&ig.game.O4269.rank&&2<=ig.game.O4269.rank&&7<=ig.game.O5210)},O3505:function(){if(ig.game.isFullAccount&&(!ig.game.O4803.check(ig.game.O4803.types.DID_INWORLD_BUILD)||!ig.game.O4803.check(ig.game.O4803.types.DID_INWORLD_REMOVE))){var a=ig.system.width/2,b=ig.system.height-
17;ig.ua.phone&&(b-=14);var c="Ctrl-Click";ig.ua.mobile?c="Double-Tap":ig.ua.mac&&(c="Cmd-Click");c=ig.game.isEditorHere?"Welcome!"+(" Drag a block to build.\n"+c+" a block to remove."):" To build, go to an area\nwhere you can edit.";ml.Misc.O3941(c,a,b,1)}},O8087:function(){if(!this.subMenus[this.subMenus.length-1].isOpen){var a=this.O5227();0<a&&this.O5838(this.pos.x+7,this.pos.y-2,a)}},O5227:function(){var a=0,b;for(b in this.alerts)if("uprankedInfo"!=
b&&("news"!=b||this.O3936()))a+=this.alerts[b];return a},O3936:function(){return ig.game.O4269&&2<=ig.game.O4269.rank&&!ig.game.isLocal},O5838:function(a,b,c){c>this.O6392.length?this.O3486&&this.O3486.draw(a,b):this.O6392[c]&&this.O6392[c].draw(a,b)},O2848:function(){this.O1682()},O1682:function(){},O1218:function(){var a=this;setTimeout(function(){ig.game.O7421.O7803().done(function(b){a.alerts.news=
b});ig.game.bottomMenu.O4912()},5E3)},O4912:function(){var a=this;setTimeout(function(){ig.game.O7421.O7358().done(function(b){0<(b&&b.count)&&a.O4773()})},3E3)},O7334:function(){ig.game.O7421.O7906(this).done(function(a){for(var b="",c,d,e=0;e<a.length;e++){d=a[e];ig.game.isFullAccount||(d.unread=!1);c=new Date(d.date);var f=[];d.unread&&f.push("newsIsUnread");d.isImportant&&f.push("newsIsImportant");b+='<p class="'+
f.join(" ")+'">'+this.O1273(d.text)+'<span class="newsDate">'+ig.game.strings.O6583(c)+"</span></p>"}ig.game.alertDialog.open('<div class="news">'+(b+'<p class="newsAlso">&gt;&gt; Also on <span class="pseudoLink" onclick="ml.Misc.openUrl(\'https://twitter.com/ManylandNews\')">Twitter</span> and <span class="pseudoLink" onclick="ml.Misc.openUrl(\'https://www.facebook.com/manylandnews\')">Facebook</span></p>')+"</div>",!0,null,null,null,!0);this.alerts.news=0})},O1273:function(a){var b=
-1==a.indexOf("manyland.com/#");a=ig.game.strings.O4334(a);return a=ig.game.strings.O4621(a,b,!0)},O7654:function(){var a=this;ig.game.O7421.O2039(this.O3771,this).done(function(b){b&&ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest(a.O4357)})},O4773:function(){jQuery("#pingFromFriend").remove();jQuery("#newMift").remove();jQuery("#flagsAlert").remove();jQuery('<div id="newMift" style="'+this.O7921()+
'"><span class="pseudolink" onclick="ig.game.bottomMenu.O7064()">You received a new Mift!</span></div>').appendTo("body");ig.game.sounds.new_mift.play()},O7921:function(){var a="bottom: "+9*ig.system.scale+"px; font-size: "+(6+2*ig.system.scale)+"px;";return a=ig.ua.shouldGetAds?a+("width: "+ig.system.width*ig.system.scale+"px;"):a+"width: 100%;"},O7107:function(){this.clearUnseenFlagTags();ig.game.flagsAlert?this.showFlagsAlertIfNeeded():ig.game.alertDialog.O1300('<p style="color: green"><strong>\u2713</strong> There\'s no flags alert for you at the moment.</p>')},
showFlagsAlertIfNeeded:function(){ig.game.flagsAlert?(this.unseenFlagTags=this.getUnseenFlagTags(),1<=this.unseenFlagTags.length&&("true"!=localStorage.getItem(this.isOnNewFlagAlertSystemKey)?(localStorage.setItem(this.isOnNewFlagAlertSystemKey,"true"),this.O288()):(jQuery("#pingFromFriend").remove(),jQuery("#newMift").remove(),jQuery("#flagsAlert").remove(),jQuery('<div id="flagsAlert" style="'+this.O7921()+'"><span class="pseudolink" onclick="ig.game.bottomMenu.showFlagsAlertDialog()">You have flag reports</span></div>').appendTo("body")))):
this.clearUnseenFlagTags()},getUnseenFlagTags:function(){var a=[];if(ig.game.flagsAlertTags){var b=localStorage.getItem(this.seenFlagTagsKey);if(b)try{b=JSON.parse(b)}catch(c){console.log("--------- Invalid Json in seenFlagTags")}if(!b||!Array.isArray(b))b=[];for(var d=0;d<ig.game.flagsAlertTags.length;d++){var e=ig.game.flagsAlertTags[d];-1===b.indexOf(e)&&a.push(e)}}return a},O288:function(){localStorage.setItem(this.seenFlagTagsKey,JSON.stringify(ig.game.flagsAlertTags))},clearUnseenFlagTags:function(){localStorage.removeItem(this.seenFlagTagsKey)},
showFlagsAlertDialog:function(){var a="";this.O288();jQuery("#flagsAlert").remove();a+='<p style="text-align: left">We hope showing you the flag reasons you received helps avoid a future automatic ban:</p>';a+='<ul style="color: red">';if(this.unseenFlagTags)for(var b=0;b<this.unseenFlagTags.length;b++){var c=this.unseenFlagTags[b],d="",e=null;switch(c){case "writable etiquette issues":e="/info#writableEtiquette",d=", like personal attacks or discussing account issues"}c=ig.game.strings.O4334(c);
e&&(c='<a href="'+e+'" target="_blank" style="color: red">'+c+"</a>");c+=ig.game.strings.O4334(d);a+="<li>"+c+"</li>"}a+="</ul>";a+='<p style="text-align: left">';a+='Flags in Manyland are often given in regards to harassment, personal attacks, griefing or other things against <span class="pseudoLink" onclick="ml.Misc.openUrl(\'//manyland.com/info#etiquette\')">the terms</span>. Thanks!';a+="</p>";ig.game.alertDialog.open(a,!0,null,null,null,!0)},O7064:function(){jQuery("#newMift").remove();
ig.game.sounds.click.play();ig.game.playerDialog.O3657();ig.game.playerDialog.doSparkleMiftsButton=!0},receivedPing:function(a,b,c,d){var e=!1;if(ig.game.settings&&ig.game.settings.onlyFriendsCanPingUs){var f=this;ig.game.O4120.O3434(a,this).done(function(g){e=!g;f.O6261(a,b,c,d,e)})}else this.O6261(a,b,c,d,e)},O6261:function(a,b,c,d,e){this.O3771=a;this.O4357=c;var f="ig.game.playerDialog.openForPlayerId('"+
ig.game.strings.O4334(a)+"')",f=""+('<span class="pseudolink" onclick="'+f+'">'+ig.game.strings.O4334(b)+"</span>"),f=f+" pings you from ";if(0==c||"0"==c)f+="inner ring";else if(ig.game.areaDialog){var g=c,h="12345678".split(""),g="0"==c?"inner ring":0<=h.indexOf(String(c))?"outer ring":ig.game.areaDialog.O3325(g,!0);c='<span class="pseudolink" onclick="ig.game.bottomMenu.O7654()">'+ig.game.strings.O4334(g)+"</span>";f+=c;!e&&ig.game.friendsDialog&&ig.game.friendsDialog.O8121(a,
c);ig.game.O3501&&ig.game.O3501.O8121(a,b,c)}d&&(f+=" ("+ig.game.strings.O4334(d)+")");!e&&!this.O6828&&(jQuery("#pingFromFriend").remove(),jQuery("#newMift").remove(),jQuery('<div id="pingFromFriend" style="'+this.O7921()+'">'+f+"</div>").appendTo("body"),ig.game.sounds.ping.play(),this.O6828=new ml.Timer)},O5393:function(){this.O810()&&(ig.game.O4132.O569(),ig.system.context.globalAlpha=
this.alpha,ig.game.whiteSmallFont.draw(ig.game.O4269.screenName,ig.game.topLeftUIPos.x+22,ig.game.topLeftUIPos.y+2),ig.system.context.globalAlpha=1)},O810:function(){return ig.game.O4269&&0>=ig.game.O4269.rank},O4505:function(){this.O810()&&this.O7347()&&(ig.game.O6099.O6375(!1),0==ig.game.O4269.rank?ig.game.O4132.O1730():ig.game.playerDialog.O3657())},O7347:function(){var a=
ig.game.O6099.O6849(ig.game.topLeftUIPos.x,ig.game.topLeftUIPos.y-5,ig.game.topLeftUIPos.x+ig.game.namePxWidth+18,ig.game.topLeftUIPos.y+9);a&&ig.game.O6099.O4013();return a&&ig.game.O6099.O5632()}})});ig.baked=!0;
ig.module("game.ui.painter").requires("game.ui.interactingdialog","game.ui.thingreferencesdialog").defines(function(){window.Painter=ig.Class.extend({types:{solidGroup:{title:"solid",iconRow:1},solid:{title:"solid",key:"SOLID",iconRow:1,O2904:1,O3205:3,parent:"solidGroup"},passable:{title:"one-way",key:"PASS",O3205:3,O3167:!0,iconRow:18,O2904:19,parent:"solidGroup"},sticky:{title:"Sticky",key:"STICKY",O2904:47,iconRow:9,parent:"solidGroup"},backGroup:{title:"back",
iconRow:22},thingBack:{title:"back",key:"DECOBG",O2904:35,iconRow:22,parent:"backGroup"},farBack:{title:"far back",key:"FARBACK",iconRow:22,O3205:0,tileSize:{width:38,height:38},O6600:!0,parent:"backGroup"},thingGroup:{title:"thing",iconRow:14},thing:{title:"thing",key:"DECO",O3205:1,O2904:15,parent:"thingGroup"},thingFront:{title:"thing in front",key:"DECOFG",O3205:1,O2904:16,parent:"thingGroup"},furry:{title:"furry",key:"FURRY",tileSize:{width:11,
height:19},O2904:61,parent:"thingGroup"},clothy:{title:"clothy",key:"CLOTHY",tileSize:{width:11,height:11},O2904:62,parent:"thingGroup"},drifty:{title:"drifty",key:"DRIFTY",tileSize:{width:11,height:19},O2904:63,parent:"thingGroup"},changingThingGroup:{title:"changing thing",iconRow:15},animatedThing:{title:"changing thing",key:"DECOANIM",O1369:!0,O3205:1,iconRow:15,O2904:36,parent:"changingThingGroup"},touchableThing:{title:"changing on touch",key:"DECOTCH",O1369:!0,
O3205:2,O2904:36,parent:"changingThingGroup"},lively:{title:"lively thing",key:"LIVELY",O2904:42,O1369:!0,O3205:0,parent:"changingThingGroup"},sparkling:{title:"sparkling",key:"SPARKLING",O1369:!0,O3205:0,iconRow:15,O2904:54,parent:"changingThingGroup"},thrower:{title:"item thrower",key:"THROWER",iconRow:37,O2904:41,O1369:!0,O3205:1,O3167:!0,O7403:!0,O519:!0,parent:"changingThingGroup"},bigThingGroup:{title:"big thing",
iconRow:44},bigThing:{title:"big thing",key:"DECOBIG",O2904:59,O3205:0,tileSize:{width:38,height:38},O8231:!0,iconRow:44,parent:"bigThingGroup",O7707:!0},backAndFrontThing:{title:"back + front",key:"DECOFB",O3205:1,O2904:21,O1369:!0,tileSize:{width:38,height:38},O8231:!0,parent:"bigThingGroup"},transforming:{title:"transforming",key:"TRANSFORM",O3205:0,O6600:!0,tileSize:{width:38,height:38},O1392:!0,O519:!0,
parent:"bigThingGroup"},veryBigThing:{title:"very big thing",key:"DECOVBIG",O2904:59,O3205:0,tileSize:{width:57,height:57},O8231:!0,iconRow:44,parent:"bigThingGroup",O7707:!0},livingGroup:{title:"living",iconRow:5},living:{title:"flipping living",key:"LIVING",flips:!0,O3205:0,iconRow:5,O2904:39,parent:"livingGroup",tileSize:{width:29,height:29},O8231:!0},livingChanging:{title:"changing living",key:"LIVANIM",O3205:0,iconRow:5,O2904:39,
O1369:!0,parent:"livingGroup",tileSize:{width:29,height:29},O8231:!0},livingMoving:{title:"moving living",key:"LIVMOV",O3205:0,iconRow:5,O2904:37,O1369:!0,parent:"livingGroup",tileSize:{width:29,height:29},O8231:!0},holdableGroup:{title:"holdable",iconRow:17},holdableItem:{title:"item",key:"STACKHOLD",O3205:0,O2904:25,O8231:!0,parent:"holdableGroup"},equipment:{title:"equipment",key:"EQUIPMENT",O3205:0,O2904:25,O8231:!0,
O2283:!0,parent:"holdableGroup"},emitter:{title:"emitter",key:"EMITTER",O3205:0,O2904:25,O8231:!0,O1369:!0,O2283:!0,parent:"holdableGroup"},consumable:{title:"consumable",key:"CONSUMAB",O3205:0,O2904:25,O8231:!0,O2283:!0,parent:"holdableGroup"},aimable:{title:"aimable",key:"AIMABLE",O3205:0,O8231:!0,O1369:!0,parent:"holdableGroup"},hook:{title:"swing line",key:"HOOK",O3205:0,O2904:25,O8231:!0,
parent:"holdableGroup"},liner:{title:"liner",key:"LINER",O3205:0,O2904:25,O8231:!0,parent:"holdableGroup"},climbable:{title:"climbable",key:"CLIMB",iconRow:19,O3205:2,O2904:20},crumblingGroup:{title:"crumbling",iconRow:14},crumbling:{title:"crumbling",key:"CRUMBLING",O2904:14,parent:"crumblingGroup"},flexible:{title:"flexible",key:"FLEXIBLE",O2904:53,O1369:!0,O3205:1,parent:"crumblingGroup"},pushingGroup:{title:"pushing",iconRow:16},pushing:{title:"pushing",
key:"PUSH",O3167:!0,iconRow:16,O2904:17,parent:"pushingGroup"},pushingDiagonal:{title:"diagonal pushing",key:"PUSHDIAG",O3167:!0,iconRow:16,O2904:18,O4677:!0,parent:"pushingGroup"},bouncyGroup:{title:"bouncy",iconRow:10},bouncy:{title:"bouncy",key:"BOUNCEY",O3167:!0,O2904:10,parent:"bouncyGroup"},tiltedBouncy:{title:"tilted bouncy",key:"BOUNCEYT",O3167:!0,O2904:11,parent:"bouncyGroup",O4677:!0},movingGroup:{title:"moving",key:"MOVING",iconRow:3,
O2904:3},moving:{title:"moving",key:"MOVING",O2904:3,parent:"movingGroup"},mover:{title:"mover",key:"MOVER",O3205:0,parent:"movingGroup"},slidey:{title:"slidey",key:"SLIDEY",iconRow:7,O2904:7},slopeGroup:{title:"slope",iconRow:11},slope:{title:"slope",key:"SLOPE",O4677:!0,O3167:!0,O2904:12,parent:"slopeGroup",O3205:2},slideySlope:{title:"slidey slope",key:"SLSLOPE",O4677:!0,O3167:!0,O2904:13,parent:"slopeGroup",O3205:2},
passableSlope:{title:"passable slope",key:"PASSSLOPE",O4677:!0,O3167:!0,O2904:12,parent:"slopeGroup",O3205:0},liquid:{title:"liquid",key:"LIQUID",iconRow:26,O2904:27,O1369:!0,O3205:3},transportGroup:{title:"transporting",iconRow:20,O3205:3},transport:{title:"transporting",key:"PORTAL",iconRow:20,O1369:!0,O3205:3,parent:"transportGroup"},dirTransport:{title:"dir. transport.",key:"PORTALDIR",iconRow:20,O1369:!0,O3167:!0,
O3205:3,parent:"transportGroup"},activatorGroup:{title:"activator",iconRow:8,O2904:8,O3205:0},activator:{title:"activator",key:"ACTIVATOR",iconRow:8,O2904:8,O3205:0,parent:"activatorGroup"},activatableOpen:{title:"open on activate",key:"OPENABLE",O2904:9,parent:"activatorGroup"},activatableThing:{title:"chn. on activator",key:"DECOACT",O1369:!0,O3205:2,O2904:38,parent:"activatorGroup"},walkable:{title:"walkable",key:"WALKABLE",O2904:48,
parent:"backGroup"},bodyGroup:{title:"body",iconRow:12},body:{title:"body",key:"STACKWEARB",O3205:0,O1392:!0,O519:!0,tileSize:{width:29,height:29},parent:"bodyGroup",O8231:!0},motion:{title:"motion",key:"MOTION",O3205:0,tileSize:{width:29,height:29},O1369:!0,O8231:!0,parent:"bodyGroup"},wearableGroup:{title:"wearable",iconRow:4},wearableBig:{title:"wearable",key:"STACKWEAR",O3205:0,O1369:!0,O2904:34,tileSize:{width:38,
height:38},parent:"wearableGroup"},wearable:{title:"smaller wearable",key:"STACKWEAR",O3205:0,O1369:!0,O2904:34,parent:"wearableGroup"},instrument:{title:"instrument",key:"STACKINSTR",O3205:0,iconRow:36,O2904:45,O8231:!0},soundGroup:{title:"music",iconRow:28},music:{title:"music",key:"MUSIC",iconRow:28,O2904:44,O3205:0,O519:!0,parent:"soundGroup"},musicSheet:{title:"music sheet",key:"MUSICSHEET",iconRow:28,O1392:!0,O3205:0,
O6600:!0,tileSize:{width:32,height:36},parent:"soundGroup"},lightGroup:{title:"light",iconRow:24},light:{title:"light",key:"LIGHT",O2904:33,O3205:0,parent:"lightGroup",O519:!0},lighttop:{title:"top light",key:"LIGHTTOP",O2904:5,O3205:0,parent:"lightGroup",O519:!0},fillLight:{title:"fill light",key:"FILLLIGHT",O2904:5,O3205:0,parent:"lightGroup",O519:!0},vignette:{title:"surround light",key:"VIGNETTE",
O2904:5,O3205:0,parent:"lightGroup",O519:!0},glow:{title:"light glow",key:"GLOW",O2904:6,O3205:0,parent:"lightGroup",O1369:!0,tileSize:{width:38,height:38}},environmentGroup:{title:"environment",iconRow:33,O2904:46},environment:{title:"environment",key:"ENVIRONM",O3205:0,iconRow:33,O2904:46,O519:!0,parent:"environmentGroup"},interactiveEnvironment:{title:"Interactive Env.",key:"INTERENV",O3205:0,O2904:51,
parent:"environmentGroup"},mountableGroup:{title:"mountable",iconRow:35},mountableGround:{title:"mountable",key:"MNTGROUND",iconRow:35,O3205:0,O519:!0,tileSize:{width:38,height:38},O1369:!0,O8011:!0,parent:"mountableGroup",O8231:!0},mountableAir:{title:"flying mountable",key:"MNTAIR",iconRow:35,O3205:0,O519:!0,tileSize:{width:38,height:38},O1369:!0,O8011:!0,parent:"mountableGroup",O8231:!0},gatherable:{title:"Gatherable",
key:"GATHER",O1369:!0,O3205:0,O2904:43,iconRow:43},placesGroup:{title:"Places",iconRow:39},pointer:{title:"pointer",key:"POINTER",O2904:24,O3205:0,tileSize:{width:38,height:38},parent:"placesGroup"},placeName:{title:"place name",key:"PLACENAME",O2904:49,O3205:0,O8231:!0,tileSize:{width:38,height:38},parent:"placesGroup"},harmfulGroup:{title:"harmful",iconRow:2},harmful:{title:"harmful",key:"HARM",iconRow:27,O2904:28,parent:"harmfulGroup",
O519:!0},harmfulAnim:{title:"changing harmful",key:"HARMANIM",O1369:!0,iconRow:27,O2904:28,parent:"harmfulGroup",O519:!0},deadly:{title:"deadly",key:"DEADLY",iconRow:2,O2904:2,parent:"harmfulGroup",O519:!0},deadlyMoving:{title:"deadly moving",key:"DEADLYMV",iconRow:4,O2904:4,parent:"harmfulGroup",O519:!0},deadlyEmerge:{title:"deadly emerging",key:"DEADLYEM",O3167:!0,iconRow:25,O2904:26,parent:"harmfulGroup",
O519:!0},viewableGroup:{title:"viewable",iconRow:34,O2904:40},viewable:{title:"viewable",key:"VIEWABLE",O2904:40,O1392:!0,tileSize:{width:38,height:38},O3205:0,O6600:!0,parent:"viewableGroup"},medium:{title:"medium",key:"MEDIUM",O3205:0,parent:"viewableGroup"},textualGroup:{title:"Textual",iconRow:40},readable:{title:"Readable",key:"READABLE",O2904:50,O3205:0,parent:"textualGroup"},writable:{title:"Writable",key:"WRITABLE",
O3205:0,parent:"textualGroup",O4917:2},holderGroup:{title:"Holder",iconRow:29},holder:{title:"holder",key:"HOLDER",O3205:0,O1369:!0,O519:!0,tileSize:{width:29,height:29},parent:"holderGroup"},multithing:{title:"multi",key:"MULTITHING",O2904:60,O3205:0,O1369:!0,tileSize:{width:38,height:38},parent:"holderGroup"},interactingGroup:{title:"interacting",iconRow:42},interacting:{title:"interacting",key:"INTERACT",O2904:52,O3205:0,
iconRow:5,O1369:!0,tileSize:{width:29,height:29},parent:"interactingGroup"},interactingMotion:{title:"interact. motion",key:"INTERMOT",O3205:0,tileSize:{width:29,height:29},O1369:!0,parent:"interactingGroup"},helper:{title:"helper",key:"HELPER",O3205:0,parent:"interactingGroup",O2904:58},dynamicThing:{title:"dynamic",key:"DYNATHING",O1392:!0,iconRow:38,O3205:0,tileSize:{width:29,height:29},O6600:!0},mift:{title:"mift",key:"MIFT",iconRow:46,
O2904:57,O3205:0,O4917:2}},isRunning:!1,O2126:!1,O4176:19,O1135:19,tileWidth:null,O336:null,pageZoom:1,O1083:8,O4410:8,O2500:0,selectedCell:0,O4835:0,O4716:5,O3562:11,maxColors:56,transparentIndex:11,O6750:11,O3519:2,maxCells:2,O4379:0,O3691:null,cursorX:null,cursorY:null,O7567:!1,O1257:!1,O7998:!1,
O5113:"nameInput",O7999:!1,context:null,images:{},imagePath:null,mode:"default",modeOld:"default",O1050:!0,O4826:[],O3294:{},O2546:2,O2657:17,O6642:null,timeouts:{preview:null,O1621:null,O1275:null,O5993:null,drawBig:null},O1275:!1,O6592:"default",oldData:{name:null,type:null,direction:null},O674:null,O7202:[],O54:50,O6070:0,
directionMax:4,O3576:8,O2796:0,O4532:!1,O2014:!1,drawImageMessageMaxOpacity:0.6,O5504:null,O3895:!1,O2535:2,O8252:2,O1577:11,O4395:8,bodyCells:{stand:0,walk:1,jump:2,fall:3,climb:4,create:5,sit:6,blink:7,talk:8},bodyCellsOld:{stand:0,walk:1,jump:2,fall:3,climb:4,create:5,blink:6},O5159:null,previewColor:{r:0,g:0,b:0,alpha:1},backgroundRgb:{r:154,g:150,b:145,alpha:1},canvasOverlayRgb:{r:125,
g:125,b:125,alpha:1},O4335:{},O5997:10,O5985:{},O6659:null,O5385:null,areas:null,data:null,O4744:null,O4296:"rgb(182,179,175)",O2743:!0,O2941:0,O1621:1,O6588:2,O2212:6,O5333:null,avatarTemplatePosition:{x:0,y:0,rotation:0},O4869:null,O6444:null,colorPickerType:"b",colorPickerB:{rgbaBase:null,rgbaTint:null,
baseY:null,tintX:null},O2628:!0,O5933:!1,interactingDialog:null,thingReferencesDialog:null,O7161:!1,O5234:!1,lastPointDrawn:{x:null,y:null},O462:!1,O3223:!1,lastPixelSeenOnClick:{x:null,y:null},O942:"DYNATHING LIVING LIVANIM MOTION STACKHOLD STACKWEAR DECOANIM INTERMOT DECOTCH EQUIPMENT EMITTER CONSUMAB GATHER MNTGROUND MNTAIR ENVIRONM VIEWABLE ACTIVATOR OPENABLE HOLDER BRAIN CHANGER MIFT HAPPENING MOVER FARBACK TRANSFORM".split(" "),
brushType:0,O8446:5,instruments:[],musicSheetSpecialIndex:{10:"terminator"},O5212:void 0,noteDelayMSDefault:250,noteDelayMSMin:50,noteDelayMSMax:2E3,O4978:50,O4438:5E3,O3245:5E3,O5410:1E5,O7224:60,O2663:!1,showGrid:!1,O2547:!1,painterCanvasSize:{x:166,y:240},O5984:0,O2238:!1,O6604:["dynamicThing","farBack","lively"],O2672:!1,
typesWithNoLivePreviewEver:["interacting","happening","changer"],livePreviewOffset:{x:0,y:0},O881:!1,O7243:9,O3866:4,O5115:!1,O6796:!1,O3621:null,O5554:1E3,O3743:!0,O7211:0,O1532:!1,O3665:!1,O310:[],O8016:[],O560:{},O5547:null,O6598:87,O7723:0.4,
O7723Default:0.4,init:function(a){this.O2126||(this.imagePath="/media/painter/",ml.Misc.O5752()||(this.imagePath="//static.manyland.com"+this.imagePath),this.O6059(),this.pageZoom=ig.system.scale,this.backgroundImage=a,this.O7706(),ig.game.O4269&&10<=ig.game.O4269.rank&&(this.types.sound={title:"sound",key:"SOUND",O2904:44,O3205:0,parent:"soundGroup"},this.types.ringPortal={title:"ring portal",key:"PORTALR",
O1369:!0,parent:"transportGroup"},this.types.musical={title:"musical",key:"MUSICAL",parent:"soundGroup"}),ig.ua.mobile&&!ig.game.hasMinfinity&&delete this.types.mift,this.O2643(),this.O2463(),this.O6750=this.transparentIndex,this.O6955())},O2643:function(){for(var a in this.types){var b=this.types[a];if(void 0==b.tileSize||null==b.tileSize)b.tileSize={width:this.O4176,height:this.O1135}}},O6059:function(){this.instruments=
this.O3183(ig.game.sounds.instruments);this.instruments.splice(10,0,null);this.instruments.splice(this.transparentIndex,0,null)},O5552:function(){var a=this.data&&this.data.type&&this.types[this.data.type].tileSize?this.types[this.data.type].tileSize:null;a?(this.tileWidth=a.width,this.O336=a.height):(this.tileWidth=this.O4176,this.O336=this.O1135);var b=this.data&&("motion"==this.data.type||"interactingMotion"==this.data.type);this.O1083=
this.tileWidth==ig.game.O5286&&this.O336==ig.game.O5286?4:this.tileWidth==ig.game.O8356&&this.O336==ig.game.O8356?2.665:29==this.tileWidth&&29==this.O336||b?5.23:32==this.tileWidth&&36==this.O336?4.23:76==this.tileWidth?2:this.O4410;var a={x1:0,y1:0,width:166,height:261},c={width:this.tileWidth*this.O1083-1,height:this.O336*this.O1083-1},d={width:this.O4176*this.O1083-1,height:this.O1135*
this.O1083-1};this.O1083!=this.O4410&&(d={width:this.tileWidth*this.O1083-1,height:this.O336*this.O1083-1},b&&(d={width:this.types.body.tileSize.width*this.O1083,height:this.types.body.tileSize.height*this.O1083-1+1},c.height+=1));var b={x1:a.width/2-c.width/2,y1:13+d.height-c.height},e={x1:7,y1:13};this.areas={all:a,drawing:c,O2698:d,O7962:b,O7647:e,typeIcon:{width:13,height:10},typePickerGrid:{width:81,height:10},drawBigMessage:{x1:c.width/
2+b.x1-30.5,y1:c.height/2+b.y1-7.5,width:61,height:15},textBoxPadding:{x1:2,y1:6},colorPicker:{x1:e.x1,y1:168,x2:e.x1+d.width,y2:194},typePicker:{x1:1,y1:16,width:164,y2:177},typePickerSelections:{x1:2,y1:27,width:162,height:170},typePickerSingleSelection:{x1:3,y1:3,width:17,height:17},closeButton:{x1:155,y1:2,x2:163,y2:10},colorPickerDialog:{x1:1,y1:2,x2:163,y2:169},colorPickerDialogInner:{x1:2,y1:2,x2:163,y2:171},colorPickerCloseButton:{x1:157,y1:4,x2:163,y2:11},colorPickerDot:{width:2,height:2},
colorPickerTypeToggler:{x1:3,y1:4,x2:9,y2:11},colorPickerB_base:{x1:148,y1:13,x2:163,y2:172},colorPickerB_tintOff:{x1:15,y1:4,x2:23,y2:10},colorPickerB_tint:{x1:25,y1:4,x2:146,y2:10},colorPickerB_main:{x1:2,y1:13,x2:147,y2:173},palettePageButton:{x1:146,y1:184,width:11,height:9},paletteBox:{width:12,height:12},paletteBoxes:{x1:8,y1:168},changeColor:{x1:4,y1:115,x2:161,y2:232},changeColorCloseButton:{x1:144,y1:116,x2:157,y2:127},changeColorOffset:{x1:5,y1:4,width:39,height:33},changeColorToggleStrength:{x1:132,
y1:94,width:4,height:4},betweenColorAndColorPicker:{y1:182},menu:{x1:6,y1:9,width:98,height:165},menuButton:{x1:7,y1:3,x2:17,y2:9},menuSymmetry:{x1:44,y1:34,x2:0,y2:0},mirrorFlipRotateSeparator1:{x1:37,y1:0},mirrorFlipRotateSeparator2:{x1:63,y1:0},symmetryLineX:{x1:82,y1:13,x2:83,y2:164},symmetryLineY:{x1:6,y1:88,x2:164,y2:83},cell0:{x1:21,y1:3,width:37,height:10},cell1:{x1:59,y1:3,width:36,height:10},playMusicButton:{x1:30,y1:217,width:30,height:9},convertMusicSheetButton:{x1:30,y1:227,width:30,
height:9},sizeButton:{x1:30,y1:217,width:30,height:9},needsButton:{x1:30,y1:227,width:30,height:9},timeButton:{x1:30,y1:217,width:30,height:9},givesButton:{x1:30,y1:227,width:30,height:9},useAtGetButtons:{x1:24,y1:2,width:124,height:10},useButton:{x1:97,y1:2,width:25,height:10},hasButton:{x1:124,y1:2,width:25,height:10},holdableButton:{x1:124,y1:2,width:25,height:10},motionIdButton:{x1:124,y1:2,width:25,height:10},wearableButton:{x1:97,y1:2,width:25,height:10},protectPercentButton:{x1:70,y1:2,width:25,
height:10},moverUseButton:{x1:43,y1:2,width:25,height:10},toButton:{x1:20,y1:3,width:25,height:10},drawTogetherButton:{x1:20,y1:3,width:34,height:9},dynamicTextButton:{x1:29,y1:217,width:30,height:9},specsButton:{x1:29,y1:217,width:30,height:9},dynamicHelpButton:{x1:29,y1:227,width:30,height:9},dynamicEmitsButton:{x1:61,y1:217,width:30,height:9},linerAddEnvironmentButton:{x1:96,y1:2,width:25,height:10},linerAddAtButton:{x1:124,y1:2,width:25,height:10},creditButton:{x1:114,y1:2,width:25,height:10},
useButtonAlternative:{x1:122,y1:2,width:25,height:10},multiCells:{x1:22,y1:3,width:108,height:10},optionalThirdCell:{x1:108,y1:3,width:30,height:10},cellAdd:{x1:134,y1:4,width:6,height:6},cellRemove:{x1:144,y1:4,width:6,height:6},fontSize:{width:4,height:4},drawInBothCells:{x1:108,y1:3,width:33,height:9},changeDirection:{x1:30,y1:225,width:11,height:11},changeBehavior:{x1:61,y1:217,width:30,height:9},soundButton:{x1:61,y1:217,width:30,height:9},changeAttributes:{x1:61,y1:227,width:30,height:9},changeNoteDelay:{x1:61,
y1:227,width:30,height:9},pasteButton:{x1:61,y1:227,width:30,height:9},pasteButtonAlternative:{x1:29,y1:227,width:30,height:9},rightsButton:{x1:30,y1:217,width:30,height:9},example:{x1:30,y1:217,x2:57,y2:236},moveAvatarArrows:{x1:30,y1:217,x2:58,y2:236},exampleText:{x1:30,y1:217,width:30,height:8},preview:{x1:7,y1:217,x2:7+this.O4176,y2:217+this.O1135},O4517:{x1:8,y1:201,x2:79,y2:207},changeTypeFuzzy:{x1:83,y1:197,width:83,height:18},changeType:{x1:86,y1:201,x2:158,y2:207},
createButton:{x1:121,y1:219,x2:157,y2:234},attributesPager:{x1:141,y1:17,width:9,height:9}};this.areas.textualButton={x1:this.areas.multiCells.x1+this.areas.multiCells.width/2,y1:this.areas.multiCells.y1,width:15,height:9};this.areas.textualButtonWhenAnimated=ig.game.O5662(this.areas.textualButton);this.areas.textualButtonWhenAnimated.x1+=40;this.areas.interactingHelpButton=ig.game.O5662(this.areas.textualButtonWhenAnimated);this.areas.interactingHelpButton.x1-=15;this.areas.helpButton=
ig.game.O5662(this.areas.textualButtonWhenAnimated);this.areas.helpButton.x1+=25;this.areas.brainHelpButton=ig.game.O5662(this.areas.helpButton);this.areas.thingReferencesButton=ig.game.O5662(this.areas.textualButtonWhenAnimated);this.areas.thingReferencesButton.x1+=19;this.O4744=this.areas.fontSize.width*this.pageZoom+'px "Press Start 2P"';this.O159()},O159:function(){for(var a in this.areas){var b=this.areas[a];if(void 0==b.x1||null==b.x1)b.x1=
0;if(void 0==b.y1||null==b.y1)b.y1=0;this.areas[a]=b.width?{x1:parseInt(b.x1),y1:parseInt(b.y1),x2:parseInt(b.x1+b.width),y2:parseInt(b.y1+b.height),width:parseInt(b.width),height:parseInt(b.height)}:b.x2?{x1:parseInt(b.x1),y1:parseInt(b.y1),x2:parseInt(b.x2),y2:parseInt(b.y2),width:parseInt(b.x2-b.x1),height:parseInt(b.y2-b.y1)}:{x1:parseInt(b.x1),y1:parseInt(b.y1),x2:0,y2:0,width:0,height:0}}},O3145:function(){var a=jQuery("#"+ig.game.canvasId),b=a.position(),c=a.width(),a=jQuery('<canvas id="painter" style="position:absolute"/>');
a.attr("width",this.painterCanvasSize.x*ig.system.scale);a.attr("height",this.painterCanvasSize.y*ig.system.scale);a.css("width",this.painterCanvasSize.x*ig.system.scale+"px");a.css("height",this.painterCanvasSize.y*ig.system.scale+"px");b=b.left+c/2-this.painterCanvasSize.x*ig.system.scale/2;c=10*ig.system.scale;ig.ua.mobile&&ig.system.O1004()&&(c=0*ig.system.scale);a.css("top",c+"px");a.css("left",b+"px");a.appendTo("body");this.canvas=document.getElementById("painter")},O6714:function(){jQuery("#painter").remove();
ig.game.O3713()},launch:function(){ig.game.boostDialog&&ig.game.boostDialog.isOpen&&ig.game.boostDialog.close();this.O3145();this.O5234=!1;this.O1436();ig.game.O4269.accel={x:0,y:0};this.O5933=this.O1275=!1;this.lastPointDrawn={x:null,y:null};this.O3223=this.lineKeyIsPressed=!1;this.lastPixelSeenOnClick={x:null,y:null};this.O6796=this.O2663=!1;this.O3621=null;this.isRunning=!0;ig.game.O6310=
ig.game.O4269.O6310=!0;this.data=this.O7091();this.colorPickerType=localStorage.getItem("colorPickerType");"a"!=this.colorPickerType&&"b"!=this.colorPickerType&&(this.colorPickerType=ig.ua.mobile?"b":"a");this.O2654();var a=this.O5682();if(a)try{this.O1275=!1;this.O7507();this.data=this.O7091();this.O4582(a);var b=this;setTimeout(function(){b.oldData={name:null,type:null,direction:null};b.O415();b.O1275=!0;
b.O6321()},200)}catch(c){ig.game.errorManager.warn("Creator backup cleared due to issue"),this.O5934(),this.O1275=!0}else if(this.O7507(),this.data=this.O7091(),this.O4869&&(this.O7324(this.O4869),this.O4869=null),this.O6444){for(var d in this.O6444)this.data.prop[d]=this.O6444[d];this.O6444=null}ig.ua.phone&&ig.system.width>ig.system.height&&
ig.game.alertDialog.open({html:"<p>Please rotate device to portrait&nbsp;mode to create</p>",O3526:!0,O6041:ig.game.painter.O5322});ig.game.motionDialog&&ig.game.motionDialog.O5076("create")},O7507:function(){this.O2463();this.O1770();this.areas.all={x1:0,y1:0,width:this.canvas.width,height:this.canvas.height};var a;a=this.backgroundImage.data instanceof HTMLImageElement?this.O8427(this.backgroundImage.data).toDataURL("image/png"):
this.backgroundImage.data.toDataURL("image/png");this.canvas.style.backgroundImage="url("+a+")";this.context=this.canvas.getContext("2d");this.context.webkitImageSmoothingEnabled=!1;this.context.mozImageSmoothingEnabled=!1;this.context.imageSmoothingEnabled=!1;this.context.lineWidth=1*this.pageZoom;this.O2126||(this.O7651(["spritesheet"]),this.O5078());this.O6612();this.O6408();this.changePreviewColor();1>=ig.game.O4269.rank&&this.fadeInDrawBigMessage();
this.O7058();this.O2126=!0;this.O415();this.O1275=!0},O2463:function(){this.tileWidth=this.O4176;this.O336=this.O1135;this.O1083=this.O4410;this.O5552();this.O4826=[];this.O3349();this.selectedCell=this.O2500=0;this.O6588=2;this.O4379=this.selectedCell;this.O6750=this.transparentIndex;this.O2014=this.O4532=
this.O3895=!1;this.O5159=null;this.previewColor={r:0,g:0,b:0,alpha:1};this.O5385=null;this.O5984=this.O4835=this.palettePage=this.O2796=0;this.maxCells=ig.game.O1509;if(this.data&&0<=["dynamicThing","happening","musicSheet","farBack","transforming"].indexOf(this.data.type)&&(this.O2212="transforming"==this.data.type?this.O3866:"farBack"==this.data.type?this.O7243:9,this.O6588=
1,this.data.pixels)){var a=this.O7791();if(0<=a&&(this.O6588=a+1,"dynamicThing"==this.data.type&&this.data.prop&&this.data.prop.text))for(;0<=this.data.prop.text.toLowerCase().indexOf("cell "+(this.O6588+1))&&this.O6588<this.O2212;)this.O6588++}this.data&&(this.data.type&&this.types[this.data.type]&&this.types[this.data.type].O1392)&&(this.maxCells=ig.game.O1509);this.data&&(this.data.type&&this.types[this.data.type].O6600)&&
(this.maxCells=this.O2212);this.data&&0<=["motion","interactingMotion","holder"].indexOf(this.data.type)&&(this.maxCells=3);this.avatarTemplatePosition={x:11,y:14,rotation:0}},O7791:function(){var a=-1;if(this.data&&this.data.pixels)for(var b=0;b<this.data.pixels.length;b++)this.O2569(b)&&(a=b);return a},O2654:function(){if(!this.O7999){var a=this.data&&this.data.name&&""!=this.data.name?ig.game.strings.O4334(this.data.name):"",a=jQuery('<input type="text" class="painterInputBox" id="'+
this.O5113+'" value="'+a+'" placeholder="Name..." maxLength="'+ig.game.validations.itemName.maxLength+'" autocomplete="off" />'),b=jQuery("#painter"),c=b.position();b.width();var b=ig.system.scale,d=69*b,e=7*b,f=8*b,g=201*b;a.appendTo("body");a.css("padding","0");a.css("width",d+"px");a.css("height",e+"px");a.css("font-size",Math.floor(4*b)+"px");a.css("border-width",1*b+"px");a.css("left",c.left+f);a.css("padding-left",3*b+"px");a.css("top",c.top+g);a.css("opacity",""+this.O5836);
var h=this;jQuery("#"+this.O5113).keyup(function(a){13==a.keyCode&&h.O1231()});a.css("visibility","visible");this.O7999=!0}},O605:function(){jQuery("#"+this.O5113).remove();this.O7999=!1},O1231:function(){if(ig.ua.mobile||jQuery("#"+this.O5113).is(":focus")){jQuery("#"+this.O5113).blur();jQuery("#painter").focus();var a=jQuery("#"+this.O5113).val();if(a&&(this.data.name=ig.game.validations.itemName.clean(a),jQuery("#"+this.O5113).val(this.data.name),
this.data.name!=a&&ig.game.strings.trim(this.data.name)!=ig.game.strings.trim(a)&&this.data.name.toLowerCase()!=a.toLowerCase()?ig.game.alertDialog.open('Adjusted name to "'+this.data.name+'"'):this.O2221(this.data.name)&&!this.O7161&&this.O1427(),this.data.prop&&this.data.prop.attributes&&0<=this.data.prop.attributes.indexOf("toArea"))){var b=this,a=ig.game.strings.O1360(this.data.name,"to ");ig.game.O7421.O2438(a).done(function(a){a.ok&&
(b.O714(b.data.name),b.data.name="",jQuery("#"+b.O5113).val(b.data.name),ig.game.sounds.nocando.play())})}}},O1427:function(){ig.game.alertDialog.open({html:'<p>Please note that copyrighted creations are against the <span class="pseudoLink" onclick="ml.Misc.openUrl(\'/info#terms\')">terms</span>. Thanks!</p>',O3526:!0});this.O7161=!0},O2221:function(a){for(var b=!1,c="mario yoshi sonic pikachu starbound terraria".split(" "),
d=0;d<c.length&&!b;d++)b=0<=a.indexOf(c[d]);return b},O5078:function(){this.O4022();this.O7938();this.O6276();this.O4542();this.O91();this.O6557("changeColorDialog",0,0,158,117);this.O6557("drawBig",98,163,61,15);this.O6557("drawBig3Borders",98,179,61,15);this.O6557("drawBig2Borders",98,212,
61,15);this.O6557("drawBig1Border",30,212,55,15);this.O6557("drawBig5x5",98,232,61,15);this.O6557("colorPickerButton",0,117,12,9);this.O6557("helpButton",326,547,11,9);this.O6557("textualButton",310,547,15,9);this.O6557("thingReferencesButton",338,547,11,9);this.O6557("textualButton_active",310,557,15,9);this.O6557("thingReferencesButton_active",338,557,11,9);this.O6557("addSound",
99,441,50,6);this.O6557("removeSound",99,451,59,6);this.O6557("menu",375,ig.ua.mobile?510:327,this.areas.menu.width,this.areas.menu.height);ig.ua.mobile?this.O6557("canvasHelp",228,494,63,4):this.O6557("canvasHelp",228,489,77,4);this.O6557("canvasHelpAnimated",228,484,58,4);this.O6557("playMusicSheetButtonOff",334,ig.ua.mobile?402:380,this.areas.playMusicButton.width,this.areas.playMusicButton.height);
this.O6557("playMusicSheetButtonOn",334,ig.ua.mobile?413:391,this.areas.playMusicButton.width,this.areas.playMusicButton.height);this.O6557("convertMusicSheetButton",334,479,this.areas.convertMusicSheetButton.width,this.areas.convertMusicSheetButton.height);this.O6557("needsButton",231,426,this.areas.sizeButton.width,this.areas.needsButton.height);this.O6557("sizeButton",231,436,this.areas.sizeButton.width,this.areas.sizeButton.height);
this.O6557("timeButton",262,426,this.areas.sizeButton.width,this.areas.needsButton.height);this.O6557("givesButton",262,436,this.areas.sizeButton.width,this.areas.needsButton.height);this.O6557("givesButton_active",262,446,this.areas.sizeButton.width,this.areas.needsButton.height);this.O6557("canvasHelpOverlay",1,564,108,4);this.O6557("canvasHelpSit",1,569,94,4);this.O6557("buyNowButton",227,598,
38,16);this.O6557("soundButton",231,446,30,9);this.O6557("soundButton_active",231,456,30,9);this.O6557("attributesPager",267,601,9,9);this.O6557("useAtGetButtons",325,259,124,10);this.O6557("useButton",334,357,25,10);this.O6557("hasButton",334,368,25,10);this.O6557("motionIdButton",334,331,25,10);this.O6557("motionIdButtonActive",334,342,25,10);this.O6557("creditButton",
413,201,32,10);this.O6557("holdableButton",308,468,25,10);this.O6557("holdableButtonActive",334,468,25,10);this.O6557("wearableButton",256,499,25,10);this.O6557("wearableButtonActive",282,499,25,10);this.O6557("protectPercentButton",256,468,25,10);this.O6557("protectPercentButtonActive",282,468,25,10);this.O6557("moverUseButton",256,510,25,10);this.O6557("moverUseButtonActive",
282,510,25,10);this.O6557("dynamicTextButton",334,600,30,9);this.O6557("dynamicHelpButton",334,610,30,9);this.O6557("dynamicEmitsButton",334,620,30,9);this.O6557("dynamicEmitsButtonActive",334,630,30,9);this.O6557("specsButton",334,640,30,9);this.O6557("toButton",449,296,25,9);this.O6557("toButtonActive",449,306,25,9);this.O6557("drawTogetherButton",449,192,34,9);
this.O6557("drawTogetherButtonActive",449,202,34,9);this.O6557("linerAddEnvironmentButton",415,271,25,10);this.O6557("linerAddEnvironmentButtonActive",415,282,25,10);this.O6557("linerAddAtButton",441,271,25,10);this.O6557("linerAddAtButtonActive",441,282,25,10);this.O6557("moveShortcutHi",101,202,43,5);this.O6557("menuArrowUp",81,117,11,7);this.O6557("symmetryLineX",
158,0,1,152);this.O6557("symmetryLineY",282,173,152,1);this.O6557("typePicker",0,257,194,182);this.O6557("colorPicker_typeA",324,0,164,172);this.O6557("colorPicker_typeB",160,0,164,172);this.O6557("musicDataFull",464,177,14,8);this.O6557("changeBehavior",98,154,this.areas.changeBehavior.x2-this.areas.changeBehavior.x1,this.areas.changeBehavior.y2-this.areas.changeBehavior.y1);this.O6557("changeAttributes",
98,123,this.areas.changeAttributes.x2-this.areas.changeAttributes.x1,this.areas.changeAttributes.y2-this.areas.changeAttributes.y1);this.O6557("changeNoteDelay",334,489,this.areas.changeNoteDelay.width,this.areas.changeAttributes.height);this.O6557("pasteButton",128,154,30,9);this.O6557("rightsButton",413,192,30,9);this.O6557("checkboxUnchecked",0,208,8,8);this.O6557("checkboxChecked",9,208,8,8);this.O6557("radioButtonUnchecked",
0,217,8,8);this.O6557("radioButtonChecked",9,217,8,8);this.O6557("cells0active",197,172,73,10);this.O6557("cells1active",197,182,73,10);this.O6557("livePreviewPlayButton",13,118,7,7);this.O6557("cellsMotion0active",324,224,118,10);this.O6557("cellsMotion1active",324,234,118,10);this.O6557("cellsMotion2active",324,245,118,10);this.O6557("cellsInteractingMotion0active",
324,295,118,10);this.O6557("cellsInteractingMotion1active",324,305,118,10);this.O6557("cellsInteractingMotion2active",324,316,118,10);this.O6557("cellsHolder0active",228,566,118,10);this.O6557("cellsHolder1active",228,576,118,10);this.O6557("cellsHolder2active",228,587,118,10);this.O6557("cellsMultithing0active",228,636,73,10);this.O6557("cellsMultithing1active",228,646,73,10);this.O6557("cellsWearable0active",
197,197,73,10);this.O6557("cellsWearable1active",197,207,73,10);this.O6557("cellsEmitter0active",326,271,73,10);this.O6557("cellsEmitter1active",326,281,73,10);this.O6557("cellsAimable0active",227,615,73,10);this.O6557("cellsAimable1active",227,625,73,10);this.O6557("cellsGatherable0active",300,447,73,10);this.O6557("cellsGatherable1active",300,457,73,10);this.O6557("cellsBackAndFrontThing0active",
300,425,73,10);this.O6557("cellsBackAndFrontThing1active",300,435,73,10);for(var a=282,b=190,c=0;c<ig.game.O1509;c++)this.O6557("multiCell"+c,a+12*c,b,12,11),this.O6557("multiCell"+c+"active",a+12*c,b+11,12,11);a=239;b=524;for(c=0;c<ig.game.O1509;c++)this.O6557("multiCellDynamic"+c,a+12*c,b,12,11),this.O6557("multiCellDynamic"+c+"Active",a+12*c,b+11,12,11);this.O6557("viewableBase",
309,502,18,10);this.O6557("viewableBaseActive",309,513,18,10);this.O6557("viewableMoreCell",328,502,18,10);this.O6557("viewableMoreCellActive",328,513,18,10);this.O6557("multiBase",309,524,18,10);this.O6557("multiBaseActive",309,535,18,10);this.O6557("multiMoreCell",309,524,12,10);this.O6557("multiMoreCellActive",309,535,12,10);this.O6557("moreCellAdd",347,504,6,
6);this.O6557("moreCellRemove",356,504,6,6);this.O6557("avatarModel_cell1",192,218,128,128);this.O6557("avatarModel_cell2",322,218,128,128);this.O6557("moveAvatarArrows",68,132,29,19);this.O6557("avatarTemplate",241,307,80,108);this.O6557("avatarTemplateBack",0,442,88,108)},O1770:function(){var a="slope slideySlope body viewable glow multiAnimatedThing".split(" "),b;for(b in this.types)if(-1==
a.indexOf(b)){var c=this.types[b];c.O3205&&0!=c.O3205&&(c.O3205Original||(c.O3205Original=c.O3205),3>c.O3205Original&&2>ig.game.O4269.rank&&(c.O3205=3),2<=ig.game.O4269.rank&&(c.O3205=0))}},O4022:function(){var a,b=98,c=132;for(a=0;a<this.directionMax;a++)this.O6557("directionArrow_"+a,b+11*a,c,11,11),this.O6557("directionArrowDiagonal_"+a,b+11*a,c+11,
11,11);b=0;c=243;for(a=0;a<this.O3576;a++)this.O6557("multiDirectionArrow_"+a,b+11*a,c,11,11)},O4542:function(){for(var a=1;a<this.O5997;a++)this.O6557("rank_"+a,288+12*a,175,12,10)},O91:function(){var a=ig.game.O8430.info,b;for(b in a){var c=this.O6687(b),d;for(d in a[b]){var e=a[b][d].icon;e||(e=ig.game.O8430.O2829(d));e&&this.O6557(c+
"_attribute_"+d,1+12*(e-1),705,11,8)}}},O7938:function(){for(var a in this.types){var b=this.types[a].O2904;if(b){var c=489,d=0;59<b?(b-=59,c=116,d=457):35<b&&(b-=35,c=199,d=225);b=d+20*(b-1)+1;if(this.types[a].O3167&&!this.types[a].O7403)for(d=0;d<this.directionMax;d++)this.O6557("example_"+a+"_"+d,c+28*d,b,27,19);else this.O6557("example_"+a,c,b,27,19)}}},O6276:function(){for(var a in this.types){var b=
this.types[a].iconRow;b&&this.O6557("typeIcon_"+a,168,172+(b-1)*this.areas.typeIcon.height,this.areas.typeIcon.width,this.areas.typeIcon.height)}},O6557:function(a,b,c,d,e,f){if(null==f||void 0==f)f="spritesheet";this.O5985[a]={spritesheet:f,x:b,y:c,width:d,height:e}},O6687:function(a){var b="";"LQDFLIP"==a&&(a="LIQUID");for(var c in this.types)if(this.types[c].key==a){b=c;break}return b},O6408:function(){this.O7160Bound=this.O7160.bind(this);
this.O1020Bound=this.O1020.bind(this);this.O1272Bound=this.O1272.bind(this);this.handleMouseWheelBound=this.O6829.bind(this);ig.ua.mobile?(this.O3079(this.canvas,"touchstart",this.O7160Bound),this.O3079(this.canvas,"touchend",this.O1020Bound),this.O3079(this.canvas,"touchmove",this.O1272Bound)):(this.O3079(this.canvas,"mousedown",this.O7160Bound),this.O3079(this.canvas,"mouseup",this.O1020Bound),
this.O3079(this.canvas,"mousemove",this.O1272Bound),this.O3079(this.canvas,"mousewheel",this.handleMouseWheelBound),this.O3079(this.canvas,"DOMMouseScroll",this.handleMouseWheelBound));this.O2417Bound=this.O2417.bind(this);this.O2417Bound=this.O2417.bind(this);this.O6805Bound=this.O6805.bind(this);this.O3994Bound=this.O3994.bind(this);this.O3079(window,"keydown",this.O2417Bound);this.O3079(window,
"keyup",this.O6805Bound);this.O3079(this.canvas,"dblclick",this.O3994Bound)},O6612:function(){this.O180(this.canvas,"mousedown",this.O7160Bound);this.O180(this.canvas,"mouseup",this.O1020Bound);this.O180(this.canvas,"mousemove",this.O1272Bound);this.O180(this.canvas,"mousewheel",this.handleMouseWheelBound);this.O180(this.canvas,"DOMMouseScroll",this.handleMouseWheelBound);this.O180(this.canvas,"touchstart",
this.O7160Bound);this.O180(this.canvas,"touchend",this.O1020Bound);this.O180(this.canvas,"touchmove",this.O1272Bound);this.O180(window,"keydown",this.O2417Bound);this.O180(window,"keyup",this.O6805Bound);this.O180(this.canvas,"dblclick",this.O3994Bound)},O3079:function(a,b,c){var d=a.addEventListener,e=!d&&a.attachEvent;d?a.addEventListener(b,c,!1):e&&a.attachEvent("on"+b,c)},O180:function(a,b,c){var d=
a.addEventListener,e=!d&&a.attachEvent;d?a.removeEventListener(b,c,!1):e&&a.detachEvent("on"+b,c)},O481:function(){return"cloneOld"==this.mode||this.thingReferencesDialog&&this.thingReferencesDialog.isOpen||this.data&&0<="interactiveEnvironment gatherable dynamicThing happening liner mover".split(" ").indexOf(this.data.type)||this.data&&this.data.type&&0<=this.O942.indexOf(this.types[this.data.type].key)||this.data&&this.data.type&&this.types[this.data.type].O2283},
O4582:function(a,b){this.O3621=a.id;a&&(0<=["HAPPENING","BRAIN","GENERATOR","CHANGER"].indexOf(a.type)?(ig.game.sounds.nocando.play(),this.close(!0)):this.O4080(this.O6687(a.type))?this.O7895(a,b):ig.game.O4132.O2959())},O592:function(a){if(this.data&&this.data.colors){this.O6321();var b=this;ig.game.O7421.getItemImageDataFromPng_P(a).done(function(a){if(a&&a.imageData&&a.imageData.colors){b.data.colors=b.O6594();
for(var d=0;d<a.imageData.colors.length&&d<b.data.colors.length;d++)b.data.colors[d]=a.imageData.colors[d];b.O415();ig.game.sounds.success.play()}})}},O7895:function(a,b){ig.game.errorManager.setContext("painterCloningOldThing");var c=this.data&&this.data.prop?this.data.prop.toId:null;this.O2463();this.data={name:a.name,type:a.type,direction:a.direction,prop:{musicData:null,textData:null,text:"",thingRefs:[],reactsTo:[],creditUrl:null,soundId:null,noteDelayMS:this.noteDelayMSDefault,
attributes:[],useKeyword:null,atKeyword:null,getId:null,backTileCount:null,motionId:null,hasId:null,emitsId:null,boundingBox:null,boundingBox2:null,environmentId:null,specs:null,clonedFrom:null,changerId:null,holdableId:null,secPerTransform:null,wearableId:null,protectPercent:null},colors:this.O3433(a.colors),pixels:[]};this.data.type&&this.data.type==this.data.type.toUpperCase()&&(this.data.type=this.O6687(a.type));"STACKWEAR"==a.type&&(this.data.type=a.pixels[0].length==this.types.wearable.tileSize.width?
"wearable":"wearableBig");a.prop&&(this.data.prop=ig.game.O5662(a.prop));b&&(this.data.prop.clonedFrom=b);this.O2463();this.data.pixels||(this.data.pixels=[]);for(var d=0;d<this.maxCells;d++)this.data.pixels[d]=this.O5440();d=a.pixels&&a.pixels[0]&&a.pixels[0][0]?a.pixels[0][0].length:ig.game.tileSize;if(((a.pixels&&a.pixels[0]?a.pixels[0].length:ig.game.tileSize)!=this.tileWidth||d!=this.O336)&&"motion"!=this.data.type&&"interactingMotion"!=this.data.type&&"holder"!=
this.data.type)if("body"==this.data.type&&7==a.pixels.length)for(d=0;6>d;d++)this.data.pixels[d]=this.O2968(a.pixels[d]);else for(d=0;d<a.pixels.length;d++)this.data.pixels[d]=this.O2968(a.pixels[d]);else for(d=0;d<a.pixels.length;d++)this.data.pixels[d]=this.O6127(a.pixels[d]);this.O3122();this.O6840();this.O7433();this.data.name&&jQuery("#"+this.O5113).val(this.data.name);
ig.game.errorManager.O3784("painterCloningOldThing");ig.game.alertDialog&&ig.game.alertDialog.isOpen&&ig.game.alertDialog.close();this.O7324(this.data.type);this.O6321();c&&(this.data&&"mift"==this.data.type&&this.data.prop)&&(this.data.prop.toId=c);this.O415()},O4080:function(a){var b=!0;a&&(this.types&&this.types[a]&&this.types[a].O4917)&&(b=ig.game.O4269.rank>=this.types[a].O4917);return b},O7651:function(a){for(var b=a.length,c=0;c<b;c++){var d=
a[c];this.images[d]=new Image;this.images[d].crossOrigin="Anonymous";var e=this;this.images[d].onload=function(){e.update()};this.images[d].src=this.imagePath+d+".png?v="+ig.game.version}},update:function(){this.context&&(this.clearRect(this.areas.all.x1,this.areas.all.y1,this.areas.all.width,this.areas.O4517.y1-2),this.O1207(),this.O6405(),this.O3662(),this.O8366(),this.O5686(),this.O7040())},O7040:function(){if(this.data&&
this.data.type&&this.types[this.data.type].O4917){var a=this.types[this.data.type].O4917;if(a>ig.game.O4269.rank){this.drawImage("rank_"+a,this.areas.O7962.x1+this.areas.drawing.width/2-6,this.areas.O7962.y1+this.areas.drawing.height/2-5);var b=this;null!=this.timeouts.O5993&&clearTimeout(this.timeouts.O5993);this.timeouts.O5993=setTimeout(function(){b.O5993()},1E3);ig.game.O4132.O2959()}}},
updateStaticTemplateIfNeeded:function(){if(this.data&&this.data.type)if(0<=["dynamicThing","holder","happening","backAndFrontThing"].indexOf(this.data.type))this.context.fillStyle="rgba(0,0,0,.15)",this.fillRect(this.areas.O7962.x1+Math.round(this.types[this.data.type].tileSize.width/2-ig.game.O1990)*this.O1083,this.areas.O7962.y1+Math.round(this.types[this.data.type].tileSize.height-ig.game.tileSize)*this.O1083,ig.game.tileSize*this.O1083,ig.game.tileSize*
this.O1083);else if("wearableBig"==this.data.type){var a=this.areas.O7962.x1+10*this.O1083,b=this.areas.O7962.y1+11*this.O1083,c="avatarTemplate";1==this.selectedCell&&(c+="Back",a-=2*this.O1083);this.drawImageWithAlpha(c,a,b,0.35)}else this.types[this.data.type].O8011&&this.drawImageWithAlpha("avatarTemplate",this.areas.O7962.x1+(this.avatarTemplatePosition.x-1)*this.O1083,this.areas.O7962.y1+(this.avatarTemplatePosition.y-3)*this.O1083,
0.35)},O415:function(){this.oldData.type=null;this.oldData.name=null;this.context&&(this.context.fillStyle=this.O4296,this.clearRect(this.areas.all.x1,this.areas.all.y1,this.areas.all.width,this.areas.all.height));this.update()},O5686:function(){if("menu"==this.mode){var a=0.88;this.drawImage("menuArrowUp",this.areas.menuButton.x1,this.areas.menuButton.y1);this.drawImageWithAlpha("menu",this.areas.menu.x1,this.areas.menu.y1,a);this.context.fillStyle="rgba(255,255,255,.4)";
this.fillRect(this.areas.menu.x1+9+15*(this.brushType+1),115,13,13);var b=null;this.data.type&&0<=this.O942.indexOf(this.types[this.data.type].key)?b=this.data.prop&&this.data.prop.soundId?"removeSound":"addSound":(b="addSound",a=0.4);this.drawImageWithAlpha(b,this.areas.menu.x1+4,this.areas.menu.y1+124,a)}},O8366:function(){this.clearRects(["multiCells"]);if(void 0!=this.data.type&&null!=this.data.type&&this.types[this.data.type]){if(this.types[this.data.type].O1369&&"glow"!=
this.data.type){var a="";0<="wearable emitter gatherable motion holder aimable interactingMotion backAndFrontThing multithing".split(" ").indexOf(this.data.type)?a=ig.game.strings.toUpperCaseFirst(this.data.type):"wearableBig"==this.data.type&&(a="Wearable");this.drawImage("cells"+a+this.selectedCell+"active",this.areas.cell0.x1,this.areas.cell0.y1);this.types[this.data.type].O8011&&this.drawImage("moveAvatarArrows",this.areas.example.x1,this.areas.example.y1);"aimable"==this.data.type?this.drawImage("specsButton",
this.areas.specsButton.x1,this.areas.specsButton.y1):"interacting"==this.data.type?(this.drawImage("helpButton",this.areas.interactingHelpButton.x1,this.areas.interactingHelpButton.y1),a="textualButton"+(this.interactingDialog&&this.interactingDialog.isOpen?"_active":""),this.drawImage(a,this.areas.textualButtonWhenAnimated.x1,this.areas.textualButtonWhenAnimated.y1),a="thingReferencesButton"+(this.thingReferencesDialog&&this.thingReferencesDialog.isOpen?"_active":""),this.drawImage(a,this.areas.thingReferencesButton.x1,
this.areas.thingReferencesButton.y1)):"gatherable"==this.data.type&&(this.drawImage("useButton",this.areas.useButton.x1,this.areas.useButton.y1),this.drawImage("hasButton",this.areas.hasButton.x1,this.areas.hasButton.y1));"holder"==this.data.type?(this.drawImage("helpButton",this.areas.helpButton.x1,this.areas.helpButton.y1),2==this.selectedCell&&(this.context.fillStyle=this.O356(this.canvasOverlayRgb),this.fillRect(this.areas.O7962.x1,this.areas.O7962.y1,this.O1083*
this.tileWidth,10*this.O1083),this.fillRect(this.areas.O7962.x1,this.areas.O7962.y1,5*this.O1083,29*this.O1083),this.fillRect(this.areas.O7962.x1+24*this.O1083,this.areas.O7962.y1,5*this.O1083,29*this.O1083))):"multithing"==this.data.type&&this.drawImage("helpButton",this.areas.helpButton.x1,this.areas.helpButton.y1)}else if("sound"==this.data.type)this.drawImage("creditButton",this.areas.creditButton.x1,this.areas.creditButton.y1);
else if("generator"==this.data.type)this.drawImage("textualButton",this.areas.textualButton.x1,this.areas.textualButton.y1),this.drawImage("helpButton",this.areas.brainHelpButton.x1,this.areas.brainHelpButton.y1);else if("readable"==this.data.type)this.drawImage("textualButton",this.areas.textualButton.x1,this.areas.textualButton.y1),this.drawImage("helpButton",this.areas.helpButton.x1,this.areas.helpButton.y1);else if("mift"==this.data.type)a="toButton"+(this.data.prop&&this.data.prop.toId?"Active":
""),this.drawImage(a,this.areas.toButton.x1,this.areas.toButton.y1),a="textualButton"+(this.data.prop&&this.data.prop.text?"_active":""),this.drawImage(a,this.areas.textualButton.x1,this.areas.textualButton.y1),ig.game.hasMinfinity||this.drawImage("buyNowButton",this.areas.createButton.x1,this.areas.createButton.y1),a="soundButton"+(this.data.prop&&this.data.prop.soundId?"_active":""),this.drawImage(a,this.areas.changeBehavior.x1,this.areas.changeBehavior.y1);else if(this.types[this.data.type].O7707)a=
"drawTogetherButton"+(this.O3665?"Active":""),this.drawImage(a,this.areas.drawTogetherButton.x1,this.areas.drawTogetherButton.y1);else if("brain"==this.data.type)this.drawImage("textualButton",this.areas.textualButton.x1,this.areas.textualButton.y1),this.drawImage("helpButton",this.areas.brainHelpButton.x1,this.areas.brainHelpButton.y1);else if("interactiveEnvironment"==this.data.type)this.drawImage("useAtGetButtons",this.areas.useAtGetButtons.x1,this.areas.useAtGetButtons.y1);else if(0<=
["glow","viewable"].indexOf(this.data.type))0==this.selectedCell&&(this.context.fillStyle=this.O356(this.canvasOverlayRgb),this.fillRect(this.areas.O7962.x1,this.areas.O7962.y1,38*this.O1083,9*this.O1083),this.fillRect(this.areas.O7962.x1,this.areas.O7962.y1+28*this.O1083,38*this.O1083,10*this.O1083),this.fillRect(this.areas.O7962.x1,this.areas.O7962.y1,9*this.O1083,38*this.O1083),this.fillRect(this.areas.O7962.x1+
28*this.O1083,this.areas.O7962.y1,10*this.O1083,38*this.O1083)),"viewable"==this.data.type?this.O2522("viewable"):this.drawImage("cells"+this.selectedCell+"active",this.areas.cell0.x1,this.areas.cell0.y1);else if(this.types[this.data.type].O6600)this.O2522("multi"),"dynamicThing"==this.data.type?(this.drawImage("dynamicTextButton",this.areas.dynamicTextButton.x1,this.areas.dynamicTextButton.y1),this.drawImage("dynamicHelpButton",
this.areas.dynamicHelpButton.x1,this.areas.dynamicHelpButton.y1),a="dynamicEmitsButton"+(this.data.prop&&this.data.prop.emitsId?"Active":""),this.drawImage(a,this.areas.dynamicEmitsButton.x1,this.areas.dynamicEmitsButton.y1)):"farBack"==this.data.type?(this.drawImage("dynamicTextButton",this.areas.dynamicTextButton.x1,this.areas.dynamicTextButton.y1),this.drawImage("dynamicHelpButton",this.areas.dynamicHelpButton.x1,this.areas.dynamicHelpButton.y1)):"happening"==this.data.type?(this.drawImage("dynamicTextButton",
this.areas.dynamicTextButton.x1,this.areas.dynamicTextButton.y1),this.drawImage("dynamicHelpButton",this.areas.dynamicHelpButton.x1,this.areas.dynamicHelpButton.y1)):"musicSheet"==this.data.type&&(this.drawImage("playMusicSheetButton"+(this.O5212?"On":"Off"),this.areas.playMusicButton.x1,this.areas.playMusicButton.y1),this.drawImage("convertMusicSheetButton",this.areas.convertMusicSheetButton.x1,this.areas.convertMusicSheetButton.y1),this.drawImage("changeNoteDelay",this.areas.changeNoteDelay.x1,
this.areas.changeNoteDelay.y1));else if("music"==this.data.type)this.data.prop&&this.data.prop.musicData&&this.drawImage("musicDataFull",this.areas.createButton.x1-18,this.areas.createButton.y1+4);else if("mover"==this.data.type)this.drawImage("dynamicTextButton",this.areas.dynamicTextButton.x1,this.areas.dynamicTextButton.y1),this.drawImage("dynamicHelpButton",this.areas.dynamicHelpButton.x1,this.areas.dynamicHelpButton.y1),a="holdableButton"+(this.data.prop.holdableId?"Active":""),this.drawImage(a,
this.areas.holdableButton.x1,this.areas.holdableButton.y1),a="wearableButton"+(this.data.prop.wearableId?"Active":""),this.drawImage(a,this.areas.wearableButton.x1,this.areas.wearableButton.y1),a="protectPercentButton"+(this.data.prop.protectPercent?"Active":""),this.drawImage(a,this.areas.protectPercentButton.x1,this.areas.protectPercentButton.y1),a="moverUseButton"+(this.data.prop.useKeyword?"Active":""),this.drawImage(a,this.areas.moverUseButton.x1,this.areas.moverUseButton.y1);else if("liner"==
this.data.type)a="linerAddEnvironmentButton"+(this.data.prop&&this.data.prop.environmentId?"Active":""),this.drawImage(a,this.areas.linerAddEnvironmentButton.x1,this.areas.linerAddEnvironmentButton.y1),a="linerAddAtButton"+(this.data.prop&&this.data.prop.atKeyword?"Active":""),this.drawImage(a,this.areas.linerAddAtButton.x1,this.areas.linerAddAtButton.y1);else if("crumbling"==this.data.type&&this.data.prop&&this.data.prop.attributes&&(0<=this.data.prop.attributes.indexOf("strongWhenWalked")||0<=this.data.prop.attributes.indexOf("strongWhenWalkedAndBumped")))this.drawImage("useButton",
this.areas.useButtonAlternative.x1,this.areas.useButtonAlternative.y1);else if("body"==this.data.type){for(a=0;a<ig.game.O1509;a++)this.drawImage("multiCell"+a+(a==this.selectedCell?"active":""),this.areas.multiCells.x1+this.O5985.multiCell0.width*a,this.areas.multiCells.y1);this.clearRects(["example","exampleText"]);this.context.font=this.O4744;this.context.fillStyle="rgb(60,60,60)";this.fillText("stand walk jump fall climb create sit blink talk".split(" ")[this.selectedCell].toUpperCase(),
this.areas.exampleText.x1,this.areas.exampleText.y1+5);this.drawImage("dynamicHelpButton",this.areas.dynamicHelpButton.x1,this.areas.dynamicHelpButton.y1)}this.types[this.data.type].O2283&&(a="motionIdButton"+(this.data.prop&&this.data.prop.motionId?"Active":""),this.drawImage(a,this.areas.motionIdButton.x1,this.areas.motionIdButton.y1));"motion"==this.data.type||"interactingMotion"==this.data.type?(this.clearRects(["example","exampleText"]),"2"==this.selectedCell&&(this.context.font=this.O4744,
this.context.fillStyle="rgb(60,60,60)",this.fillText("EMIT",this.areas.exampleText.x1,this.areas.exampleText.y1+5)),"motion"==this.data.type&&this.drawImage("dynamicHelpButton",this.areas.dynamicHelpButton.x1,this.areas.dynamicHelpButton.y1)):"holder"==this.data.type?(this.drawImage("sizeButton",this.areas.sizeButton.x1,this.areas.sizeButton.y1),this.drawImage("needsButton",this.areas.needsButton.x1,this.areas.needsButton.y1)):"transforming"==this.data.type?(this.drawImage("timeButton",this.areas.timeButton.x1,
this.areas.timeButton.y1),a="givesButton"+(this.thingReferencesDialog&&this.thingReferencesDialog.isOpen?"_active":""),this.drawImage(a,this.areas.givesButton.x1,this.areas.givesButton.y1)):"pointer"==this.data.type?this.drawImage("helpButton",this.areas.helpButton.x1,this.areas.helpButton.y1):"placeName"==this.data.type&&this.drawImage("helpButton",this.areas.helpButton.x1,this.areas.helpButton.y1);this.O29()&&this.drawImage("livePreviewPlayButton",this.areas.preview.x1+
7,this.areas.preview.y1+6)}},O2522:function(a){for(var b=0;b<this.O6588;b++){var c=this.areas.multiCells.x1+this.O5985.multiCell0.width*b,d=0==b?a+"Base":a+"MoreCell";0<=["dynamicThing","happening","musicSheet","farBack","transforming"].indexOf(this.data.type)&&(d="multiCellDynamic"+b);d+=b==this.selectedCell?"Active":"";this.drawImage(d,c,this.areas.multiCells.y1)}this.drawImage("moreCellAdd",this.areas.cellAdd.x1,this.areas.cellAdd.y1);this.drawImage("moreCellRemove",
this.areas.cellRemove.x1,this.areas.cellRemove.y1)},O1241:function(a,b){return a.r==b.r&&a.g==b.g&&a.b==b.b&&a.alpha==b.alpha},O2853:function(a,b){return 20>=a.r&&20>=b.r&&20>=a.g&&20>=b.g&&20>=a.b&&20>=b.b},O2271:function(a,b){for(var c=a.length==b.length,d=a.length,e=0;e<d&&c;e++)c=a[e]==b[e];return c},O1364:function(a){return a&&this.types[a]&&null!=this.types[a].O3205?this.types[a].O3205:4},O3662:function(){if(this.data.type!=
this.oldData.type||this.data.name!=this.oldData.name||this.data.direction!=this.oldData.direction){if(this.data.type!=this.oldData.type){if(this.types[this.data.type]&&this.types[this.data.type].limitedDirections){var a=!0;this.oldData.type&&this.types[this.oldData.type].limitedDirections&&(a=!this.O2271(this.types[this.data.type].limitedDirections,this.types[this.oldData.type].limitedDirections));a&&(this.data.direction=this.types[this.data.type].limitedDirections[0])}else this.data.direction=
null!=this.data.type&&this.types[this.data.type]&&this.types[this.data.type].O3167?0:null;1>=ig.game.O4269.rank&&this.O1364(this.data.type)!=this.O1364(this.oldData.type)&&this.fadeInDrawBigMessage(!0)}this.oldData.name=this.data.name;this.oldData.type=this.data.type;this.oldData.direction=this.data.direction;-1===["musicSheet","holder","dynamicThing","happening","farBack"].indexOf(this.data.type)&&this.clearRects("changeDirection O4517 changeType changeBehavior changeAttributes pasteButton pasteButtonAlternative".split(" "));
jQuery("#"+this.O5113).attr("value",this.data.name);a=null!=this.data.type&&this.types[this.data.type]&&null!=this.types[this.data.type].title?this.types[this.data.type].title.toUpperCase():"";""!=a?(this.context.fillStyle=this.O4296,this.fillRect(this.areas.changeType.x1,this.areas.changeType.y1,this.areas.changeType.width,this.areas.changeType.height),a=ig.game.strings.O2833(a,16,!0),this.context.font=this.O4744,this.context.fillStyle="rgb(90,90,90)",this.fillText(a,
this.areas.changeType.x1+this.areas.textBoxPadding.x1,this.areas.changeType.y1+this.areas.textBoxPadding.y1+this.O2941)):this.clearRect(this.areas.changeType.x1,this.areas.changeType.y1,this.areas.changeType.width,this.areas.changeType.height);if(null!=this.data.type&&this.types[this.data.type])switch(this.types[this.data.type].O2904&&(a=null,a=this.types[this.data.type].O7403?"example_"+this.data.type:"example_"+this.data.type+(null!=this.data.direction?"_"+this.data.direction:
""),this.drawImage(a,this.areas.example.x1,this.areas.example.y1)),null!=this.data.direction&&(a=null,a=this.types[this.data.type].O7403?"multiDirectionArrow_"+this.data.direction:"directionArrow"+(this.types[this.data.type].O4677?"Diagonal":"")+"_"+this.data.direction,this.drawImage(a,this.areas.changeDirection.x1,this.areas.changeDirection.y1)),this.types[this.data.type].parent&&this.drawImage("changeBehavior",this.areas.changeBehavior.x1,this.areas.changeBehavior.y1),ig.game.O8430.info[this.types[this.data.type].key]&&
this.drawImage("changeAttributes",this.areas.changeAttributes.x1,this.areas.changeAttributes.y1),this.data.type){case "medium":this.drawImage("pasteButton",this.areas.pasteButtonAlternative.x1,this.areas.pasteButtonAlternative.y1);break;case "pointer":this.drawImage("pasteButton",this.areas.pasteButton.x1,this.areas.pasteButton.y1);break;case "writable":this.drawImage("rightsButton",this.areas.rightsButton.x1,this.areas.rightsButton.y1)}}},O4641:function(a){var b=[],c=a*this.O3562;
1<=a&&c++;for(a=c+this.O3562;c<a;c++)b.push(c);return b},O2600:function(){return this.O4641(this.O4835)},O6405:function(){var a=this.O2600(),b;for(b in a){b=parseInt(b);var c=a[b];c==parseInt(c)&&this.O570(c,b)}this.O570(this.transparentIndex,this.transparentIndex);this.O4999();this.O6906()},O570:function(a,b){var c=this.O1517(a,
b);this.drawPaletteBox(c,a,this.data.colors[a]);this.O2500==a&&a!=this.transparentIndex?"pickColor"==this.mode?this.clearRect(c.x,c.y+18,14,9):this.drawImageWithAlpha("colorPickerButton",c.x,c.y+14,0.75):"pickColor"!=this.mode&&this.clearRect(c.x,c.y+15,12,11);if(a==this.O6750&&!ig.ua.mobile){this.context.font=this.O4744;var d=this.data.colors[this.O6750];this.context.fillStyle=d&&1==d.alpha&&80>=(d.r+d.g+d.b)/3?"rgba(200,200,200,.5)":"rgba(0,0,0,.5)";this.fillText("R",
c.x+4,c.y+8+this.O2941)}},O6906:function(){if(this.O1824())for(var a=this.areas.palettePageButton,b=0;b<this.O4716;b++){var c=this.O4641(b),d=a.y1+2*b,e;for(e in c){e=parseInt(e);var f=c[e];if(f==parseInt(f)){f=this.data.colors[f];if(null==f||void 0==f)f={r:255,g:255,b:255,alpha:1};f=ig.game.O5662(f);f.alpha*=b==this.O4835?1:0.35;this.context.fillStyle=this.O356(f);this.fillRect(a.x1+e,d,1,1)}}}},O2972:function(){for(var a=
0;a<this.O4716;a++){var b=this.O4641(a),c;for(c in b){c=parseInt(c);var d=b[c];if(d==parseInt(d)&&d==this.O2500){this.O4835=a;break}}}},O6829:function(a){this.O5933=!0;a=0<(a.wheelDelta?a.wheelDelta:-1*a.detail)?-1:1;"pickAttributes"==this.mode?this.O1532&&(this.O7211=0==this.O7211?1:0,this.O1023(),ig.game.sounds.click.play()):(this.O4835=(parseInt(this.O4835)+
a).limit(0,this.O4716-1),this.update(),ig.game.sounds.click.play())},O1824:function(){return this.O5933||this.O7093()||this.O7678()},O7093:function(){for(var a=!1,b=this.O356(this.O7369()),c=1;c<this.O4716;c++){var d=this.O4641(c),e;for(e in d){e=parseInt(e);var f=d[e];if(f==parseInt(f)&&this.O356(this.data.colors[d[e]])!=b){a=!0;
break}}}return a},O7678:function(){var a=!1,b=this.O4641(0),c=[],d;for(d in b){d=parseInt(d);var e=b[d];e==parseInt(e)&&(e=this.O356(this.data.colors[b[d]]),0<=c.indexOf(e)?a=!0:c.push(e))}return!a},O4999:function(){if(this.data&&this.data.type){var a=null,b={};this.data.prop&&this.data.prop.attributes&&(b=ig.game.O8430.O5233(this.data.prop.attributes));if("musicSheet"==this.data.type)this.musicSheetSpecialIndex[this.O2500]?
a="terminator"==this.musicSheetSpecialIndex[this.O2500]?"->":this.musicSheetSpecialIndex[this.O2500]:this.instruments[this.O2500]&&(a=this.instruments[this.O2500],(b=ig.game.O8430.info.STACKINSTR[a]?ig.game.O8430.info.STACKINSTR[a].label:a)&&(a=b),8==this.O2500&&(a=ig.game.strings.O2833(a,8)),9<=this.O2500&&11>=this.O2500&&(a=ig.game.strings.O2833(a,6)));else if(0==this.O2500)if("glow"==this.data.type)a=
"light glow";else if(0<=["light","lighttop","fillLight","vignette"].indexOf(this.data.type))a="light";else if(("holdableItem"==this.data.type||"emitter"==this.data.type)&&b.hook)a="swing line";else if(("holdableItem"==this.data.type||"emitter"==this.data.type)&&b.affecting)a="affecting";else if("wearable"==this.data.type&&b.shaded)a="shade";else if(0<="animatedThing body touchableThing equipment interacting holder".split(" ").indexOf(this.data.type)&&b.dripping)a="drop";else if(0<=["animatedThing",
"body","touchableThing","equipment","holder"].indexOf(this.data.type)&&b.sprinkling)a="sprinkle";else if(0<=["holder"].indexOf(this.data.type)&&(b.border||b.thickBorder))a="border";else if("flexible"==this.data.type&&b.crumbling)a="crumble";else if("liner"==this.data.type)a="line";else if("farBack"==this.data.type)a="fill";else{if("writable"==this.data.type||"readable"==this.data.type||"medium"==this.data.type&&b.O3848s)a="background"}else if(1==this.O2500)if("writable"==this.data.type||
"readable"==this.data.type||"medium"==this.data.type&&b.O3848s)a="text";else if("liner"==this.data.type&&b.coloredOutline)a="outline";else if("farBack"==this.data.type&&(b.gradient||b.shortGradient||b.longGradient))a="gradient";a&&(b=this.O2500,b>this.O3562-1&&(b=this.O2500%this.O3562-1),b=this.O1517(this.O2500,b),this.context.fillStyle="rgba(0,0,0,.3)",this.fillText("= "+a.toUpperCase(),b.x+17,b.y+21+this.O2941))}},
drawPaletteBox:function(a,b,c){this.context.fillStyle=this.O356(this.O2500==b?{r:80,g:80,b:80,alpha:1}:{r:132,g:132,b:132,alpha:1});this.fillRect(a.x,a.y,a.width,a.height);this.clearRect(a.x+1,a.y+1,a.width-2,a.height-2);this.context.fillStyle=this.O356(c);this.fillRect(a.x+1,a.y+1,a.width-2,a.height-2)},O1517:function(a,b,c){if(void 0===c||null==c)c=!1;var d=this.areas.paletteBox.width,e=this.areas.paletteBox.height;b=this.areas.paletteBoxes.x1+b*d;var f=
this.areas.paletteBoxes.y1;a==this.transparentIndex&&(b+=6);c&&(b-=3,f+=6,d+=5,e+=5);return{x:b,y:f,width:d,height:e}},O1207:function(){var a=this.cloneRgba(this.backgroundRgb);a.alpha=1;var b=this.data.type&&(this.types[this.data.type].O1369||this.types[this.data.type].O1392);this.data.type&&this.types[this.data.type].tileSize&&this.types[this.data.type].tileSize.width==this.O4176&&this.types[this.data.type].tileSize.height==this.O1135?(this.context.fillStyle=
this.O356(a),this.fillRect(this.areas.O7647.x1-2,this.areas.O7647.y1-2,this.areas.O2698.width+4,this.areas.O2698.height+4)):(this.context.fillStyle=this.O356(this.canvasOverlayRgb),this.fillRect(this.areas.O7647.x1,this.areas.O7647.y1,this.areas.O2698.width+1,this.areas.O2698.height+1));a=2;ig.game.settings.hidePainterBack?(a=this.areas.drawing.width%2?1:2,this.context.fillStyle="rgba(99,99,99,1)",this.fillRect(this.areas.O7962.x1,
this.areas.O7962.y1,this.areas.drawing.width+a,this.areas.drawing.height+a)):this.clearRect(this.areas.O7962.x1,this.areas.O7962.y1,this.areas.drawing.width+a,this.areas.drawing.height+a);a=b&&!ig.ua.mobile?"canvasHelpAnimated":"canvasHelp";"body"==this.data.type&&(6==this.selectedCell?a="canvasHelpSit":7<=this.selectedCell&&(a="canvasHelpOverlay"));if(!ig.game.settings.hidePainterBack||!("canvasHelp"==a||"canvasHelpAnimated"==a)){var c=this.O5985[a];this.drawImage(a,
this.areas.O7962.x1+this.areas.drawing.width/2-c.width/2,this.areas.O7962.y1+this.areas.drawing.height-2-c.height)}this.updateStaticTemplateIfNeeded();this.showGrid&&!this.O2547&&this.O1670();this.O4532&&this.drawImageWithAlpha("symmetryLineX",this.areas.symmetryLineX.x1,this.areas.symmetryLineX.y1,0.4);this.O2014&&this.drawImageWithAlpha("symmetryLineY",this.areas.symmetryLineY.x1,this.areas.symmetryLineY.y1,0.4);this.O1207Pixels();if(0<this.O7723&&
b&&"wearable"!=this.data.type&&"wearableBig"!=this.data.type&&"musicSheet"!=this.data.type){b=null;if("body"==this.data.type)switch(this.selectedCell){case this.bodyCells.sit:case this.bodyCells.walk:case this.bodyCells.blink:case this.bodyCells.talk:b=this.bodyCells.stand;break;case this.bodyCells.jump:b=this.bodyCells.stand;break;case this.bodyCells.fall:b=this.bodyCells.jump;break;case this.bodyCells.create:b=this.bodyCells.climb;break;case this.bodyCells.climb:b=this.bodyCells.create}else"viewable"==
this.data.type||"glow"==this.data.type||("backAndFrontThing"==this.data.type?1==this.selectedCell&&(b=0):(b=0==this.selectedCell?1:0,this.types[this.data.type].O1392&&(b=this.selectedCell-1,0>b&&(b=ig.game.O1509-1))));if(null!=b)for(a=0;a<this.data.pixels[0].length;a++)for(c=0;c<this.data.pixels[0][0].length;c++)if(this.data.pixels[b]&&this.data.pixels[b][a]&&void 0!=this.data.pixels[b][a][c]&&this.data.pixels[this.selectedCell]&&this.data.pixels[this.selectedCell][a]&&void 0!=this.data.pixels[this.selectedCell][a][c]){var d=
this.data.colors[this.data.pixels[this.selectedCell][a][c]],e=this.data.colors[this.data.pixels[b][a][c]];d&&e&&(!d.alpha||0==d.alpha)&&0!=e.alpha&&this.O6593(a,c,{r:e.r,g:e.g,b:e.b,alpha:e.alpha*this.O7723})}}this.showGrid&&this.O2547&&this.O1670();"musicSheet"==this.data.type&&(this.O6222(),this.O5212&&this.O7244());"music"==this.data.type&&!this.data.prop.musicData&&this.O1459()},
O1207Pixels:function(){for(var a=0;a<this.tileWidth;a++)for(var b=0;b<this.O336;b++)if(this.data.pixels[this.selectedCell]&&void 0!=this.data.pixels[this.selectedCell][a]&&void 0!=this.data.pixels[this.selectedCell][a][b]){var c=this.data.pixels[this.selectedCell][a][b];c!=this.transparentIndex&&this.O6593(a,b,this.data.colors[c])}},O3527:function(a,b){this.data.pixels[this.selectedCell]&&(void 0!=this.data.pixels[this.selectedCell][a]&&void 0!=this.data.pixels[this.selectedCell][a][b])&&
this.O6593(a,b,this.data.colors[this.data.pixels[this.selectedCell][a][b]])},O6593:function(a,b,c){a=this.areas.O7962.x1+a*this.O1083;b=this.areas.O7962.y1+b*this.O1083;this.context.fillStyle=this.O356(c);this.fillRect(a,b,this.O1083,this.O1083)},O1186:function(a,b){this.clearRect(this.areas.O7962.x1+a*this.O1083,this.areas.O7962.y1+b*this.O1083,this.O1083,this.O1083)},
cloneRgba:function(a){return{r:a.r,g:a.g,b:a.b,alpha:a.alpha}},O5304:function(){for(var a=!1,b=0;b<this.maxCells&&!a;b++)for(var c=0;c<this.tileWidth&&!a;c++)for(var d=0;d<this.tileWidth&&!a;d++)a=this.data.pixels[b]&&this.data.pixels[b][c][d]!=this.transparentIndex;return a},O2569:function(a){var b=!1;if(null===a||void 0===a)a=this.selectedCell;if(this.data&&this.data.pixels&&this.data.pixels[a])for(var c=0;c<this.data.pixels[a].length;c++){for(var d=0;d<this.data.pixels[a][c].length&&
!(b=this.data.pixels[a][c][d]!=this.transparentIndex);d++);if(b)break}return b},O3956:function(){if(this.O1275)switch(this.mode!=this.modeOld&&(this.modeOld=this.mode,this.O1050=!1),this.O7567||(this.O1050=!0),this.mode){case "default":this.O4466();break;case "pickColor":this.O2083();break;case "pickType":this.O4810()}},O4284:function(){if(this.O1275)switch(this.mode!=
this.modeOld&&(this.modeOld=this.mode,this.O1050=!1),this.O7567||(this.O1050=!0),this.lastPixelSeenOnClick={x:null,y:null},this.mode){case "default":this.O2384();this.O6321();break;case "pickColor":this.O7615();this.O6321();break;case "menu":this.O7635();break;case "cloneOld":this.O6840();this.O415();break;case "changeColor":this.O5318();
break;case "pickAttributes":this.O4546()}},O4466:function(){if(this.O1275){var a=this.cursorX,b=this.cursorY;if(this.O7567||this.O1257||this.O7998){var c=this.areas.O7962.x1+this.areas.drawing.width,d=this.areas.O7962.y1+this.areas.drawing.height,d=a>=this.areas.O7962.x1&&a<=c&&b>=this.areas.O7962.y1&&b<=d,a=Math.floor((a-this.areas.O7962.x1)/this.O1083),
b=Math.floor((b-this.areas.O7962.y1)/this.O1083),e=0<=a&&a<this.tileWidth&&0<=b&&b<this.O336,c=this.O1257?this.O6750:this.O2500;if(this.data.pixels&&this.data.pixels[this.selectedCell]&&this.data.pixels[this.selectedCell][a]&&void 0!==this.data.pixels[this.selectedCell][a][b]){var f=e&&(this.lineKeyIsPressed||this.lastPixelSeenOnClick.x!=a||this.lastPixelSeenOnClick.y!=b||c!=this.data.pixels[this.selectedCell][a][b]);this.lastPixelSeenOnClick=
{x:a,y:b};if(d&&this.data.pixels[this.selectedCell]&&(d=this.O5367(a,b),e&&this.O1050))if("pickColor"==this.O6592)this.O1257?this.O6750=this.data.pixels[this.selectedCell][a][b]:(this.O2500=this.data.pixels[this.selectedCell][a][b],this.O2972()),this.update();else if(f&&"floodFill"==this.O6592)this.O2476(a,b,c,d),this.O1230();else if(f||0!==this.brushType){this.O2870(this.data.pixels[this.selectedCell],
a,b,c);for(e=0;e<d.length;e++){var g=d[e];this.O2870(this.data.pixels[this.selectedCell],g.x,g.y,c)}if(null!==this.lastPointDrawn.x&&null!==this.lastPointDrawn.y&&(d={x:a,y:b},e=!this.O3743&&!this.O5846(d,this.lastPointDrawn),this.lineKeyIsPressed||e))if(this.O7599(this.data.pixels[this.selectedCell],c,this.lastPointDrawn,d),!this.O4532||!this.O2014)d=this.O5367(this.lastPointDrawn.x,this.lastPointDrawn.y),
1<=d.length&&this.O7599(this.data.pixels[this.selectedCell],c,d[0],g);this.lastPointDrawn={x:a,y:b};this.O881=!0;this.O3743=!1;this.update();this.O6528()}}}else this.O3665&&"pickColor"==this.O6592&&(a=Math.floor((a-this.areas.O7962.x1)/this.O1083),b=Math.floor((b-this.areas.O7962.y1)/this.O1083),g=this.O2821(a,b),this.O5547.text(g),g=jQuery(this.canvas).offset(),
a=g.left+this.cursorX*this.pageZoom,b=g.top+this.cursorY*this.pageZoom,this.O5547.css("left",a-50*this.pageZoom+"px"),this.O5547.css("top",b+-10*this.pageZoom+"px"),this.O5547.css("display","block"))}},O5846:function(a,b){return a.x>=b.x-1&&a.x<=b.x+1&&a.y>=b.y-1&&a.y<=b.y+1},O7599:function(a,b,c,d){if(c&&d){var e=c.x;c=c.y;var f=d.x;d=d.y;for(var g=Math.abs(f-e),h=Math.abs(d-c),k=e<f?1:-1,l=c<d?1:-1,m=g-h;;){this.O2870(a,
e,c,b);if(e==f&&c==d)break;var n=2*m;n>-h&&(m-=h,e+=k);n<g&&(m+=g,c+=l)}}},O2870:function(a,b,c,d){for(var e=[{margin:0,rounded:!1},{margin:1,rounded:!0},{margin:1,rounded:!1},{margin:2,rounded:!0},{margin:2,rounded:!1}][this.brushType],f=-e.margin;f<=e.margin;f++)for(var g=-e.margin;g<=e.margin;g++)(!e.rounded||!(Math.abs(f)==e.margin&&Math.abs(g)==e.margin))&&this.O3241(a,b+f,c+g,d);"musicSheet"==this.data.type&&this.O1124(this.selectedCell,b,c)},O3241:function(a,
b,c,d){if(a[b]&&void 0!==a[b][c]){var e=!0;this.O3223&&(e=this.O7567&&a[b][c]==this.O6750||this.O1257&&a[b][c]==this.O2500);e&&(a[b][c]=d,this.O4779(a,b,c))}},O1670:function(){this.context.fillStyle="rgb(70,70,70)";for(var a=this.tileWidth/2,b=this.O336/2,c=1;c<this.tileWidth;c++){var d=this.areas.O7962.x1+c*this.O1083-0.5,e=this.areas.O7962.y1,f=c==a?2:1,g=this.tileWidth*this.O1083;this.fillRect(d,
e,f,g)}for(a=1;a<this.O336;a++)d=this.areas.O7962.x1,e=this.areas.O7962.y1+a*this.O1083-0.5,f=this.O336*this.O1083,g=a==b?2:1,this.fillRect(d,e,f,g)},O2476:function(a,b,c,d){if(this.O3665)ig.game.sounds.nocando.play();else{this.O8232(!0,this.data.pixels[this.selectedCell][a][b],c);this.floodFill(a,b,this.data.pixels[this.selectedCell][a][b],c);for(a=0;a<d.length;a++)b=d[a],this.floodFill(b.x,b.y,this.data.pixels[this.selectedCell][b.x][b.y],
c);this.O8232(!1);this.update()}},O5367:function(a,b){var c=[];if(this.O4532){var d=parseInt(this.tileWidth/2);a<d?c.push({x:this.tileWidth-a-1,y:b}):a>d&&c.push({x:Math.abs(a-this.tileWidth)-1,y:b})}this.O2014&&(d=parseInt(this.O336/2),b<d?c.push({x:a,y:this.O336-b-1}):b>d&&c.push({x:a,y:Math.abs(b-this.O336)-1}));2<=c.length&&c.push({x:c[0].x,y:c[1].y});return c},O2106:function(a){for(var b=this.O6127(a),
c=0;c<this.tileWidth;c++)for(var d=0;d<this.O336;d++)b[c][d]=a[this.tileWidth-c-1][d];return b},O1880:function(a){for(var b=this.O6127(a),c=0;c<this.tileWidth;c++)for(var d=0;d<this.O336;d++)b[c][d]=a[c][this.O336-d-1];return b},O6955:function(){var a=Math.round(45),b=Math.round(1*(a-18)),c=Math.round(22.5),d=Math.round(0.5*(c-18));this.O4335={reset:{x1:7,y1:7},darker:{rgbStrong:{r:-b,g:-b,b:-b},rgbWeak:{r:-d,g:-d,b:-d},x1:43,y1:7},
brighter:{rgbStrong:{r:b,g:b,b:b},rgbWeak:{r:d,g:d,b:d},x1:81,y1:7},moreRed:{rgbStrong:{r:a,g:-b,b:-b},rgbWeak:{r:c,g:-d,b:-d},x1:119,y1:7},moreGreen:{rgbStrong:{r:-b,g:a,b:-b},rgbWeak:{r:-d,g:c,b:-d},x1:7,y1:42},moreBlue:{rgbStrong:{r:-b,g:-b,b:a},rgbWeak:{r:-d,g:-d,b:c},x1:43,y1:42},moreCyan:{rgbStrong:{r:-b,g:b,b:b},rgbWeak:{r:-d,g:d,b:d},x1:81,y1:42},moreMagenta:{rgbStrong:{r:b,g:-b,b:b},rgbWeak:{r:d,g:-d,b:d},x1:119,y1:42},moreYellow:{rgbStrong:{r:b,g:b,b:-b},rgbWeak:{r:d,g:d,b:-d},x1:7,y1:77},
lessSaturation:{x1:43,y1:77},moreSaturation:{x1:81,y1:77},toggleStrength:{x1:119,y1:77}}},O4051:function(){this.O415();this.drawImage("changeColorDialog",this.areas.changeColor.x1,this.areas.changeColor.y1);var a=this.O4335,b=this.O3433(this.data.colors),c;for(c in a)if("toggleStrength"!=c){var d=this.areas.changeColor.x1+a[c].x1+this.areas.changeColorOffset.x1,e=this.areas.changeColor.y1+a[c].y1+this.areas.changeColorOffset.y1;switch(c){case "reset":this.data.colors=
this.O3433(this.O6659);break;case "lessSaturation":this.applySaturationChange(-1);break;case "moreSaturation":this.applySaturationChange(1);break;default:this.O7425(this.O4335[c])}this.O5601(this.data.pixels[this.selectedCell],d,e);this.data.colors=this.O3433(b)}this.O2743?this.clearRect(this.O4335.toggleStrength):(this.context.fillStyle="rgb(255,255,255)",a=this.areas.changeColorToggleStrength,this.fillRect(this.areas.changeColor.x1+
a.x1,this.areas.changeColor.y1+a.y1,a.width,a.height))},O5318:function(){var a=this.cursorX,b=this.cursorY,c=this.O6688(a,b,this.areas.changeColorCloseButton),d=!c&&this.O6688(a,b,this.areas.changeColor);if(c)this.O6840(),this.O6787(),this.O415();else if(d){var c=this.O4335,e;for(e in c)if(d={x1:this.areas.changeColor.x1+c[e].x1,y1:this.areas.changeColor.y1+c[e].y1},d.x2=d.x1+this.areas.changeColorOffset.width,
d.y2=d.y1+this.areas.changeColorOffset.height,this.O6688(a,b,d)){switch(e){case "reset":this.data.colors=this.O3433(this.O6659);break;case "lessSaturation":this.applySaturationChange(-1);break;case "moreSaturation":this.applySaturationChange(1);break;case "toggleStrength":this.O2743=!this.O2743;break;default:this.O7425(this.O4335[e])}this.O6321();ig.game.sounds.click.play();this.O4051()}}},
applySaturationChange:function(a){a=1+(this.O2743?0.25:0.125)*a;for(var b=0;b<this.maxColors;b++)if(b!=this.transparentIndex&&(null==this.O5333||this.O5333==b)){var c=ml.Misc.O3208(this.data.colors[b]);c.saturation*=a;c=ml.Misc.O3824(c);this.data.colors[b]={r:c.r,g:c.g,b:c.b,alpha:1*this.data.colors[b].alpha}}},O7425:function(a){a=this.O2743?a.rgbStrong:a.rgbWeak;for(var b=this.O7369(),c=0;c<this.maxColors;c++)if(c!=
this.transparentIndex&&(null==this.O5333||this.O5333==c)){var d=this.data.colors[c],e=!0;this.O5333!==c&&this.O8411(d,b)&&(e=this.O6785(this.data.pixels,c));e&&(this.data.colors[c]={r:(d.r+a.r).limit(0,255),g:(d.g+a.g).limit(0,255),b:(d.b+a.b).limit(0,255),alpha:d.alpha})}},O8411:function(a,b){return a.r==b.r&&a.g==b.g&&a.b==b.b&&a.alpha==b.alpha},floodFill:function(a,b,c,d){c!=d&&this.data.pixels[this.selectedCell][a][b]==
c&&(this.data.pixels[this.selectedCell][a][b]=d,a<this.tileWidth-1&&this.data.pixels[this.selectedCell][a+1][b]==c&&this.floodFill(a+1,b,c,d),0<a&&this.data.pixels[this.selectedCell][a-1][b]==c&&this.floodFill(a-1,b,c,d),b<this.O336-1&&this.data.pixels[this.selectedCell][a][b+1]==c&&this.floodFill(a,b+1,c,d),0<b&&this.data.pixels[this.selectedCell][a][b-1]==c&&this.floodFill(a,b-1,c,d))},O2384:function(){var a=this.cursorX,b=this.cursorY,c=this.data.type,d=null!=
this.data.type&&this.types[this.data.type].O1369,e=null!=this.data.type&&this.types[this.data.type].O1392;if(null!=this.data.direction&&this.O6688(a,b,this.areas.changeDirection))this.O846(!0);else if("dynamicThing"==c&&this.O6688(a,b,this.areas.dynamicEmitsButton))this.data.prop.emitsId?(ig.game.sounds.bin.play(),this.data.prop.emitsId=null,this.O415()):(this.data.prop.emitsId=null,ig.game.alertDialog.open('<p>Now pick a Holdable Item from the right.</p><p style="opacity: .6; font-size: 90%">It will be emitted at the first cell\'s position if you attach the Dynamic and press space or hit the action button (requires attribute Attachable, Follows or Closely Follows). An emitting sound can be added by using Add Sound for this Dynamic.</p>',
!0),ig.game.alertDialog.contextId="pickEmits");else if("liner"==c&&this.O6688(a,b,this.areas.linerAddEnvironmentButton))this.data.prop.environmentId?(ig.game.sounds.bin.play(),this.data.prop.environmentId=null,this.O415()):(this.data.prop.environmentId=null,ig.game.alertDialog.open("Now pick an Environment from the right."),ig.game.alertDialog.contextId="pickEnvironment");else if("liner"==c&&this.O6688(a,b,this.areas.linerAddAtButton))ig.game.alertDialog.contextId=null,
ig.game.alertDialog.O8429("Name of thing behind must contain:",this.data.prop.atKeyword,ig.game.painter.O7084,void 0,void 0,void 0,void 0,void 0,ig.game.validations.itemName.maxLength);else if(this.O6688(a,b,this.areas.createButton))this.O6371();else if(this.O6688(a,b,this.areas.menuButton))this.O6452(),this.mode="menu",ig.game.sounds.click.play(),ig.game.motionDialog.O7617(),this.update();else if(this.O6688(a,
b,this.areas.palettePageButton)&&this.O1824())this.O4835<this.O4716-1?this.O4835++:this.O4835=0,ig.game.sounds.click.play(),this.update();else if(this.O6688(a,b,this.areas.closeButton)&&"default"==this.mode&&this.O1050)this.close();else if("interactiveEnvironment"==c&&this.O6688(a,b,this.areas.useAtGetButtons)&&!ig.game.alertDialog.isOpen)ig.game.alertDialog.contextId=null,a>this.areas.useAtGetButtons.x1+
this.areas.useAtGetButtons.width*(2/3)?(ig.game.alertDialog.open("Now pick a holdable, mountable or wearable from the right."),ig.game.alertDialog.contextId="pickGetId"):a>this.areas.useAtGetButtons.x1+this.areas.useAtGetButtons.width*(1/3)?ig.game.alertDialog.O8429("Name of thing behind or below must contain (separate multiple with comma):",this.data.prop.atKeyword,ig.game.painter.O7084):ig.game.alertDialog.O8429("Holdable Item or Equpiment name must contain (optional; separate multiple with comma):",
this.data.prop.useKeyword,ig.game.painter.O7592);else if(("readable"==c||"brain"==c)&&this.O6688(a,b,this.areas.textualButton))2<=ig.game.O4269.rank?ig.game.alertDialog.isOpen||(b=this.data.prop.textData?this.data.prop.textData:"",a="brain"==c||this.data.prop.attributes&&0<=this.data.prop.attributes.indexOf("sansSerifFont"),ig.game.alertDialog.O8429(null,b,ig.game.painter.textDataSaved,null,!0,a),"brain"==c&&jQuery("#promptInputBox").attr("placeholder",this.O3404()),
ig.game.sounds.click.play()):ig.game.O4132.O2959();else if("mift"==c&&this.O6688(a,b,this.areas.textualButton))ig.game.alertDialog.isOpen||(b=this.data.prop.text?this.data.prop.text:"",""==b&&(""!=this.data.name&&null!=this.data.name&&"unnamed"!=this.data.name)&&(b=this.data.name.trim()),ig.game.alertDialog.O8429("Your message:",b,ig.game.painter.O4153,null,!0,!1,void 0,void 0,this.O7224,!0),ig.game.sounds.click.play());else if("mift"==
c&&this.O6688(a,b,this.areas.toButton))ig.game.sounds.click.play(),ig.game.friendsDialog.open();else if(c&&this.types[c].O7707&&this.O6688(a,b,this.areas.drawTogetherButton))this.O3665?(this.O7706(),ig.game.sounds.pickup.play()):(this.O232(),ig.game.sounds.click.play()),this.update();else if("interacting"==c&&this.O6688(a,b,this.areas.interactingHelpButton))ml.Misc.openUrl("/info-interacting"),ig.game.sounds.click.play();
else if("pointer"==c&&this.O6688(a,b,this.areas.helpButton))ig.game.alertDialog.O1846("Pointers, when activated, will provide a guiding arrow to the target location. Also, placing a Pointer next to a Mountable will steer the Mountable to the target when mounted."),ig.game.sounds.click.play();else if("placeName"==c&&this.O6688(a,b,this.areas.helpButton))ig.game.alertDialog.O1846("Place Names show a label on the map when placed. They will also transport one to their placed location when clicked in the side panel."),
ig.game.sounds.click.play();else if("holder"==c&&this.O6688(a,b,this.areas.helpButton))ml.Misc.openUrl("/info-holder"),ig.game.sounds.click.play();else if("readable"==c&&this.O6688(a,b,this.areas.helpButton))ml.Misc.openUrl("/info-text"),ig.game.sounds.click.play();else if("multithing"==c&&this.O6688(a,b,this.areas.helpButton))ml.Misc.openUrl("/info-multi"),ig.game.sounds.click.play();else if("brain"==c&&this.O6688(a,b,this.areas.brainHelpButton))ml.Misc.openUrl("/info-brain"),
ig.game.sounds.click.play();else if("dynamicThing"==c&&this.O6688(a,b,this.areas.dynamicHelpButton))ml.Misc.openUrl("/info-dynamic"),ig.game.sounds.click.play();else if("farBack"==c&&this.O6688(a,b,this.areas.dynamicHelpButton))ml.Misc.openUrl("/info-far-back"),ig.game.sounds.click.play();else if("mover"==c&&this.O6688(a,b,this.areas.dynamicHelpButton))ml.Misc.openUrl("/info-mover"),ig.game.sounds.click.play();else if("happening"==c&&this.O6688(a,
b,this.areas.dynamicHelpButton))ml.Misc.openUrl("/info-happening"),ig.game.sounds.click.play();else if("generator"==c&&this.O6688(a,b,this.areas.brainHelpButton))ml.Misc.openUrl("/info-generator"),ig.game.sounds.click.play();else if(("body"==c||"motion"==c)&&this.O6688(a,b,this.areas.dynamicHelpButton))ml.Misc.openUrl("/info-tips#bodyMotion"),ig.game.sounds.click.play();else if("interacting"==c&&this.O6688(a,b,this.areas.textualButtonWhenAnimated))this.interactingDialog||
(this.interactingDialog=new InteractingDialog),this.interactingDialog.isOpen?this.O763():this.interactingDialog.open(this.data.prop.textData?this.data.prop.textData:""),this.O8366(),ig.game.sounds.click.play();else if("dynamicThing"==c&&this.O6688(a,b,this.areas.dynamicTextButton))ig.game.alertDialog.isOpen||(b=this.data.prop.text?this.data.prop.text:"",ig.game.alertDialog.contextId="dynamicThingText",ig.game.alertDialog.O8429(null,b,ig.game.painter.O874,
null,!0,!1,void 0,void 0,this.O4438),ig.game.sounds.click.play(),jQuery("#alertDialog").css("width","50%").css("left","45%"));else if("farBack"==c&&this.O6688(a,b,this.areas.dynamicTextButton))ig.game.alertDialog.isOpen||(b=this.data.prop.text?this.data.prop.text:"",ig.game.alertDialog.contextId="farBackText",ig.game.alertDialog.O8429(null,b,ig.game.painter.O874,null,!0,!1,void 0,void 0,this.O3245),ig.game.sounds.click.play(),jQuery("#alertDialog").css("width",
"35%").css("top",10*ig.system.scale+"px").css("left","55%"),ig.ua.mobile||(jQuery("#alertDialog").css("height","55%"),jQuery("#promptInputBox").css("height",Math.round(0.35*ig.system.O1709)+"px"),jQuery(".contentPart").css("height",Math.round(0.425*ig.system.O1709)+"px")),jQuery("#promptInputBox").attr("placeholder","click in world to add coordinate"));else if("mover"==c&&this.O6688(a,b,this.areas.dynamicTextButton))ig.game.alertDialog.isOpen||(b=this.data.prop.text?this.data.prop.text:
"",b=ig.game.O7019.O7366(b),ig.game.alertDialog.O8429(null,b,ig.game.painter.O874,null,!0,!1,void 0,void 0,5E4),ig.game.sounds.click.play(),jQuery("#alertDialog").css("width","50%").css("left","45%"),jQuery("#alertDialog textarea").css("font-size","160%").css("letter-spacing","2px").css("font-family","monospace"));else if("mover"==c&&this.O6688(a,b,this.areas.moverUseButton))ig.game.alertDialog.contextId=null,ig.game.alertDialog.O8429("To harm the Mover Body, equipment name must contain (optional; separate multiple with comma):",
this.data.prop.useKeyword,ig.game.painter.O7592);else if(this.O6688(a,b,this.areas.preview))this.O1170()&&(this.O1230(),ig.game.sounds.click.play());else if("aimable"==c&&this.O6688(a,b,this.areas.specsButton))ig.game.alertDialog.isOpen||(this.O300(),ig.game.sounds.click.play());else if("happening"==c&&this.O6688(a,b,this.areas.dynamicTextButton))2<=ig.game.O4269.rank?ig.game.alertDialog.isOpen||(b=this.data.prop.textData?
this.data.prop.textData:"",ig.game.alertDialog.O8429(null,b,ig.game.painter.textDataSaved,null,!0,!0),jQuery("#promptInputBox").attr("placeholder",this.O3404()),ig.game.sounds.click.play()):ig.game.O4132.O2959();else if("generator"==c&&this.O6688(a,b,this.areas.textualButton))2<=ig.game.O4269.rank?ig.game.alertDialog.isOpen||(b=this.data.prop.textData?this.data.prop.textData:"",ig.game.alertDialog.O8429(null,b,ig.game.painter.textDataSaved,
null,!0,!0),jQuery("#promptInputBox").attr("placeholder",'Test your code first by clicking "Generator" on the area dialog'),ig.game.sounds.click.play()):ig.game.O4132.O2959();else if("interacting"==c&&this.O6688(a,b,this.areas.thingReferencesButton))this.thingReferencesDialog||(this.thingReferencesDialog=new ThingReferencesDialog),this.thingReferencesDialog.isOpen?this.O2237():this.thingReferencesDialog.open(ig.game.O5662(this.data.prop.thingRefs),
"Item, Interacting Motion, Sound + More"),this.O8366(),ig.game.sounds.click.play();else if("musicSheet"==c&&this.O6688(a,b,this.areas.changeAttributes))ig.game.alertDialog.O8429("Please enter note interval in milliseconds from "+this.noteDelayMSMin+" - "+this.noteDelayMSMax+" in steps of "+this.O4978,this.data.prop.noteDelayMS?this.data.prop.noteDelayMS:this.noteDelayMSDefault,ig.game.painter.O7077);else if(this.O6688(a,b,this.areas.changeAttributes)&&
this.data.type&&ig.game.O8430.info[this.types[this.data.type].key])this.O1023(),ig.game.sounds.click.play();else if(this.O6688(a,b,this.areas.pasteButtonAlternative)&&this.data.type&&0<=["medium"].indexOf(this.data.type))this.handlePasteMedium();else if(this.O6688(a,b,this.areas.rightsButton)&&this.data.type&&0<=["writable"].indexOf(this.data.type))this.O8022();else if(this.O6688(a,b,this.areas.pasteButton)&&this.data.type&&
0<=["pointer"].indexOf(this.data.type))this.O4573();else if("gatherable"==c&&this.O6688(a,b,this.areas.useButton))ig.game.alertDialog.contextId=null,ig.game.alertDialog.O8429("Holdable Item and Equipment, Wearable or Body name must contain (optional; separate multiple with comma):",this.data.prop.useKeyword,ig.game.painter.O7592);else if("crumbling"==c&&this.O6688(a,b,this.areas.useButtonAlternative))ig.game.alertDialog.contextId=null,ig.game.alertDialog.O8429("Holdable Equipment name must contain (optional; separate multiple with comma):",
this.data.prop.useKeyword,ig.game.painter.O7592);else if("gatherable"==c&&this.O6688(a,b,this.areas.hasButton))this.data.prop.hasId=null,ig.game.alertDialog.open("Now pick a Holdable Item, Equipment, Consumable or Instrument from the right."),ig.game.alertDialog.contextId="pickHasId";else if("mover"==c&&this.O6688(a,b,this.areas.holdableButton))this.data.prop.holdableId?(ig.game.sounds.bin.play(),this.data.prop.holdableId=null,this.O415()):(ig.game.sounds.click.play(),
this.data.prop.holdableId=null,this.data.prop.holdableId=null,ig.game.alertDialog.open("To set an Equipment for the Mover Body, pick one from the right.",null,null,null,null,!0),ig.game.alertDialog.contextId="pickHoldableId");else if("mover"==c&&this.O6688(a,b,this.areas.wearableButton))this.data.prop.wearableId?(ig.game.sounds.bin.play(),this.data.prop.wearableId=null,this.O415()):(ig.game.sounds.click.play(),this.data.prop.wearableId=null,this.data.prop.wearableId=null,ig.game.alertDialog.open("To set a Wearable for the Mover Body, pick one from the right.",
null,null,null,null,!0),ig.game.alertDialog.contextId="pickWearableId");else if("mover"==c&&this.O6688(a,b,this.areas.protectPercentButton))ig.game.alertDialog.contextId=null,ig.game.alertDialog.O8429("Enter Mover Body hit protection from 0-100%:",String(this.data.prop.protectPercent?this.data.prop.protectPercent:0),ig.game.painter.O7402,void 0,void 0,void 0,void 0,void 0,4);else if("sound"==c&&this.O6688(a,b,this.areas.creditButton))(b=this.data.prop.creditUrl)&&
(b=ig.game.sounds.O3503(b)),ig.game.alertDialog.O8429("Paste the FreeSound.org or similar URL as appropriate:",b,ig.game.painter.O7352);else if("transforming"==c&&this.O6688(a,b,this.areas.timeButton))this.O4609();else if("transforming"==c&&this.O6688(a,b,this.areas.givesButton))this.thingReferencesDialog||(this.thingReferencesDialog=new ThingReferencesDialog),this.thingReferencesDialog.isOpen?this.O2237():
this.thingReferencesDialog.open(ig.game.O5662(this.data.prop.thingRefs),"Optional Holdable, Wearable, Mountable, Body, Medium or Readable to be Given At Last Cell"),this.O8366(),ig.game.sounds.click.play();else if("holder"==c&&this.O6688(a,b,this.areas.needsButton))ig.game.alertDialog.contextId=null,ig.game.alertDialog.O8429("Holdable item or equipment name must contain:",this.data.prop.useKeyword,ig.game.painter.O7592,void 0,void 0,void 0,void 0,void 0,ig.game.validations.itemName.maxLength,
!0);else if("holder"==c&&this.O6688(a,b,this.areas.sizeButton))ig.game.alertDialog.contextId=null,b=this.data.prop.backTileCount?this.data.prop.backTileCount:ig.game.holderDialog.O2334(),ig.game.alertDialog.O8429("Enter size x,y (from 1-8):",b,ig.game.painter.O7630,void 0,void 0,void 0,void 0,void 0,10,!0);else if(this.data.type&&this.types[this.data.type].O2283&&this.O6688(a,b,this.areas.motionIdButton))this.data.prop.motionId?
(ig.game.sounds.bin.play(),this.data.prop.motionId=null,this.O415()):(ig.game.sounds.click.play(),this.data.prop.motionId=null,ig.game.alertDialog.open("Now optionally, pick a Motion from the right.",null,null,null,null,!0),ig.game.alertDialog.contextId="motionId");else if(d&&this.O6688(a,b,this.areas.cell0))this.O4379=this.selectedCell=0,ig.game.sounds.click.play(),this.update();else if(d&&this.O6688(a,b,this.areas.cell1))this.O4379=this.selectedCell=1,
ig.game.sounds.click.play(),this.update();else if(this.data.type&&this.types[this.data.type].O6600&&this.O6688(a,b,this.areas.cellAdd))"musicSheet"==this.data.type&&(this.O2212=9),this.O6588<this.O2212&&(this.O6588++,this.selectedCell=this.O6588-1,this.O4693(50),ig.game.sounds.click.play(),this.update(),this.O1230());else if(this.data.type&&this.types[this.data.type].O6600&&
this.O6688(a,b,this.areas.cellRemove))b=0<=["dynamicThing","happening","musicSheet","farBack"].indexOf(this.data.type)?1:2,this.O6588>b&&(this.O6588--,this.selectedCell=this.O6588-1,this.O4693(50),ig.game.sounds.click.play(),this.update(),this.O1230());else if("musicSheet"==this.data.type&&this.O6688(a,b,this.areas.playMusicButton))ig.game.sounds.click.play(),this.O2120();else if("musicSheet"==
this.data.type&&this.O6688(a,b,this.areas.convertMusicSheetButton))ig.game.sounds.click.play(),confirm("Convert to type Music? (If you haven't already, it's suggested you cancel and save a backup of the Music Sheet first.)")&&this.O5873();else if(this.data.type&&this.types[this.data.type].O6600&&this.O6688(a,b,this.areas.multiCells))b=this.areas.multiCells.width/ig.game.O1509,a-=this.areas.multiCells.x1,b=0<a?Math.floor(a/b):0,b>
ig.game.O1509-1&&(b=ig.game.O1509-1),a=!1,b<this.O6588&&(a=b==this.selectedCell,this.selectedCell=b,this.O4379=null,ig.game.sounds.click.play()),this.update(),"musicSheet"==this.data.type&&(a?this.O2120():this.O5212&&(this.O6452(),this.O5899()),this.O8366());else if(e&&this.O6688(a,b,this.areas.multiCells))b=this.areas.multiCells.width/ig.game.O1509,a-=this.areas.multiCells.x1,b=0<a?Math.floor(a/
b):0,b>ig.game.O1509-1&&(b=ig.game.O1509-1),this.O4379=this.selectedCell=b,ig.game.sounds.click.play(),this.update();else if(0<=["motion","interactingMotion","holder"].indexOf(this.data.type)&&this.O6688(a,b,this.areas.optionalThirdCell))this.O4379=this.selectedCell=2,ig.game.sounds.click.play(),this.update();else if(this.O6688(a,b,this.areas.colorPicker)){var d=this.O2600(),c=null,f;for(f in d)if(f=parseInt(f),e=d[f],e==parseInt(e)){var g=
this.O1517(e,f);g.height+=12;if(this.O3240(a,b,g)){c=e;break}}null==c&&(c=this.transparentIndex);null!=c&&(a=this.O2500==c&&c!=this.transparentIndex&&b>this.areas.betweenColorAndColorPicker.y1,!this.O3223&&(this.O7998||a)?this.O1050&&(this.O2500!=this.transparentIndex?this.O6619():ig.game.sounds.nocando.play()):b<this.areas.betweenColorAndColorPicker.y1&&(this.O3223?this.O675(this.O2500,
c):this.O1257?this.O6750=c:this.O2500=c,this.update()))}else if(this.data&&this.data.type&&this.types[this.data.type].O8011&&this.O6688(a,b,this.areas.moveAvatarArrows)){if(f=[[{rotation:-1},{y:-1},{rotation:1}],[{x:-1},{y:1},{x:1}]],a-=this.areas.moveAvatarArrows.x1,b-=this.areas.moveAvatarArrows.y1,d=c=0,e=this.areas.moveAvatarArrows.width/f[0].length,g=this.areas.moveAvatarArrows.height/f.length,0<a&&(c=Math.floor(a/e)),0<b&&(d=Math.floor(b/
g)),(b=f[d]&&f[d][c]?f[d][c]:null)&&(b.x||b.y))this.O4693(50),ig.game.sounds.click.play(),this.O189(b),this.update()}else this.O6688(a,b,this.areas.changeTypeFuzzy)?this.O1050&&"pickType"!=this.mode&&(this.O1250(),ig.game.sounds.click.play()):this.O6688(a,b,this.areas.soundButton)&&"mift"==this.data.type?(this.O5248(),ig.game.sounds.click.play(),this.O415()):this.O6688(a,
b,this.areas.changeBehavior)&&(this.data.type&&this.types[this.data.type].parent)&&(this.O5993(),ig.game.sounds.click.play())},O675:function(a,b){if(a!=this.transparentIndex&&b!=this.transparentIndex&&a!=b){var c=this.data.colors[a];this.data.colors[a]=this.data.colors[b];this.data.colors[b]=c;if(this.data.pixels)for(c=0;c<this.data.pixels.length;c++)for(var d=this.data.pixels[c],e=0;e<d.length;e++)for(var f=0;f<d[e].length;f++)d[e][f]==a?d[e][f]=b:d[e][f]==b&&
(d[e][f]=a);ig.game.sounds.shortWhoosh.play()}else ig.game.sounds.nocando.play()},O3404:function(){return"DURING DEVELOPMENT, LEAVE THIS EMPTY, PLACE THE CREATION IN THE WORLD AND WALK OVER IT"},O1956:function(a,b,c,d,e,f){var g="";e||(e=ig.game.strings.O2708(a));g+='<p class="specPart"><span class="specLabel">'+ig.game.strings.O4334(e)+"</span> &nbsp;";g+='<select id="'+a+'" onChange="ig.game.painter.O5264(\''+a+"')\">";e=this.data.prop.specs&&
void 0!==this.data.prop.specs[a]?this.data.prop.specs[a]:b[a];if(d)for(var h=0;h<d.length;h++){c=d[h];var k=c==e?' selected="selected"':"",l=c==b[a]?'style="background-color: rgb(210,210,210)"':"",g=g+('<option value="'+c+'"'+k+" "+l+">"+c+"</option>")}else for(h=0;100>=h;h+=5)k=h==e?' selected="selected"':"",l=h==b[a]?'style="background-color: rgb(210,210,210)"':"",g+='<option value="'+h+'"'+k+" "+l+">"+(f&&0==h?"~":"")+h+(c?"%":"")+"</option>";g=g+"</select>"+(' &nbsp; <span class="specInfo" id="specInfo'+
a+'">'+this.O3977(e,b[a])+"</span>");return g+="</p>"},O3977:function(a,b){var c=a-b,d="";0>c?(c!=parseInt(c)&&(c=c.toFixed(2)),d=c):0<c&&(c!=parseInt(c)&&(c=c.toFixed(2)),d="+"+c);return d},O5264:function(a){var b=ig.game.O3777.O1825(),c=jQuery("#"+a).val(),b=this.O3977(c,b[a]);jQuery("#specInfo"+a).html(b)},O300:function(){for(var a="",b=ig.game.O3777.O1825(),a=a+this.O1956("recoil",b,!0),a=a+this.O1956("accuracy",
b,!0),a=a+this.O1956("harm",b,!0),c=[],d=1;20>=d;d++)c.push(d);for(d=25;50>=d;d+=5)c.push(d);for(d=60;100>=d;d+=10)c.push(d);a+=this.O1956("shotsPerAmmo",b,!1,c);c=[];for(d=0.25;1>=d;d+=0.05)c.push(d.toFixed(2));for(d=1;2>=d;d+=0.25)c.push(d.toFixed(2));a+=this.O1956("secondsBetweenShots",b,!1,c,"seconds betw. shots");c=[];for(d=0.5;10>=d;d+=0.5)c.push(d.toFixed(1));for(d=11;15>=d;d+=1)c.push(d.toFixed(1));a+=this.O1956("secondsToReload",b,!1,c);c=[];
a+=this.O1956("weight",b,!1,null,"shot weight",!0);ig.game.alertDialog.open({html:a,O6041:function(){ig.game.painter.O4552()}})},O4552:function(a){a=ig.game.painter;var b=ig.game.O3777.O1825();a.data.prop.specs={};var c=jQuery("#recoil").val();c!=b.recoil&&(a.data.prop.specs.recoil=parseInt(c));c=jQuery("#accuracy").val();c!=b.accuracy&&(a.data.prop.specs.accuracy=parseInt(c));c=jQuery("#harm").val();c!=b.harm&&(a.data.prop.specs.harm=parseInt(c));c=
jQuery("#secondsBetweenShots").val();c!=b.secondsBetweenShots&&(a.data.prop.specs.secondsBetweenShots=parseFloat(c));c=jQuery("#secondsToReload").val();c!=b.secondsToReload&&(a.data.prop.specs.secondsToReload=parseFloat(c));c=jQuery("#shotsPerAmmo").val();c!=b.shotsPerAmmo&&(a.data.prop.specs.shotsPerAmmo=parseInt(c));c=jQuery("#weight").val();c!=b.weight&&(a.data.prop.specs.weight=parseInt(c))},textDataSaved:function(a){ig.game.painter.data.prop.textData=a;ig.game.sounds.success.play()},O874:function(a){var b=
ig.game.painter;"mover"==b.data.type?(b.data.prop.text=ig.game.O7019.O1422(a),b.data.prop.text.length>ig.game.O7019.textMaxLength&&(b.data.prop.text=b.data.prop.text.substr(0,ig.game.O7019.textMaxLength),ig.game.sounds.nocando.play(),setTimeout(function(){ig.game.alertDialog.open("Ooops... the text was too long and has been shortened.")},100))):b.data.prop.text=a;ig.game.alertDialog.contextId=null;b.O415();b.O1230()},O4153:function(a){var b=
ig.game.painter;a&&(b.data.prop.text=a,b.O415(),ig.game.sounds.success.play())},O566:function(a){(a=ig.game.painter.O2026(a))?(ig.game.painter.data.colors[ig.game.painter.O2500]=a,ig.game.sounds.success.play()):ig.game.sounds.nocando.play();ig.game.painter.O415()},O2026:function(a){var b=null;if(a&&"string"===typeof a)if(0<=a.indexOf(",")){a=ig.game.strings.replaceAll(a," ","");a=ig.game.strings.replaceAll(a,"rgba(",
"");a=ig.game.strings.replaceAll(a,")","");var c=a.split(",");3==c.length&&(a+=",1",c.push("1"));if(4==c.length){var d=parseFloat(c[3]);0<d&&(1>=d&&5>=c[3].length)&&(b=a.split(","))}}else if(a=ig.game.strings.replaceAll(a,"#",""),6==a.length){b=[];for(c=0;3>c;c++)b[c]=a.substr(2*c,2),b[c]=parseInt(b[c],16);b.push(1)}if(b){for(c=0;3>c;c++)if(!this.O5116(parseInt(b[c]))){b=null;break}b&&(b={r:parseInt(b[0]),g:parseInt(b[1]),b:parseInt(b[2]),alpha:parseFloat(b[3])})}return b},O5116:function(a){return void 0!=
a&&null!=a&&this.O6680(a)&&0<=a&&255>=a},O6680:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},O763:function(){this.interactingDialog&&this.interactingDialog.isOpen&&(this.data.prop.textData=jQuery("#interactingDialog").val(),this.data.prop.textData=ig.game.strings.O8160(this.data.prop.textData),this.data.prop.textData=ig.game.O6401.O2009(this.data.prop.textData),this.data.prop.textData.toLowerCase(),
this.data.prop.reactsTo=ig.game.O6401.O5702(this.data.prop.textData),jQuery("#interactingDialog").remove(),this.interactingDialog.isOpen=!1,ig.game.O6401.O7412(this.data.prop.textData,this.data.prop.thingRefs))},O2237:function(){this.thingReferencesDialog&&this.thingReferencesDialog.isOpen&&(this.data.prop.thingRefs=ig.game.O5662(this.thingReferencesDialog.data),jQuery("#thingReferencesDialog").remove(),this.thingReferencesDialog.isOpen=
!1)},O2665:function(a,b,c){if(this.O4080(c)){if(a&&this.data.type)if(this.thingReferencesDialog&&this.thingReferencesDialog.isOpen)if("interacting"==this.data.type){var d="ACTIVATOR CRUMBLING DEADLYEM THROWER GATHER OPENABLE PORTALR DEADLYMV MOVING".split(" ");0<=d.indexOf(c)?(ig.game.alertDialog.open("These cannot be included: "+ml.Misc.O8094(d)+"."),ig.game.sounds.nocando.play()):this.thingReferencesDialog.addItem(a,b)}else"transforming"==this.data.type&&
(d="STACKHOLD EQUIPMENT EMITTER CONSUMAB AIMABLE HOOK LINER READABLE STACKWEARB MNTGROUND MNTAIR MEDIUM".split(" "),0<=d.indexOf(c)?this.thingReferencesDialog.addItem(a,b):(ig.game.alertDialog.open("Only these can be included: "+ml.Misc.O8094(d)+"."),ig.game.sounds.nocando.play()));else if("interactiveEnvironment"==this.data.type&&"pickGetId"==ig.game.alertDialog.contextId)ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),b=ig.game.O4961.getItemBasic(a,"ui_pnt2"),c=ig.game.O5662(ig.game.O7510.O4498),
0<=c.indexOf(b.base)?(this.data.prop.getId=a,ig.game.sounds.success.play()):(ig.game.alertDialog.open("Only these are allowed: "+ml.Misc.O8094(c)+"."),ig.game.alertDialog.contextId="pickGetId",ig.game.sounds.nocando.play());else if("pickSoundId"==ig.game.alertDialog.contextId)if(ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),b=ig.game.O4961.getItemBasic(a,"ui_pnt3"),"SOUND"==b.base||b.soundId){var e="SOUND"==b.base?a:b.soundId;this.data.prop.soundId=e;ig.game.sounds.success.play();
setTimeout(function(){ig.game.sounds.O7220(e)},500)}else ig.game.alertDialog.open("Only type Sound or an item with sound can be added."),ig.game.alertDialog.contextId="pickSoundId",ig.game.sounds.nocando.play();else"gatherable"==this.data.type&&"pickHasId"==ig.game.alertDialog.contextId?(ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),b=ig.game.O4961.getItemBasic(a,"ui_pnt4"),c=["STACKHOLD","EQUIPMENT","CONSUMAB","STACKINSTR"],0<=c.indexOf(b.base)?(this.data.prop.hasId=a,ig.game.sounds.success.play()):
(ig.game.alertDialog.open("Only these are allowed: "+ml.Misc.O8094(c)+"."),ig.game.alertDialog.contextId="pickHasId",ig.game.sounds.nocando.play())):"mover"==this.data.type&&"pickHoldableId"==ig.game.alertDialog.contextId?(ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),b=ig.game.O4961.getItemBasic(a,"ui_pnt5"),c=["EQUIPMENT"],0<=c.indexOf(b.base)?(this.data.prop.holdableId=a,ig.game.sounds.success.play()):(ig.game.alertDialog.open("Only these are allowed: "+ml.Misc.O8094(c)+
"."),ig.game.alertDialog.contextId="pickHoldableId",ig.game.sounds.nocando.play())):"mover"==this.data.type&&"pickWearableId"==ig.game.alertDialog.contextId?(ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),b=ig.game.O4961.getItemBasic(a,"ui_pnt6"),c=["STACKWEAR"],0<=c.indexOf(b.base)?(this.data.prop.wearableId=a,ig.game.sounds.success.play()):(ig.game.alertDialog.open("Only these are allowed: "+ml.Misc.O8094(c)+"."),ig.game.alertDialog.contextId="pickWearableId",ig.game.sounds.nocando.play())):
"dynamicThing"==this.data.type&&"pickEmits"==ig.game.alertDialog.contextId?(ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),b=ig.game.O4961.getItemBasic(a,"ui_pnt7"),c=["STACKHOLD"],0<=c.indexOf(b.base)?(this.data.prop.emitsId=a,ig.game.sounds.success.play()):(ig.game.alertDialog.open("You can only pick type Item."),ig.game.alertDialog.contextId="pickEmits",ig.game.sounds.nocando.play())):"liner"==this.data.type&&"pickEnvironment"==ig.game.alertDialog.contextId?(ig.game.alertDialog.isOpen&&
ig.game.alertDialog.close(),b=ig.game.O4961.getItemBasic(a,"ui_pnt8"),"ENVIRONM"==b.base?(this.data.prop.environmentId=a,ig.game.sounds.success.play()):(ig.game.alertDialog.open("You can only pick type Environment."),ig.game.alertDialog.contextId="pickEnvironment",ig.game.sounds.nocando.play())):this.data.type&&(this.types[this.data.type].O2283&&"motionId"==ig.game.alertDialog.contextId)&&(ig.game.alertDialog.isOpen&&ig.game.alertDialog.close(),b=ig.game.O4961.getItemBasic(a,"ui_pnt9"),
c=["MOTION"],0<=c.indexOf(b.base)?(this.data.prop.motionId=a,ig.game.sounds.success.play()):(ig.game.alertDialog.open("Only type Motion is allowed"),ig.game.alertDialog.contextId="motionId",ig.game.sounds.nocando.play()))}else ig.game.O4132.O2959();this.O415()},O4609:function(){ig.game.alertDialog.contextId=null;var a=ml.Misc.O711(),b=this.data.prop.secPerTransform?this.data.prop.secPerTransform:a,a={seconds:1,minutes:60,
hours:3600},c="",d=a.seconds;parseInt(b/a.hours)==b/a.hours?d=a.hours:parseInt(b/a.minutes)==b/a.minutes&&(d=a.minutes);var c=c+"<p>After being placed, transform to next cell in</p>"+('<p><input type="text" value="'+ig.game.strings.O4334(b/d)+'" id="secondsPerTransform" maxLength="'+String(ml.Misc.O1080()).length+'" size="5"/>&nbsp;'),c=c+'<select id="secondsPerTransformMultiplier">',e;for(e in a)b=a[e],c+='<option value="'+b+'"'+(b==d?' selected="selected"':"")+
">"+e.toUpperCase()+"</option>";c+="</select>";c+="</p>";ig.game.alertDialog.open({html:c,O6041:ig.game.painter.O2303})},O2303:function(){var a=ig.game.painter,b=ml.Misc.O711(),c=parseInt(jQuery("#secondsPerTransformMultiplier").val()),d=jQuery("#secondsPerTransform").val();d&&(""!=d&&parseInt(d)!=d)&&ig.game.sounds.nocando.play();d&&""!=d&&parseInt(d)==d?(c=ml.Misc.O711(parseInt(d)*c),a.data.prop.secPerTransform=
c==b?null:c):a.data.prop.secPerTransform=null},O7592:function(a){var b=ig.game.painter;ig.game.strings.O1933(a)&&(a=null);b.data.prop.useKeyword=a;b.O415();ig.game.sounds.success.play()},O7630:function(a){var b=ig.game.painter;a?(a=b.getValidBackTileCount(a))?(b.data.prop.backTileCount=a,ig.game.sounds.success.play()):ig.game.sounds.nocando.play():""==a&&(b.data.prop.backTileCount=ig.game.holderDialog.O2334(),ig.game.sounds.success.play())},
getValidBackTileCount:function(a){var b=null,c=ig.game.holderDialog.O734;a=ig.game.strings.replaceAll(String(a)," ","");a=a.split(",");2==a.length&&(a[0]==parseInt(a[0])&&a[1]==parseInt(a[1])&&1<=parseInt(a[0])&&parseInt(a[0])<=c&&1<=parseInt(a[1])&&parseInt(a[1])<=c)&&(b=String(parseInt(a[0]))+","+String(parseInt(a[1])));return b},O7352:function(a){var b=ig.game.painter;a?(b.data.prop.creditUrl=ig.game.sounds.O6934(a),ig.game.sounds.success.play()):""==a&&(b.data.prop.creditUrl=
null,ig.game.sounds.bin.play())},O7084:function(a){var b=ig.game.painter;a&&(a=a.toLowerCase().trim());ig.game.strings.O1933(a)&&(a=null);b.data.prop.atKeyword=a;ig.game.sounds.success.play();b.O415()},O7402:function(a){var b=ig.game.painter,c=!1;a&&(a=ig.game.strings.replaceAll(a,"%",""));!a||""==a?c=!0:a&&parseInt(a)==a&&(a=parseInt(a),0<=a&&100>=a&&(b.data.prop.protectPercent=a,c=!0));c?ig.game.sounds.success.play():ig.game.sounds.nocando.play();b.O415()},
handlePasteMedium:function(){var a=this.data.prop&&this.data.prop.url?this.data.prop.url:"",b=this;ig.game.alertDialog.O8429("Paste URL from YouTube, Snapshots, Writables"+(5<=ig.game.O4269.rank?", SoundCloud or Imgur":" or SoundCloud")+":",a,function(c){""!=c&&(null!=c&&c!=a)&&(0<=String(c).toLowerCase().indexOf("soundonly=")&&(c=""),c&&0<=c.indexOf("vimeo.com")?(ig.game.sounds.nocando.play(),ig.game.alertDialog.open("This URL is not supported at the moment.")):5>ig.game.O4269.rank&&
c&&0<=c.indexOf("imgur.com")?ig.game.sounds.nocando.play():ig.game.mediaDialog.O8361(c)?(b.data.prop.url=String(c),ig.game.sounds.success.play()):(ig.game.sounds.nocando.play(),ig.game.alertDialog.open("This URL is not supported at the moment.")))})},O4573:function(){var a=this.data.prop&&this.data.prop.url?this.data.prop.url:"",b=this;ig.game.alertDialog.O8429("Paste a location URL:",a,function(c){""!=c&&(null!=c&&c!=a)&&(c=b.getIdFromPointerUrl(c),b.O4751(c)?
(b.data.prop.url=String(c),ig.game.sounds.success.play()):(ig.game.sounds.nocando.play(),ig.game.alertDialog.open("This URL is not a finder URL like https://manyland.com/#...")))})},getIdFromPointerUrl:function(a){if("string"==typeof a&&(0===a.indexOf("http://manyland.com/")||0===a.indexOf("https://manyland.com/"))){var b=a.indexOf("#");a=a.substr(b+1);10!=a.length&&(a=null)}return a},O4751:function(a){return"string"==typeof a&&10==a.length},O189:function(a){var b=
this.O336-ig.game.avatarBaseSize.y,c=a.y?a.y:0,d=a.rotation?a.rotation:0;this.avatarTemplatePosition.x=this.O616(this.avatarTemplatePosition.x+1*(a.x?a.x:0),0,this.tileWidth-ig.game.avatarBaseSize.x);this.avatarTemplatePosition.y=this.O616(this.avatarTemplatePosition.y+1*c,0,b);this.avatarTemplatePosition.rotation=this.O616(45*d,0,360)},O616:function(a,b,c){return Math.min(c,Math.max(b,a))},O1006:function(a){this.O2500!=this.transparentIndex&&(this.data.colors[this.O2500]=
a,this.O415(),this.O8008(this.O2500),this.O6528())},O846:function(a){this.O5234=!0;if(this.types[this.data.type].O7403)this.data.direction++,this.data.direction>this.O3576-1&&(this.data.direction=0);else if(a=this.types[this.data.type].limitedDirections)for(var b=0;b<a.length;b++){if(a[b]==this.data.direction){this.data.direction=b+1<a.length?a[b+1]:a[0];break}}else this.data.direction++,this.data.direction>
this.directionMax-1&&(this.data.direction=0);this.O4693(50);ig.game.sounds.click.play();this.update()},O5322:function(){ig.game.painter.close()},close:function(a){ig.game.alertDialog.isOpen&&ig.game.alertDialog.close();var b=!0,c=ig.game.painter.interactingDialog&&ig.game.painter.interactingDialog.isOpen||ig.game.painter.thingReferencesDialog&&ig.game.painter.thingReferencesDialog.isOpen;if(!a&&(c||ig.game.painter.O6932()))b=!1,ig.game.alertDialog.O4098("Really close?",
function(){ig.game.painter.close(!0)});b&&(ig.game.painter.O228(),ig.game.painter.O5212&&(clearInterval(ig.game.painter.O5212),ig.game.painter.O5212=void 0),ig.game.painter.interactingDialog&&ig.game.painter.interactingDialog.isOpen&&ig.game.painter.O763(),ig.game.painter.thingReferencesDialog&&ig.game.painter.thingReferencesDialog.isOpen&&ig.game.painter.O2237(),ig.game.painter.O4368(),
ig.game.painter.O5934());b&&ig.game.motionDialog&&ig.game.motionDialog.O5076("created");return b},O4368:function(){this.context&&(this.O7591(!0,!0,void 0,!0),this.clearTimeouts(),this.canvas&&(this.canvas.style.display="none"),this.O7706(),this.O6592="default",this.O3051(),this.O6612(),this.isRunning=!1,this.O605(),ig.game.O6310=ig.game.O4269.O6310=!1,this.O6714(),ig.game.userScriptEditor&&
ig.game.userScriptEditor.close())},clearTimeouts:function(){for(var a in this.timeouts)null!=this.timeouts[a]&&(clearTimeout(this.timeouts[a]),this.timeouts[a]=null)},O5993:function(){this.O6452();this.O4693(50);for(var a=this.O2645(this.types[this.data.type].parent),b=0;b<a.length;b++)if(a[b]==this.data.type){this.O7324(a[b<a.length-1?b+1:0],!0);this.update();break}},O4186:function(){if(this.data.prop.thingRefs&&
"interacting"==this.data.type&&this.data.prop.textData)for(var a=this.data.prop.textData.toLowerCase(),b=this.data.prop.thingRefs.length-1;0<=b;b--){var c=this.data.prop.thingRefs[b];c&&c[1]&&(c=c[1].toLowerCase(),-1===a.indexOf(c)&&this.data.prop.thingRefs.splice(b,1))}},O1526:function(){if(this.data.prop.textData){var a=!1,b=this.data.prop.textData.toLowerCase();if(0<=b.indexOf("/harms ")||0<=b.indexOf("/harm "))a=!0;else if(0<=b.indexOf("/places ")||0<=b.indexOf("/place "))a=
!0;else if(0<=b.indexOf("/to "))a=!0;else if(0<=b.indexOf("/embed ")||0<=b.indexOf("/embeds "))a=!0;else if(0<=b.indexOf("/rumbles ")||0<=b.indexOf("/rumble "))a=!0;else if(ig.game.O6401.O4729(this.data.prop.reactsTo))a=!0;else if(this.data.prop.thingRefs)for(b=0;b<this.data.prop.thingRefs.length;b++){var c=ig.game.O4961.getItemBasic(this.data.prop.thingRefs[b][0],"ui_pnt1");if(c&&ig.game.O8430.O7339(c.attributes)){a=!0;break}}a?(this.data.prop.attributes||
(this.data.prop.attributes=[]),-1===this.data.prop.attributes.indexOf("canHarmOrHasHighImpact")&&this.data.prop.attributes.push("canHarmOrHasHighImpact")):this.data.prop.attributes&&(a=this.data.prop.attributes.indexOf("canHarmOrHasHighImpact"),0<=a&&this.data.prop.attributes.splice(a,1))}},O6371:function(){var a=!0,b=[];this.O763();this.O2237();if("interacting"==this.data.type&&(this.O4186(),this.O1526(),
this.data.prop.textData)){var c=this.data.prop.textData.toLowerCase();if((0<=c.indexOf("/embed ")||0<=c.indexOf("/embeds "))&&5>ig.game.O4269.rank)a=!1,b.push("Embeddings are deprecated.")}ig.game.O8284&&(0<=["writable","readable"].indexOf(this.data.type)&&!ig.game.hasMinfinity)&&(a=!1,b.push("Writables and Readables require Minfinity."));c=1;this.data&&this.data.type&&(this.types[this.data.type].O1369?c=this.O3519:this.types[this.data.type].O1392&&(c=
ig.game.O1509));if(1>=ig.game.O4269.rank)for(var d=0;d<c&&a;d++)a=this.O3583(d);if(ig.ua.isSteamBigPictureMode&&(null==this.data.name||""==this.data.name))this.data.name="unnamed";if(null==this.data.name||""==this.data.name)a=!1,jQuery("#"+this.O5113).attr("placeholder","SET NAME"),jQuery("#"+this.O5113).addClass("missingValueInputBox");null==this.data.type&&(a=!1,this.context.fillStyle=this.O4296,this.fillRect(this.areas.changeType.x1,
this.areas.changeType.y1,this.areas.changeType.width,this.areas.changeType.height),this.context.font=this.O4744,this.context.fillStyle="rgb(200,50,50)",this.fillText("SET TYPE",this.areas.changeType.x1+this.areas.textBoxPadding.x1,this.areas.changeType.y1+this.areas.textBoxPadding.y1+this.O2941));"environment"==this.data.type&&(this.data.prop.soundId&&-1===this.data.prop.attributes.indexOf("soundscape"))&&delete this.data.prop.soundId;if(a){!this.O5234&&0==this.data.direction&&
this.O1965();this.O8420(c);this.O3122();a&&((a=this.O1451())||b.push("Please make this creation more visible."));a&&0<=["emitter","aimable"].indexOf(this.data.type)&&((a=4<=this.O3194(1))||b.push("Please make the second cell more visible."));c=null;this.data.type&&this.types[this.data.type].O8011&&(c=this.O4723());if(a&&0<=["mountableGround","mountableAir","emitter","aimable"].indexOf(this.data.type)&&
(!this.O2569(0)||!this.O2569(1)))a=!1,b.push("Please draw in both cells.");if(a&&0<=["holder"].indexOf(this.data.type)&&(!this.O2569(0)||!this.O2569(1)||!this.O2569(2)))a=!1,b.push("Please draw in all cells.");d="wearable interacting interactingMotion holder dynamicThing happening farBack thing thingFront lively thingBack furry clothy drifty generator".split(" ");a&&-1===d.indexOf(this.data.type)&&((a=this.O237())||
b.push("Please draw larger."));a&&c&&((a=this.O4785(c))||b.push("Please connect person and mountable."));a&&0<=["wearable","lively","gatherable","multithing"].indexOf(this.data.type)&&!this.O2569(1)?a=confirm("Second cell is empty. Save anyway?"):a&&(0<=["motion","interactingMotion","holder"].indexOf(this.data.type)&&this.O2569(0)&&!this.O2569(1))&&(a=confirm("Second cell is empty. Save anyway?"));a&&0<=["emitter","aimable"].indexOf(this.data.type)&&
(d=this.O1366(1),this.data.prop.boundingBox2=[d.x1,d.y1,d.x2,d.y2]);a&&(0<=["interacting","interactingMotion"].indexOf(this.data.type)&&this.data.prop.attributes&&0<=this.data.prop.attributes.indexOf("solid"))&&(d=this.O1366(0),this.data.prop.boundingBox=[d.x1,d.y1,d.x2,d.y2]);if(a&&"music"==this.data.type&&(!this.data.prop||!this.data.prop.musicData))this.O1459(),a=!1;if(a&&"readable"==this.data.type&&(!this.data.prop||!this.data.prop.textData))2<=
ig.game.O4269.rank?(ig.game.alertDialog.O8429(null,"",ig.game.painter.textDataSaved,null,!0),ig.game.sounds.nocando.play()):ig.game.O4132.O2959(),a=!1;if(a&&("dynamicThing"==this.data.type||"mover"==this.data.type||"farBack"==this.data.type))if(!this.data.prop||!this.data.prop.text)ig.game.alertDialog.O8429(null,"",ig.game.painter.O874,null,!0),ig.game.sounds.nocando.play(),a=!1;if(a&&"interacting"==this.data.type)if(!this.data.prop||!this.data.prop.textData)this.interactingDialog||
(this.interactingDialog=new InteractingDialog),this.interactingDialog.isOpen||this.interactingDialog.open(""),this.O415(),ig.game.sounds.nocando.play(),a=!1;else if(0<=this.data.prop.textData.toLowerCase().indexOf("/embed")||0<=this.data.prop.textData.toLowerCase().indexOf("/ embed"))ig.game.alertDialog.O1846("Sorry, using /embeds is deprecated"),a=!1;if(a&&"interactiveEnvironment"==this.data.type)if(!this.data.prop||!this.data.prop.atKeyword)ig.game.alertDialog.open("Please pick something for At"),
a=!1;else if(!this.data.prop||!this.data.prop.getId)ig.game.alertDialog.open("Please pick something for Get"),a=!1;if(a)if(0<=["medium","pointer"].indexOf(this.data.type)){if(!this.data.prop||!this.data.prop.url)a=!1,"medium"==this.data.type?this.handlePasteMedium():"pointer"==this.data.type&&this.O4573()}else this.data.prop&&this.data.prop.url&&delete this.data.prop.url;if(a){if(this.types[this.data.type].O6600&&(this.restrictOptionalCellsToCellCount(),this.maxCells=this.data.pixels.length),
"viewable"==this.data.type||"glow"==this.data.type?(this.selectedCell=0,this.O6675(-9,-9),this.O5231()):"holder"==this.data.type&&(this.selectedCell=2,this.O6675(-5,-10),this.O5231(),this.selectedCell=0),d=ig.game.O5662(this.data),c&&(d.prop||(d.prop={}),d.prop.offset=ig.game.O5662(c)),this.O4181(d),d.prop){(d.prop.musicData||null==d.prop.musicData||d.prop.musicData=={})&&"music"!=this.data.type&&delete d.prop.musicData;(d.prop.textData||
null==d.prop.textData||""==d.prop.textData||d.prop.textData=={})&&-1==="readable interacting brain changer happening generator".split(" ").indexOf(this.data.type)&&delete d.prop.textData;"changer"==this.data.type&&ig.game.userScriptEditor&&(d.prop.textData=ig.game.userScriptEditor.O2177());if(a&&0<=["brain","changer","happening","generator"].indexOf(this.data.type)&&(b=ig.game.brainManager.O2712(d.prop.textData)))html="<p>Ooops, there's something wrong with the code...</p><p>"+ig.game.strings.O4334(b)+
"</p>",ig.game.alertDialog.open(html,!0),a=!1;d.prop.hasId&&-1===["gatherable"].indexOf(this.data.type)&&delete d.prop.hasId;d.prop.emitsId&&-1===["dynamicThing"].indexOf(this.data.type)&&delete d.prop.emitsId;(!d.prop.holdableId||d.prop.holdableId&&-1===["mover"].indexOf(this.data.type))&&delete d.prop.holdableId;(!d.prop.wearableId||d.prop.wearableId&&-1===["mover"].indexOf(this.data.type))&&delete d.prop.wearableId;(!d.prop.protectPercent||d.prop.protectPercent&&-1===["mover"].indexOf(this.data.type))&&
delete d.prop.protectPercent;d.prop.environmentId&&-1===["liner"].indexOf(this.data.type)&&delete d.prop.environmentId;(d.prop.text||null==d.prop.text||""==d.prop.text||d.prop.text=={})&&-1===["dynamicThing","mift","mover","farBack"].indexOf(this.data.type)&&delete d.prop.text;(d.prop.thingRefs||null==d.prop.thingRefs)&&("interacting"!=this.data.type&&"transforming"!=this.data.type)&&delete d.prop.thingRefs;(""==d.prop.creditUrl||null==d.prop.creditUrl||d.prop.creditUrl&&"sound"!=this.data.type)&&
delete d.prop.creditUrl;(""==d.prop.noteDelayMS||null==d.prop.noteDelayMS||d.prop.noteDelayMS&&"musicSheet"!=this.data.type)&&delete d.prop.noteDelayMS;(d.prop.reactsTo||null==d.prop.reactsTo)&&"interacting"!=this.data.type&&delete d.prop.reactsTo;"interacting"==this.data.type&&(d.prop.textData&&ig.game.O6401.O4729(d.prop.reactsTo))&&d.prop.textData.length>this.O5410&&(a=!1,ig.game.alertDialog.open("When using the Someone keyword, please use "+
this.O5410+" characters or less."),ig.game.sounds.nocando.play());"mift"==this.data.type?d.prop.toId?d.prop.text||(a=!1,ig.game.alertDialog.O8429("Your message:","",ig.game.painter.O874,null,!0,!1,void 0,void 0,this.O7224,!0),ig.game.sounds.nocando.play()):(a=!1,ig.game.friendsDialog.open(),ig.game.sounds.nocando.play()):delete d.prop.toId;a&&(this.canvas&&(this.canvas.style.display="none"),ig.game.sounds.click.play(),"interacting"==this.data.type?
ig.game.O6401.O667(d.prop.textData)?d.prop.checksNears=!0:delete d.prop.checksNears:delete d.prop.checksNears,d.prop.attributes&&!ig.game.O8430.info[this.types[this.data.type].key]&&delete d.prop.attributes,d.prop.useKeyword||delete d.prop.useKeyword,(!d.prop.backTileCount||d.prop.backTileCount==ig.game.holderDialog.O2334())&&delete d.prop.backTileCount,d.prop.hasId||delete d.prop.hasId,d.prop.emitsId||delete d.prop.emitsId,
d.prop.atKeyword||delete d.prop.atKeyword,d.prop.environmentId||delete d.prop.environmentId,(d.prop.useKeyword||null==d.prop.useKeyword)&&-1===["interactiveEnvironment","gatherable","crumbling","holder","mover"].indexOf(this.data.type)&&delete d.prop.useKeyword,(d.prop.backTileCount||null==d.prop.backTileCount)&&-1===["holder"].indexOf(this.data.type)&&delete d.prop.backTileCount,(!d.prop.motionId||!this.types[this.data.type].O2283)&&delete d.prop.motionId,(d.prop.atKeyword||null==d.prop.atKeyword)&&
-1==["interactiveEnvironment","liner"].indexOf(this.data.type)&&delete d.prop.atKeyword,(d.prop.getId||null==d.prop.getId)&&"interactiveEnvironment"!=this.data.type&&delete d.prop.getId,(d.prop.boundingBox2||null==d.prop.boundingBox2)&&("emitter"!=this.data.type&&"aimable"!=this.data.type)&&delete d.prop.boundingBox2,(d.prop.boundingBox||null==d.prop.boundingBox)&&!(0<=["interacting","interactingMotion"].indexOf(this.data.type)&&this.data.prop.attributes&&0<=this.data.prop.attributes.indexOf("solid"))&&
delete d.prop.boundingBox,d.prop.offset&&-1===["mountableGround","mountableAir"].indexOf(this.data.type)&&delete d.prop.offset,this.O228(),d.prop.clonedFrom||delete d.prop.clonedFrom,d.prop.changerId||delete d.prop.changerId,delete d.prop.textSize,"music"==this.data.type&&(ig.game.musicRecorder.O6322(),ig.game.O6858.O6322()),"aimable"!=this.data.type&&delete d.prop.specs,("transforming"!=this.data.type||!d.prop.secPerTransform)&&delete d.prop.secPerTransform,"writable"==
this.data.type&&!ig.game.isEditorHere?ig.game.sounds.nocando.play():(this.types[this.data.type].O7403?(d.prop||(d.prop={}),d.prop.throwDirection=parseInt(d.direction),delete d.direction):delete d.prop.throwDirection,this.O5276(d),"musicSheet"==d.type&&(d.colors=this.O2827(d.pixels,d.colors)),this.O4429(d),this.O7904(d),d.type=this.types[this.data.type].key,(!d.prop.soundId||d.prop.soundId&&-1===
this.O942.indexOf(d.type))&&delete d.prop.soundId,this.O502(d),ig.game.O8430.O5337(d),this.O605(),this.O8165(d)))}}else ig.game.sounds.nocando.play(),1<=b.length&&ig.game.alertDialog.open(b.join(" "))}else ig.game.sounds.nocando.play(),1<=b.length&&ig.game.alertDialog.open(b.join(" "))},O2827:function(a,b){for(var c=ig.game.O5662(b),d=0;d<this.instruments.length;d++)c[d]&&(255==c[d].r&&
(255==c[d].g&&255==c[d].b&&1==c[d].alpha)&&this.O6785(a,d))&&(c[d].r-=d,c[d].g-=d,c[d].b-=d);return c},O6785:function(a,b){var c=!1;if(a&&a[0]&&void 0!==a[0][0])for(var d=a[0].length,e=a[0][0].length,f=0;f<a.length&&!c;f++)for(var g=0;g<d&&!c;g++)for(var h=0;h<e&&!c;h++)c=a[f]&&a[f][g]&&a[f][g][h]==b;return c},O5276:function(a){switch(this.data.type){case "mift":a.ext={};a.ext.toId=a.prop.toId;a.ext.text=a.prop.text;a.ext.isPrivate=a.prop.attributes&&
0<=a.prop.attributes.indexOf("private");delete a.prop.toId;delete a.prop.text;break;case "writable":a.ext={name:ig.game.validations.itemName.clean(this.data.name),rgbBackground:this.data.colors[0]?this.O7136(this.data.colors[0]):"255,255,255",rgbText:this.data.colors[1]?this.O7136(this.data.colors[1]):"0,0,0",areaGroupId:ig.game.areaGroupId,rights:parseInt(this.O5984)}}},O8165:function(a){if(!this.O2663){var b=this;this.O2663=
!0;var c=a.type,d=Boolean(a.prop&&a.prop.clonedFrom),e=Boolean("INTERACT"==a.type&&a.prop&&a.prop.textData&&0<=a.prop.textData.toLowerCase().indexOf("someone jumps")),f=Boolean("MNTAIR"==a.type&&a.prop&&a.prop.attr&&0<=a.prop.attr.indexOf(ig.game.O8430.info.MNTAIR.colorTrail.shortkey));a.pixels=ig.game.strings.O5446(JSON.stringify(a.pixels));a=ig.game.O7421.O3334(a,this);a.done(function(a){var h=a.itemId,k=a.transactionId;if(h){if(this.O4368(),this.O5934(),
ig.game.O4703.O6092(h),ig.game.O4803.register(ig.game.O4803.types.SAVED_CREATION),d&&ig.game.O4803.register(ig.game.O4803.types.SAVED_CLONED_CREATION),e&&ig.game.O4803.register(ig.game.O4803.types.SAVED_SPECIFIC_INTERACTING),f&&ig.game.O4803.register(ig.game.O4803.types.SAVED_SPECIFIC_FLYING_MOUNT),b.O6796&&("MULTITHING"==c&&b.O5359(b.O3621,
h),b.O6796=!1),k&&(1<ig.game.O4269.rank||0<=ig.game.O4269.screenName.toLowerCase().indexOf("test"))&&!ig.ua.steam)localStorage.skipNextAd=!0,ig.game.iapManager.O2301(k)}else a.quotaOk?console.log("Unknown O8165 response"):console.log("Submission rejected : over-quota");b.O2663=!1});a.fail(function(){ig.game.errorManager.O7973("Oops, error saving creation. A backup should load next time you open the creator.");b.O2663=
!1})}},O5359:function(a,b){ig.game.O7421.O2912(a).done(function(a){a&&a.data&&(a.data.staticItemsPropIndexAndXY||(a.data.staticItemsPropIndexAndXY=[]),a.data.movableItemsPropIndexAndXY||(a.data.movableItemsPropIndexAndXY=[]),ig.game.O7421.O5653(b,a.data).done(function(a){console.log("savedData",a)}))})},O502:function(a){if(a&&a.prop&&a.prop.attributes){var b=a.prop.attributes,c=b.indexOf("autoSpeedFast");0<=c&&(-1===b.indexOf("autoSpeedLeft")&&
-1===b.indexOf("autoSpeedRight")&&-1===b.indexOf("autoSpeedUp")&&-1===b.indexOf("autoSpeedDown"))&&a.prop.attributes.splice(c,1)}},O4181:function(a){if(this.data.type)if(0<=["motion","interactingMotion","holder"].indexOf(this.data.type))for(var b=3;b<a.pixels.length;b++)a.pixels[b]=null;else if(!this.types[this.data.type].O6600){if(!this.types[this.data.type].O1392)for(b=2;b<a.pixels.length;b++)a.pixels[b]=null;!this.types[this.data.type].O1392&&!this.types[this.data.type].O1369&&
a.pixels[1]&&(a.pixels[1]=null)}},O7904:function(a){for(var b=a.pixels.length-1;0<=b;b--)a.pixels[b]||a.pixels.splice(b,1)},O4429:function(a){for(var b=this.O356(this.O7369()),c=a.colors.length-1;1<=c;c--)if(this.O356(a.colors[c])==b&&!this.O6785(a.pixels,c))a.colors.pop();else break;return a},O4785:function(a){var b=!0,c=this.data.pixels[0].length,d=this.data.pixels[0][0].length;if(22<a.x||29<a.y||0>a.x+
c||0>a.y+d)b=!1;return b},O4723:function(){var a=this.O2005();return{x:a.x-this.avatarTemplatePosition.x,y:a.y-this.avatarTemplatePosition.y}},O2005:function(){for(var a={x:null,y:null},b=0;b<this.data.pixels.length;b++)for(var c=0;c<this.data.pixels[b].length;c++)for(var d=0;d<this.data.pixels[b][c].length;d++)if(this.data.pixels[b][c][d]!=this.transparentIndex){if(null==a.x||c<a.x)a.x=c;if(null==a.y||d<a.y)a.y=d}return a},
restrictOptionalCellsToCellCount:function(){var a=this.O6588;this.data.pixels.splice(a,this.data.pixels.length-a)},O5231:function(){for(var a=0;a<this.tileWidth;a++)for(var b=0;b<this.O336;b++)if(a>=this.O4176||b>=this.O1135)this.data.pixels[this.selectedCell][a][b]=this.transparentIndex},O1965:function(){var a=["slope","slideySlope","passableSlope","tiltedBouncy"];if(this.data.type&&0<=a.indexOf(this.data.type)){for(var a=
[this.O3564()],b=1;b<this.directionMax;b++)a[b]=this.O4646(a[b-1]);for(var c=null,d=0,b=0;b<this.directionMax;b++){var e=this.O5841(a[b]);if(null==c||e>c)c=e,d=b}this.data.direction=d}},O8329:function(a){for(var b=0;b<this.tileWidth;b++)for(var c=0;c<this.O336;c++)this.data.pixels[this.selectedCell][b][c]=a[b][c];this.O415()},O5841:function(a){for(var b=0,c=0;c<this.tileWidth;c++)for(var d=0;d<this.O336;d++){var e=
this.data.pixels[this.selectedCell][c][d];a[c][d]!=this.transparentIndex&&(this.data.colors[e]&&this.data.colors[e].alpha)&&(b+=this.data.colors[e].alpha)}return b},O3564:function(){for(var a=this.O5440(),b=this.tileWidth-1,c=0;c<this.O336;c++){for(var d=b;d<this.tileWidth;d++)a[d][c]=this.transparentIndex-1;0<b&&b--}return a},O1451:function(){var a=!0;if(this.data.type&&this.types[this.data.type].O519){for(var b=0,c=0,a=0;a<this.data.pixels.length;a++)for(var d=
0;d<this.tileWidth;d++)for(var e=0;e<this.O336;e++)if(this.data.pixels[a]&&this.data.pixels[a][d]&&void 0!==this.data.pixels[a][d][e]){var f=this.data.pixels[a][d][e];if(null!=f||void 0!=f)f=this.data.colors[f],1==f.alpha?b++:0<f.alpha&&c++}a=2<=ig.game.O4269.rank?5:15;0<="light lighttop vignette fillLight music environment lively holder".split(" ").indexOf(this.data.type)&&(a=5);(a=b>=a)&&"deadlyEmerge"==this.data.type&&(a=20<=b&&0==c)}return a},O3194:function(a){for(var b=
0,c=0;c<this.tileWidth;c++)for(var d=0;d<this.O336;d++){var e=this.data.pixels[a][c][d];(null!=e||void 0!=e)&&1==this.data.colors[e].alpha&&b++}return b},O237:function(){var a=!0,b=this.types[this.data.type].tileSize;if(b&&(b.width!=this.O4176||b.height!=this.O1135||"holdableItem"==this.data.type||"emitter"==this.data.type||"equipment"==this.data.type||"consumable"==this.data.type||"hook"==this.data.type||"wearable"==this.data.type||"body"==this.data.type||
"aimable"==this.data.type||"thing"==this.data.type)&&"motion"!=this.data.type){var b=this.O7650(),c=this.O2535;"body"==this.data.type?c=this.O1577:"mountableAir"==this.data.type?c=this.O4395:"thing"==this.data.type&&(c=this.O8252);b.x2-b.x1+1>=c&&b.y2-b.y1+1>=c?this.types[this.data.type].O8231&&this.O64(b):a=!1}return a},O64:function(a){this.tileWidth=a.x2-a.x1+1;this.O336=a.y2-a.y1+1;for(var b=0;b<this.maxCells&&
this.data.pixels[b];b++){for(var c=this.O5440(),d=0;d<this.tileWidth;d++)for(var e=0;e<this.O336;e++)c[d][e]=this.data.pixels[b][d+a.x1][e+a.y1];this.data.pixels[b]=this.O6127(c)}this.tileWidth=this.types[this.data.type].tileSize.width;this.O336=this.types[this.data.type].tileSize.height},O7650:function(){for(var a={x1:null,y1:null,x2:null,y2:null},b=0;b<this.maxCells;b++)for(var c=0;c<this.tileWidth;c++)for(var d=0;d<this.O336;d++)if(this.data.pixels[b]&&
(this.data.pixels[b][c]&&void 0!==this.data.pixels[b][c][d])&&this.data.pixels[b][c][d]!=this.transparentIndex){if(null==a.x1||c<a.x1)a.x1=c;if(null==a.x2||c>a.x2)a.x2=c;if(null==a.y1||d<a.y1)a.y1=d;if(null==a.y2||d>a.y2)a.y2=d}return a},O1366:function(a){for(var b={x1:null,y1:null,x2:null,y2:null},c=0;c<this.data.pixels[a].length;c++)for(var d=0;d<this.data.pixels[a][0].length;d++)if(this.data.pixels[a][c][d]!=this.transparentIndex){if(null==b.x1||c<b.x1)b.x1=c;if(null==b.x2||
c>b.x2)b.x2=c;if(null==b.y1||d<b.y1)b.y1=d;if(null==b.y2||d>b.y2)b.y2=d}return b},O8420:function(a){if(null!=this.data.direction&&0<this.data.direction&&!this.types[this.data.type].O7403)for(var b=this.data.direction+0;0<b;b--)for(var c=0;c<a;c++)this.data.pixels[c]=this.O4571(this.data.pixels[c])},O3122:function(){for(var a=0;a<this.maxCells;a++)for(var b=0;b<this.tileWidth;b++)for(var c=0;c<this.tileWidth;c++)this.data.pixels[a]&&(this.data.pixels[a][b]&&
void 0!=this.data.pixels[a][b][c]&&null!=this.data.pixels[a][b][c])&&(this.data.pixels[a][b][c]=parseInt(this.data.pixels[a][b][c]));for(a=0;a<this.maxColors;a++){if(void 0==this.data.colors[a]||null==this.data.colors[a])this.data.colors[a]=this.O7369(a);this.data.colors[a].r=parseInt(this.data.colors[a].r);this.data.colors[a].g=parseInt(this.data.colors[a].g);this.data.colors[a].b=parseInt(this.data.colors[a].b);null!=this.data.colors[a].alpha&&void 0!=this.data.colors[a].alpha&&(this.data.colors[a].alpha=
parseFloat(this.data.colors[a].alpha))}},O7997:function(a){void 0===a&&(a=this.selectedCell);for(var b={top:!1,right:!1,bottom:!1,left:!1},c=0;c<this.tileWidth&&!b.top;c++)b.top=this.data.pixels[a][c][0]!=this.transparentIndex;for(c=0;c<this.tileWidth&&!b.bottom;c++)b.bottom=this.data.pixels[a][c][this.O336-1]!=this.transparentIndex;for(c=0;c<this.O336&&!b.left;c++)b.left=this.data.pixels[a][0][c]!=this.transparentIndex;for(c=0;c<this.O336&&!b.right;c++)b.right=this.data.pixels[a][this.tileWidth-
1][c]!=this.transparentIndex;return b},O3583:function(a){var b=!0,c=null!=this.data.type&&null!=this.types[this.data.type].O3205?this.types[this.data.type].O3205:4;0!=c&&(a=this.O7997(a),b=(a.top?1:0)+(a.right?1:0)+(a.bottom?1:0)+(a.left?1:0),b="body"==this.data.type?a.bottom:b>=c,b||(this.update(),"body"==this.data.type?this.O673(!1,!1,!0,!1):this.O673(!a.top,!a.right,!a.bottom,!a.left),"default"==this.mode&&
this.drawImageWithAlpha(this.O3460(),this.areas.drawBigMessage.x1,this.areas.drawBigMessage.y1,this.drawImageMessageMaxOpacity)));return b},fadeInDrawBigMessage:function(a){if(this.isRunning&&("default"==this.mode||"pickType"==this.mode))if(!this.O2569()||a){this.O2796+=0.025;this.clearRect(this.areas.drawBigMessage.x1,this.areas.drawBigMessage.y1,this.areas.drawBigMessage.width,this.areas.drawBigMessage.height);var b=this.O3460();if(null!=b&&(this.drawImageWithAlpha(b,
this.areas.drawBigMessage.x1,this.areas.drawBigMessage.y1,this.O2796),this.O2796<this.drawImageMessageMaxOpacity)){var c=this;this.timeouts.drawBig=setTimeout(function(){c.O2796<c.drawImageMessageMaxOpacity&&c.fadeInDrawBigMessage(a)},50)}}},O3460:function(){var a=null;switch(this.O1364(this.data.type)){case 0:a="drawBig5x5";break;case 1:a="drawBig1Border";break;case 2:a="drawBig2Borders";break;case 3:a="drawBig3Borders";break;default:a="drawBig"}return a},
changePreviewColor:function(){var a=this.O1170();if(this.isRunning&&"changeColor"!=this.mode)if(a)this.O881&&(this.O1230(),this.O881=!1);else{null==this.O5385&&(this.O5385=[{r:132,g:128,b:121},{r:50,g:149,b:235},{r:41,g:74,b:72},{r:76,g:196,b:90},{r:240,g:238,b:237},{r:230,g:80,b:30},{r:195,g:209,b:42},{r:156,g:102,b:156},{r:12,g:13,b:13},{r:104,g:146,b:150}]);null==this.O5159&&
(this.O5159=1,this.previewColor=this.O5385[this.O5159-1]);var b=this.O5385[this.O5159],c=this.previewColor.r,d=this.previewColor.g,e=this.previewColor.b;this.previewColor.r<b.r?(this.previewColor.r+=2,this.previewColor.r>b.r&&(this.previewColor.r=b.r)):this.previewColor.r>b.r&&(this.previewColor.r-=2,this.previewColor.r<b.r&&(this.previewColor.r=b.r));this.previewColor.g<b.g?(this.previewColor.g+=2,this.previewColor.g>b.g&&(this.previewColor.g=
b.g)):this.previewColor.g>b.g&&(this.previewColor.g-=2,this.previewColor.g<b.g&&(this.previewColor.g=b.g));this.previewColor.b<b.b?(this.previewColor.b+=2,this.previewColor.b>b.b&&(this.previewColor.b=b.b)):this.previewColor.b>b.b&&(this.previewColor.b-=2,this.previewColor.b<b.b&&(this.previewColor.b=b.b));this.context.fillStyle=this.O356(this.previewColor);this.fillRect(this.areas.preview.x1,this.areas.preview.y1,this.areas.preview.width,this.areas.preview.height);this.previewColor.r==c&&
(this.previewColor.g==d&&this.previewColor.b==e)&&++this.O5159>this.O5385.length-1&&(this.O5159=0);this.O1976()}var f=this;this.timeouts.preview=setTimeout(function(){f.changePreviewColor()},a?1E3:200)},O1170:function(){return Boolean(this.data.type&&(0<=this.O6604.indexOf(this.data.type)||this.O2672&&-1===this.typesWithNoLivePreviewEver.indexOf(this.data.type)))},O29:function(){return Boolean(this.data.type&&
0<=this.O6604.indexOf(this.data.type))},O1976:function(){if(!(0<=["bigThing","veryBigThing"].indexOf(this.data.type)||this.O1170())){this.data.type?this.types[this.data.type].flips&&this.O1037(20)?this.O3895=!this.O3895:this.types[this.data.type].flips?this.types[this.data.type].O1369?this.O1037(20)&&(this.O4379=0==this.O4379?1:0):this.O4379=0:this.O3895=!1:this.O4379=0;var a=this.data.pixels[this.O4379];
this.O3895&&(a=this.O2106(a));var b=this.data.type&&this.types[this.data.type].O8011;"changeColor"!=this.mode&&(a&&!b)&&this.O5601(a,this.areas.preview.x1,this.areas.preview.y1)}},O5601:function(a,b,c){var d=0,e=0,f=this.tileWidth-1,g=this.O336-1;19<this.tileWidth&&(d=Math.floor(this.tileWidth/4),f=d+19-1);19<this.O336&&(e=Math.floor(this.O336/4),g=e+19-1);for(var h=d;h<=f;h++)for(var k=e;k<=g;k++)this.context.fillStyle=this.O356(this.data.colors[void 0!=
a[h]&&void 0!=a[h][k]?a[h][k]:this.transparentIndex]),this.fillRect(b+h-d,c+k-e,1,1)},O673:function(a,b,c,d){var e={r:200,g:50,b:50,alpha:0.5},f=this.O5440();if(a){a=0;for(var g=2;g<this.tileWidth-2;g++)f[g][a]==this.transparentIndex&&0==g%2&&(this.O6593(g,a,e),f[g][a]=1)}if(b){g=this.tileWidth-1;for(a=2;a<this.O336-2;a++)f[g][a]==this.transparentIndex&&0==a%2&&(this.O6593(g,a,e),f[g][a]=1)}if(c){a=this.O336-1;for(g=2;g<this.tileWidth-
2;g++)f[g][a]==this.transparentIndex&&0==g%2&&(this.O6593(g,a,e),f[g][a]=1)}if(d){g=0;for(a=2;a<this.O336-2;a++)f[g][a]==this.transparentIndex&&0==a%2&&(this.O6593(g,a,e),f[g][a]=1)}},O4810:function(){var a=this.cursorX,b=this.cursorY;this.O7567&&this.O1050&&(this.O6688(a,b,this.areas.typePickerSelections)?(a=a<=this.areas.typePickerSelections.x1+this.areas.typePickerGrid.width?0:1,b=Math.ceil((b-this.areas.typePickerSelections.y1)/
this.areas.typePickerGrid.height)-1,b=this.O6654(a*this.O2657+b),null!=b&&(a=this.types[b].O4917?ig.game.O4269.rank>=this.types[b].O4917:!0,0>=ig.game.O4269.rank&&(a=!1),a?(ig.game.sounds.click.play(),(a=this.O2645(b))&&(b=a[0]),this.O7324(b,!0),this.O08(),this.O6840()):ig.game.O4132.O2959())):(this.O6840(),ig.game.sounds.click.play()))},O4546:function(){var a=
this.cursorX,b=this.cursorY;if(this.O1050&&(!ig.game.alertDialog||!ig.game.alertDialog.isOpen)){if(this.O6688(a,b,this.areas.typePickerSelections)){if(a=a<=this.areas.typePickerSelections.x1+this.areas.typePickerGrid.width?0:1,b=Math.ceil((b-this.areas.typePickerSelections.y1)/this.areas.typePickerGrid.height)-1,b=this.getAttributeByIndex(a*this.O2657+b+this.O7211*this.O2546*this.O2657),null!=b&&(a=ig.game.O8430.info[this.types[this.data.type].key][b],
!a.hidden&&(!a.deprecated||0<=this.data.prop.attributes.indexOf(b))))ig.game.sounds.click.play(),this.O2104(b),this.O1023(),this.O08()}else this.O6688(a,b,this.areas.attributesPager)&&this.O1532?(this.O7211=1==this.O7211?0:1,ig.game.sounds.click.play(),this.O1023()):(this.O6840(),ig.game.sounds.click.play(),this.data.prop&&(this.data.prop.attributes&&0<=this.data.prop.attributes.indexOf("toArea")&&
!this.O5115)&&(this.O714(),this.O5115=!0));this.O1230()}},O714:function(a){var b="";a&&(b+='<p>Oops, area name "'+ig.game.strings.O4334(a)+'" not found.</p>');ig.game.alertDialog.open({html:b+'<p>for the helper\'s name, use "areaname" or "to&nbsp;areaname" (e.g. "to&nbsp;example&nbsp;island").</p>',O3526:!0})},O6383:function(a){var b=!1,c=this.types[this.data.type]&&
this.types[this.data.type].key;c&&(b=ig.game.O8430.info[c]&&ig.game.O8430.info[c][a]&&ig.game.O8430.info[c][a].O5153);return b},O2104:function(a){if(this.data.prop&&this.data.prop.attributes)if(this.O6383(a),ig.game.O8430.O2226(this.types[this.data.type].key)&&!this.O6383(a)){for(var b=this.data.prop.attributes.length-1;0<=b;b--)this.O6383(this.data.prop.attributes[b])||
this.data.prop.attributes.splice(b,1);this.data.prop.attributes.push(a)}else b=this.data.prop.attributes.indexOf(a),0<=b?this.data.prop.attributes.splice(b,1):(this.data.prop.attributes.push(a),this.O7355(a))},O5854:function(a,b){-1===a.indexOf(b)&&a.push(b)},O122:function(a,b){var c=a.indexOf(b);0<=c&&a.splice(c,1)},O7355:function(a){for(var b=0;b<ig.game.O8430.O7747.length;b++){var c=
ig.game.O8430.O7747[b],d=c.indexOf(a);0<=d&&(c=this.data.prop.attributes.indexOf(0==d?c[1]:c[0]),0<=c&&this.data.prop.attributes.splice(c,1))}},O7324:function(a,b){if(a&&this.types[a]){this.O7706();this.O7211=0;this.O1532=!1;this.O6452();var c=!0;"motion"==a&&this.O6932()&&(c=confirm("Motion will replace your current drawing with your body. Continue?"));if(c){this.O6148();this.O2212=
6;0<=["musicSheet","dynamicThing","happening","farBack"].indexOf(a)&&(this.O2212="farBack"==a?this.O7243:9);this.O2796=0;(c=this.data.type?this.types[this.data.type].tileSize:null)||(c={width:this.O4176,height:this.O1135});if(this.data&&("viewable"==this.data.type||"glow"==this.data.type)||"body"==a){this.O7058();for(var d=0;d<ig.game.O1509;d++)this.data.pixels[d]=this.O5440()}this.data.type=a;d=this.types[this.data.type].tileSize;
this.O2463();d&&(this.tileWidth=d.width,this.O336=d.height,this.O5552());if(!d||c.width!=d.width||c.height!=d.height)this.O7058(),this.O7591(!0,!1,!0),this.O6321();c="Name...";"motion"==this.data.type?(c="Trigger by [/]name",jQuery("#"+this.O5113).addClass("verbosePlaceholder")):"interactingMotion"==this.data.type?(c="Trigger by [/]name",jQuery("#"+this.O5113).addClass("verbosePlaceholder")):jQuery("#"+this.O5113).removeClass("verbosePlaceholder");
jQuery("#"+this.O5113).attr("placeholder",c);this.O1573();this.O2021();this.O3711();this.O415();"thrower"==a&&(this.data.direction=this.O3576-1);this.O3295();this.O4472();this.O1163();switch(a){case "mift":if(!ig.game.hasMinfinity||!this.O2238)c="<p>Mifts are message gifts you can send to friends.</p>",ig.game.hasMinfinity?
(c+="<p>As you have Manyland Minfinity, you can give Mifts for free.</p>",this.O2238=!0):c+='<p>They cost $1 and help finance Manyland <br/>(you can give them for free with <a href="javascript:ig.game.iapDialogManager.openMainDialog()">Minfinity</a>).</p>',c+="<p>Thank you!</p>",ig.game.alertDialog.open(c,!0);break;case "readable":ig.game.O8284&&!ig.game.hasMinfinity&&ig.game.alertDialog.O1300('<p>Readable creation requires <a href="javascript:ig.game.iapDialogManager.openMainDialog()">Minfinity</a>.</p>');
break;case "writable":ig.game.O8284&&!ig.game.hasMinfinity?ig.game.alertDialog.O1300('<p>Writable creation requires <a href="javascript:ig.game.iapDialogManager.openMainDialog()">Minfinity</a>.</p>'):ig.game.isEditorHere&&"INDIVIDUALS"==ig.game.O2714?this.O8022():(ig.game.alertDialog.open("Writable rights are tied to the area they are created in. Please first go to an area where you are listed as editor."),setTimeout(function(){ig.game.painter.O7324("readable")},
50))}}this.O228();b&&(this.thingReferencesDialog&&(this.O2237(),this.thingReferencesDialog.data=[]),this.data&&this.data.prop&&(this.data.prop.thingRefs=[]))}},O8022:function(){var a;a='<div style="margin-left: 10px">'+('<p style="text-align: left">This Writable will be tied to the editor list for '+ig.game.O966+":</p>");var b=["Editors can remove, lock, clarify and stickify","Only editors can add threads","Only editors can add comments",
"Only editors can read"];a+='<div style="text-align: left; background-color: rgb(180,180,180); padding: 9px; text-transform: uppercase; width: 95%; border-radius: 5px">';for(var c=0;c<b.length;c++){var d=c==this.O5984?' checked="checked"':"";a+='<div style="margin-bottom: 9px">';a+='<input type="radio" name="radioButton" value="'+c+'" id="writableSetting'+c+'"'+d+"/> ";a+='<label for="writableSetting'+c+'">'+ig.game.strings.O4334(b[c]);1<=c&&(a+=' <span style="opacity: .6">(includes all of above)</span>');
a+="</label>";a+="</div>"}a+="</div>";a+="</div>";ig.game.alertDialog.open(a,!0,function(){var a=jQuery("input[name=radioButton]:checked").val();ig.game.painter.O5984=a;ig.game.sounds.success.play()})},O1163:function(){if("changer"==this.data.type){if(this.data.prop.textData)ig.game.userScriptEditor&&ig.game.userScriptEditor.open(this.data.prop.textData,this,!1,!1);else{var a=this;ig.game.O7421.O558().done(function(b){ig.game.userScriptEditor&&
ig.game.userScriptEditor.open(b.contents?b.contents:"",a,void 0,!1)})}var b=30;jQuery("#painter").css("left",b+"px")}else{if("farBack"==this.data.type){var c=jQuery("#"+ig.game.canvasId),b=c.position(),c=c.width(),b=b.left+c-(this.painterCanvasSize.x+65)*ig.system.scale;jQuery("#painter").css("left",b+"px")}else this.O3776();ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen&&ig.game.userScriptEditor.close()}this.O605();this.O2654()},O3776:function(){var a=jQuery("#"+
ig.game.canvasId),b=a.position(),a=a.width(),b=b.left+a/2-this.painterCanvasSize.x*ig.system.scale/2;jQuery("#painter").css("left",b+"px")},O1436:function(){var a=ig.game.O1509,b=2*ig.game.O5286,c=2*ig.game.O5286;this.O6642=[];for(var d=0;d<a;d++)this.O6642[d]=this.O5440(b,c)},O6148:function(){if(this.data&&this.data.pixels&&this.O6642)for(var a=0;a<this.data.pixels.length;a++)for(var b=0;b<this.data.pixels[0].length;b++)for(var c=
0;c<this.data.pixels[0].length;c++)this.data.pixels[a]&&(this.data.pixels[a][b]&&void 0!==this.data.pixels[a][b][c]&&null!==this.data.pixels[a][b][c])&&(this.O6642[a][b][c]=this.data.pixels[a][b][c])},O4472:function(){if(this.data&&this.data.pixels&&this.O6642)for(var a=0;a<this.data.pixels.length;a++)for(var b=0;b<this.data.pixels[0].length;b++)for(var c=0;c<this.data.pixels[0].length;c++)this.data.pixels[a]&&this.data.pixels[a][b]&&void 0!==this.data.pixels[a][b][c]&&
null!==this.data.pixels[a][b][c]&&this.data.pixels[a][b][c]==this.transparentIndex&&(this.data.pixels[a][b][c]=this.O6642[a][b][c])},O3295:function(){this.data.prop||(this.data.prop={});this.data.prop.attributes||(this.data.prop.attributes=[]);if(0==this.data.prop.attributes.length&&this.data.type&&ig.game.O8430.info[this.types[this.data.type].key]&&ig.game.O8430.O2226(this.types[this.data.type].key)){this.data.prop.attributes=
[];var a=ig.game.O8430.info[this.types[this.data.type].key],b;for(b in a){this.data.prop.attributes.push(b);break}}},O2021:function(){"music"==this.data.type&&(this.data.prop&&!this.data.prop.musicData&&ig.game.O6858&&ig.game.O6858.data&&!ig.game.O6858.O1631)&&(this.data.prop&&(this.data.prop={}),this.data.prop.musicData=ig.game.O5662(ig.game.O6858.data))},O3711:function(){if("musicSheet"==
this.data.type&&ig.game.O6858&&ig.game.O6858.data&&!ig.game.O6858.O1631){var a=ig.game.O6858.data,b;a.piano?(b="piano",colorIndex=0):a.classic_piano?(b="classic_piano",colorIndex=1):a.bell&&(b="bell",colorIndex=2);if(b&&(a=b?a[b]:null)&&0===this.selectedCell&&this.data.pixels&&this.data.pixels[this.selectedCell]&&this.data.pixels[this.selectedCell][0])for(var c in a)if(b=1E3*parseFloat(ig.game.strings.replaceAll(c,"_",".")),b=Math.round(b/this.noteDelayMSDefault),
b<this.tileWidth)for(var d="object"==typeof a[c]?a[c]:[a[c]],e=0;e<d.length;e++){var f=d[e];2==f.length&&(f=this.O336-1-((f[0]-2)*ig.game.sounds.tones.length+ig.game.sounds.tones.indexOf(f[1])),0<=f&&f<=this.O336&&(this.data.pixels[this.selectedCell][b][f]=colorIndex))}}},O1459:function(){var a=this.areas.O7962.x1,b=this.areas.O7962.y1,c=this.tileWidth*this.O1083,d=this.O336*this.O1083;this.context.fillStyle="rgba(0,0,0,1)";this.context.textAlign=
"center";this.fillText("FIRST PICK AN INSTRUMENT",a+c/2,b+d/2+this.O2941-1-3);this.fillText("AND PLAY MUSIC",a+c/2,b+d/2+this.O2941-1+5);this.context.textAlign="left"},O6654:function(a){var b=null,c=0,d;for(d in this.types){var e=this.types[d].O4917&&this.types[d].O4917==this.O5997,f=ig.game.O4269.rank==this.O5997;if(c==a&&!this.types[d].parent&&(!e||f)){b=d;break}this.types[d].parent||c++}return b},getAttributeByIndex:function(a){var b=null,c=0,
d=ig.game.O8430.info[this.types[this.data.type].key],e;for(e in d){var f=d[e];if(c==a&&(!f.O4917||ig.game.O4269.rank>=f.O4917)){b=e;break}c++}return b},O1822:function(a){var b=0,c;for(c in this.types){if(c==a)break;this.types[c].parent||b++}return b},getAttributesIndex:function(a){var b=0,c;for(c in ig.game.O8430.info[this.types[this.data.type].key]){if(c==a)break;b++}return b},O1204:function(){var a=0,b;for(b in this.types)a++;return a},O6688:function(a,
b,c){return a>=c.x1&&a<=c.x2&&b>=c.y1&&b<=c.y2},O3240:function(a,b,c){return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},O2083:function(){"a"==this.colorPickerType?this.O4557():this.O5701()},O7615:function(){"a"!=this.colorPickerType&&(this.O7615_typeB(),ig.game.O4803.register(ig.game.O4803.types.USED_ALTERNATIVE_COLORS_VIEW));
this.O1230()},O5701:function(){var a=this.cursorX,b=this.cursorY;if(this.O6688(a,b,this.areas.colorPickerB_base)){var c=null;a>this.areas.colorPickerB_base.x2-4&&(c=-4);this.colorPickerB.rgbaBase=this.O3170(c,null);this.colorPickerB.baseY=b;this.O2628=!0;this.O4243(this.data.colors[this.O2500])}else this.O6688(a,b,this.areas.colorPickerB_tintOff)?(this.colorPickerB.rgbaTint=
null,this.colorPickerB.tintX=null,this.O2628=!0,this.O4243(this.data.colors[this.O2500])):this.O6688(a,b,this.areas.colorPickerB_tint)?(c=null,b<this.areas.colorPickerB_tint.y1+3&&(c=3),this.colorPickerB.rgbaTint=this.O3170(null,c),this.colorPickerB.tintX=a,this.O2628=!0,this.O4243(this.data.colors[this.O2500])):this.O6688(a,b,this.areas.colorPickerB_main)?this.O4243(this.O3170()):
this.O4243(this.data.colors[this.O2500]);this.O2628&&(this.O2628=!1,this.O5738())},O3349:function(){},O3170:function(a,b){if(null==a||void 0==a)a=0;if(null==b||void 0==b)b=0;var c=this.getImageDataPixel(this.cursorX+a,this.cursorY+b).data;return{r:c[0],g:c[1],b:c[2],alpha:1}},O4923:function(a,b){var c=this.getImageDataPixel(a,b).data;return{r:c[0],g:c[1],b:c[2],alpha:1}},
O7615_typeB:function(){var a=this.cursorX,b=this.cursorY;if(this.O1050&&this.O6688(a,b,this.areas.colorPickerB_main))this.data.colors[this.O2500]=this.O3170(),this.O2628=!0,this.O3529(a,b),this.O6840(),ig.game.sounds.click.play(),this.O8008(this.O2500),this.O6528();else if(this.O6688(a,b,this.areas.colorPickerTypeToggler))this.O2914();
else if(this.O6688(a,b,this.areas.colorPickerCloseButton)||!this.O6688(a,b,this.areas.colorPickerDialog))this.O6840(),ig.game.sounds.click.play()},O5738:function(){this.drawImage("colorPicker_type"+this.colorPickerType.toUpperCase(),this.areas.colorPickerDialog.x1,this.areas.colorPickerDialog.y1);this.colorPickerB.rgbaBase||(this.colorPickerB.rgbaBase={r:0,g:255,b:244,alpha:1});var a=this.areas.colorPickerB_main,b=this.O356(this.colorPickerB.rgbaBase);
this.context.fillStyle=b;this.fillRect(a.x1,a.y1,a.width,a.height);b=this.context.createLinearGradient(0,0,a.width*this.pageZoom,0);b.addColorStop(0.1,"rgba(255,255,255,1)");b.addColorStop(0.8,"rgba(255,255,255,0)");this.context.fillStyle=b;this.fillRect(a.x1,a.y1,a.width,a.height);b=this.context.createLinearGradient(0,0,0,a.height*this.pageZoom);b.addColorStop(0.2,"rgba(0,0,0,0)");b.addColorStop(1,"rgba(0,0,0,1)");this.context.fillStyle=b;this.fillRect(a.x1,a.y1,a.width,a.height);this.colorPickerB.rgbaTint&&
(this.context.globalCompositeOperation="lighter",b=ig.game.O5662(this.colorPickerB.rgbaTint),b.alpha=0.15,this.context.fillStyle=this.O356(b),this.fillRect(a.x1,a.y1,a.width,a.height),this.context.globalCompositeOperation="source-over");this.colorPickerB.tintX||(this.colorPickerB.tintX=this.areas.colorPickerB_tintOff.x1);this.context.fillStyle="rgba(255,255,255,1)";this.fillRect(this.colorPickerB.tintX,this.areas.colorPickerB_tint.y1-1,1,3);this.colorPickerB.baseY||(this.colorPickerB.baseY=
Math.round(this.areas.colorPickerB_base.y1+this.areas.colorPickerB_base.height/2));this.context.fillStyle="rgba(255,255,255,1)";this.fillRect(this.areas.colorPickerB_base.x2-3,this.colorPickerB.baseY,4,1)},O3529:function(a,b){var c=this.O6838();c&&(this.O3294[c]={x:a,y:b,O3125:ig.game.O5662(this.colorPickerB)})},O6838:function(){var a=null;if(void 0!=this.O2500&&null!=this.O2500){var b=this.data.colors[this.O2500];
b&&(a=[this.O2500,b.r,b.g,b.b].join("_"))}return a},O813:function(){var a=this.O6838();a&&this.O3294[a]&&(a=this.O3294[a],this.context.fillStyle="rgba(0,0,0,.75)",this.fillRect(a.x-1,a.y-1,2,2))},O4557:function(){var a=this.cursorX,b=this.cursorY,c=this.O6688(a,b,this.areas.colorPickerCloseButton),d=!c&&this.O6688(a,b,this.areas.colorPickerDialogInner),
e=this.getImageDataPixel(a,b).data,e={r:e[0],g:e[1],b:e[2],alpha:1};this.O7567&&this.O1050?this.O6688(a,b,this.areas.colorPickerTypeToggler)?this.O2914():c?(this.O6840(),ig.game.sounds.click.play()):d?(this.data.colors[this.O2500]=e,this.O4826[this.O2500]={x:a,y:b},this.O6840(),ig.game.sounds.click.play(),this.O8008(this.O2500),this.O6528()):!c&&!d&&(this.O6840(),
ig.game.sounds.click.play()):d?this.O4243(e):this.O4243(this.data.colors[this.O2500])},O7635:function(){var a=this.cursorX,b=this.cursorY,c=this.O6688(a,b,this.areas.menuButton),d=!c&&this.O6688(a,b,this.areas.menu);if(this.O1050&&(c||!d))this.O6840();else if(d)switch(c=["undo|redo","cloneOld","toggleDrawSymmetricX|toggleDrawSymmetricY|O3297","changeColor|changeColorSingle|rgbAsText",
"mirror|flip|rotate",ig.ua.mobile||ig.ua.mac?"moveLeft|moveRight|moveUp|moveDown":"move|line|overdraw","lowerColorOpacity","brushType0|brushType1|brushType2|brushType3|brushType4","addRemoveSound","copy|paste","clearCanvas|clearAll"],b=parseInt((b-this.areas.menu.y1)/((this.areas.menu.y2-this.areas.menu.y1)/c.length)),b=c[b],b){case "undo|redo":switch(this.O5726(b,a,[this.areas.menu.width/2])){case "undo":this.O957();break;case "redo":this.O7690()}this.O6840();
this.update();break;case "cloneOld":this.O6840();this.update();ig.game.sounds.click.play();this.O7677();break;case "toggleDrawSymmetricX|toggleDrawSymmetricY|O3297":a=this.O5726(b,a,[0.33*this.areas.menu.width,0.66*this.areas.menu.width]);"toggleDrawSymmetricX"==a||"toggleDrawSymmetricY"==a?("toggleDrawSymmetricX"==a?this.O4532=!this.O4532:this.O2014=!this.O2014,ig.game.sounds.click.play(),this.O6840(),this.update()):
this.O3297();break;case "changeColor|changeColorSingle|rgbAsText":a=this.O5726(b,a,[0.33*this.areas.menu.width,0.66*this.areas.menu.width]);if("rgbAsText"==a)this.O8436();else{switch(a){case "changeColor":this.O5333=null;break;case "changeColorSingle":this.O5333=this.O2500}this.O6659=this.O3433(this.data.colors);this.O997();this.O6840();this.mode="changeColor";this.update();
this.O4051()}break;case "mirror|flip|rotate":if(this.O3665)ig.game.sounds.nocando.play();else{c=[this.areas.mirrorFlipRotateSeparator1.x1,this.areas.mirrorFlipRotateSeparator2.x1];switch(this.O5726(b,a,c)){case "mirror":this.data.pixels[this.selectedCell]=this.O2106(this.data.pixels[this.selectedCell]);break;case "flip":this.data.pixels[this.selectedCell]=this.O1880(this.data.pixels[this.selectedCell]);break;case "rotate":this.data.pixels[this.selectedCell]=
this.O4646(this.data.pixels[this.selectedCell])}this.O6321();ig.game.sounds.click.play()}this.update();break;case "move|line|overdraw":c=[this.areas.mirrorFlipRotateSeparator1.x1,this.areas.mirrorFlipRotateSeparator2.x1];switch(this.O5726(b,a,c)){case "move":ig.game.alertDialog.O1846("move the creation using ctrl+arrow keys. extend or shorten it by using ctrl+shift+arrow keys.");break;case "line":ig.game.alertDialog.O1846('draw lines by holding down the "a" key.');
break;case "overdraw":ig.game.alertDialog.O1846("holding down shift allows to only draw over the context color. you can set a color to be the context by ctrl-right-clicking it. (Reversely, holding shift while right-clicking only draws over the main color.)")}ig.game.sounds.click.play();break;case "moveLeft|moveRight|moveUp|moveDown":c=this.areas.menu.width/4-3;c=[this.areas.menu.x1+1*c-2,this.areas.menu.x1+2*c,this.areas.menu.x1+3*c];switch(this.O5726(b,a,c)){case "moveLeft":this.O6675(-1,
0);break;case "moveRight":this.O6675(1,0);break;case "moveUp":this.O6675(0,-1);break;case "moveDown":this.O6675(0,1)}this.O6321();ig.game.sounds.click.play();this.update();break;case "move":this.drawImage("moveShortcutHi",this.areas.menu.x1+51,this.areas.menu.y1+58);ig.game.sounds.click.play();this.update();break;case "brushType0|brushType1|brushType2|brushType3|brushType4":c=15;c=[this.areas.menu.x1+32,this.areas.menu.x1+32+1*c,this.areas.menu.x1+32+2*c,this.areas.menu.x1+
32+3*c,this.areas.menu.x1+32+4*c];a=this.O5726(b,a,c);this.brushType=parseInt(ig.game.strings.replaceAll(a,"brushType",""));ig.game.sounds.click.play();this.O6840();break;case "lowerColorOpacity":this.O6840();this.lowerColorOpacity();ig.game.sounds.click.play();break;case "addRemoveSound":this.O5248();ig.game.sounds.click.play();break;case "copy|paste":switch(this.O5726(b,a,[this.areas.menu.width/2])){case "copy":this.O5889();break;
case "paste":this.O2229()}this.O6840();this.update();break;case "clearCanvas|clearAll":a="clearAll"==this.O5726(b,a,[this.areas.menu.width/2]),this.O6840(),this.O7591(!0,a),this.O6321()}},O1033:function(){ig.game.O4269.O3105||ig.game.alertDialog.O8429("Do a motion:",localStorage.motion_while_creating,ig.game.painter.O5595,null,null,null,null,null,null,!0)},O5595:function(a){a?(a=String(a).trim(),
ig.game.O914.setItem("motion_while_creating",a),ig.game.motionDialog.O1951(a)):delete localStorage.motion_while_creating},O5248:function(){this.O6840();this.update();this.data.type&&0<=this.O942.indexOf(this.types[this.data.type].key)?this.data.prop.soundId?(this.data.prop.soundId=null,ig.game.sounds.bin.play()):(ig.game.alertDialog.open('<p>Now pick a Sound (or any creation containing a sound) from the right (<a href="/info-tips#addingSound" target="_blank">more info</a>...)</p>',
!0),ig.game.alertDialog.contextId="pickSoundId"):(ig.game.alertDialog.open('<p>You can only add sound for <a href="/info-tips#addingSound" target="_blank">certain types</a>...</p>',!0),ig.game.sounds.nocando.play())},O5726:function(a,b,c){a=a.split("|");for(var d=0,e=0;e<c.length;e++)b>this.areas.menu.x1+c[e]&&d++;return a[d]},O7591:function(a,b,c,d){if(this.O3665&&!d)ig.game.sounds.nocando.play();else{if(a)if(c)for(a=0;a<this.maxCells;a++)this.data.pixels[a]=this.O5440();
else this.data.pixels[this.selectedCell]=this.O5440();b&&(this.data=this.O7091(),this.selectedCell=this.O2500=0,this.O4826=[]);this.O415()}},O7677:function(){this.mode="cloneOld";ig.game.alertDialog.open("Now pick a creation from the right (or drag and drop it on the Create tab selector or Create button next time).")},O4571:function(a){for(var b=this.O6127(a),c=this.tileWidth,d=0;d<c;d++)for(var e=0;e<c;e++)b[d][e]=a[c-e-
1][d];return b},O4646:function(a){a=this.O6127(a);for(var b=0;b<this.directionMax-1;b++)a=this.O4571(a);return a},O7058:function(){this.O7202=[];this.O6321(!0)},O6321:function(a){var b=ig.game.O5662(this.data);if(a||this.O8303(this.O7202[this.O6070],b))this.O6070<this.O7202.length-1&&this.O7202.splice(this.O6070+1),this.O7202.push(ig.game.O5662(this.data)),
this.O7202.length>this.O54&&this.O7202.shift(),this.O6070=this.O7202.length-1,this.O08()},O957:function(){this.O3665?ig.game.sounds.nocando.play():0<this.O6070&&(this.O6070--,this.updateToCurrentDataHistory())},O7690:function(){this.O3665?ig.game.sounds.nocando.play():this.O6070<this.O7202.length-1&&(this.O6070++,this.updateToCurrentDataHistory())},
updateToCurrentDataHistory:function(){var a=ig.game.O5662(this.O7202[this.O6070]);this.data.colors=a.colors;this.data.pixels[this.selectedCell]=a.pixels[this.selectedCell]},O8303:function(a,b){var c=!1;if(a&&b&&a.pixels&&b.pixels&&a.pixels[this.selectedCell]&&b.pixels[this.selectedCell]){for(var d=0;d<this.tileWidth&&!c;d++)for(var e=0;e<this.O336&&!c;e++){if(void 0==a.pixels[this.selectedCell][d]&&void 0==b.pixels[this.selectedCell][d])return c;c=void 0==a.pixels[this.selectedCell][d]?
!0:void 0==a.pixels[this.selectedCell][d][e]&&b.pixels[this.selectedCell][d]&&b.pixels[this.selectedCell][d][e]?!0:a.pixels[this.selectedCell]&&a.pixels[this.selectedCell][d]&&void 0!==a.pixels[this.selectedCell][d][e]&&null!==a.pixels[this.selectedCell][d][e]&&b.pixels[this.selectedCell]&&b.pixels[this.selectedCell][d]&&void 0!==b.pixels[this.selectedCell][d][e]&&null!==b.pixels[this.selectedCell][d][e]&&a.pixels[this.selectedCell][d][e]!=b.pixels[this.selectedCell][d][e]}for(d=0;d<this.maxColors&&
!c;d++)c=JSON.stringify(a.colors[d])!=JSON.stringify(b.colors[d])}return c},O3433:function(a){for(var b=[],c=0;c<this.maxColors;c++)a&&a[c]&&(b[c]=a[c]);return b},O8228:function(a){for(var b=[],c=0;c<this.maxCells;c++)b[c]=this.O6127(a[c]);return b},O6127:function(a){var b=[];if(a)for(var c=0;c<a.length;c++){b[c]=[];for(var d=0;d<a[0].length;d++)b[c][d]=a[c]&&null!=a[c][d]&&void 0!=a[c][d]?a[c][d]:this.transparentIndex}return b},O2914:function(){this.colorPickerType=
"a"==this.colorPickerType?"b":"a";ig.game.O914.setItem("colorPickerType",this.colorPickerType);this.O6840();this.O6619();ig.game.sounds.click.play()},O6619:function(a){this.O6452();this.mode="pickColor";this.drawImage("colorPicker_type"+this.colorPickerType.toUpperCase(),this.areas.colorPickerDialog.x1,this.areas.colorPickerDialog.y1);this.O4243({r:0,g:0,b:0,alpha:1});"a"==this.colorPickerType?this.O6703():
((a=this.O6838())&&this.O3294[a]?(this.colorPickerB=ig.game.O5662(this.O3294[a].O3125),this.O5738(),this.O813()):this.O5738(),this.O2628=!1)},O1250:function(a){this.O6452();this.timeouts.drawBig&&clearTimeout(this.timeouts.drawBig);this.mode="pickType";this.drawImage("typePicker",this.areas.typePicker.x1,this.areas.typePicker.y1);if(null!=
this.data.type){var b=this.types[this.data.type].parent?this.types[this.data.type].parent:this.data.type;a=this.O255(b);this.context.fillStyle=this.O356({r:143,g:235,b:109,alpha:1});this.fillRect(a.x,a.y,a.width,a.height)}this.context.font=this.O4744;var c=0;for(b in this.types)if(!this.types[b].parent){c++;a=this.O255(b);var d=this.types[b].title.toUpperCase();this.context.fillStyle="rgba(48,48,48,1)";this.fillText(d,a.x+this.areas.typePickerSingleSelection.x1,
a.y+this.areas.typePickerSingleSelection.y1+parseInt(a.height/2)+this.O2941-1);this.types[b].iconRow&&this.drawImage("typeIcon_"+b,a.x+a.width-this.areas.typeIcon.width-1,a.y)}!ig.ua.mobile&&2<=ig.game.O4269.rank&&(this.context.fillStyle="rgba(255,255,255,0.25)",this.fillText("SEARCH = CTRL+F",this.areas.typePicker.x1+52,this.areas.typePicker.y1+8))},O1023:function(){this.O6452();this.mode="pickAttributes";this.drawImage("typePicker",this.areas.typePicker.x1,
this.areas.typePicker.y1);this.context.font=this.O4744;this.context.fillStyle="rgba(160,160,160,1)";var a=this.types[this.data.type].title.toUpperCase();this.fillText(a,this.areas.typePicker.x1+4,this.areas.typePicker.y1+8);this.data.prop||(this.data.prop={});this.data.prop.attributes||(this.data.prop.attributes=[]);this.O1532=!1;var b=0,c=0,a=!1,d;for(d in ig.game.O8430.info[this.types[this.data.type].key]){var e=ig.game.O8430.info[this.types[this.data.type].key][d];
if(!e.hidden&&(!e.deprecated||0<=this.data.prop.attributes.indexOf(d))&&(!e.O4917||ig.game.O4269.rank>=e.O4917)){var f=this.O6324(d);if(f){var g=d;e.label&&(g=e.label);0<=g.indexOf("*")?a=!0:g=ig.game.strings.O2708(g);g=g.toUpperCase();g=ig.game.strings.replaceAll(g,"_"," ");g=ig.game.strings.replaceAll(g," -> ","->");e.label||(g=ig.game.strings.O2833(g,15));var b=f.x+this.areas.typePickerSingleSelection.x1,c=f.y+this.areas.typePickerSingleSelection.y1+
parseInt(f.height/2)+this.O2941-1,h=this.data.type+"_attribute_"+d;this.O5985[h]&&(this.drawImage(h,b-2,c-6),b+=this.O5985[h].width);this.context.fillStyle="rgba(48,48,48,"+(e.O4917&&10==e.O4917?0.5:1)+")";this.fillText(g,b,c);b=0<=this.data.prop.attributes.indexOf(d);c=ig.game.O8430.O2226(this.types[this.data.type].key)&&!this.O6383(d)?"radioButton":"checkbox";c+=b?"Checked":"Unchecked";
this.drawImageWithAlpha(c,f.x+f.width-10,f.y)}else this.O1532=!0}}a&&(this.context.fillStyle="rgba(255,255,255,0.4)",this.fillText("*MAY REQUIRE FRIENDSHIP",this.areas.typePicker.x1+35,this.areas.typePicker.y1+8));this.O1532&&this.drawImageWithAlpha("attributesPager",this.areas.attributesPager.x1,this.areas.attributesPager.y1,0.85)},O2645:function(a){var b=null,c;for(c in this.types)this.types[c].parent==a&&(null==b&&(b=[]),b[b.length]=c);return b},O255:function(a){var b=
this.O1822(a);Math.ceil(this.O2657/this.O1204());a=b%this.O2657;b=Math.ceil((b+1)/this.O2657)-1;return{x:this.areas.typePickerSelections.x1+b*this.areas.typePickerGrid.width,y:this.areas.typePickerSelections.y1+a*this.areas.typePickerGrid.height,width:this.areas.typePickerGrid.width,height:this.areas.typePickerGrid.height}},O6324:function(a){var b=null,c=this.O2546*this.O2657,
d=this.O7211*c,e=this.O7211*c+c-1;a=this.getAttributesIndex(a);a>=d&&a<=e&&(a%=c,Math.ceil(this.O2657/this.getAttributesCount()),b=a%this.O2657,c=Math.ceil((a+1)/this.O2657)-1,b={x:this.areas.typePickerSelections.x1+c*this.areas.typePickerGrid.width,y:this.areas.typePickerSelections.y1+b*this.areas.typePickerGrid.height,width:this.areas.typePickerGrid.width,height:this.areas.typePickerGrid.height});return b},O6703:function(){for(var a=
0;a<this.maxColors;a++)if(a!=this.transparentIndex){var b=this.O4826[a];if(b){var c=30<=b.x?{r:0,g:0,b:0,alpha:1}:{r:255,g:255,b:255,alpha:1},d=(c=a==this.O2500)?2:1,c=c?"rgba(0,0,0,1)":"rgba(0,0,0,.5)";this.context.fillStyle=c;this.fillRect(b.x-d/2,b.y-d/2,d,d)}}},O5882:function(){var a=0,b=this.O2600(),c;for(c in b){c=parseInt(c);var d=b[c];if(d==parseInt(d)&&d==this.O2500){a=c;break}}return a},O4243:function(a){var b=
this.O5882(this.O2500),b=this.O1517(this.O2500,b,!0);this.drawPaletteBox(b,this.O2500,a)},O6840:function(a){this.O4693();this.mode="default";this.O6787();this.O1050=this.O7567=!1;this.update()},O4693:function(a){if(void 0==a||null==a)a=200;var b=this;this.O1275=!1;null!=this.timeouts.O1275&&(clearTimeout(this.timeouts.O1275),this.timeouts.O1275=
null);this.timeouts.O1275=setTimeout(function(){b.O1275=!0;b.timeouts.O1275=null},a)},O1272:function(a){if(this.isRunning){var b=jQuery(this.canvas).offset(),c=null,d=null;if(a.touches){if(2==a.touches.length){c=a.touches[1].clientX-b.left-this.areas.O7962.x1;a=a.touches[1].clientY-b.top-this.areas.O7962.y1;0<c&&(c/=this.pageZoom);0<a&&(a/=this.pageZoom);0<c&&(c/=this.O1083);0<a&&(a/=this.O1083);c=Math.floor(c);a=Math.floor(a);if(0<=c&&c<
this.tileWidth&&0<=a&&a<this.O336){b=this.O5367(c,a);for(d=0;d<b.length;d++)this.O2476(c,a,this.O2500,b[d])}return}1==a.touches.length&&(c=a.touches[0].clientX,d=a.touches[0].clientY)}else c=a.clientX,d=a.clientY;this.cursorX=c-b.left;this.cursorY=d-b.top;0<this.cursorX&&(this.cursorX/=this.pageZoom);0<this.cursorY&&(this.cursorY/=this.pageZoom);this.cursorX=Math.floor(this.cursorX);this.cursorY=Math.floor(this.cursorY);this.O3956()}},O7160:function(a){"touchstart"==
a.type&&this.O1272(a);this.isRunning&&(this.O1231(),2==a.button?(this.O7567=!1,this.O1257=!0):(this.O7567=!0,this.O1257=!1),this.O3956());a&&a.preventDefault?a.preventDefault():window.event.returnValue=!1;return!1},O3994:function(a){this.isRunning&&(this.O7998=!0,this.O4284(),this.O7998=!1)},O2417:function(a){if(this.isRunning&&(this.O3051(a,"keyDown"),
this.O4093())){var b=!!a.shiftKey,c=this.O7710(a);b&&(this.O3223=!0);65==a.keyCode&&(this.lineKeyIsPressed=!0);b&&73==a.which?this.O5749():71==a.which?b?this.O4808():this.O3297():c&&70==a.which&&ig.game.alertDialog.O8429("enter type or part of type:",null,ig.game.painter.O40,null,null,null,null,null,150,!0)}},O5749:function(){ig.game.alertDialog.O8429("info:",this.data.prop?
this.data.prop.info:"",ig.game.painter.O4799,null,!0,!0,null,null,this.O5554,!0)},O4799:function(a){if(void 0!==a&&null!==a){a=a.trim();var b=ig.game.painter.data;b.prop||(b.prop={});b.prop.info=a;console.log(a)}},O4093:function(){return this.isRunning&&!jQuery("#"+this.O5113).is(":focus")&&!jQuery("#searchInput").is(":focus")&&!ig.game.alertDialog.isOpen&&!(this.interactingDialog&&this.interactingDialog.isOpen)&&!(ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen&&
jQuery("#userScriptEditorText").is(":focus"))&&!ig.ua.mobile},O5889:function(){ig.game.alertDialog.isOpen||(this.O674=this.O6127(this.data.pixels[this.selectedCell]),ig.game.sounds.pickup.play(),this.O6321())},O2229:function(a){if(!ig.game.alertDialog.isOpen)if(this.O674){var b=null;if(a){var c=this.O674[0].length,d=this.O674.length,e=this.O1609();e&&(b={x:e.x-Math.floor(c/2),y:e.y-Math.floor(d/2)})}this.O3057(this.O674,
b);this.update();a?ig.game.sounds.O733(ig.game.sounds.putdown,0.3):ig.game.sounds.putdown.play();this.O6321()}else ig.game.sounds.nocando.play()},O3057:function(a,b){b||(b={x:0,y:0});for(var c=this.data.pixels[this.selectedCell],d=0;d<c.length;d++)for(var e=0;e<c[d].length;e++)if(a[d]&&void 0!=a[d][e]&&a[d][e]!=this.transparentIndex){var f=d+b.x,g=e+b.y;void 0!==c[f]&&void 0!==c[f][g]&&(c[f][g]=a[d][e])}},O380:function(a){ig.game.sounds.pickup.play();
var b=this;ig.game.O7421.getItemImageDataFromPng_P(a).done(function(a){if(a&&a.imageData&&a.imageData.pixels)if(a.isBlocked)b.showItemIsBlocked();else{var d=ig.game.O4269.O2507==a.creator,e=!1;a.prop&&a.prop.attr&&(ig.game.O8430.O4198(a),e=0<=a.prop.attributes.indexOf("clonable"));d||e?(jQuery.isArray(a.imageData.pixels[0][0])?d=a.imageData.pixels:(d=[],d[0]=a.imageData.pixels),b.O674=d[0]):ig.game.sounds.nocando.play()}else ig.game.sounds.nocando.play()})},
showItemIsBlocked:function(){ig.game.alertDialog.open({html:'<p>Sorry, this creation is blocked. Please see <span class="pseudoLink" onclick="ml.Misc.openUrl(\'/info#terms\')">the terms</span> for more.</p>',isSmall:!0});ig.game.sounds.nocando.play()},O2968:function(a){for(var b=[],c=0;c<this.tileWidth;c++){b[c]=[];for(var d=0;d<this.O336;d++)b[c][d]=a[c]&&null!=a[c][d]&&void 0!=a[c][d]?a[c][d]:this.transparentIndex}return b},lowerColorOpacity:function(a){if(this.O2500!=
this.transparentIndex){a=[0,0.07,0.1,0.25,0.5,0.75,1];var b=a.indexOf(this.data.colors[this.O2500].alpha);b--;0>=b&&(b=a.length-1);this.data.colors[this.O2500].alpha=a[b];this.update();this.O6321()}},O6805:function(a){if(this.O4093()){var b=!1,c=this.O7710(a),d=!!a.shiftKey;this.O3223=d;this.lineKeyIsPressed=!1;if(90==a.which)c?this.O957():this.O7690(),this.O415(),"changeColor"==this.mode&&
this.O4051();else if(c&&68==a.which)this.O1033();else if(c&&d&&37==a.which)this.O4858(-1,0);else if(c&&d&&39==a.which)this.O4858(1,0);else if(c&&d&&38==a.which)this.O4858(0,-1);else if(c&&d&&40==a.which)this.O4858(0,1);else if(c&&37==a.which)this.O6675(-1,0);else if(c&&39==a.which)this.O6675(1,0);else if(c&&38==a.which)this.O6675(0,-1);else if(c&&40==a.which)this.O6675(0,1);
else if(c&&74==a.which)this.O2672=!this.O2672,this.O2672||(this.livePreviewOffset.x=0,this.livePreviewOffset.y=0),this.O2672?this.O1230():this.O228(),this.O415(),ig.game.sounds.click.play();else if(80==a.which)this.O3587();else if(67==a.which)this.O5889();else if(32==a.which&&this.data.type&&"musicSheet"==this.data.type)this.O2120();else if(86==
a.which&&!ig.game.alertDialog.isOpen)this.O2229();else if(32==a.which&&!ig.game.alertDialog.isOpen)this.O2229(!0);else if(84==a.which)this.lowerColorOpacity();else if(79==a.which)"cloneOld"!=this.mode?(ig.game.panelSet.O7981(2),this.update(),ig.game.sounds.click.play(),this.O7677()):b=!0;else if(!c&&!d&&73==a.which)this.O8436();else if(83==a.which)d?this.O2014=!this.O2014:this.O4532=!this.O4532,this.update(),
ig.game.sounds.click.play();else if(72==a.which)"changeColor"!=this.mode?(this.O5333=null,this.mode="changeColor",this.O6659=this.O3433(this.data.colors),this.O997(),this.O4051()):(this.O6787(),b=!0);else if(78==a.which)"changeColor"!=this.mode?(this.O5333=this.O2500,this.mode="changeColor",this.O6659=this.O3433(this.data.colors),this.O997(),this.O4051()):
(this.O6787(),b=!0);else if(46==a.which)this.O7591(!0,c);else if(82==a.which)this.data.pixels[this.selectedCell]=this.O4646(this.data.pixels[this.selectedCell]),this.update();else if(77==a.which)this.data.pixels[this.selectedCell]=this.O2106(this.data.pixels[this.selectedCell]),this.update();else if(70==a.which)this.data.pixels[this.selectedCell]=this.O1880(this.data.pixels[this.selectedCell]),this.update();else if(27==a.which)b=!0;else if(c&&
9==a.which){if(this.data.type&&(this.types[this.data.type].O1369||this.types[this.data.type].O1392))this.types[this.data.type].O1369?this.selectedCell=0==this.selectedCell?1:0:0<=["dynamicThing","happening","musicSheet","farBack"].indexOf(this.data.type)?this.selectedCell=this.selectedCell+1<=this.O6588-1?this.selectedCell+1:0:this.selectedCell=this.selectedCell+1<=ig.game.O1509-1?this.selectedCell+1:0,this.O4379=this.selectedCell,this.update(),ig.game.sounds.click.play()}else 66==
a.which?(this.brushType++,this.brushType>=this.O8446?(this.brushType=0,ig.game.sounds.shortWhoosh.play()):ig.game.sounds.click.play(),"menu"==this.mode&&this.O6840()):40==a.which&&!d?ig.game.motionDialog.tryOpen():48<=a.which&&57>=a.which||189==a.which?this.O1431(a.which):c&&65==a.which&&1<=this.getAttributesCount()?("default"==this.mode?this.O1023():"pickAttributes"==this.mode&&this.O6840(),ig.game.sounds.click.play()):d&&37==a.which?
this.O757(-1,0):d&&39==a.which?this.O757(1,0):d&&38==a.which?this.O757(0,-1):d&&40==a.which?this.O757(0,1):c&&75==a.which&&this.O1200();this.O3051(a,"keyUp");b&&("default"==this.mode?this.close():(this.O6840(),this.O415()));this.O6321()}},O1200:function(){switch(this.O7723){case this.O7723Default:this.O7723=
0.1;break;case 0.1:this.O7723=0;break;case 0:this.O7723=this.O7723Default}ig.game.sounds.click.play();this.O415()},O757:function(a,b){!this.O2672&&!this.O29()&&(this.O2672=!0);this.livePreviewOffset.x+=10*a;this.livePreviewOffset.y+=10*b;ig.game.sounds.whoosh.play();this.O1230()},getAttributesCount:function(){var a=
0;if(this.data&&this.data.type){var b=this.types[this.data.type].key;if(b&&(b=ig.game.O8430.info[b]))a=Object.keys(b).length}return a},O1431:function(a){var b=-1;switch(a){case 49:b=0;break;case 50:b=1;break;case 51:b=2;break;case 52:b=3;break;case 53:b=4;break;case 54:b=5;break;case 55:b=6;break;case 56:b=7;break;case 57:b=8;break;case 48:b=9;break;case 189:b=10}0<=b&&(this.O2500=0==this.O4835?b:this.O4835*this.O3562+
1+b,this.update())},O40:function(a){var b=[];if(a){var c=ig.game.painter;a=a.toLowerCase().trim();for(var d in c.types){var e=c.types[d];if(e.key&&-1===d.toLowerCase().indexOf("group")){e=e.title.toLowerCase();if(e==a){c.O7324(d,!0);ig.game.sounds.success.play();b=[];break}0<=e.indexOf(a)&&b.push(d)}}}if(1==b.length)c.O7324(b[0],!0),ig.game.sounds.success.play();else if(2<=b.length){var f="";for(a=0;a<b.length;a++)d=b[a],e=ig.game.strings.O4334(d),d=ig.game.strings.O4334(c.types[d].title),
f+='<span class="pseudoLink" onclick="'+("ig.game.painter.O7324('"+e+"',true);ig.game.sounds.success.play();ig.game.alertDialog.close()")+'">'+d+"</span> &nbsp; ";f="<p>"+f+"</p>";setTimeout(function(){ig.game.alertDialog.open({html:f,O3526:!0,O3468:!0})},50)}},O1230:function(){this.O1170()&&(this.O228(),this.O654())},O654:function(){var a="Entity"+ig.game.strings.toUpperCaseFirst(this.types[this.data.type].key.toLowerCase());
ig.global[a]||(a="EntityDefault");var a=ig.global[a],b={},c=this.tileWidth*this.maxCells*ig.system.scale,d=this.O336*ig.system.scale,e=document.createElement("canvas");e.width=c;e.height=d;c=e.getContext("2d");this.O439(c);e=new ml.Image(null,null,null,e);e.path="extracted/creator_live_preview";b.animSheet=new ml.AnimationSheet(null,this.tileWidth,this.O336,e);b.givenName=jQuery("#"+this.O5113).val();b.isCreatorLivePreview=!0;b.rgb=this.O7136(this.data.colors[0]);
b.rgb2=this.O7136(this.data.colors[1]);if(e=jQuery("#promptInputBox").val())this.data.prop.text=e;b.text=this.data.prop.text;if(!b.givenName||""==b.givenName)b.givenName="noname";b.attributes={};if(this.data.prop.attributes)for(e=0;e<this.data.prop.attributes.length;e++)b.attributes[this.data.prop.attributes[e]]=!0;e=this.O7217();ig.game.O6879(a,e.x,e.y,b)},O7217:function(){var a=ig.game.O4269.pos.x+ig.game.O4269.O7704Offset.x,
b=ig.game.O4269.pos.y+ig.game.O4269.O7704Offset.y-3*ig.game.tileSize,a=a+this.livePreviewOffset.x,b=b+this.livePreviewOffset.y,a=ig.game.O7715.O1414(a,b);return ig.game.O7715.O2398(a.x,a.y)},O439:function(a){var b=this.data.pixels.length;this.types[this.data.type].O6600&&this.O6588&&(b=this.O6588);for(var c=0;c<b;c++)for(var d=this.data.pixels[c],e=0;e<this.tileWidth;e++)for(var f=
0;f<this.O336;f++){var g=void 0!=d[e]&&void 0!=d[e][f]?d[e][f]:this.transparentIndex;g!=this.transparentIndex&&(a.fillStyle=this.O356(this.data.colors[g]),a.fillRect(e*ig.system.scale+c*this.tileWidth*ig.system.scale,f*ig.system.scale,ig.system.scale,ig.system.scale))}},O228:function(){for(var a in ig.game.O413){var b=ig.game.O413[a];if(b)for(var c=0;c<b.length;c++)b[c].isCreatorLivePreview&&b[c].kill()}},O3297:function(){ig.game.sounds.click.play();
this.showGrid=!this.showGrid;this.O2547=!1;this.O6840();this.O415()},O4808:function(){ig.game.sounds.click.play();this.O2547=this.showGrid?!this.O2547:this.showGrid=!0;this.O415()},O5899:function(){if(!this.O5212){this.data.prop&&!this.data.prop.noteDelayMS&&(this.data.prop.noteDelayMS=this.noteDelayMSDefault);this.O5212=setInterval("ig.game.painter.O6390()",this.data.prop.noteDelayMS);var a=
this.O1609();this.musicSheetPosition=a?a.x:0;this.O6390()}},O6452:function(){this.O5212&&(clearInterval(this.O5212),this.O5212=void 0,this.update())},O2120:function(){this.O5212?this.O6452():this.O5899();this.O8366()},O7077:function(a){a&&(parseInt(a)==a?(a=parseInt(a).limit(ig.game.painter.noteDelayMSMin,ig.game.painter.noteDelayMSMax),a=parseInt(Math.floor(a/ig.game.painter.O4978)*
ig.game.painter.O4978),ig.game.painter.data.prop.noteDelayMS=a):alert("Please use a number between "+ig.game.painter.noteDelayMSMin+" and "+ig.game.painter.noteDelayMSMax+" in steps of "+ig.game.painter.O4978))},O3183:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},O6390:function(){this.O1207();this.O6671();if(this.O5212){for(var a=0;a<this.O336;a++)this.O1124(this.selectedCell,
this.musicSheetPosition,a);this.musicSheetPosition++;this.musicSheetPosition>=this.data.pixels[this.selectedCell].length&&(this.musicSheetPosition=0,++this.selectedCell>this.O6588-1&&(this.selectedCell=0,this.O6452()),this.update())}},O6671:function(){for(var a=0;a<this.O336;a++)if(this.data.pixels[this.selectedCell]&&this.data.pixels[this.selectedCell][this.musicSheetPosition]&&void 0!==this.data.pixels[this.selectedCell][this.musicSheetPosition][a]){var b=
this.data.pixels[this.selectedCell][this.musicSheetPosition][a];if(void 0!==b&&"terminator"==this.musicSheetSpecialIndex[b]){++this.selectedCell>this.O6588-1&&(this.selectedCell=0,this.O6452());this.musicSheetPosition=0;this.update();break}}},O5873:function(){var a=0;ig.game.O6858.reset();ig.game.O6858.O1600=!0;for(this.selectedCell=0;this.selectedCell<this.O6588;this.selectedCell++)for(this.musicSheetPosition=0;this.musicSheetPosition<
this.tileWidth;this.musicSheetPosition++){this.O6671();for(var b=0;b<this.O336;b++){var c=this.O8227(this.selectedCell,this.musicSheetPosition,b);if(c&&c.note){var d=ig.game.O6858.O6673(a/1E3);c.isKit?ig.game.O6858.O2058(c.instrument,c.note,d):ig.game.O6858.O3156(c.instrument,c.octave,c.note,d)}}a+=this.data.prop.noteDelayMS}ig.game.O6858.O1600=
!1;for(a=this.optionalCells=this.maxCells=1;2>=a;a++)this.O7591(!0,!0,!0),this.O7324("music");this.O2021();this.O415()},O7244:function(){ml.Misc.O1651("lighter");this.context.fillStyle="rgba(255,255,255,.3)";this.fillRect(this.areas.O7962.x1+this.musicSheetPosition*this.O1083,this.areas.O7962.y1,this.O1083,this.O1083*this.O336);ml.Misc.O13()},O5034:function(){for(var a=
!1,b=0;b<this.tileWidth;b++)for(var c=0;c<this.O336;c++)if(this.data.pixels&&this.data.pixels[this.selectedCell]&&this.data.pixels[this.selectedCell][b]){if("terminator"==this.musicSheetSpecialIndex[this.data.pixels[this.selectedCell][b][c]]){a=!0;break}}else break;return a},O6222:function(){var a=this.O5034();this.context.fillStyle="rgba(0,0,0,.3)";var b=this.O3998(),c=this.areas.O7962.x1,d=this.areas.O7962.y1,e=this.tileWidth*
this.O1083,f=this.O336*this.O1083,g=this.musicSheetSpecialIndex[this.O2500];if(b||g){b||(b={});b.isGuitar?(g=4,this.fillRect(c,d+f-g*this.O1083,e,g*this.O1083)):b.isKit&&b.max<this.O336&&(g=this.O336-b.max,this.fillRect(c,d,e,g*this.O1083));if(!b.isKit||b.isGuitar)for(var h=ig.game.sounds.tones.length,g=1;g<this.O336+1;g++)0===(this.O336-g)%h&&this.fillRect(c,d+g*this.O1083-1,e,1);if(!a)for(a=1;a<this.tileWidth-1;a++)0===a%
8&&this.fillRect(c+a*this.O1083,d,1,f);if(!b.isKit||b.isGuitar){this.context.fillStyle="rgba(0,0,0,.15)";for(g=0;g<this.O336;g++)(b=ig.game.sounds.tones[(this.O336-g)%ig.game.sounds.tones.length-1])&&0<=b.indexOf("s")&&this.fillRect(c,d+g*this.O1083,e,this.O1083)}}else this.musicSheetSpecialIndex[this.O2500]||this.fillRect(c,d,e,f);this.context.fillStyle=this.O356(this.canvasOverlayRgb);b=(this.O336-this.tileWidth)/2*this.O1083;this.fillRect(c-
b,d,b,f);this.fillRect(c+e,d,b,f)},O3998:function(){var a=null;if(void 0!==this.O2500){var b=this.instruments[this.O2500];b&&(a=ig.game.sounds.instruments[b])}return a},O1124:function(a,b,c){(a=this.O8227(a,b,c))&&(a.isKit?ig.game.sounds.O2318(a.instrument,a.note):ig.game.sounds.O8389(a.instrument,a.octave,a.note))},O8227:function(a,b,c){var d=null;a=this.data.pixels[a][b][c];if(a!=this.transparentIndex&&
(a=this.instruments[a]))if(b=ig.game.sounds.instruments[a],b.isKit)c=this.O336-c,c<=b.max&&(b.isGuitar&&(c=this.O7626(c)),-1!=c&&(d={instrument:a,note:c,isKit:!0}));else{var e=this.O336-c-1;c=e%ig.game.sounds.tones.length;b=b.minOctave+Math.floor(e/ig.game.sounds.tones.length);(c=ig.game.sounds.tones[c])&&(d={instrument:a,octave:b,note:c})}return d},O7626:function(a){var b=ig.game.sounds.O8256(),c=ig.game.sounds.getGuitarIndexDistinctMapping(),
d={},e=-1;if(5<=a){a-=4;for(var f=0,g=0;g<c.length;g++){var h=c[g];if(!d["n"+h]){f++;if(f==a){e=b[g];break}d["n"+h]=!0}}}return e},O1609:function(){var a=null,b=Math.floor((this.cursorX-this.areas.O7962.x1)/this.O1083),c=Math.floor((this.cursorY-this.areas.O7962.y1)/this.O1083);0<=b&&(b<this.tileWidth&&0<=c&&c<this.O336)&&(a={x:b,y:c});return a},O3587:function(){var a=this.O1609();a&&ig.game.alertDialog.open("The coordinates are "+
a.x+" "+a.y)},O8436:function(){if(this.O2500!=this.transparentIndex){this.O6840();var a=this.O3342(this.data.colors[this.O2500]);ig.game.alertDialog.O8429("Red, green, blue (0-255) and alpha (0.1-1) of this color, or hexadecimal color:",a,ig.game.painter.O566,"Ok")}else ig.game.sounds.nocando.play()},O7710:function(a){return a.ctrlKey||ig.ua.mac&&a.metaKey},O3051:function(a){null==a||void 0==
a?(this.O6592="default",document.body.style.cursor="default"):this.O7710(a)&&!this.O5522()?"pickColor"!=this.O6592&&(this.O6592="pickColor",document.body.style.cursor="url("+this.imagePath+"cursor_pickColor.png) 0 15, default"):a.altKey&&!this.O5522()?"floodFill"!=this.O6592&&(this.O6592="floodFill",document.body.style.cursor="url("+this.imagePath+"cursor_floodFill.png) 1 12, default"):"default"!=this.O6592&&(this.O6592=
"default",document.body.style.cursor="default",this.O3665&&(this.O5547.text(""),this.O5547.css("display","none")))},O5522:function(){return this.interactingDialog&&this.interactingDialog.isOpen||ig.game.alertDialog&&ig.game.alertDialog.isOpen},O2025:function(a){this.isRunning&&(this.O1231(),this.O7567=!1,this.O1257=!0,this.O3956(),this.O1257=!1)},O1020:function(a){this.isRunning&&
(this.O3743=!0,this.O1231(),this.O7567=!1,this.O1050[this.mode]=!0,this.O4284(),this.O1257=!1)},O4858:function(a,b){var c=this.cursorX,d=this.cursorY,e=this.areas.O7962.x1+this.areas.drawing.width,f=this.areas.O7962.y1+this.areas.drawing.height,e=c>=this.areas.O7962.x1&&c<=e&&d>=this.areas.O7962.y1&&d<=f,c=(c-this.areas.O7962.x1)/this.O1083,d=(d-this.areas.O7962.y1)/
this.O1083,c=Math.floor(c),d=Math.floor(d),f=0<=c&&c<this.tileWidth&&0<=d&&d<this.O336;e&&f&&this.O7688(c,d,a,b)},O7688:function(a,b,c,d,e){void 0===e&&(e=this.selectedCell);var f=this.data.pixels[e],g=this.O6127(f),h=0,k=this.tileWidth,l=0,m=this.O336;0<c?h=a:0>c?h=a:0<d?l=b:0>d&&(l=b);a=this.O7997(e);for(0>c&&a.left?h++:0<c&&a.right?k--:0>d&&a.top?l++:0<d&&a.bottom&&m--;h<k;h+=1)for(a=l;a<m;a+=1)b=h-c,0>b?b=this.tileWidth-
1:b>this.tileWidth-1&&(b=0),e=a-d,0>e?e=this.O336-1:e>this.O336-1&&(e=0),f[h][a]=g[b][e];this.O6321();this.update()},O8336:function(a,b){for(var c=0;c<this.data.pixels.length;c++)this.O6675(a,b,!0,c)},O6675:function(a,b,c,d){void 0===d&&(d=this.selectedCell);d=this.data.pixels[d];for(var e=this.O6127(d),f=0;f<this.tileWidth;f++)for(var g=0;g<this.O336;g++){var h=f-a;0>h?h=this.tileWidth-1:h>this.tileWidth-1&&(h=0);var k=g-b;0>k?k=this.O336-
1:k>this.O336-1&&(k=0);d[f]&&(void 0!==d[f][g]&&e[h]&&void 0!==e[h][k])&&(d[f][g]=e[h][k])}c||(this.O6321(),this.update())},O4362:function(a){return{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,width:a.width,height:a.height}},O5294:function(){this.clearRect(this.areas.O7962,this.areas.O7962,this.areas.drawing.width,this.areas.drawing.height)},O5440:function(a,b){a||(a=this.tileWidth);b||(b=this.O336);for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=
this.transparentIndex}return c},O356:function(a){a||(a={});if(void 0===a.alpha||null==a.alpha)a.alpha=1;return"rgba("+a.r+","+a.g+","+a.b+","+a.alpha+")"},O3342:function(a){a||(a={});if(void 0===a.alpha||null==a.alpha)a.alpha=1;return a.r+","+a.g+","+a.b+","+a.alpha},O7136:function(a){a||(a={r:0,g:0,b:0});return a.r+","+a.g+","+a.b},O1573:function(){"motion"==this.data.type?this.O1696():!this.O5304()&&"walking"==this.data.type&&
(this.data.pixels=this.O4116())},O1696:function(){var a=this,b=ig.game.O4269.attachments&&ig.game.O4269.attachments.b?ig.game.O4269.attachments.b.id:null;b?ig.game.O7421.getItemImageDataFromPng_P(b).done(function(b){b&&(ig.game.O4269.O2507==b.creator?a.O1869(b.imageData.pixels,b.imageData.colors,!0):ig.game.alertDialog.open("You can only add motions for bodies you've created."))}):(ig.game.alertDialog.open("To create a Motion, please change into a body of yours first."),
setTimeout(function(){ig.game.painter.O7324("body")},500))},O1869:function(a,b,c){this.data.colors=this.O6594();for(var d=0;d<b.length;d++)this.data.colors[d]=ig.game.O5662(b[d]);this.data.pixels[0]=ig.game.O5662(a[0]);this.types.motion.tileSize={width:this.data.pixels[0].length,height:this.data.pixels[0][0].length};this.tileWidth=this.data.pixels[0].length;this.O336=this.data.pixels[0][0].length;for(a=c?1:3;a<this.maxCells;a++)this.data.pixels[a]=
this.O5440();this.O5552();this.O415()},O4116:function(){return[[[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9,0,0,0,0,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,0,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9,0,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9,9,0],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,0,
0,0],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9],[9,9,9,9,9,9,9,9,9,9,9,0,9,9,9,9,9,9,0],[9,9,9,9,9,9,9,9,9,9,9,9,0,9,0,0,0,0,0],[9,9,9,9,9,9,9,0,9,9,9,9,9,0,9,9,9,9,9],[9,9,9,9,9,9,9,9,0,9,9,9,0,9,0,9,9,9,9],[9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]],[[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],[9,9,9,9,9,9,9,9,9,0,0,0,0,9,9,9,9,9,9],[9,9,9,9,9,9,9,
9,9,9,9,9,9,0,9,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,0,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,0,0,0],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,0,9,9,0],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,0,9,9],[9,9,9,9,9,9,9,9,9,9,9,0,9,9,9,0,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,0,9,0,9,9,9,9],[9,9,9,9,9,9,9,0,9,9,9,9,9,0,9,9,9,9,
9],[9,9,9,9,9,9,9,9,0,9,9,9,0,9,0,9,9,9,9],[9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,9,9,9,9],[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9]]]},O6594:function(){for(var a=[],b=0;b<this.maxColors;b++)a[b]=this.O7369(b);return a},O7369:function(a){var b=null;return b=0==a?{r:0,g:0,b:0,alpha:1}:a==this.transparentIndex?{r:0,g:0,b:0,alpha:0}:{r:255,g:255,b:255,alpha:1}},O573:function(a,b){for(var c=!1,d=a.length,e=0;e<d&&!c;e++)a[e]==b&&(c=!0);return c},O1037:function(a){var b=
!1;0<a&&(b=this.O6962(0,100)<=a);return b},O6962:function(a,b){return(b+1-a)*Math.random()+a},O5167:function(a,b){return parseInt(Math.floor((b+1-a)*Math.random()+a))},clearRects:function(a){var b=a.length;0==b&&(a=[a],b=a.length);for(var c=0;c<b;c++){var d=this.areas[a[c]];this.clearRect(d.x1,d.y1,d.x2-d.x1,d.y2-d.y1)}},clearRect:function(a,b,c,d){this.context.clearRect(Math.ceil(a*this.pageZoom),Math.ceil(b*this.pageZoom),Math.ceil(c*this.pageZoom),Math.ceil(d*this.pageZoom))},fillRect:function(a,
b,c,d){this.context.fillRect(Math.ceil(a*this.pageZoom),Math.ceil(b*this.pageZoom),Math.ceil(c*this.pageZoom),Math.ceil(d*this.pageZoom))},strokeRect:function(a,b,c,d){this.context.strokeRect(Math.ceil(a*this.pageZoom),Math.ceil(b*this.pageZoom),Math.ceil(c*this.pageZoom),Math.ceil(d*this.pageZoom))},fillText:function(a,b,c){this.context.fillText(a,b*this.pageZoom,c*this.pageZoom)},getImageData:function(a,b,c,d){return this.context.getImageData(Math.ceil(a*this.pageZoom),Math.ceil(b*this.pageZoom),
Math.ceil(c*this.pageZoom),Math.ceil(d*this.pageZoom))},getImageDataPixel:function(a,b){return this.context.getImageData(a*this.pageZoom,b*this.pageZoom,1,1)},drawImage:function(a,b,c){this.drawImageWithAlpha(a,b,c,null)},drawImageWithAlpha:function(a,b,c,d){var e=null;null!=d&&(e=this.context.globalAlpha,this.context.globalAlpha=d);this.O5985[a]?(a=this.O5985[a],this.context.drawImage(this.images[a.spritesheet],a.x,a.y,a.width,a.height,b*this.pageZoom,c*this.pageZoom,a.width*
this.pageZoom,a.height*this.pageZoom)):(a=this.images[a])&&this.context.drawImage(a,b*this.pageZoom,c*this.pageZoom);null!=d&&(this.context.globalAlpha=e)},drawImageWithAlphaRotated:function(a,b,c,d,e){e=null;null!=d&&(e=this.context.globalAlpha,this.context.globalAlpha=d);this.context.save();this.context.translate(50,35);this.context.rotate(0.5);this.O5985[a]?(a=this.O5985[a],this.context.drawImage(this.images[a.spritesheet],a.x,a.y,a.width,a.height,b*this.pageZoom,c*this.pageZoom,
a.width*this.pageZoom,a.height*this.pageZoom)):(a=this.images[a])&&this.context.drawImage(a,b*this.pageZoom,c*this.pageZoom);this.context.restore();null!=d&&(this.context.globalAlpha=e)},O7433:function(){this.data&&this.data.type&&("viewable"==this.data.type||"glow"==this.data.type?this.O6675(9,9,!0):"holder"==this.data.type?(this.selectedCell=2,this.O6675(5,10,!0),this.selectedCell=0):"motion"==this.data.type?this.O1869(ig.game.O5662(this.data.pixels),
ig.game.O5662(this.data.colors)):"body"==this.data.type?this.moveToBottomCenter():"musicSheet"==this.data.type&&!this.autoStartPlayMusicSheetTimer&&(this.autoStartPlayMusicSheetTimer=setTimeout(function(){ig.game.painter.O5899()},1E3)),this.types[this.data.type].O6600&&this.O5518(),this.data.prop&&"thrower"==this.data.type&&(this.data.direction=this.data.prop.throwDirection));this.data.prop&&this.data.prop.rgb&&delete this.data.prop.rgb;this.data.prop&&
this.data.prop.rgb2&&delete this.data.prop.rgb2;if(this.data.prop&&("mountableGround"==this.data.type||"mountableAir"==this.data.type)){var a=this.data.prop.offset;this.avatarTemplatePosition={x:0,y:0};0>a.x&&(this.avatarTemplatePosition.x=Math.abs(a.x));0>a.y&&(this.avatarTemplatePosition.y=Math.abs(a.y));for(var b=1;0<=b;b--)this.selectedCell=b,this.O6675(this.avatarTemplatePosition.x+a.x,this.avatarTemplatePosition.y+a.y,!0)}this.O1230();this.O1163();
this.O6796=!1;this.data&&"multithing"==this.data.type&&confirm("CLONE CONTENTS TOO?")&&(this.O6796=!0)},O4714:function(){(!ig.game.alertDialog||!ig.game.alertDialog.isOpen)&&this.O1230()},moveToBottomCenter:function(){var a=this.O7650(),b=this.types[this.data.type].tileSize,c=Math.round(b.width/2-(a.x2-a.x1)/2)-1;this.O8336(c,b.height-a.y2-1)},moveToCenter:function(){var a=this.O7650(),a=Math.round(this.types[this.data.type].tileSize.width/
2-(a.x2-a.x1)/2)-1;this.O8336(a,0)},O8232:function(a,b,c){var d=this.transparentIndex;if(a)for(a=0;a<this.maxColors;a++)if(a!=b&&a!=c&&a!=this.transparentIndex){d=a;break}if("viewable"==this.data.type&&this.data&&this.data.pixels&&this.data.pixels[0])for(b=8;28>=b;b++)for(c=8;28>=c;c++)if(8==b||28==b||8==c||28==c)this.data.pixels[0][b][c]=d},O6932:function(){var a=!1;if(this.data&&this.data.pixels)for(var b=0;b<this.data.pixels.length;b++)if(this.O2569(b)){a=
!0;break}return a},O5518:function(){this.O6588=this.O2212;for(var a=this.data.pixels.length-1;2<=a&&!this.O2569(a);a--)this.O6588--},O6787:function(){jQuery("#"+this.O5113).show()},O997:function(){jQuery("#"+this.O5113).hide()},O08:function(){var a=JSON.stringify(this.data);ig.game.O914.setItem("creatorEmergencyBackupData",a)},O5682:function(){var a=
localStorage.getItem("creatorEmergencyBackupData"),b=null;null!=a&&(void 0!=a&&""!=a)&&(b=JSON.parse(a));return b},O5934:function(){localStorage.removeItem("creatorEmergencyBackupData")},O3356:function(a,b){var c=null;if(b instanceof Array){var d=ig.game.O8430.info[this.types[this.data.type].key];if(d)for(var e=0;e<b.length;e++){var f=b[e];if(f)if(d[f])c||(c=[]),c.push(f);else{c=null;break}}}return c},O3140:function(a,b){for(var c=[],d=b[0].length,
e=b[0][0].length,f=0;f<d;f++)for(var g=0;g<e;g++){var h=b[0][f][g];0.5<=a[h].alpha&&(c[h]||(c[h]=0),c[h]++)}d=0;e=c.length;for(f=1;f<e;f++)if(!c[d]||c[f]>c[d])d=f;return a[d]},O2688:function(a){for(var b=null,c=0;c<this.maxColors&&null==b;c++)if(c!=this.transparentIndex&&(this.O1241(a,this.data.colors[c])||this.O2853(a,this.data.colors[c])))b=c;if(null==b)for(var d=this.O7369(),c=0;c<this.maxColors&&null==b;c++)c!=this.transparentIndex&&this.O1241(d,
this.data.colors[c])&&(this.data.colors[c]={r:a.r,g:a.g,b:a.b,alpha:a.alpha},b=c);null==b&&(b=0);return b},O3118:function(a,b,c){ig.game.sounds.pickup.play();this.isRunning||(this.launch(),this.mode="cloneOld");ig.game.O4703.O1106(a,null,null,c,ig.game.O500.base);2!=ig.game.panelSet.tabState&&ig.game.panelSet.O7981(2)},O8427:function(a){var b=document.createElement("canvas");b.width=a.width;b.height=a.height;b.getContext("2d").drawImage(a,
0,0);return b},O7091:function(){for(var a={name:null,type:null,direction:null,colors:this.O6594(),pixels:[],prop:{musicData:null,attributes:[],noteDelayMS:this.noteDelayMSDefault}},b=0;b<ig.game.O1509;b++)a.pixels[b]=this.O5440();return a},O3781:function(a){for(var b=0;b<a.length;b++)a[b]={red:a[b].r,green:a[b].g,blue:a[b].b,alpha:a[b].alpha};return a},O7336:function(a){for(var b=0;b<a.length;b++)a[b]&&(a[b]={r:a[b].red,
g:a[b].green,b:a[b].blue,alpha:a[b].alpha});return a},O865:function(){var a=ig.game.O5662(this.data);this.O4181(a);this.O7904(a);var b={};b.name=a.name?a.name.toLowerCase():"";a.type&&(b.type=ig.game.brainManager.O6073(this.types[a.type].key));b.cells=a.pixels;b.colors=this.O3781(a.colors);b.text=null;if("dynamicThing"==this.data.type||"farBack"==this.data.type||"mover"==this.data.type)b.text=a.prop.text?a.prop.text:
"";else if("readable"==this.data.type||"interacting"==this.data.type)b.text=a.prop.textData?a.prop.textData:"";b.infoText=this.data.prop&&this.data.prop.info?this.data.prop.info:null;b.info=this.O1113();b.history=this.O3172(this.O7202);return b},O3172:function(a){if(a)for(var b=0;b<a.length;b++){if(a[b]&&a[b].colors)for(var c=a[b].colors,d=0;d<c.length;d++){var e=c[d];e.red=e.r;e.green=e.g;e.blue=e.b}}else a=[];return a},userScriptEditorRunStarted:function(a){if("changer"==
this.data.type){var b=this.O865(),c=this;ig.game.userScriptManager.O7418(a,b,"change",function(a){if(a.internal_error)ig.game.userScriptEditor&&ig.game.userScriptEditor.O8457(a.internal_error.message,a.internal_error.lineNumber,a.internal_error.columnNumber,!0);else{var b=c.userScriptEditorReturnsData(a);b&&ig.game.alertDialog.open((a&&a.feedback?"":"Oops... ")+b,null,null,null,null,!0);c.O415()}})}return!1},O1113:function(){return{selectedIndex:this.O2500,
secondSelectedIndex:this.O6750,selectedCell:this.selectedCell,transparentIndex:11,nameMaxLength:ig.game.validations.itemName.maxLength,O2478:this.O5554}},userScriptEditorReturnsData:function(a){var b=null;if(a.feedback&&"string"===typeof a.feedback)b=a.feedback;else{if(a.type){var c=ig.game.brainManager.O7062FromEnumType(a.type);c?(c=this.O6687(c),this.types[c]&&(!this.types[c].O4917||1>=this.types[c].O4917)?this.data.type=c:(b="This type is not supported with Changers",
window.consoleref.log(b,a.type))):(b="An invalid type was returned",window.consoleref.log(b,a.type))}!b&&a.cells&&(c=ig.game.O5662(a.cells),c[0]&&(c[0][0]&&void 0!==c[0][0][0]&&"object"===typeof c[0][0][0])&&(a.colors=this.O3837(c,this.maxColors,this.transparentIndex),c=this.O3008(c,a.colors,this.transparentIndex)),(c=this.O160(c,this.O6687(this.data.type)))?this.data.pixels=c:(b="Invalid cells were returned",window.consoleref.log(b,a.cells)));
if(!b&&a.colors&&Array.isArray(a.colors)){for(var c=ig.game.O5662(a.colors),d=0;d<this.maxColors;d++)c[d]||(c[d]={red:255,green:255,blue:255,alpha:1});c=this.O7336(c);(c=this.O4494(c))?(this.data.colors=c,this.data.colors[this.transparentIndex]=this.O7369(this.transparentIndex)):(b="Invalid colors were returned",window.consoleref.log(b,a.colors))}!b&&(a.name&&"string"===typeof a.name)&&(a.name=a.name.toLowerCase(),a.name=ig.game.validations.itemName.clean(a.name),
a.name?this.data.name=a.name:(b="An invalid name was returned",window.consoleref.log(b,a.name)));!b&&(a.text&&"string"===typeof a.text)&&("dynamicThing"==this.data.type?(a.text.length>this.O4438&&(a.text=a.text.substr(0,this.O4438)),this.data.prop.text=a.text):"mift"==this.data.type?(a.text.length>this.O7224&&(a.text=a.text.substr(0,this.O7224)),this.data.prop.text=a.text):"readable"==this.data.type?(1E6<a.text.length&&(a.text=a.text.substr(0,
1E6)),this.data.prop.textData=a.text):"mover"==this.data.type?(a.text=ig.game.O7019.O1422(a.text),a.text.length>ig.game.O7019.textMaxLength&&(a.text=a.text.substr(0,ig.game.O7019.textMaxLength)),this.data.prop.text=a.text):"farBack"==this.data.type?(a.text.length>this.O3245&&(a.text=a.text.substr(0,this.O3245)),this.data.prop.text=a.text):"interacting"==this.data.type&&(a.text.length>this.O5410&&(a.text=a.text.substr(0,
this.O5410)),this.data.prop.textData=a.text));!b&&(a.infoText&&"string"===typeof a.infoText)&&(a.infoText.length>this.O5554&&(a.infoText=a.infoText.substr(0,this.O5554)),this.data.prop.info=a.infoText);b&&ig.game.sounds.shortWhoosh.play()}return b},O160:function(a,b){b=this.types[this.data.type].key;var c=null,d=["VIEWABLE","DYNATHING","MUSICSHEET","FARBACK"],e="LIVING LIVANIM LIVMOV STACKWEARB MOTION INTERACT INTERMOT DYNATHING HOLDER".split(" "),
f="MNTGROUND MNTAIR MNTWATER VIEWABLE GLOW DECOBIG PLACENAME POINTER MUSICSHEET DECOFB STACKWEAR FARBACK".split(" "),g=["DECOVBIG"],h=0<="DECOANIM FLEXIBLE LIVELY LIVANIM LIVMOV HARMANIM PORTAL PORTALDIR DECOACT GATHER DECOTCH MOTION THROWER STACKWEAR LIQUID MNTGROUND MNTAIR MNTWATER VIEWABLE DYNATHING GLOW EMITTER AIMABLE INTERACT INTERMOT SPARKLING DECOFB MUSICSHEET HOLDER FARBACK".split(" ").indexOf(b),k=0<=["STACKWEARB"].indexOf(b),l=19,m=19;"MUSICSHEET"==b?(l=32,m=36):0<=e.indexOf(b)?m=l=29:
0<=f.indexOf(b)?m=l=38:0<=g.indexOf(b)&&(m=l=57);e=1;0<=["MOTION","INTERMOT","HOLDER"].indexOf(b)?e=3:0<=["MUSICSHEET","DYNATHING","HAPPENING"].indexOf(b)?e=Math.max(1,Math.min(a.length,9)):"FARBACK"==b?e=Math.max(1,Math.min(a.length,this.O7243)):0<=d.indexOf(b)?e=Math.max(2,Math.min(a.length,6)):h?e=2:k&&(e=9);if(Array.isArray(a)&&(1==a.length||2==a.length||9==a.length||a.length==e)&&a[0]&&void 0!==a[0][0]&&void 0!==a[0][0][0]){c=[];d=Math.min(l,Math.max(2,a[0].length));m=Math.min(m,Math.max(2,
a[0][0].length));for(h=0;h<e&&null!=c;h++)if(Array.isArray(a[h])){c[h]=[];for(k=0;k<d;k++){c[h][k]=[];for(l=0;l<m;l++)c[h][k][l]=0,void 0!=a[h][k]&&(void 0!=a[h][k][l]&&null!=a[h][k]&&null!=a[h][k][l]&&this.O6680(a[h][k][l]))&&(c[h][k][l]=parseInt(a[h][k][l]))}}else c=null}return c},O4137:function(a){return void 0!=a&&null!=a&&this.O6680(a)&&0<=a&&255>=a},O4494:function(a){var b=null;if(Array.isArray(a)&&a.length<=this.maxColors)for(var b=[],c=0;null!=b&&c<a.length;c++){b[c]=
{r:0,g:0,b:0,alpha:1};var d=a[c];if(d&&this.O4137(d.r)&&this.O4137(d.g)&&this.O4137(d.b)){if(b[c].r=parseInt(d.r),b[c].g=parseInt(d.g),b[c].b=parseInt(d.b),!(void 0==d.alpha||null==d.alpha)&&0<=d.alpha&&1>=d.alpha)b[c].alpha=parseFloat(parseFloat(d.alpha).toFixed(2))}else b=null}return b},userScriptEditorOpenHelp:function(){"changer"==this.data.type&&ml.Misc.openUrl("/info-changer")},O3008:function(a,b,c){for(var d=a[0].length,e=a[0][0].length,f=0;f<a.length;f++)for(var g=
0;g<d;g++)for(var h=0;h<e;h++){var k=a[f][g][h],k=0==k.alpha?c:this.O4976(k,b);a[f][g][h]=k}return a},O4976:function(a,b){for(var c=-1,d=null,e=0;e<b.length;e++){var f=b[e];if(f&&(f=Math.sqrt(Math.abs(f.red-a.red))+Math.sqrt(Math.abs(f.green-a.green))+Math.sqrt(Math.abs(f.blue-a.blue))+10*Math.abs(f.alpha-a.alpha),null===d||f<d))c=e,d=f}return c},O3837:function(a,b,c){var d=this.O2506(a);for(a=[];a.length<b-1&&1<=ml.Misc.O4361(d);){var e=
null,f=null,g;for(g in d)if(null==e||d[g]>e)e=d[g],f=g;e=f.split("_");e={red:parseInt(e[0]),green:parseInt(e[1]),blue:parseInt(e[2]),alpha:parseFloat(e[3])};a.length==c&&a.push({red:0,green:0,blue:0,alpha:0});0<e.alpha&&a.push(e);delete d[f]}a[c]={red:0,green:0,blue:0,alpha:0};for(c=0;c<b;c++)a[c]||(a[c]={red:255,green:255,blue:255,alpha:1});return a},O2506:function(a){for(var b={},c=a[0].length,d=a[0][0].length,e=0;e<a.length;e++)for(var f=0;f<c;f++)for(var g=0;g<d;g++){var h=a[e][f][g],
h=h.red+"_"+h.green+"_"+h.blue+"_"+h.alpha;void 0===b[h]&&(b[h]=0);b[h]++}return b},O1413:function(a){if(this.data.type){this.O6321();this.data.prop.changerId=a;var b=this;this.O5957(a);var c=this.O865();ig.game.userScriptManager.getResultByItemId(a,c,"change",function(c){if(c.internal_error)b.userScriptEditorShowError(c,a);else{var e=b.userScriptEditorReturnsData(c);e?ig.game.alertDialog.open((c&&c.feedback?"":"Oops... ")+e,null,null,null,
null,!0):b.O6321();b.O415()}})}else ig.game.alertDialog.open("Please set a type first")},O5957:function(a){(a=ig.game.O4961.getItemBasic(a,"ui_pnt10"))&&(a&&a.soundId?ig.game.sounds.O7220(a.soundId):ig.game.sounds.whoosh.play())},O2349:function(a,b){var c=this;this.O5957(b);var d=["WRITABLE","INTERACT","BRAIN","CHANGER","FARBACK"];ig.game.O7421.getItemImageDataFromPng_P(a).done(function(e){if(e&&e.imageData&&e.name){var f=
ig.game.O4269.O2507==e.creator,g=e.prop&&e.prop.attributes&&0<=e.prop.attributes.indexOf("clonable");(f||g)&&-1===ig.game.typesWithExternalBigData.indexOf(e.base)&&-1===d.indexOf(e.base)?(c.data={id:e.id,name:e.name,type:e.base,direction:e.rotation,prop:e.prop?ig.game.O5662(e.prop):{},colors:e.imageData.colors,pixels:e.imageData.pixels},c.data.prop.clonedFrom=a,c.data.prop.changerId=b,c.data.prop&&ig.game.O8430.O4198(c.data),c.data.type=c.O6687(c.data.type),
c.O2463(),e=c.O865(),ig.game.userScriptManager.getResultByItemId(b,e,"change",function(a){if(a.internal_error)c.userScriptEditorShowError(a,b);else{var d=c.userScriptEditorReturnsData(a);d?c.userScriptEditorShowError(d,b,Boolean(a&&a.feedback)):c.O6371()}})):ig.game.sounds.nocando.play()}})},userScriptEditorShowError:function(a,b,c){ig.game.O4703.O1620(b,this).done(function(b){var e=b&&b.name;b=b&&b.id;var f;f=a.internal_error?"line "+a.internal_error.lineNumber+
", "+a.internal_error.message.toLowerCase():String(a).toLowerCase();var g=c?"says":"has an issue",h="this changer "+g;b!=ig.game.O4269.O2507&&(h="this changer by "+e+" "+g);ig.game.O4269.say(h);setTimeout(function(){ig.game.O4269.say('"'+f+'"')},1500)})},O1607:function(a){if(a!=ig.game.O4269.O2507){var b=this;ig.game.isLocal?(b.data.prop.toId=a,ig.game.friendsDialog.close(),ig.game.sounds.success.play(),ig.game.O7421.O2039(a,b),b.O415()):ig.game.O7421.O1299(a).done(function(c){c&&
c.canMift?(b.data.prop.toId=a,ig.game.friendsDialog.close(),ig.game.sounds.success.play(),ig.game.O7421.O2039(a,b),b.O415()):ig.game.alertDialog.O1846("You already Mifted this person recently, please wait a bit")})}else ig.game.sounds.nocando.play()},O7624:function(){if(this.isRunning&&this.data)switch(this.data.type){case "farBack":if(jQuery("#canvas").is(":hover")&&ig.game.alertDialog.isOpen&&"farBackText"==ig.game.alertDialog.contextId&&ig.input.pressed("click")){var a=
this.O8300(),a=a.x+" "+a.y+"\r";ig.game.alertDialog.O2094(a);this.O1230()}break;case "dynamicThing":jQuery("#canvas").is(":hover")&&(ig.game.alertDialog.isOpen&&"dynamicThingText"==ig.game.alertDialog.contextId&&ig.input.pressed("click"))&&(a=this.O2265(),a=" "+a.x+" "+a.y,ig.game.alertDialog.O2094(a),this.O1230())}},draw:function(){if(this.isRunning&&this.data)switch(this.data.type){case "farBack":if(jQuery("#canvas").is(":hover")){var a=
this.O8300(),a=a.x+" "+a.y;ig.system.context.globalAlpha=0.5;ig.game.blackWhiteFont.draw(a,ig.input.mouse.x,ig.input.mouse.y-9,ig.Font.ALIGN.CENTER);ig.system.context.globalAlpha=1}break;case "dynamicThing":jQuery("#canvas").is(":hover")&&(ig.game.alertDialog.isOpen&&"dynamicThingText"==ig.game.alertDialog.contextId)&&(a=this.O2265(),a=a.x+" "+a.y,ig.system.context.globalAlpha=0.5,ig.game.blackWhiteFont.draw(a,ig.input.mouse.x,ig.input.mouse.y-
9,ig.Font.ALIGN.CENTER),ig.system.context.globalAlpha=1)}},O8300:function(){var a=this.O7217(),b=ig.game.O6099.O4260();return{x:Math.round(b.x-a.x-ig.game.O1990),y:Math.round(b.y-a.y-5)}},O2265:function(){var a=this.O7217(),b=ig.game.O6099.O4260();return{x:Math.round(b.x-a.x+4.5),y:Math.round(b.y-a.y+9.5)}},O232:function(){this.O7706();
this.O3665=!0;var a="position: absolute; color: white; font-size: "+Math.floor(4*ig.system.scale)+"px; text-shadow: 0px 0px 3px black; left: 0; top: 0; z-index: 1000; text-transform: uppercase; width: "+100*this.pageZoom+"px; text-align: center;";this.O5547=jQuery('<div style="'+(a+"font-family: 'Press Start 2P', arial, helvetica, sans-serif; display: none;")+'"></div>');this.O5547.appendTo("body")},O7706:function(){this.O3665=
!1;this.O310=[];this.O8016=[];this.O560={};this.O5547&&this.O5547.remove()},O6296:function(a,b,c){var d="";a&&a.screenName&&(d=a.screenName);this.O560[b+"_"+c]=d},O2821:function(a,b){var c="",d=a+"_"+b;this.O560[d]&&(c=this.O560[d]);return c},O6528:function(){if(this.O3665&&
this.data.type){var a={};1<=this.O310.length&&(a.pixels=this.O310,this.O310=[]);1<=this.O8016.length&&(a.colors=this.O8016,this.O8016=[]);if(a.pixels||a.colors){var b=ig.game.brainManager.enumType[this.data.type];b!=this.O6598&&(a.t=b);ig.game.O4349.O5807(a)}}},O4779:function(a,b,c){this.O3665&&50>this.O310.length&&(this.O310.push({x:b,y:c,i:a[b][c]}),
this.O6296(ig.game.O4269,b,c))},O8008:function(a){if(this.O3665&&this.O8016.length<this.maxColors){var b=this.data.colors[a];this.O8016.push({i:a,rgba:{r:b.r,g:b.g,b:b.b,a:b.alpha}})}},O8278:function(a,b){if(this.isRunning&&(this.O3665&&this.data.pixels&&this.data.pixels[this.selectedCell]&&ig.game.O4120&&!ig.game.O4120.O2144(b.O2507)&&ig.game.brainManager)&&
(a.t||(a.t=this.O6598),this.data.type&&a.t==ig.game.brainManager.enumType[this.data.type])){var c=this.data.pixels[this.selectedCell],d=!1;if(Array.isArray(a.pixels)){for(d=0;d<a.pixels.length;d++){var e=a.pixels[d],f=e.x,g=e.y;void 0!==c[f]&&void 0!==c[f][g]&&(e=e.i,e<this.maxColors&&(c[f][g]=e,this.O6296(b,f,g),"default"==this.mode&&(e==this.transparentIndex?this.O1186(f,g):this.O3527(f,g))))}d=!0}if(Array.isArray(a.colors)){for(d=
0;d<a.colors.length;d++)if(c=a.colors[d],e=c.i,e<this.maxColors&&(c=c.rgba)&&this.O4137(c.r)&&this.O4137(c.g)&&this.O4137(c.b)&&(void 0===c.a||0<=c.a&&1>=c.a))f={},f.r=parseInt(c.r),f.g=parseInt(c.g),f.b=parseInt(c.b),f.alpha=parseFloat(c.a).toFixed(2),this.data.colors[e]=f;"default"==this.mode&&(this.O1207(),this.O6405());d=!0}d&&ig.game.decorator.O3591(b.pos)}}})});ig.baked=!0;
ig.module("game.ui.itemcontextmenu").requires("game.ui.components.uidialog","game.ui.components.uiclicktext").defines(function(){window.ItemContextMenu=UIDialog.extend({O5334:!0,O603:!0,tileSize:19,pos:{x:0,y:0},itemNamePos:{x:4,y:4},itemTypePos:{x:4,y:11},creatorSymbolPos:{x:3,y:20},creatorNamePos:{x:31,y:24},toggleUnlistedPos:{x:4,y:57},cancelPos:{x:86,y:57},placerLabelPos:{x:4,y:34},placerNamePos:{x:31,y:34},collectedSymbolPos:{x:2,y:58},collectButtonPos:{x:2,y:57},collectedTotalPos:{x:23,
y:60},alreadyCollectedPos:{x:27,y:59},placedSymbolPos:{x:62,y:56},placedTotalPos:{x:83,y:60},transportPos:{x:84,y:45},flagPos:{x:105,y:22},unlistedPos:{x:101,y:22},collectorsSymbolPos:{x:3,y:17},collectorsNamesStartPos:{x:41,y:17},O5084:11,O5842:8,backgroundAlpha:0.7,O6265:0.7,O2671:0.7,O3666:0.4,creatorNameAlpha:0.4,O4121:0.4,O1753:0.4,O5883:0.4,O7939:0.4,O4012:0.6,O6063:0.4,
symbolsAlpha:0.4,O6919:null,O181:!1,O6143:10,clickSpotCloseLocation:{x:103,y:3,width:8,height:8},infoButtonPos:{x:4,y:45},clickSpotClose:null,clickSpotFlagLocation:{x:0,y:0,width:7,height:10},clickSpotFlag:null,clickSpotUnlistedLocation:{x:0,y:0,width:9,height:9},clickSpotUnlisted:null,O2122:null,O6800:null,O682:null,O6001:null,clickSpotTransport:null,clickSpotCollectButton:null,clickSpotInfo:null,
clickSpotShortcutCheckbox:null,O8275:null,O4090:null,O2819:null,O4793:null,O5757:null,shortcutCheckboxPos:{x:64,y:44},O510:[],O6636:null,placer:{id:null,name:null},O5414:!1,O5072:null,collectors:[],timesCd:null,timesPd:null,creatorName:null,O209:"MAIN",collected:!1,flagged:!1,O5491:!1,O2102:!1,isUnlisted:!1,O70:!1,O1618:!1,
wasAlertedOfCollectCountLimitations:!1,O781:-1,O6969:2,O1697:!0,O6201:!1,init:function(a,b,c){this.size.x=ig.game.O5405.itemContextMenuBg.width;this.size.y=ig.game.O5405.itemContextMenuBg.height;this.halfSize={};this.halfSize.x=Math.floor(ig.game.O5405.itemContextMenuBg.width/2);this.halfSize.y=Math.floor(ig.game.O5405.itemContextMenuBg.height/2);this.arrows={};this.arrows.size=ig.game.O5405.itemContextMenuArrowLeft.width;
this.arrows.halfSize=Math.floor(this.arrows.size/2);this.clickSpotFlagLocation.x=this.flagPos.x-1;this.clickSpotFlagLocation.y=this.flagPos.y-1;this.clickSpotUnlistedLocation.x=this.unlistedPos.x-1;this.clickSpotUnlistedLocation.y=this.unlistedPos.y-1;this.pos.x=a;this.pos.y=b-this.size.y-2;this.O6421=c},O3106:function(a,b){ig.game.cloneHistoryDialog.isOpen&&ig.game.cloneHistoryDialog.close();if(this.isOpen&&(!this.maploc||this.maploc.x==a.x&&this.maploc.y==a.y))this.close();else{this.O181=
!!b;this.O7115();this.maploc=a;this.O6636=ig.game.O7715.O1009(a);this.O7296();this.O7360();this.O1180();this.O181||this.O5283(a);this.O618(a);this.O6337();this.O4519();var c=this;this.O6636&&(this.O6636.thing.dataLoaded?this.O629(a,c.O181):ig.game.O4961.getItem_P(this.O6636.thing.id,
"d_itemcontext1").done(function(){c.O6636.thing=ig.game.O4961.getItem(c.O6636.thing.id,"item_context_menu__open_for_map_location");c.O629(a,c.O181)}))}},O629:function(a,b){this.O3755();this.O7563(a,b);this.O4755();this.open()},O4530:function(a){ig.game.cloneHistoryDialog.isOpen&&ig.game.cloneHistoryDialog.close();if(this.isOpen&&
(!this.O6636||this.O6636.thing==a.thing))this.close();else{this.O7115();this.O6636={thing:a.thing,rotation:a.rotation,flip:a.flip};this.O7296();this.O7360();this.O1180();this.O6337();this.O4519();var b=this;this.O6636.thing.dataLoaded?this.O4530WhenDataAvailable(a.pos):ig.game.O4961.getItem_P(this.O6636.thing.id,"d_itemcontext2").done(function(){b.O6636.thing=ig.game.O4961.getItem(b.O6636.thing.id,
"item_context_menu__open_for_map_panel_item");b.O4530WhenDataAvailable(a.pos)})}},O2718:function(a,b,c,d,e,f){if(this.isOpen&&(!this.O6636||this.O6636.thing==b))this.close();else{this.O7115();this.O1938=Boolean(e);this.O6636={thing:b,rotation:a?a.rot:0,flip:a?a.flip:0};this.O7296();this.O7360();this.O1180();this.O6337();this.O4519();this.O1618=f;var g=this;this.O6636.thing.dataLoaded?
this.O5650(c,d):ig.game.O4961.getItem_P(this.O6636.thing.id,"d_itemcontext3").done(function(){g.O6636.thing=ig.game.O4961.getItem(g.O6636.thing.id,"item_context_menu__open_for_holder_or_dialog_item");g.O5650(c,d)})}},O3755:function(){this.O2102=Boolean(this.O6636&&this.O6636.thing&&this.O6636.thing.creatorId==ig.game.O4269.O2507)},
O4530WhenDataAvailable:function(a){this.O3755();ig.game.O6310||(this.O6621(a),this.O4755(),this.open());this.O7505()},O5650:function(a,b){this.O3755();this.screenSector=this.O483.TOP;ig.game.playerDialog&&ig.game.playerDialog.isOpen&&(this.screenSector=this.O483.BOTTOM);this.O2656(a);this.O4755();b||ig.game.O7673(null,
null,!0);this.toClose=!1;this.isOpen=!0;this.O7505();this.O5414=!0},O7115:function(){this.O4793=this.O6919=null;this.flagged=this.collected=!1;this.O209=this.O209s.MAIN;this.collectors=[];this.placer={id:null,name:null};this.clickSpotFlag=this.clickSpotUnlisted=this.clickSpotCollectButton=this.O2819=this.O6001=this.O4090=this.O2122=this.maploc=
this.creatorName=this.timesCd=this.timesPd=null;this.O1938=this.O5491=this.O5414=!1;this.O781=-1;this.O8275=this.clickSpotShortcutCheckbox=this.O5757=this.clickSpotInfo=null;this.O1618=this.O70=this.isUnlisted=this.O2102=this.O6201=!1},O5283:function(a){if(a&&a.y){a=ig.game.O5662(a);a.y-=1;var b=ig.game.O7715.O1009(a);
b&&(b.thing&&"INTERACT"==b.thing.base&&b.thing.attributes&&b.thing.attributes.affectsBelow)&&(this.O6919=new ItemContextMenu,this.O6919.O3106(a,!0))}},O7563:function(a,b){this.O5072=ig.game.O7715.O8054(a.x,a.y);this.screenSector=this.O6083(a,b);this.O2656(this.O5072,b)},O6621:function(a){this.screenSector=
this.O483.RIGHT;this.O2656(a)},O2656:function(a,b){var c=Math.floor(this.tileSize/2)+1;if(null==this.screenSector)return null;this.screenSector==this.O483.BOTTOM||this.screenSector==this.O483.UPPERMIDDLE||b?(this.pos.x=a.x+c-this.halfSize.x,this.pos.y=a.y+c-this.size.y-this.arrows.size):this.screenSector==this.O483.TOP||this.screenSector==this.O483.LOWERMIDDLE?(this.pos.x=a.x+c-this.size.x/2,this.pos.y=
a.y+c+this.arrows.size-1):this.screenSector==this.O483.LEFT?(this.pos.x=a.x+c+this.arrows.size-1,this.pos.y=a.y+c-this.halfSize.y-1):this.screenSector==this.O483.RIGHT&&(this.pos.x=a.x+c-this.size.x-this.arrows.size+1,this.pos.y=a.y+c-this.halfSize.y-1);var c=ig.system.height-1-ig.game.O5405.itemContextMenuBg.height,d=this.pos.y;1>this.pos.y?this.pos.y=1:this.pos.y>c&&(this.pos.y=c);this.O1697=5>=Math.abs(d-this.pos.y)},O6239:function(){for(var a=
0;a<this.collectors.length;a++)this.O7370(a,a==this.collectors.length-1)},O7370:function(a,b){var c=this,d=this.collectors[a];this.O510[a]=new UIClickText({x:this.pos.x+this.collectorsNamesStartPos.x,y:this.pos.y+this.collectorsNamesStartPos.y+a*this.O5084+(b?this.O5842:0)},ig.game.strings.O2833(d?d.name:"-",16),ig.game.blackSmallFont,"#000000",this.creatorNameAlpha);d?this.O510[a].onClick=function(){!c.wasAlertedOfCollectCountLimitations&&
0==c.O781&&d._id!=ig.game.O4269.O2507?ig.game.alertDialog.open({text:"Note that even at 0 placements, the collector may have found this item in a public Holder or received it from an Interacting and such.",O3526:!0,O6041:function(){c.wasAlertedOfCollectCountLimitations=!0;ig.game.playerDialog.openForPlayerId(d._id)}}):(c.close(),ig.game.playerDialog.openForPlayerId(d._id))}:this.O510[a].O7225=!1},O4755:function(){var a=this;this.clickSpotClose=
new UIClickSpot({x:this.pos.x+this.clickSpotCloseLocation.x,y:this.pos.y+this.clickSpotCloseLocation.y},{x:this.clickSpotCloseLocation.width,y:this.clickSpotCloseLocation.height},!1,null);this.clickSpotClose.onClick=function(){a.close()};this.O7439();this.initClickTextInfo();this.getIsPlacename()&&(this.clickSpotTransport=new UIClickSpot({x:this.pos.x+this.transportPos.x,y:this.pos.y+this.transportPos.y},{x:ig.game.O5405.openMapThereButton.width,y:ig.game.O5405.openMapThereButton.height},
!1,null),this.clickSpotTransport.onClick=function(){ig.game.userO6290.O3163(a.O6636.thing.id)});this.O2102?(this.clickSpotUnlisted=new UIClickSpot({x:this.pos.x+this.clickSpotUnlistedLocation.x,y:this.pos.y+this.clickSpotUnlistedLocation.y},{x:this.clickSpotUnlistedLocation.width,y:this.clickSpotUnlistedLocation.height},!1,null),this.clickSpotUnlisted.onClick=function(){a.O5079();a.O209=a.O209s.UNLISTED}):ig.game.O4269.isFullAccount&&
(this.clickSpotFlag=new UIClickSpot({x:this.pos.x+this.clickSpotFlagLocation.x,y:this.pos.y+this.clickSpotFlagLocation.y},{x:this.clickSpotFlagLocation.width,y:this.clickSpotFlagLocation.height},!1,null),this.clickSpotFlag.onClick=function(){a.O2102||(ig.game.O4269.rank>=a.O6969?ig.game.O7421.flagAbusiveItem_P(a.O6636.thing.id,a.maploc,a).done(function(b){a.O1074(b)}):ig.game.O4132.O2959())});this.O825();this.O8370();
this.O6365();this.O682=new UIClickText({x:this.pos.x+this.collectedTotalPos.x,y:this.pos.y+this.collectedTotalPos.y},ig.game.strings.O5728(this.timesCd),ig.game.blackFont,"#000000",this.O5883);this.O682.onClick=function(){a.O1797();a.O209=a.O209s.COLLECTORS};this.O6636.thing.clonedFrom&&(this.O6001=new UIClickText({x:this.pos.x+4,y:this.pos.y+11},"cloned",ig.game.blackSmallFont,"#000000",
this.O5883),this.O6001.onClick=function(){ig.game.cloneHistoryDialog.open(a.O6636.thing.id)});if(ig.game.isFullAccount&&(this.O2102||(!ig.game.cloneHistoryDialog||!ig.game.cloneHistoryDialog.isOpen)&&(!ig.game.playerDialog||!ig.game.playerDialog.isOpen)&&!this.O1938))this.clickSpotCollectButton=new UIClickSpot({x:this.pos.x+this.collectButtonPos.x,y:this.pos.y+this.collectButtonPos.y},{x:ig.game.O5405.collectButton.width,y:ig.game.O5405.collectButton.height},
!1,null),this.clickSpotCollectButton.onClick=function(){var b=ig.game.panelSet.panels[ig.game.panelSet.tabEnum.collected];1!=ig.game.panelSet.tabState&&ig.game.panelSet.O7981(1);ig.game.O4703.O2163(a.O6636.thing.id,b.O7424,a.maploc);a.close()};this.O5491=!0},O6365:function(){var a=this,b=this.O6636?this.O6636.thing:null;if(b&&(("BRAIN"==b.base||"HAPPENING"==b.base||"GENERATOR"==b.base)&&b.textSize||0<=["CHANGER",
"MOVER","FARBACK"].indexOf(b.base)))a.O4090=new UIClickText({x:a.pos.x+80,y:a.pos.y+11},"view",ig.game.blackSmallFont,"#000000",0.4),a.O4090.onClick=function(){if("MOVER"==b.base){var c=ig.game.O7019.O7366(b.text),c='<pre style="font-size: 160%; text-align: left; margin: 15px">'+ig.game.strings.O4334(c)+"</pre>";ig.game.alertDialog.open({html:c})}else"FARBACK"==b.base?(c='<div class="readOnlyCode"><pre style="font-size: 130%; text-align: left; margin: 15px">'+
ig.game.strings.O4334(b.text.toUpperCase())+"</pre></div>",ig.game.alertDialog.open({html:c})):(ig.game.O4961.getItem_P(b.id,"d_itemcontext4").done(function(a){a='<div class="readOnlyCode"><pre>'+ig.game.strings.O4334(a&&a.textData?a.textData:"")+"</pre></div>";ig.game.alertDialog.open(a,!0,null,null,null,!0)}),ml.Misc.O5752()&&ig.game.O7421.getItemBigData_P(b.id).done(function(a){console.log("getItemBigData_P returns",a)}));a.close()}},O8370:function(){var a=
this;this.placer.id&&(this.O6800=new UIClickText({x:this.pos.x+this.placerNamePos.x,y:this.pos.y+this.placerNamePos.y},ig.game.strings.O2833(this.placer.name,this.O6143),ig.game.blackSmallFont,"#000000",this.O1753,!this.placer.id),this.O6800.onClick=function(){a.placer.id&&(ig.game.O4269.O2507==a.placer.id?ig.game.playerDialog.O3657():ig.game.playerDialog.openForPlayerId(a.placer.id,this.O5072),a.close())})},O7439:function(){if(!this.O1618){var a=
this,b=this.O6636?this.O6636.thing:null,c=["HOLDER","WRITABLE","STACKWEAR","DYNATHING"],d="";if(b&&0<=c.indexOf(b.base)&&!ig.ua.mobile){var e="";switch(b.base){case "HOLDER":this.O6201=b.id==ig.game.settings.travelHolderId;d="h";e="travelHolderId";break;case "WRITABLE":this.O6201=b.id==ig.game.settings.shortcutWritableId;d="y";e="shortcutWritableId";break;case "STACKWEAR":case "DYNATHING":if("STACKWEAR"==b.base||ig.game.O7510.O1975(b.base,
b.attributes))this.O6201=b.id==ig.game.settings.shortcutWearableId,d="l",e="shortcutWearableId"}""!=d&&(this.clickSpotShortcutCheckbox=new UIClickSpot({x:this.pos.x+this.shortcutCheckboxPos.x,y:this.pos.y+this.shortcutCheckboxPos.y},{x:ig.game.O5405.checkbox.width,y:ig.game.O5405.checkbox.height},!1,null),this.clickSpotShortcutCheckbox.onClick=function(){a.O1206(e)},this.O8275=new UIClickText({x:this.pos.x+this.shortcutCheckboxPos.x+10,
y:this.pos.y+this.shortcutCheckboxPos.y+2},"use ctrl+"+d,ig.game.blackSmallFont,"#000000",0.4),this.O8275.onClick=function(){a.O1206(e)},this.O8275.O7225=!1)}""==d&&(this.O8275=this.clickSpotShortcutCheckbox=null,this.O6201=!1)}},O1206:function(a){this.O6201?(this.O6201=!1,ig.game.settings.clear(a)):(this.O6201=!0,ig.game.settings.set(a,this.O6636.thing.id))},
initClickTextInfo:function(){var a=this;if(this.O6636&&this.O6636.thing&&(this.O6636.thing.creditUrl||this.O6636.thing.info)){var b=this.O6636.thing.creditUrl?"Credits: "+ig.game.sounds.O3503(this.O6636.thing.creditUrl):this.O6636.thing.info,c=b,d=25;this.clickSpotShortcutCheckbox&&(d=12);var e=!1;0<=c.indexOf("://")&&(c=ig.game.strings.replaceAll(c,"http://",""),c=ig.game.strings.replaceAll(c,"https://",""),c+=
"..",e=!0);c.length>d&&(c=ig.game.strings.O2833(c,d),e=!0);this.clickSpotInfo=new UIClickSpot({x:this.pos.x+this.infoButtonPos.x,y:this.pos.y+this.infoButtonPos.y},{x:ig.game.O5405.aboutInfoButton.width,y:ig.game.O5405.aboutInfoButton.height},!1,null);this.clickSpotInfo.onClick=function(){a.O954(b)};this.O5757=new UIClickText({x:this.pos.x+this.infoButtonPos.x+9,y:this.pos.y+this.infoButtonPos.y+1},c,ig.game.blackSmallFont,"#000000",0.4,!e);this.O5757.onClick=
function(){a.O954(b)}}else this.O5757=this.clickSpotInfo=null},O954:function(a){a=ig.game.strings.O7229(a);ig.game.alertDialog.open({html:a,O3468:!0})},O825:function(){var a=this;a.O6636&&(a.O6636.thing&&a.O6636.thing.creatorId)&&(this.O2122=new UIClickText({x:this.pos.x+this.creatorNamePos.x,y:this.pos.y+this.creatorNamePos.y},ig.game.strings.O2833(this.creatorName,this.O6143),
ig.game.blackFont,"#000000",this.creatorNameAlpha),this.O2122.onClick=function(){a.O6636.thing.creatorId&&(ig.game.O4269.O2507==a.O6636.thing.creatorId?ig.game.playerDialog.O3657():ig.game.playerDialog.openForPlayerId(a.O6636.thing.creatorId,this.O5072),a.close())})},O5079:function(){if(this.O2102){var a=this.O6636.thing.id,b=this;this.O2819=new UIClickText({x:this.pos.x+
this.toggleUnlistedPos.x,y:this.pos.y+this.toggleUnlistedPos.y},this.isUnlisted?"List":"Unlist",ig.game.blackFont,"#000000",0.4);this.O2819.onClick=function(){b.isUnlisted=!b.isUnlisted;b.O209=b.O209s.MAIN;ig.game.O7421.setItemUnlisted_P(a,b.isUnlisted,this).done(function(){ig.game.sounds.success.play()})};this.clickTextCancel=new UIClickText({x:this.pos.x+this.cancelPos.x,y:this.pos.y+this.cancelPos.y},"Cancel",ig.game.blackFont,"#000000",0.4);this.clickTextCancel.onClick=
function(){b.O209=b.O209s.MAIN}}},update:function(){if(this.isOpen){(ig.input.state("left")||ig.input.state("right")||ig.input.state("jump")||ig.input.state("down"))&&this.close();this.clickSpotClose.update();this.clickSpotTransport&&this.clickSpotTransport.update();if(this.O209==this.O209s.MAIN)this.O6636&&(this.O6636.thing&&this.O6636.thing.creatorId&&this.O2122)&&this.O2122.update(),this.placer.id&&this.O6800.update(),
this.O682.update(),this.clickSpotCollectButton&&this.clickSpotCollectButton.update(),this.clickSpotFlag&&this.clickSpotFlag.update(),this.clickSpotUnlisted&&this.clickSpotUnlisted.update(),this.clickSpotInfo&&this.clickSpotInfo.update(),this.O4090&&this.O4090.update(),this.O6001&&this.O6001.update(),this.O5757&&this.O5757.update(),this.clickSpotShortcutCheckbox&&(this.clickSpotShortcutCheckbox.update(),this.O8275&&
this.O8275.update());else if(this.O209==this.O209s.COLLECTORS)for(var a=0;a<this.O510.length;a++)this.O510[a].update();else this.O209==this.O209s.UNLISTED&&this.O70&&(this.O2819&&this.O2819.update(),this.clickTextCancel&&this.clickTextCancel.update());this.O6919&&this.O6919.update()}this.parent()},
draw:function(){if(this.isOpen){ig.system.context.globalAlpha=this.backgroundAlpha;ig.game.O5405.O7353(this.pos.x,this.pos.y);this.O3852();ig.system.context.globalAlpha=1;if(this.O1938){if(ig.game.isFullAccount&&this.O6636.thing.attributes&&this.O6636.thing.attributes.clonable){ig.system.context.globalAlpha=0.4;var a=ig.game.isFullAccount?this.itemTypePos.x+30:this.itemTypePos.x,b=ig.game.isFullAccount?this.itemTypePos.y-1:this.itemTypePos.y-
3,c="clonable";this.O6636.thing.clonedFrom&&(c+=",");ig.game.blackSmallFont.draw(c,this.pos.x+a,this.pos.y+b)}}else ig.system.context.globalAlpha=this.O2671,a=this.O6636.thing.name,!this.O4793&&23<a.length&&(this.O4793=new ml.Timer),this.O4793&&(b=Math.round(3*(this.O4793.delta()-1)),a=a.substr(b.limit(0,20),22),0>=b?a+="..":21<b&&(this.O4793=new ml.Timer)),ig.game.blackFont.draw(a,this.pos.x+this.itemNamePos.x,
this.pos.y+this.itemNamePos.y);ig.system.context.globalAlpha=1;if(this.O209==this.O209s.MAIN){a=this.getIsPlacename();ig.system.context.globalAlpha=this.symbolsAlpha;ig.game.O5405.O7427(this.pos.x+this.creatorSymbolPos.x,this.pos.y+this.creatorSymbolPos.y);ig.game.O5405.O5168(this.pos.x+this.collectedSymbolPos.x,this.pos.y+this.collectedSymbolPos.y);this.clickSpotCollectButton&&this.clickSpotCollectButton.isHovered&&ig.game.O5405.O2678(this.pos.x+
this.collectButtonPos.x,this.pos.y+this.collectButtonPos.y,0.9);a||ig.game.O5405.O8222(this.pos.x+this.placedSymbolPos.x,this.pos.y+this.placedSymbolPos.y);ig.system.context.globalAlpha=1;ig.system.context.globalAlpha=this.O3666;(b=""+this.O6636.thing.O7026())&&("string"===typeof b&&this.O6636.thing.attributes&&this.O6636.thing.attributes.clonable)&&(b+=", clonable");this.O6636.thing.changerId&&(b+=", changed");
b=ig.game.strings.O2833(b,this.O4090?13:18);if(("BRAIN"==this.O6636.thing.base||"HAPPENING"==this.O6636.thing.base)&&!this.O6636.thing.textSize)b+=" (empty)";ig.game.blackSmallFont.draw(b,this.pos.x+this.itemTypePos.x+(this.O6636.thing.clonedFrom?26:0),this.pos.y+this.itemTypePos.y);ig.system.context.globalAlpha=this.O4121;this.placer.id&&ig.game.blackSmallFont.draw("placer:",this.pos.x+this.placerLabelPos.x,this.pos.y+
this.placerLabelPos.y);ig.system.context.globalAlpha=1;this.O6636&&(this.O6636.thing&&this.O6636.thing.creatorId)&&(this.O2122.draw(),b=ml.Misc.getTimestampFromObjectId(this.O6636.thing.id),this.creatorName&&b&&(ig.system.context.globalAlpha=this.creatorNameAlpha,b=ig.game.strings.O5864(b,!0),b=ig.game.strings.replaceAll(b," ago",""),ig.game.blackSmallFont.draw(b,this.O2122.pos.x+this.O2122.size.x+4,this.O2122.pos.y),
ig.system.context.globalAlpha=1));this.O6001&&this.O6001.draw();this.placer.id&&(this.O6800.draw(),this.placer.placedTime&&(ig.system.context.globalAlpha=this.O4121,b=ig.game.strings.O1466(this.placer.placedTime,!0),b=ig.game.strings.replaceAll(b," ago",""),ig.game.blackSmallFont.draw(b,this.O6800.pos.x+this.O6800.size.x+4,this.O6800.pos.y),ig.system.context.globalAlpha=1));this.O4090&&this.O4090.draw();
this.O682&&this.O682.draw();this.clickSpotFlag&&!this.O2102&&(this.flagged?ig.game.O5405.O3875(this.pos.x+this.flagPos.x,this.pos.y+this.flagPos.y,0.8):ig.game.O5405.O7293(this.pos.x+this.flagPos.x,this.pos.y+this.flagPos.y,0.5));this.clickSpotUnlisted&&(this.O70&&this.O2102)&&(this.isUnlisted?ig.game.O5405.O6287(this.pos.x+this.unlistedPos.x,this.pos.y+this.unlistedPos.y,0.8):ig.game.O5405.O6991(this.pos.x+
this.unlistedPos.x,this.pos.y+this.unlistedPos.y,0.4));this.collected&&(ig.system.context.globalAlpha=this.O4012,ig.game.O5405.O8088(this.pos.x+this.O682.size.x+this.alreadyCollectedPos.x,this.pos.y+this.alreadyCollectedPos.y),ig.system.context.globalAlpha=1);a?ig.game.O5405.O7867(this.pos.x+this.transportPos.x,this.pos.y+this.transportPos.y,0.75):(ig.system.context.globalAlpha=this.O7939,ig.game.blackFont.draw(ig.game.strings.O5728(this.timesPd),
this.pos.x+this.placedTotalPos.x,this.pos.y+this.placedTotalPos.y),ig.system.context.globalAlpha=1);this.clickSpotInfo&&ig.game.O5405.draw(this.pos.x+this.infoButtonPos.x,this.pos.y+this.infoButtonPos.y,0.4,ig.game.O5405.aboutInfoButton);this.O5757&&this.O5757.draw();this.clickSpotShortcutCheckbox&&(ig.game.O5405.draw(this.pos.x+this.shortcutCheckboxPos.x,this.pos.y+this.shortcutCheckboxPos.y,0.9,ig.game.O5405["checkbox"+(this.O6201?"Active":
"")]),this.O8275&&this.O8275.draw())}else if(this.O209==this.O209s.COLLECTORS){ig.system.context.globalAlpha=this.O6063;ig.game.O5405.O4661(this.pos.x+this.collectorsSymbolPos.x,this.pos.y+this.collectorsSymbolPos.y);ig.game.blackSmallFont.draw("1st:",this.pos.x+this.collectorsNamesStartPos.x+-3,this.pos.y+this.collectorsNamesStartPos.y,ig.Font.ALIGN.RIGHT);ig.game.blackSmallFont.draw("2nd:",this.pos.x+this.collectorsNamesStartPos.x+
-3,this.pos.y+this.collectorsNamesStartPos.y+this.O5084,ig.Font.ALIGN.RIGHT);ig.game.blackSmallFont.draw("3rd:",this.pos.x+this.collectorsNamesStartPos.x+-3,this.pos.y+this.collectorsNamesStartPos.y+2*this.O5084,ig.Font.ALIGN.RIGHT);ig.game.blackSmallFont.draw("Latest:",this.pos.x+this.collectorsNamesStartPos.x+-3,this.pos.y+this.collectorsNamesStartPos.y+3*this.O5084+this.O5842,ig.Font.ALIGN.RIGHT);for(a=0;a<this.O510.length;a++)this.O510[a].draw();
ig.system.context.globalAlpha=1}else this.O209==this.O209s.UNLISTED&&this.O70&&(ig.system.context.globalAlpha=0.4,ig.game.blackSmallFont.draw("Things collected 5 & placed\r\n5 times show in Universe\r\nsearches unless Unlisted.",this.pos.x+4,this.pos.y+18),ig.system.context.globalAlpha=1,this.O2819&&this.O2819.draw(),this.clickTextCancel&&this.clickTextCancel.draw());this.O6919&&this.O6919.draw()}},
getIsPlacename:function(){return this.O6636&&this.O6636.thing&&"PLACENAME"==this.O6636.thing.base},O6083:function(a){ig.game.O7715.O2398(a.x,a.y);a=ig.game.O7715.O8054(a.x,a.y);var b=ig.system.width-(ig.system.width-(ig.game.panelSet?ig.game.panelSet.panelPos.x:54)),c=ig.system.height;return a.x<b/4?this.O483.LEFT:a.x>3*(b/4)?this.O483.RIGHT:a.y>=3*(c/4)?this.O483.BOTTOM:
a.y>=2*(c/4)?this.O483.LOWERMIDDLE:a.y>=c/4?this.O483.UPPERMIDDLE:this.O483.TOP},O483:{TOP:"T",UPPERMIDDLE:"UM",LOWERMIDDLE:"LM",BOTTOM:"B",LEFT:"L",RIGHT:"R"},O3852:function(){if(null==this.screenSector)return null;this.O1697?this.screenSector==this.O483.BOTTOM||this.screenSector==this.O483.UPPERMIDDLE||this.O181?(ig.game.O5405.O2614(this.pos.x+this.halfSize.x-this.arrows.halfSize-
1,this.pos.y+this.size.y-1),this.O7625(),this.O7083(),this.O3004()):this.screenSector==this.O483.TOP||this.screenSector==this.O483.LOWERMIDDLE?(ig.game.O5405.O6270(this.pos.x+this.halfSize.x-this.arrows.halfSize-1,this.pos.y-this.arrows.size+1),this.O7625(),this.O3004(),this.O5639()):this.screenSector==this.O483.LEFT?(ig.game.O5405.O5001(this.pos.x-ig.game.O5405.itemContextMenuArrowLeft.width+
1,this.pos.y+this.halfSize.y-this.arrows.halfSize),this.O7083(),this.O3004(),this.O5639()):this.screenSector==this.O483.RIGHT&&(ig.game.O5405.O1606(this.pos.x+this.size.x-1,this.pos.y+this.halfSize.y-this.arrows.halfSize),this.O7625(),this.O7083(),this.O5639()):(this.O7625(),this.O3004(),this.O7083(),this.O5639())},O7625:function(){ig.game.O5405.O4341(this.pos.x,
this.pos.y+this.halfSize.y-this.arrows.halfSize)},O7083:function(){ig.game.O5405.O3498ContextMenuFillerHorz(this.pos.x+this.halfSize.x-this.arrows.halfSize-1,this.pos.y)},O3004:function(){ig.game.O5405.O4341(this.pos.x+this.size.x-1,this.pos.y+this.halfSize.y-this.arrows.halfSize)},O5639:function(){ig.game.O5405.O3498ContextMenuFillerHorz(this.pos.x+this.halfSize.x-this.arrows.halfSize-1,this.pos.y+this.size.y-1)},O618:function(a){ig.game.O7421.O2136(a,
ig.game.O172.O6722,ig.game.O172.currentArea,this).done(function(a){a&&(this.placer.id=a.id,this.placer.name=a.name,this.placer.placedTime=a.ts,this.O8370())})},O1797:function(){ig.game.O7421.O5598(this.O6636.thing.id,this).done(function(a){if(a){this.collectors=[];for(var b=0;3>b;b++)this.collectors[b]=a.collectors[b];this.collectors[3]=a.lastCollector;this.O6239()}})},O7296:function(){var a=this;
ig.game.O7421.getItemStats_P(this.O6636.thing.id).done(function(b){b&&(a.timesCd=b.timesCd,a.timesPd=b.timesPd,0>a.timesPd&&(a.timesPd=0),a.O781=a.timesPd,ml.Misc.O5331(a.O5491,function(){a.O682&&a.O682.O3937(ig.game.strings.O5728(a.timesCd))}))})},O7360:function(){var a=this;ig.game.O7421.getItemUnlisted_P(this.O6636.thing.id,this).done(function(b){a.isUnlisted=Boolean(b.unlisted);a.O70=
!0})},O1180:function(){var a=this;ig.game.O4703.O1620(this.O6636.thing.id,this).done(function(b){a.creatorName=b&&b.name;ml.Misc.O5331(a.O5491,function(){a.O2122&&a.creatorName&&a.O2122.O3937(ig.game.strings.O2833(a.creatorName,a.O6143))})})},O6337:function(){ig.game.isFullAccount&&ig.game.O7421.O2760(this.O6636.thing.id,this).done(function(a){this.collected=
a})},O4519:function(){ig.game.isFullAccount&&ig.game.O7421.O4852(this.O6636.thing.id,this).done(function(a){this.flagged=a})},O1074:function(a){this.flagged=!!a;ig.game.O4269.say(this.flagged?"i reported a creation":"i unreported a creation")},O7505:function(){if(this.O6636&&this.O6636.thing)if("MUSIC"==this.O6636.thing.base){var a=this.O6636.thing;ig.game.O6858.reset();ig.game.O6858.O7994(a.musicData,
a.id);ig.game.O6858.O3571();this.O603=!1}else"SOUND"==this.O6636.thing.base&&ig.game.sounds.O7220(this.O6636.thing.id)},O3859:function(){if(this.O6636&&this.O6636.thing&&"MUSIC"==this.O6636.thing.base&&ig.game.O6858){var a=this.O6636.thing;ig.game.O6858.isPlaying&&ig.game.O6858.O1631==a.id&&(ig.game.O6858.O453(),ig.game.O6858.O6322())}},close:function(){this.O5414=
!1;this.O3859();this.parent()},O209s:{MAIN:"MAIN",COLLECTORS:"COLLECTORS"}})});ig.baked=!0;
ig.module("game.ui.deletionmarkerdialogitem").defines(function(){window.DeletionMarkerDialogItem=ig.Class.extend({pos:{x:0,y:0},homePos:{x:0,y:0},size:{x:19,y:19},O5791:4,thing:null,O2176:!1,O7325:7,rotation:0,flip:0,init:function(a,b,c){if((this.thing=a)&&a.defRot)this.rotation=a.defRot;this.pos.x=b;this.pos.y=c;this.homePos.x=b;this.homePos.y=c},O6849:function(){var a=this.pos.y-this.O5791<=ig.input.mouse.y&&ig.input.mouse.y<=this.pos.y+this.size.y;return this.pos.x-
this.O5791<=ig.input.mouse.x&&ig.input.mouse.x<=this.pos.x+this.size.x+this.O5791&&a},update:function(){if(ig.game.isFullAccount&&(ig.input.pressed("click")&&this.O6849()&&(this.O2176=!0,ig.game.panelSet.O7981(1),ig.game.O500={tid:this.thing.id,rotation:this.rotation,flip:this.flip,O6891:this.thing.O6891()},ig.game.sounds.pickup.play()),ig.input.state("click")&&this.O2176&&(ig.game.panelSet.O7890.O219(),this.pos.x=
ig.input.mouse.x-this.size.x/2,this.pos.y=ig.input.mouse.y-this.size.y/2),this.O2176&&ig.input.released("click"))){if(ig.game.panelSet.O6849PanelBody()){var a=ig.game.panelSet.O7890.O4273();ig.game.O4703.O2163(this.thing.id,a)}else ig.game.panelSet&&ig.input.mouse.x<ig.game.panelSet.panelPos.x&&(ig.log("stopped dragging tilepaneltile "+this.thing.id),this.O2176=!1,ig.game.O500=!1,ig.game.O500Binable=!1,ig.game.O7715.O3625(this.thing.id,
this.rotation,this.flip));this.O2176=!1;ig.game.O500=!1;this.pos.x=this.homePos.x;this.pos.y=this.homePos.y}},draw:function(){ig.game.isFullAccount&&(this.O2176&&(ig.system.context.globalAlpha=ig.game.O5647-0.2,this.thing.draw(this.homePos.x,this.homePos.y,this.rotation,this.flip,1),ig.system.context.globalAlpha=1),ig.system.context.globalAlpha=this.O2176?1:ig.game.O5647+0.2,this.thing.draw(this.pos.x,this.pos.y,this.rotation,this.flip,1),ig.system.context.globalAlpha=
1,!this.O2176&&(!ig.game.O7188.O2176FromMap&&this.O6849())&&ig.game.O5405.O7655(this.homePos.x,this.homePos.y))}})});ig.baked=!0;
ig.module("game.ui.deletionmarkerdialog").requires("game.ui.components.uidialog","game.ui.components.uiclicktext","game.ui.deletionmarkerdialogitem").defines(function(){window.DeletionMarkerDialog=UIDialog.extend({O5334:!0,O603:!0,tileSize:19,pos:{x:0,y:0},placerLabelPos:{x:6,y:30},placerNameBasePos:{x:58,y:30},placerNamePos:{x:58,y:30},deleterLabelPos:{x:6,y:40},deleterNameBasePos:{x:53,y:40},deleterNamePos:{x:53,y:40},itemPos:{x:47,y:6},O738:12,backgroundAlpha:0.7,textAlpha:0.4,
clickSpotCloseLocation:{x:103,y:3,width:8,height:8},clickSpotClose:null,O7985:null,O6800:null,O6636:{},deleter:{id:null,name:null},placer:{id:null,name:null},O5072:null,item:null,O7919:null,init:function(a,b,c){this.size.x=ig.game.O5405.itemContextMenuBg.width;this.size.y=ig.game.O5405.itemContextMenuBg.height;this.halfSize={};this.halfSize.x=Math.floor(ig.game.O5405.itemContextMenuBg.width/2);this.halfSize.y=Math.floor(ig.game.O5405.itemContextMenuBg.height/
2);this.arrows={};this.arrows.size=ig.game.O5405.itemContextMenuArrowLeft.width;this.arrows.halfSize=Math.floor(this.arrows.size/2);this.pos.x=a;this.pos.y=b-this.size.y-2;this.O6421=c},update:function(){this.isOpen&&(this.clickSpotClose.update(),this.deleter.id&&this.O7985&&this.O7985.update(),this.placer.id&&this.O6800&&this.O6800.update(),this.deleter.id&&this.O7919&&this.O7919.update());this.parent()},O3106:function(a){this.isOpen&&
(!this.maploc||this.maploc.x==a.x&&this.maploc.y==a.y)?this.close():(this.O7115(),this.maploc=a,this.O4490(a),this.O7563(a),this.O4755(),this.open())},O7115:function(){this.deleterNamePos.x=this.deleterNameBasePos.x;this.deleterNamePos.y=this.deleterNameBasePos.y;this.placerNamePos.x=this.placerNameBasePos.x;this.placerNamePos.y=this.placerNameBasePos.y;this.item=null;this.O6636={};this.O7919=null;this.deleter={id:null,
name:null};this.placer={id:null,name:null};this.maploc=null},O7563:function(a){this.O5072=ig.game.O7715.O8054(a.x,a.y);this.screenSector=this.O6083(a);this.O2656(this.O5072)},O2656:function(a){var b=Math.floor(this.tileSize/2)+1;if(null==this.screenSector)return null;if(this.screenSector==this.O483.LEFT)this.pos.x=a.x+b+this.arrows.size-1,this.pos.y=
a.y+b-this.halfSize.y-1;else if(this.screenSector==this.O483.RIGHT)this.pos.x=a.x+b-this.size.x-this.arrows.size+1,this.pos.y=a.y+b-this.halfSize.y-1;else if(this.screenSector==this.O483.BOTTOM||this.screenSector==this.O483.UPPERMIDDLE)this.pos.x=a.x+b-this.halfSize.x,this.pos.y=a.y+b-this.size.y-this.arrows.size;else if(this.screenSector==this.O483.TOP||this.screenSector==this.O483.LOWERMIDDLE)this.pos.x=a.x+b-this.size.x/2,this.pos.y=a.y+b+this.arrows.size-
1},O4755:function(){var a=this;this.clickSpotClose=new UIClickSpot({x:this.pos.x+this.clickSpotCloseLocation.x,y:this.pos.y+this.clickSpotCloseLocation.y},{x:this.clickSpotCloseLocation.width,y:this.clickSpotCloseLocation.height},!1,null);this.clickSpotClose.onClick=function(){a.close()}},O8370:function(){var a=this;if(this.placer.id){var b=ig.game.strings.O2833(this.placer.name,this.O738);this.O6800=new UIClickText({x:this.pos.x+this.placerNamePos.x,
y:this.pos.y+this.placerNamePos.y},b,ig.game.blackSmallFont,"#000000",this.textAlpha,!this.placer.id);this.O6800.onClick=function(){a.O6870(a.placer.id)}}},O4360:function(){var a=this;if(this.deleter.id){var b=ig.game.strings.O2833(this.deleter.name,this.O738);this.O7985=new UIClickText({x:this.pos.x+this.deleterNamePos.x,y:this.pos.y+this.deleterNamePos.y},b,ig.game.blackSmallFont,"#000000",this.textAlpha,!this.deleter.id);this.O7985.onClick=
function(){a.O6870(a.deleter.id)}}},O6870:function(a){a&&(ig.game.O4269.O2507==a?ig.game.playerDialog.O3657():ig.game.playerDialog.openForPlayerId(a,this.O5072),this.close())},draw:function(){this.isOpen&&(ig.system.context.globalAlpha=this.backgroundAlpha,ig.game.O5405.O7353(this.pos.x,this.pos.y),this.O3852(),ig.system.context.globalAlpha=1,ig.system.context.globalAlpha=this.textAlpha,ig.game.blackSmallFont.draw("placement by",
this.pos.x+this.placerLabelPos.x,this.pos.y+this.placerLabelPos.y),ig.game.blackSmallFont.draw("removed by",this.pos.x+this.deleterLabelPos.x,this.pos.y+this.deleterLabelPos.y),ig.ua.mobile||(ig.system.context.globalAlpha=0.25,ig.game.blackSmallFont.draw("shift+click dust = undo",this.pos.x+6,this.pos.y+49)),ig.system.context.globalAlpha=1,this.deleter.id&&this.O7985&&this.O7985.draw(),this.placer.id&&this.O6800&&this.O6800.draw(),this.deleter.id&&this.O7919&&
this.O7919.draw())},O6083:function(a){ig.game.O7715.O2398(a.x,a.y);a=ig.game.O7715.O8054(a.x,a.y);var b=ig.system.width-(ig.system.width-(ig.game.panelSet?ig.game.panelSet.panelPos.x:54)),c=ig.system.height;return a.x<b/4?this.O483.LEFT:a.x>3*(b/4)?this.O483.RIGHT:a.y>=3*(c/4)?this.O483.BOTTOM:a.y>=2*(c/4)?this.O483.LOWERMIDDLE:a.y>=c/4?this.O483.UPPERMIDDLE:
this.O483.TOP},O483:{TOP:"T",UPPERMIDDLE:"UM",LOWERMIDDLE:"LM",BOTTOM:"B",LEFT:"L",RIGHT:"R"},O3852:function(){if(null==this.screenSector)return null;if(this.screenSector==this.O483.LEFT)ig.game.O5405.O5001(this.pos.x-ig.game.O5405.itemContextMenuArrowLeft.width+1,this.pos.y+this.halfSize.y-this.arrows.halfSize),this.O7083(),this.O3004(),this.O5639();else if(this.screenSector==this.O483.RIGHT)ig.game.O5405.O1606(this.pos.x+
this.size.x-1,this.pos.y+this.halfSize.y-this.arrows.halfSize),this.O7625(),this.O7083(),this.O5639();else if(this.screenSector==this.O483.BOTTOM||this.screenSector==this.O483.UPPERMIDDLE)ig.game.O5405.O2614(this.pos.x+this.halfSize.x-this.arrows.halfSize-1,this.pos.y+this.size.y-1),this.O7625(),this.O7083(),this.O3004();else if(this.screenSector==this.O483.TOP||this.screenSector==this.O483.LOWERMIDDLE)ig.game.O5405.O6270(this.pos.x+
this.halfSize.x-this.arrows.halfSize-1,this.pos.y-this.arrows.size+1),this.O7625(),this.O3004(),this.O5639()},O7625:function(){ig.game.O5405.O4341(this.pos.x,this.pos.y+this.halfSize.y-this.arrows.halfSize)},O7083:function(){ig.game.O5405.O3498ContextMenuFillerHorz(this.pos.x+this.halfSize.x-this.arrows.halfSize-1,this.pos.y)},O3004:function(){ig.game.O5405.O4341(this.pos.x+this.size.x-
1,this.pos.y+this.halfSize.y-this.arrows.halfSize)},O5639:function(){ig.game.O5405.O3498ContextMenuFillerHorz(this.pos.x+this.halfSize.x-this.arrows.halfSize-1,this.pos.y+this.size.y-1)},O2110:function(a){ig.game.O7421.O7145(a,ig.game.O172.O6722,ig.game.O172.currentArea,this).done(function(a){if(a){this.O6636.tid=a.tid;this.O6636.r=a.r;this.O6636.f=a.f;this.item=ig.game.O4961.getItemBasic(this.O6636.tid,
"ui_dmd1");var c=this;this.item.basicDataLoading.done(function(){ig.game.O7715.O3625(c.O6636.tid,c.O6636.r,c.O6636.f)})}})},O4490:function(a){ig.game.O7421.O7145(a,ig.game.O172.O6722,ig.game.O172.currentArea,this).done(function(a){if(a){this.placer.id=a.puid;this.placer.name=a.pname;this.deleter.id=a.uid;this.deleter.name=a.name;this.O6636.tid=a.tid;this.O6636.r=
a.r;this.O6636.f=a.f;this.O8370();this.O4360();this.item=ig.game.O4961.getItemBasic(this.O6636.tid,"ui_dmd2");var c=this;this.item.basicDataLoading.done(function(){c.O7919=new DeletionMarkerDialogItem(c.item,c.pos.x+c.itemPos.x,c.pos.y+c.itemPos.y);c.O7919.rotation=c.O6636.r;c.O7919.flip=c.O6636.f})}})}})});ig.baked=!0;
ig.module("game.ui.usermapdialog").requires("game.ui.components.uidialog").defines(function(){window.UserMapDialog=UIDialog.extend({margin:4,pos:{x:0,y:0},size:{x:0,y:0},clickSpots:null,isOpen:!1,O603:!1,O5334:!1,backgroundColor:"rgba(200,200,200,0.8)",clickSpotCloseLocation:{x:10,y:1,width:9,height:9},clickSpotClose:null,O7056:0,O2909:0.3,O4082:0.15,mapToScreenSizeRatio:{x:0.6,y:0.8},focusPos:{x:0,y:0},focusSector:{x:0,y:0},focusOffset:{x:0,
y:0},targetFocusPos:{x:0,y:0},targetFocusLocation:{x:0,y:0},rendererStartSector:{x:0,y:0},posOffset:{x:0,y:0},rendererPosOffsetRemainder:{x:0,y:0},O4577:32,sectorImageSize:{x:32,y:32},sectorsFitOnMap:{x:0,y:0},lastDragMousePos:{x:0,y:0},lastPlayerPos:{x:0,y:0},midPointSectorOffset:{x:0,y:0},crosshairOffset:{x:0,y:0},O5361:608,mapOriginInGameCoords:{x:0,y:0},O6010:19,dragOffset:{x:0,y:0},targetDragOffset:{x:0,y:0},O5904:!1,O8080:20,
O2399Drag:5,O2746:0.75,O5472:500,O2176:!1,dragged:!1,O2157:!0,plane:1,area:1,totalVisitors:null,totalOnline:null,O4636:!1,O1377:!1,O5568:!1,clipMap:!0,O7866:null,O6067:!1,O4476:7,init:function(){this.O6678();this.clickSpotClose=new UIClickSpot({x:this.pos.x+this.size.x-this.clickSpotCloseLocation.x,y:this.pos.y+this.clickSpotCloseLocation.y},{x:this.clickSpotCloseLocation.width,
y:this.clickSpotCloseLocation.height},!1,null);this.clickSpotClose.onClick=function(){ig.game.userMapDialog.close()}},O6678:function(){this.O7056=ig.system.width*this.O2909;ig.game.O3252?(this.size={x:ig.system.width,y:ig.system.height},this.pos={x:0,y:0}):(this.size.x=ig.system.width*this.mapToScreenSizeRatio.x,this.size.y=ig.system.height*this.mapToScreenSizeRatio.y,this.pos.x=Math.floor((ig.system.width-this.size.x)/2-ig.system.width*this.O4082),
this.pos.y=Math.floor((ig.system.height-this.size.y)/2));this.sectorsFitOnMap.x=Math.ceil(this.size.x/this.sectorImageSize.x)+1;this.sectorsFitOnMap.y=Math.ceil(this.size.y/this.sectorImageSize.y)+1;this.midPointSectorOffset.x=Math.floor(this.size.x/2/this.sectorImageSize.x);this.midPointSectorOffset.y=Math.floor(this.size.y/2/this.sectorImageSize.y);this.crosshairOffset.x=this.size.x/2%this.sectorImageSize.x;this.crosshairOffset.y=this.size.y/2%this.sectorImageSize.y},O768:function(){if(ig.game.isFullAccount)if(1<=
ig.game.O4269.rank)if(this.isOpen)this.close();else{var a=1<=ig.game.gameStartTimer.delta();ig.game.O329&&a&&(this.plane=ig.game.O172.O6722,this.area=ig.game.O172.currentArea,this.O5122(ig.game.O4269.pos),this.O6399(),ig.game.userO6290.O4256(),this.O2157=!0,this.open())}else ig.game.O4132.O2959()},O7191:function(a){ig.game.isFullAccount&&(1<=ig.game.O4269.rank?(this.isOpen&&
this.close(),this.O4430(a),this.isOpen||this.open()):ig.game.O4132.O2959())},O4430:function(a){this.plane=a.p;this.area=a.a;this.O5122(ig.game.O7715.O2398(a.x,a.y));this.O6399();ig.game.userO6290.O4256();this.O2157=!1},open:function(){ig.game.sounds.O733(ig.game.sounds.shortWhoosh,0.5);this.O6678();this.createAreaSelector();this.O6399();ig.game.motionDialog&&
ig.game.motionDialog.O5076("map");this.parent()},close:function(){this.isOpen&&(ig.game.sounds.O733(ig.game.sounds.shortWhoosh,0.2),jQuery("#areaSelector").remove(),this.O7866=this.totalOnline=this.totalVisitors=null,this.parent())},createAreaSelector:function(){jQuery("#areaSelector").remove();if(this.O7866)ig.game.userMapDialog.createAreaSelectorBasedOnListData();else{var a=this;ig.game.O7421.O128().done(function(b){b||(b=[]);a.O2606(b);
a.O7866=b;a.isOpen&&a.createAreaSelectorBasedOnListData()})}},createAreaSelectorBasedOnListData:function(a){a||(a=this.O7866);var b=!1,c=jQuery("#"+ig.game.canvasId).position(),d="left: "+(c.left+(this.pos.x+6)*ig.system.scale)+"px; top: "+(c.top+(this.pos.y+this.size.y-6-9)*ig.system.scale)+"px;",d=d+("font-size: "+(4+2*ig.system.scale)+"px;"),d=d+("width: "+70*ig.system.scale+"px;"),d=d+("height: "+9*ig.system.scale+"px;"),c=!1;this.totalOnline=this.totalVisitors=null;
for(var d=""+('<select id="areaSelector" style="'+d+'" onchange="ig.game.userMapDialog.O68(event)">')+"<option disabled>&nbsp;</option>",e=0;e<a.length;e++){var f=a[e];f.isCore&&!b&&(!this.O6067&&c&&(d+='<option value="showHidden" class="showHidden">[MORE...]</option>'),d+="<option disabled>&nbsp;</option>",b=!0);var g=f.subAreas&&1<=f.subAreas.length?f.subAreas:null,h=f.nameIsEscaped?f.name:ig.game.strings.O4334(f.name.toUpperCase()),k=!1,l=!1;f.isCore?(f.location.plane==
this.plane&&f.location.area==this.area&&(k=!0,this.totalVisitors=f.totalVisitors,this.totalOnline=f.totalOnline),l=4>=f.id&&5>ig.game.O4269.rank):this.area==f.id&&(k=!0,this.totalVisitors=f.totalVisitors,this.totalOnline=f.totalOnline);var m=ml.Misc.O6635(f.lastVisit);if(!f.isCore&&!this.O6067&&!k&&m>this.O4476)c=!0;else{g&&this.area==f.id&&(d+="<option disabled>&nbsp;</option>");m=ig.game.strings.O4334(f.id);f.location&&(m=[f.location.plane,f.location.area,
f.location.x,f.location.y].join(";"));d+='<option value="'+m+'" class="areaSelection_'+(f.isCreator?"didCreate":"didNotCreate")+'"'+(k?' selected="selected"':"")+(l?' disabled="disabled"':"")+">"+h+(f.totalOnline?" ("+f.totalOnline+")":"")+"</option>";if(g){h="";k=!1;for(l=0;l<g.length;l++){var m=g[l],n=this.area==m.id;n&&(k=!0,this.totalVisitors=m.totalVisitors);var p=ig.game.strings.O4334(m.name.toUpperCase()),h=h+('<option value="'+ig.game.strings.O4334(m.id)+'" class="subAreaOption"'+
(n?' selected="selected"':"")+">&nbsp;"+p+(m.totalOnline?" ("+m.totalOnline+")":"")+"</option>")}if(h&&(k||this.area==f.id))d+=h}g&&this.area==f.id&&(d+="<option disabled>&nbsp;</option>")}}d+="<option disabled>&nbsp;</option>";d+="</select>";jQuery(d).appendTo("body")},O2606:function(a){var b=ig.game.O172.O4577;a.push({id:0,name:"Inner",isCore:!0,location:{plane:2,area:1,x:0,y:0}});a.push({id:1,name:"Area 1",isCore:!0,location:{plane:1,area:1,x:14*b+29,y:-11*b+27}});a.push({id:2,
name:"Area 2",isCore:!0,location:{plane:1,area:2,x:0*b,y:-2*b+17}});a.push({id:3,name:"Area 3",isCore:!0,location:{plane:1,area:3,x:0,y:-2*b+17}});a.push({id:4,name:"Area 4",isCore:!0,location:{plane:1,area:4,x:0,y:-2*b+15}});for(b=5;8>=b;b++)a.push({id:b,name:"Area "+b,isCore:!0,location:{plane:1,area:b,x:15,y:15}})},O68:function(a){a=null;var b=jQuery("#areaSelector").val();"showHidden"==b?(this.O6067=!0,this.createAreaSelector()):0<=b.indexOf(";")?(a=b.split(";"),a=
{p:parseInt(a[0]),a:parseInt(a[1]),x:parseInt(a[2]),y:parseInt(a[3])}):a={p:0,a:b,x:0,y:0};a&&(this.O4430(a),this.createAreaSelector());ig.game.sounds.click.play()},O5122:function(a){this.focusPos={x:a.x,y:a.y};this.targetFocusPos={x:a.x,y:a.y};this.dragOffset={x:0,y:0};this.targetDragOffset={x:0,y:0}},update:function(){if(this.isOpen){this.clickSpotClose.update();ig.game.O6099.O5632()&&(this.lastClickTime=Date.now());if(ig.input.released("click")&&!this.dragged&&
this.O4626(ig.input.mouse)&&Date.now()-this.lastClickTime<this.O5472){var a=this.O5968(ig.input.mouse),b=ig.game.O172.O330(a).sector;if(ig.game.userO6290.isSectorExplored(this.plane,this.area,b.x,b.y)&&(b=ig.game.O172.O6722==this.plane&&ig.game.O172.currentArea==this.area,ig.game.theyCanMapTeleport||!b))ig.game.O4803.register(ig.game.O4803.types.TELEPORTED),
ig.game.portaller.O2880(this.plane,this.area,a.x,a.y)}ig.game.O6099.O5632()&&this.O6849()&&(this.O2176=!0,ig.game.O6099.O6375(),this.lastDragMousePos={x:ig.input.mouse.x,y:ig.input.mouse.y});if(ig.input.state("click")&&this.O2176&&(a=ig.input.mouse.x-this.lastDragMousePos.x,b=ig.input.mouse.y-this.lastDragMousePos.y,this.targetDragOffset.x+=a,this.targetDragOffset.y+=b,this.lastDragMousePos={x:ig.input.mouse.x,y:ig.input.mouse.y},
0!=a||0!=b))this.dragged=!0;this.O2176&&ig.input.released("click")&&(this.dragged=this.O2176=!1,ig.game.motionDialog&&ig.game.motionDialog.O5076("map"));if(this.O2157&&(this.lastPlayerPos.x!=ig.game.O4269.pos.x||this.lastPlayerPos.y!=ig.game.O4269.pos.y))this.targetFocusPos={x:ig.game.O4269.pos.x,y:ig.game.O4269.pos.y},this.O815(this.targetFocusPos)||(this.targetDragOffset={x:0,y:0}),this.lastPlayerPos.x=ig.game.O4269.pos.x,this.lastPlayerPos.y=
ig.game.O4269.pos.y;this.O3783();this.O6399()}this.parent()},O3783:function(){this.focusPos.x!=this.targetFocusPos.x&&(this.focusPos.x+=(this.targetFocusPos.x-this.focusPos.x)/this.O8080);this.focusPos.y!=this.targetFocusPos.y&&(this.focusPos.y+=(this.targetFocusPos.y-this.focusPos.y)/this.O8080);this.dragOffset.x!=this.targetDragOffset.x&&(this.dragOffset.x+=(this.targetDragOffset.x-this.dragOffset.x)/
this.O2399Drag);this.dragOffset.y!=this.targetDragOffset.y&&(this.dragOffset.y+=(this.targetDragOffset.y-this.dragOffset.y)/this.O2399Drag)},O6399:function(){var a=ig.game.O172.O6080({x:this.focusPos.x-this.dragOffset.x*this.O6010,y:this.focusPos.y-this.dragOffset.y*this.O6010});this.rendererPosOffsetRemainder.x=a.offset.x/19-this.crosshairOffset.x;this.rendererPosOffsetRemainder.y=
a.offset.y/19-this.crosshairOffset.y;this.rendererStartSector.x=a.sector.x-this.midPointSectorOffset.x;this.rendererStartSector.y=a.sector.y-this.midPointSectorOffset.y;this.O2917()},draw:function(){this.isOpen&&(ig.system.context.save(),this.drawBg(),this.clipMap&&this.O4631(),this.O8105(),this.O390(),this.O5568&&this.O7665(),this.O4636&&this.O3117(),this.drawVisitorsInfo(),this.O1714(),ig.system.context.restore())},
drawVisitorsInfo:function(){if(null!=this.totalVisitors||null!=this.totalOnline||void 0!=this.totalOnline){var a=null!=this.totalVisitors?this.totalVisitors:0;void 0!==this.totalOnline&&null!==this.totalOnline&&(a+="   "+this.totalOnline+" now");var b=this.pos.x+7,c=this.pos.y+this.size.y-23;ig.game.O5405.draw(b,c-3,this.O2746,ig.game.O5405.visitorsMapIcon);ig.system.context.globalAlpha=this.O2746;this.O608(b+ig.game.O5405.visitorsMapIcon.width+3,c,a);ig.system.context.globalAlpha=
1}},O4631:function(){ig.system.context.beginPath();ig.system.context.rect(this.pos.x*ig.system.scale,this.pos.y*ig.system.scale,this.size.x*ig.system.scale,this.size.y*ig.system.scale);ig.system.context.clip()},drawBg:function(){ig.system.context.fillStyle=ig.game.O3252?"rgba(200,200,200,1)":this.backgroundColor;ig.system.context.fillRect(this.pos.x*ig.system.scale,this.pos.y*ig.system.scale,this.size.x*ig.system.scale,this.size.y*ig.system.scale)},O3117:function(){ig.system.context.fillStyle=
"rgba(255,0,0,0.7)";var a=this.O4390(this.O2953(ig.game.O4269.pos));ig.system.context.fillRect(a.x*ig.system.scale,a.y*ig.system.scale,1*ig.system.scale,1*ig.system.scale)},O8209:function(a){ig.system.context.fillStyle="rgba(0,0,255,0.1)";ig.system.context.fillRect(a.x*ig.system.scale,a.y*ig.system.scale,32*ig.system.scale-1,32*ig.system.scale-1)},O7665:function(){var a=ig.system.scale,b=ig.system.context;b.strokeStyle="green";b.lineWidth=
1;b.beginPath();b.moveTo((this.pos.x+this.size.x/2)*a,this.pos.y*a);b.lineTo((this.pos.x+this.size.x/2)*a,(this.pos.y+this.size.y)*a);b.stroke();b.closePath();b.beginPath();b.moveTo(this.pos.x*a,(this.pos.y+this.size.y/2)*a);b.lineTo((this.pos.x+this.size.x)*a,(this.pos.y+this.size.y/2)*a);b.stroke();b.closePath()},O1714:function(){ig.game.O3252||ig.game.O5405.draw(this.clickSpotClose.pos.x,this.clickSpotClose.pos.y,0.4,ig.game.O5405.closeX)},O8105:function(){for(var a,
b,c,d,e=-1;e<this.sectorsFitOnMap.y;e++)for(var f=-1;f<this.sectorsFitOnMap.x;f++)a=f*this.sectorImageSize.x+this.pos.x-this.rendererPosOffsetRemainder.x,b=e*this.sectorImageSize.y+this.pos.y-this.rendererPosOffsetRemainder.y,c=f+this.rendererStartSector.x,d=e+this.rendererStartSector.y,ig.game.userO6290.O2121(this.plane,this.area,c,d,a,b),this.O1377&&this.O8209({x:a,y:b})},O390:function(){for(var a,b,c,d,e=-1;e<this.sectorsFitOnMap.y;e++)for(var f=
-1;f<this.sectorsFitOnMap.x;f++)if(a=f*this.sectorImageSize.x+this.pos.x-this.rendererPosOffsetRemainder.x,b=e*this.sectorImageSize.y+this.pos.y-this.rendererPosOffsetRemainder.y,c=f+this.rendererStartSector.x,d=e+this.rendererStartSector.y,c=ig.game.userO6290.placenameCache.get(this.plane,this.area,c,d))for(d=0;d<c.length;d++)this.O479(a,b,c[d])},O479:function(a,b,c){a+=c.x;b=b+c.y+3;c=ig.game.strings.O2833(c.n,25);c=ig.game.strings.O4423(c,10);ig.system.context.globalAlpha=
this.O2746;for(var d=0;d<c.length;d++)this.O608(a,b,c[d],ig.Font.ALIGN.CENTER),b+=5;ig.system.context.globalAlpha=1},O608:function(a,b,c,d){ig.game.blackSmallFont.draw(c,a-1,b,d);ig.game.blackSmallFont.draw(c,a+1,b,d);ig.game.blackSmallFont.draw(c,a,b-1,d);ig.game.blackSmallFont.draw(c,a,b+1,d);ig.game.whiteSmallFont.draw(c,a,b,d)},O2917:function(){this.mapOriginInGameCoords={};this.mapOriginInGameCoords.x=this.rendererStartSector.x*this.O5361-
this.rendererPosOffsetRemainder.x;this.mapOriginInGameCoords.y=this.rendererStartSector.y*this.O5361-this.rendererPosOffsetRemainder.y},O6849:function(){return ig.game.O6099.O6849(this.pos.x,this.pos.y,this.pos.x+this.size.x,this.pos.y+this.size.y)},O2953:function(a){return{x:(a.x-this.mapOriginInGameCoords.x)/this.O6010-this.rendererPosOffsetRemainder.x,y:(a.y-this.mapOriginInGameCoords.y)/this.O6010-
this.rendererPosOffsetRemainder.y}},O5968:function(a){return ig.game.O7715.O1414((a.x-this.pos.x+this.rendererPosOffsetRemainder.x)*this.O6010+this.mapOriginInGameCoords.x,(a.y-this.pos.y+this.rendererPosOffsetRemainder.y)*this.O6010+this.mapOriginInGameCoords.y)},O4390:function(a){return{x:a.x+this.pos.x,y:a.y+this.pos.y}},O815:function(a){a=this.O2953(a);
var b=0<=a.y&&a.y<=this.size.y;return 0<=a.x&&a.x<=this.size.x&&b},O4626:function(a){var b=a.y>=this.pos.y&&a.y<=this.pos.y+this.size.y;return a.x>=this.pos.x&&a.x<=this.pos.x+this.size.x&&b}})});ig.baked=!0;
ig.module("game.data.speechdata").defines(function(){window.SpeechData=ig.Class.extend({vocabulary:null,layout:null,init:function(a){this.vocabulary=this.vocabularySets[a];this.layout=this.layouts[a]},vocabularySets:{en:{me:"me",you:"you",tired:"i need a rest",rank5OuterProtect:"i can't remove these placements here",tooManyPeopleAround:"there are too many people around",tiredFromActionLessMoving:"i'm falling asleep...",placenameAlreadyPlaced:"this has already been placed elsewhere",O7644:"there's too many things around already",
tooManyDistinctThingsAround:"there's too many different things around already",introHelp:"i move with arrow keys and chat by typing",cantPlaceReactingInteracting:"i can't place actively reacting interactings in this area",thisHolderNeedsSomething:"this holder needs something to open or check it",cantSeeNameTags:"i can't see name tags here",cantPasteHere:"i can't paste here",O404:"i need minfinity to paste things",O7221:"i need to login to use this",uprankToUse:"i need to wait before using this",
itemBlocked:"this item is blocked",editorOnly:"i can only do this in areas where i'm editor",howToCollect:"i can drag this into my collection",loginToChat:"i need to login to chat",nonPublicAreasOnly:"i need to go to a created area",centerTooClose:"i need to go further away from center"}},layouts:{en:[]}})});ig.baked=!0;
ig.module("game.core.loader").requires("impact.loader").defines(function(){window.Loader=ig.Loader.extend({init:function(a,b){this.O2729();this.parent(a,b)},draw:function(){},end:function(){this.parent()},O2729:function(){}})});ig.baked=!0;
ig.module("game.core.sounds").defines(function(){window.Sounds=ig.Class.extend({useMultiChannel:!0,instruments:{piano:{isKit:!1,minOctave:2,maxOctave:4},classic_piano:{isKit:!1,minOctave:1,maxOctave:3},bell:{isKit:!1,minOctave:2,maxOctave:4},drums:{isKit:!0,max:22},bongo:{isKit:!0,max:8},guitar:{isKit:!0,max:54,isGuitar:!0},eguitar:{isKit:!0,max:54,isGuitar:!0},classicclean_guitar:{isKit:!0,max:54,isGuitar:!0},rootsrock_guitar:{isKit:!0,max:54,isGuitar:!0},trumpet:{isKit:!1,minOctave:3,maxOctave:5},
fiddle:{isKit:!1,minOctave:3,maxOctave:5},silent_piano:{isKit:!1,minOctave:2,maxOctave:4},casual_clarinet:{isKit:!1,minOctave:3,maxOctave:5}},tones:"c cs d ds e f fs g gs a as b".split(" "),environmentSounds:{raindrop:3,fire:2,nature:6,humming:5,ocean:6,wind:7,village:6,city:11,glimmer:9,lightning:1,nightair:3,bubble:7,dripping:8,quake:2},init:function(){this.useMultiChannel=!ig.ua.mobile;var a=ig.game.staticResourcePrefix+"media/sounds/",b=ig.game.staticResourcePrefix+"media/sounds-high-compression/",
c="",d=!0,c=ig.ua.mobile?b:a;this.whoosh=new ig.Sound(c+"whoosh.*",this.useMultiChannel,d);this.collide=new ig.Sound(c+"colliding.*",this.useMultiChannel,d);this.collideSoft=new ig.Sound(c+"colliding_soft.*",this.useMultiChannel,d);this.click=new ig.Sound(c+"click.*",this.useMultiChannel,d);this.pickup=new ig.Sound(c+"pick_up_softer.*",this.useMultiChannel,d);this.putdown=new ig.Sound(c+"put_down_softer.*",this.useMultiChannel,d);d=!1;this.shortWhoosh=new ig.Sound(c+"short_whoosh.*",this.useMultiChannel,
d);this.footfalls=new ig.Sound(c+"footsteps.*",this.useMultiChannel,d);this.splash=new ig.Sound(c+"water_splash.*",this.useMultiChannel,d);this.nocando=new ig.Sound(c+"cannot.*",this.useMultiChannel,d);this.jump=new ig.Sound(c+"jump.*",this.useMultiChannel,d);this.arriving=new ig.Sound(a+"arriving.*",this.useMultiChannel,d);this.softWhoosh=new ig.Sound(a+"soft_whoosh.*",this.useMultiChannel,d);this.portallingWhoosh=new ig.Sound(a+"portalling_whoosh.*",this.useMultiChannel,d);this.ringportalling=new ig.Sound(a+
"ringportalling.*",this.useMultiChannel,d);this.bin=new ig.Sound(a+"drop_in_trash_softer.*",this.useMultiChannel,d);this.actionSoft=new ig.Sound(a+"action_soft.*",this.useMultiChannel,d);this.die=new ig.Sound(a+"dying.*",this.useMultiChannel,d);this.dieFalling=new ig.Sound(a+"falling_death.*",this.useMultiChannel,d);this.sticky=new ig.Sound(a+"sticky.*",this.useMultiChannel,d);this.crumbling=new ig.Sound(a+"crumbling.*",this.useMultiChannel,d);this.munch=new ig.Sound(a+"munch.*",this.useMultiChannel,
d);this.dieOfPoison=new ig.Sound(a+"die_of_poison.*",this.useMultiChannel,d);this.drinking=new ig.Sound(a+"drinking.*",this.useMultiChannel,d);this.collect=new ig.Sound(a+"collect.*",this.useMultiChannel,d);this.collapse=new ig.Sound(a+"collapse.*",this.useMultiChannel,d);this.smash=new ig.Sound(a+"smash.*",this.useMultiChannel,d);this.pain=new ig.Sound(a+"pain.*",this.useMultiChannel,d);this.heartbeat=new ig.Sound(a+"heartbeat.*",this.useMultiChannel,d);this.harvest=new ig.Sound(a+"harvest.*",this.useMultiChannel,
d);this.dive=new ig.Sound(a+"water_diving.*",this.useMultiChannel,d);this.waterleave=new ig.Sound(a+"water_leave.*",this.useMultiChannel,d);this.splashThick=new ig.Sound(a+"water_splash_thick.*",this.useMultiChannel,d);this.diveThick=new ig.Sound(a+"water_diving_thick.*",this.useMultiChannel,d);this.waterleaveThick=new ig.Sound(a+"water_leave_thick.*",this.useMultiChannel,d);this.activate=new ig.Sound(a+"activate.*",this.useMultiChannel,d);this.clap=new ig.Sound(a+"clap.*",this.useMultiChannel,d);
this.trampolineBounce=new ig.Sound(a+"trampoline_bounce.*",this.useMultiChannel,d);this.collected=new ig.Sound(a+"success_bling_softer.*",this.useMultiChannel,d);this.success=new ig.Sound(a+"success_bling_softer_copy_a.*",this.useMultiChannel,d);this.found=new ig.Sound(a+"success_bling_softer_copy_b.*",this.useMultiChannel,d);this.glass_heavy=new ig.Sound(a+"glass_heavy.*",this.useMultiChannel,d);this.glass1=new ig.Sound(a+"glass1.*",this.useMultiChannel,d);this.glass2=new ig.Sound(a+"glass2.*",this.useMultiChannel,
d);this.glass3=new ig.Sound(a+"glass3.*",this.useMultiChannel,d);this.burst1=new ig.Sound(a+"burst1.*",this.useMultiChannel,d);this.burst2=new ig.Sound(a+"burst2.*",this.useMultiChannel,d);this.engine_starts=new ig.Sound(a+"engine_starts.*",this.useMultiChannel,d);this.motor=new ig.Sound(a+"motor.*",this.useMultiChannel,d);this.screeching=new ig.Sound(a+"screeching.*",this.useMultiChannel,d);this.footfalls_metal=new ig.Sound(a+"footsteps_metal.*",this.useMultiChannel,d);this.footfalls_grass=new ig.Sound(a+
"footsteps_grass.*",this.useMultiChannel,d);this.footfalls_snow=new ig.Sound(a+"footsteps_snow_2.*",this.useMultiChannel,d);this.footfalls_sand=new ig.Sound(a+"footsteps_sand.*",this.useMultiChannel,d);this.footfalls_wood=new ig.Sound(a+"footsteps_wood.*",this.useMultiChannel,d);this.footfalls_energy=new ig.Sound(a+"footsteps_energy.*",this.useMultiChannel,d);this.footfalls_mud=new ig.Sound(a+"footsteps_mud.*",this.useMultiChannel,d);this.ping=new ig.Sound(a+"ping.*",this.useMultiChannel,d);this.new_mift=
new ig.Sound(a+"new_mift.*",this.useMultiChannel,d);this.laser_carving_1=new ig.Sound(a+"laser_carving_1.*",this.useMultiChannel,d);this.laser_carving_2=new ig.Sound(a+"laser_carving_2.*",this.useMultiChannel,d);this.boost=new ig.Sound(a+"boost.*",this.useMultiChannel,d);this.boostEnd=new ig.Sound(a+"boost-end.*",this.useMultiChannel,d);this.minfinity=new ig.Sound(a+"minfinity.*",this.useMultiChannel,d);this.score_up=new ig.Sound(a+"score_up.*",this.useMultiChannel,d);this.score_down=new ig.Sound(a+
"score_down.*",this.useMultiChannel,d);this.cloth=new ig.Sound(c+"cloth.*",this.useMultiChannel,d);for(var e in this.instruments)if(c=this.instruments[e],c.isKit)for(b=1;b<=c.max;b++){var f=e+"_"+b,g="";if("guitar"==e||"eguitar"==e)g="_v2";g=a+e+g+"/"+b+".*";this[f]=new ig.Sound(g,this.useMultiChannel,d)}else for(b=c.minOctave;b<=c.maxOctave;b++)for(var h=0;h<this.tones.length;h++)f=e+"_"+b+"_"+this.tones[h],g=a+e+"/"+b+"/"+(h+1)+".*",this[f]=new ig.Sound(g,this.useMultiChannel,d);e="cat cow horse bird wildcat dog bear wolf monkey elephant piglet pig snake frog sheep pony rooster hen chick".split(" ");
for(b=0;b<e.length;b++)this["living_"+e[b]]=new ig.Sound(a+"living/"+e[b]+".*",this.useMultiChannel,d);c="environment/";for(f in this.environmentSounds)for(b=1;b<=this.environmentSounds[f];b++)this["environment_"+f+"_"+b]=new ig.Sound(a+c+f+"_"+b+".*",this.useMultiChannel,d)},O7086:function(a,b,c){var d=!1,e=Math.max(ig.system.widthHalf,ig.system.O8417);b.O5320(ig.game.O4269)<=e&&(this.O733(a,c),d=!0);return d},O8132:function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*
c+d*d)},O153:function(a,b,c){var d=!1;this.O8132(ig.game.O4269.pos,b)<ig.system.widthHalf&&(this.O733(a,c),d=!0);return d},O733:function(a,b){if(b){var c=a.volume;a.volume=b;a.play();a.volume=c}else a.play()},O8389:function(a,b,c,d,e,f){if(ig.game.O4269&&!ig.game.O4269.O2031("mutesInstruments")&&!ig.game.O4269.O2031("mutesAll")){var g=ig.ua.mobile;e=!e||e.O5320(ig.game.O4269)<ig.system.widthHalf;
if((!g||d)&&e)g=a+"_"+b+"_"+c,null!=g&&ig.game.sounds[g]&&(f||ig.game.O6858.O3156(a,b,c),ig.game.sounds[g].play(),d?ig.game.O4349.O2976(a,b,c):ig.game.instrumentDialog&&ig.game.instrumentDialog.O3041({instrument:a,octave:b,note:c}))}},O2318:function(a,b,c,d,e){if(ig.game.O4269&&(!ig.game.O4269.O2031("mutesInstruments")&&!ig.game.O4269.O2031("mutesAll"))&&(!d||
d.O5320(ig.game.O4269)<ig.system.widthHalf))d=a+"_"+b,null!=d&&ig.game.sounds[d]&&(e||ig.game.O6858.O2058(a,b),ig.game.sounds[d].play(),c?ig.game.O4349.O3608(a,b):ig.game.instrumentDialog&&ig.game.instrumentDialog.O3041({instrument:a,kitNumber:b}))},O7198:function(a,b,c){(this.O7969(ig.game.O4269,b)<ig.system.widthHalf||this.O7969(ig.game.O4269,c)<
ig.system.widthHalf)&&a.play()},O7969:function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)},O6567:function(a){return this.instruments[a]&&this.instruments[a].isKit},O6823:function(a,b){var c="classic_piano",d=!1;if(b)for(var e in b)if(this.instruments[e]){c=e;d=!0;break}if(!d&&a){"bell"==a&&(a+="s");a=ig.game.strings.replaceAll(a," ","_");a=a.toLowerCase();for(var f in this.instruments)if(0<=a.indexOf(f)){c=f;break}}return c},
playIncludedSound:function(a,b,c,d,e){var f=!1;if(a&&(a.soundId||b)&&(d||a.O5320(ig.game.O4269)<ig.system.widthHalf))!a.lastLibrarySoundTimer||e?(e||(a.lastLibrarySoundTimer=new ml.Timer),b?this.O7220(b,c):this.O7220(a.soundId,c),f=!0):(d=a.O495?a.O495:1,a.lastLibrarySoundTimer.delta()>=d&&(b?this.O7220(b,c):this.O7220(a.soundId,c),a.lastLibrarySoundTimer.reset(),f=!0));return f},O7220:function(a,b){if(a){var c=
"library_"+a;if(ig.game.sounds[c])if(b){var d=ig.game.sounds[c].volume;ig.game.sounds[c].volume=b;ig.game.sounds[c].play();ig.game.sounds[c].volume=d}else ig.game.sounds[c].play();else{var e=ig.game.O4961.getItemBasic(a,"sound_pfl");e.basicDataLoading.done(function(){var d=ig.game.staticResourcePrefix+"media/sound-library/",g=!ig.ua.mobile;if("MUSIC"==e.base)e.musicData?(ig.game.O6858.O7994(e.musicData),ig.game.O6858.O3571()):ig.game.O4961.getItem_P(a,"sound").done(function(a){a&&
a.musicData&&(ig.game.O6858.O7994(a.musicData),ig.game.O6858.O3571())});else if("SOUND"==e.base){var h=ig.game.strings.replaceAll(e.name," ","_"),h=ig.game.strings.replaceAll(h,"-","_");ig.game.sounds[c]=new ig.Sound(d+h+".*",g,!1);ig.game.sounds[c].volume=b?b:1;ig.game.sounds[c].play()}})}}},O7005:function(a){var b="library_"+a;this[b]?this[b].play():(ig.game.sounds[b]=new ig.Sound(ig.game.staticResourcePrefix+"media/sound-library/"+a+".*",!ig.ua.mobile,
!1),ig.game.sounds[b].play())},O6934:function(a){if(a&&0<=a.indexOf("freesound.org"))if(a=ig.game.strings.replaceAll(a,"https://","http://"),a=ig.game.strings.replaceAll(a,"http://www.freesound.org/","http://freesound.org/"),0===a.indexOf("http://freesound.org/samplesViewSingle.php?id="))a=a.substr(46);else if(0===a.indexOf("http://freesound.org/people/")){var b=a.indexOf("/sounds/");b&&(b+=8,a=a.substr(b,a.length-b-1))}return a},O3503:function(a){a&&(-1===a.indexOf("://")&&(a=
"http://freesound.org/samplesViewSingle.php?id="+a),-1===a.indexOf("http://")&&-1===a.indexOf("https://")&&(a="http://"+a));return a},O8256:function(){return[46,47,48,49,50,51,52,53,54,37,38,39,40,41,42,43,44,45,28,29,30,31,32,33,34,35,36,19,20,21,22,23,24,25,26,27,10,11,12,13,14,15,16,17,18,1,2,3,4,5,6,7,8,9]},O5093:function(){return"e f f# g g# a a# b c a a# b c c# d d# e f d d# e f f# g g# a a# g g# a a# b c c# d d# b c c# d d# e f f# g e f f# g g# a a# b c".split(" ")},
getGuitarIndexDistinctMapping:function(){return[1,2,3,4,5,6,7,8,9,6,7,8,9,10,11,12,13,14,11,12,13,14,15,16,17,18,19,16,17,18,19,20,21,22,23,24,20,21,22,23,24,25,26,27,28,25,26,27,28,29,30,31,32,33]},O3679:function(a,b){var c=[],d={cat:["cat","kitten"],cow:["cow"],horse:["horse"],bird:["bird"],wildcat:["lion","tiger","liger"],dog:["dog","puppy"],bear:["bear"],wolf:["wolf"],monkey:"monkey;ape;bonobo;chimp;chimpanzee;orang utan".split(";"),elephant:["elephant"],piglet:["piglet"],
pig:["pig"],snake:["snake"],frog:["frog"],sheep:["sheep","lamb"],pony:["pony"],rooster:["rooster","cock"],hen:["hen"],chick:["chick"]},e=!!b;a=a.toLowerCase();e||(a=" "+a+" ");for(var f in d)for(var g=d[f],h=0;h<g.length;h++)e?a==g[h]&&c.push(ig.game.sounds["living_"+f]):0<=a.indexOf(" "+g[h]+" ")&&c.push(ig.game.sounds["living_"+f]);return c}})});ig.baked=!0;
ig.module("game.core.screencapturer").defines(function(){window.ScreenCapturer=ig.Class.extend({captureNextFrame:!1,O3416:null,thumbPreviewCanvas:null,fullPreviewCanvas:null,O4480Size:{x:80,y:62},O4480SourcePos:{x:50,y:50},O4480SourceSize:{x:164,y:124},init:function(){this.O4480SourcePos.x=(ig.system.widthHalf-50)*ig.system.scale-150*ig.system.scale;this.O4480SourcePos.y=ig.system.O8417*ig.system.scale-130*ig.system.scale;this.O4480SourceSize.x=328*ig.system.scale;
this.O4480SourceSize.y=248*ig.system.scale},O5350:function(){this.captureNextFrame&&this.callback&&(this.captureNextFrame=!1,this.capture())},capture:function(){this.fullPreviewCanvas=document.createElement("canvas");this.fullPreviewCanvas.setAttribute("width",this.O4480SourceSize.x);this.fullPreviewCanvas.setAttribute("height",this.O4480SourceSize.y);this.fullPreviewCanvas.setAttribute("style","visibility:hidden");document.body.appendChild(this.fullPreviewCanvas);var a=
this.fullPreviewCanvas.getContext("2d");this.thumbPreviewCanvas=document.createElement("canvas");this.thumbPreviewCanvas.setAttribute("width",this.O4480Size.x*ig.system.scale);this.thumbPreviewCanvas.setAttribute("height",this.O4480Size.y*ig.system.scale);this.thumbPreviewCanvas.setAttribute("style","visibility:hidden");document.body.appendChild(this.thumbPreviewCanvas);this.thumbPreviewCanvas.getContext("2d").drawImage(ig.system.canvas,this.O4480SourcePos.x,this.O4480SourcePos.y,
this.O4480SourceSize.x,this.O4480SourceSize.y,0,0,this.O4480Size.x*ig.system.scale,this.O4480Size.y*ig.system.scale);a.drawImage(ig.system.canvas,this.O4480SourcePos.x,this.O4480SourcePos.y,this.O4480SourceSize.x,this.O4480SourceSize.y,0,0,this.O4480SourceSize.x,this.O4480SourceSize.y);this.callback()},O6741:function(){var a=this.fullPreviewCanvas.getContext("2d"),b=(ig.game.O4269.screenName+" at "+ig.game.root).toUpperCase();ig.game.O45&&
(b+="/"+String(ig.game.O45).toUpperCase());a.font="14px 'Press Start 2P'";a.fillStyle="rgba(0, 0, 0, 0.3)";a.fillText(b,10,this.O4480SourceSize.y-7);a.fillStyle="rgba(255, 255, 255, 0.4)";a.fillText(b,10,this.O4480SourceSize.y-10)}})});ig.baked=!0;
ig.module("game.core.coreimages").requires("mlframe.image").defines(function(){window.CoreImages=ig.Class.extend({init:function(){this.painterBackground=new ml.Image(ig.game.staticResourcePrefix+"media/painter/background.png?v="+ig.game.version);this.painterO1778=new ml.Image(ig.game.staticResourcePrefix+"media/painter/spritesheet.png?v="+ig.game.version)}})});ig.baked=!0;
ig.module("game.core.itemcache").requires("game.core.item").defines(function(){window.ItemCache=function(){this.O6743={};this.O937=[];this.lastRequestTimestamps={};this.recentRequestMS=3E4;this.maxCacheSize=ig.ua.mobile?1200:1600;this.trimHeadroomSize=ig.ua.mobile?100:300;this.idsToKeepPermanently=[];this.O8030=0};window.ItemCache.prototype.O7298=function(){return this.O937.length};window.ItemCache.prototype.O2926=function(a){var b=ig.game.O4961;
null===a?ig.game.errorManager.warn("null data to O2926"):a&&a.O2103?a.id&&b.O6743[a.id]&&(b.O6743[a.id].O2103=!0):(b=b.O6743[a.id])?b.O2658(a):(b=new Item(a.id),b.O2658(a),ig.game.O4961.store(a.id,b))};window.ItemCache.prototype.O1997=function(a,b,c){for(var d=new jQuery.Deferred,e=[],f,g,h=0;h<b.length;h++)if((f=b[h])&&!this.O7287(f)){g={};g.base=a.b[h];g.prop=a.p[h];g.name=a.n[h];g.defRot=a.dr[h];var k=ig.game.O4961.O6743[f];
k?!k.dataLoaded&&!k.basicDataLoaded&&k.O8189(g):(k=new Item(f,c),k.O8189(g,c),e.push(k.imagesBeingGeneratedPromise),ig.game.O4961.store(f,k))}jQuery.when.apply(null,e).done(function(){d.resolve()});return d.promise()};window.ItemCache.prototype.store=function(a,b){ig.game.O4961.O6743[a]=b;ig.game.O4961.O937.push(a)};window.ItemCache.prototype.O8122=function(){var a=ig.game.O4961,b=[];if(a.O7298()>a.maxCacheSize){for(var c=ig.game.O7715.O27(),
d=0,e=a.O937.length;d<e;d++)-1===c.indexOf(a.O937[d])&&-1===a.idsToKeepPermanently.indexOf(a.O937[d])&&b.push(a.O937[d]);c=0;for(e=b.length;c<e;c++)a.O6089(b[c])||a.forget(b[c])}};window.ItemCache.prototype.O6089=function(a){return ig.game.O4961.lastRequestTimestamps[a]&&Date.now()-ig.game.O4961.lastRequestTimestamps[a]<ig.game.O4961.recentRequestMS};window.ItemCache.prototype.forgetOverflowing=function(){if(ig.game.O4961.O7298()>
ig.game.O4961.maxCacheSize)for(var a=0;ig.game.O4961.O7298()>ig.game.O4961.maxCacheSize-ig.game.O4961.trimHeadroomSize;)if(ig.game.O4961.O4254(ig.game.O4961.O937[a]),a++,a>=ig.game.O4961.maxCacheSize){console.error("forgetOverflowing pointer greater than maxsize (cache not big enough)");break}};window.ItemCache.prototype.O4254=function(a){if(ig.game.O7715.O2187(a))return!1;ig.game.O4961.forget(a);return!0};window.ItemCache.prototype.forget=
function(a){ig.game.O4961.O6743[a]=null;delete ig.game.O4961.O6743[a];var b=ig.game.O4961.O937.indexOf(a);-1<b&&ig.game.O4961.O937.splice(b,1);delete ig.game.O4961.lastRequestTimestamps[a]};window.ItemCache.prototype.getItem=function(a,b){if(a){this.lastRequestTimestamps[a]=Date.now();if(this.O6743[a]&&this.O6743[a].dataLoaded)return this.O6743[a];var c=this.O6743[a];c||(c=new Item(a),ig.game.O4961.store(a,c));ig.game.O7421.getItemDef(a,
b,this.O2926);return c}console.warn("BUG! O4961.getItem called with zero/undefined: %s. Ignoring.",a);return null};window.ItemCache.prototype.getItem_P=function(a,b){var c=this,d=jQuery.Deferred();if(0==a||""==a||void 0==a)return console.warn("BUG! O4961.getItem_P called with zero/undefined: %s. Ignoring.",a),d.reject(),d.promise();this.lastRequestTimestamps[a]=Date.now();if(this.O6743[a]&&this.O6743[a].dataLoaded)d.resolve(this.O6743[a]);else{var e=ig.game.O7421.getItemDef_P(a,
b,this);e.done(function(b){c.O2926(b);d.resolve(c.O6743[a])});e.fail(function(){d.reject();c.O6743[a]&&(c.O6743[a].dataLoadFailed=!0)})}return d.promise()};window.ItemCache.prototype.getItemBasic=function(a,b,c,d){if(0===a||""===a||void 0===a)console.warn("BUG! O4961.getItemBasic called with zero/undefined: %s. Ignoring.",a);else{!c&&!d&&(this.lastRequestTimestamps[a]=Date.now());d&&-1===this.idsToKeepPermanently.indexOf(a)&&this.idsToKeepPermanently.push(a);if(this.O6743[a])return this.O6743[a];
c=new Item(a);this.O7075(a)?c.O8189({base:"STACKWEARB",prop:{avatar:!0}}):ig.game.O7421.getItemDef(a,b,this.O2926);this.store(a,c);return c}};window.ItemCache.prototype.O7075=function(a){return-1!=a.indexOf("00000000000000000")};window.ItemCache.prototype.O262=function(a){return!!this.O6743[a]};window.ItemCache.prototype.O7287=function(a){return this.O6743[a]&&this.O6743[a].basicDataLoaded}});ig.baked=!0;
ig.module("game.core.O4664").requires("game.core.item").defines(function(){window.O6290=function(){this.O4577=32;this.mapData=[];this.mapDataMargin={x:ig.ua.mobile?1:2,y:ig.ua.mobile?1:2};this.mapLoadTryCount=this.originY=this.originX=0;this.mapLoadTryLimit=4;this.O6563();this.initialItemImagesLoading=new jQuery.Deferred;this.initialItemImagesMidSectorLoading=new jQuery.Deferred;this.fillBuildQueue=[];this.fillDeleteQueue=[];this.queuePerformDelayMs=100;this.actionLog=
[];this.actionLogIndex=-1};window.O6290.prototype.O1792=function(a,b,c){this.mapData[c][b]=a};window.O6290.prototype.setMap=function(a,b,c,d){ig.game.O7715&&(ig.game.O7715.mapData[b]||(ig.game.O7715.mapData[b]=[]),ig.game.O7715.mapData[b][a]=c);d||ig.game.O4349.O349({x:a,y:b,def:c,rId:ig.game.O4269.O2507})};window.O6290.prototype.O8268=function(a){return this.O4965(a)};window.O6290.prototype.O7150At=
function(a){a=this.O4965(a);return null===a?Item.prototype.COL_TYPES.NO_COLLISION:ig.game.O4961.getItemBasic(a.tid,"map_get_col_typ").O7150(a.rotation,a.flip)};window.O6290.prototype.O1009=function(a){a=this.O4965(a);return null===a?null:{thing:ig.game.O4961.getItemBasic(a.tid,"map_get_def_at"),rotation:a.rotation,flip:a.flip}};window.O6290.prototype.O4965=function(a){a=this.mapData[a.y]&&this.mapData[a.y][a.x];return"undefined"===
typeof a?null:a};window.O6290.prototype.O3379=function(a){a=this.O1414(a.x,a.y);return this.O1009(a)};window.O6290.prototype.O5477=function(){var a=ig.game.O172.O2998,b=(a.x-this.mapDataMargin.x)*ig.game.O172.O4577,c=(a.x+this.mapDataMargin.x+1)*ig.game.O172.O4577-1,d=(a.y-this.mapDataMargin.y)*ig.game.O172.O4577,a=(a.y+this.mapDataMargin.y+1)*ig.game.O172.O4577-
1,e;for(e in this.mapData)if(this.mapData.hasOwnProperty(e))if(e<d||e>a)delete this.mapData[e];else for(var f in this.mapData[e])this.mapData[e].hasOwnProperty(f)&&(f<b||f>c)&&delete this.mapData[e][f]};window.O6290.prototype.O2187=function(a){for(var b in this.mapData)for(var c in this.mapData[b])if(this.mapData[b][c]&&this.mapData[b][c].tid==a)return!0;return!1};window.O6290.prototype.O27=function(){var a=[],b,c;for(c in this.mapData)for(var d in this.mapData[c])this.mapData[c][d]&&
this.mapData[c][d].tid&&(b=this.mapData[c][d].tid,-1===a.indexOf(b)&&a.push(b));return a};window.O6290.prototype.O7761=function(a,b){for(var c=ig.game.O172.O5081(a,b),d=c.y1;d<=c.y2;d++)void 0==this.mapData[d]&&(this.mapData[d]=[])};window.O6290.prototype.prime_P=function(){return this.O493()};window.O6290.prototype.O7532=function(a){if(a){for(var b=this,c=[],d,e=0;e<a.length;e++)d=this.storeSectorData(a[e]),
c.push(d),0===e&&d.done(function(){b.initialItemImagesMidSectorLoading.resolve()});jQuery.when.apply(null,c).done(function(){b.initialItemImagesLoading.resolve()});c=[];for(e=0;e<a.length;e++)d=a[e],c.push({x:d.x,y:d.y});c.length&&this.O6501(c);ig.game.O3750();this.O5477()}else ig.game.errorManager.O7973("Received null map data from server")};window.O6290.prototype.storeSectorData=function(a){var b;this.O7761(a.x,a.y);a.i&&(b=ig.game.O4961.O1997(a.i,
a.iix,"storeSectorData "+a.x+", "+a.y));this.O8202(a.ps,a.iix,a.x,a.y);return b};window.O6290.prototype.O8202=function(a,b,c,d){for(var e=c*ig.game.O172.O4577,f=d*ig.game.O172.O4577,g,h,k,l,m,n,p=0;p<a.length;p++)if(k=a[p],g=k[0],h=k[1],l=k[2],m=k[3],n=k[4],k=k[5],void 0===g||void 0===h||null===g||null===h)ig.game.errorManager.warn("O4664: ps value in data without x or y. sector [psnumber]:"+c+","+d+"["+p+"]");else if(g=
parseInt(g),h=parseInt(h),g=e+g,h=f+h,null===l)console.warn("Mapmanager got placement with null s id!");else if(l=b[l])m=this.O3710(l,m,n,k),this.O1792(m,g,h),this.O6857(m,{x:g,y:h})};window.O6290.prototype.O6857=function(a,b,c){var d=ig.game.O4961.getItemBasic(a.tid,"map_forw_ent");d&&d.basicDataLoading.done(function(){d.O2268()&&ig.game.entityManager.O141(a,b,c)})};window.O6290.prototype.O493=
function(){var a=new jQuery.Deferred,b=a.promise(),c=ig.game.O172.O2998.x,d=ig.game.O172.O2998.y,e=this;ig.game.O7421.O7023(c,d,ig.game.O172.O6722,ig.game.O172.currentArea).done(function(b){b&&1<=b.length&&(b=e.optimiseSectorOrder(b),e.O7532(b));if(ig.game.areaGenerator)for(b=-1;1>=b;b++)for(var g=-1;1>=g;g++)ig.game.areaGenerator.O6090(c+b,d+g);a.resolve()});return b};window.O6290.prototype.optimiseSectorOrder=
function(a){for(var b=[],c,d,e,f=0;f<a.length;f++)if(a[f]){e=a[f];break}if(e){var f=e.x,g=e.y,h=e.x;e=e.y;for(c=0;c<a.length;c++)if(d=a[c])d.x<f&&(f=d.x),d.x>h&&(h=d.x),d.y<g&&(g=d.y),d.y>e&&(e=d.y);c=f+1;d=g+1;this.O4314(b,this.O2579(a,c,d));this.O4314(b,this.O2579(a,f,d));this.O4314(b,this.O2579(a,h,d));this.O4314(b,this.O2579(a,c,g));this.O4314(b,this.O2579(a,c,
e));this.O4314(b,this.O2579(a,f,g));this.O4314(b,this.O2579(a,h,g));this.O4314(b,this.O2579(a,f,e));this.O4314(b,this.O2579(a,h,e));return b}ig.game.errorManager.O7973("No map data recieved")};window.O6290.prototype.O2579=function(a,b,c){for(var d,e,f=0;f<a.length;f++)if(e=a[f],e.x===b&&e.y===c){d=e;break}return d};window.O6290.prototype.O4314=function(a,
b){b&&a.push(b)};window.O6290.prototype.O8046=function(){var a=this.O7588(),b=ig.game.O7421.O4782(ig.game.O172.O6722,ig.game.O172.currentArea,a),c=this;b.done(function(b){0<c.mapLoadTryCount&&(c.mapLoadTryCount=0,ig.game.errorManager.O8201());c.O7532(b);if(ig.game.areaGenerator&&a)for(b=0;b<a.length;b++)a[b]&&ig.game.areaGenerator.O6090(a[b][0],a[b][1])});b.fail(function(d,
e,f){"timeout"==e&&(c.mapLoadTryCount++,c.mapLoadTryCount<=c.mapLoadTryLimit?(b=ig.game.O7421.O4782(ig.game.O172.O6722,ig.game.O172.currentArea,a),ig.game.errorManager.pauseForMapLoad()):ig.game.errorManager.O7973("Loading issue."))});return b};window.O6290.prototype.O7588=function(){var a=[],b=ig.game.O172.O2998.x,c=ig.game.O172.O2998.y,d=ig.game.O172.O3089;"n"===d?(a[0]=
[b-1,c-1],a[1]=[b,c-1],a[2]=[b+1,c-1]):"s"===d?(a[0]=[b-1,c+1],a[1]=[b,c+1],a[2]=[b+1,c+1]):"e"===d?(a[0]=[b+1,c-1],a[1]=[b+1,c],a[2]=[b+1,c+1]):"w"===d&&(a[0]=[b-1,c-1],a[1]=[b-1,c],a[2]=[b-1,c+1]);return a};window.O6290.prototype.O282=function(a){return null!==this.O8268(a)};window.O6290.prototype.O6047=function(a){return(a=this.O1009(a))&&!a.thing.O6891()};window.O6290.prototype.O3236=function(a,b,
c,d){ig.game.entityManager.O3582(b);this.setMap(b.x,b.y,a,c);this.O6857(a,b,d);d||(a=ig.game.O4961.getItemBasic(a.tid,"map_pta"))&&"FILLLIGHT"==a.base&&ig.game.O4803.register(ig.game.O4803.types.PLACED_FILL_LIGHT)};window.O6290.prototype.O4676=function(a,b,c){a={tid:a,rotation:b||0,flip:c};b=this.O1407();this.O3236(a,b,!1);return b};window.O6290.prototype.deleteThingAt=
function(a,b,c,d,e){if((0==this.fillBuildQueue.length&&0==this.fillDeleteQueue.length||d||c)&&!ig.game.O7715.isEditingTooCloseToSpawnPoint({x:a,y:b})){if(d=this.O1009({x:a,y:b}))return d.thing.O2268()&&ig.game.entityManager.O154(a,b),this.setMap(a,b,null,c),!c&&!e&&this.O8038("delete",d.thing.id,a,b,d.rotation,d.flip),d.thing;console.warn("deleteThingAt called for empty location")}};window.O6290.prototype.sendDeletionMarkersToMobile=!0;window.O6290.prototype.requestDeletionMarkersForSector=
function(a){ig.game.isEditorHere&&(this.sendDeletionMarkersToMobile||!ig.ua.mobile)&&ig.game.O7421.O7773(a.x,a.y,ig.game.O172.O6722,ig.game.O172.currentArea).done(function(b){for(var c=0;c<b.length;c++){var d=ig.game.O172.O139(a,b[c]);ig.game.entityManager.O4968(d)}})};window.O6290.prototype.O6501=function(a){ig.game.isEditorHere&&(this.sendDeletionMarkersToMobile||!ig.ua.mobile)&&
setTimeout(function(){ig.game.O7421.O5535(a,ig.game.O172.O6722,ig.game.O172.currentArea).done(function(a){for(var c,d,e=0;e<a.length;e++){c=a[e];for(var f=0;f<c.coords.length;f++)d=c.coords[f],d=ig.game.O172.O139({x:c.sx,y:c.sy},d),ig.game.entityManager.O4968(d)}})},1E3)};window.O6290.prototype.O2048=function(a,b){return this.O1414(a+ig.game.screen.x,
b+ig.game.screen.y)};window.O6290.prototype.O1414=function(a,b){return{x:Math.floor(a/ig.game.tileSize)+this.originX,y:Math.floor(b/ig.game.tileSize)+this.originY}};window.O6290.prototype.O2398=function(a,b){return{x:(a-this.originX)*ig.game.tileSize,y:(b-this.originY)*ig.game.tileSize}};window.O6290.prototype.O8054=function(a,b){var c=this.O2398(a,b);return{x:c.x-ig.game.screen.x,y:c.y-ig.game.screen.y}};
window.O6290.prototype.O4294=function(a,b){return{x:a-ig.game.screen.x,y:b-ig.game.screen.y}};window.O6290.prototype.O1407=function(){var a=this.O2048(ig.input.mouse.x.round(),ig.input.mouse.y.round());return{p:ig.game.O172.O6722,a:ig.game.O172.currentArea,x:a.x,y:a.y}};window.O6290.prototype.O5708=function(a){return 0!=this.O7150At(a)};window.O6290.prototype.somethingSolidAtGamePosition=
function(a){a=this.O1414(a.x,a.y);return this.O5708(a)};window.O6290.prototype.O6563=function(){ig.O4041.defaultTileDef["82"]=[0,1,1,0,!0];ig.O4041.defaultTileDef["84"]=[0,0,1,1,!0];ig.O4041.defaultTileDef["86"]=[1,0,0,1,!0];ig.O4041.defaultTileDef["88"]=[1,1,0,0,!0];ig.O4041.defaultTileDef["92"]=[0,1,1,0,!0];ig.O4041.defaultTileDef["94"]=[0,0,1,1,!0];ig.O4041.defaultTileDef["96"]=[1,
0,0,1,!0];ig.O4041.defaultTileDef["98"]=[1,1,0,0,!0]};window.O6290.prototype.O3625=function(a,b,c,d,e){var f=!1;if(0==this.fillBuildQueue.length&&0==this.fillDeleteQueue.length){var g=this.O1407(),h=this.O8268(g);if(null===h&&!ig.game.O7715.isEditingTooCloseToSpawnPoint(g,e))f=!0,d=ig.game.O7715.O4676(a,b,c),this.O8038("build",a,d.x,d.y,b,c),b=ig.game.O7715.O2398(d.x,d.y),
ig.game.decorator.O8456(b),ig.game.decorator.O2922(ig.game.O4269,d),(b=ig.game.O4961.getItemBasic(a,"map_bam"))&&b.isLiquid()&&(!b.attributes||!b.attributes.effectsFree)?ig.game.sounds.splash.play():ig.game.sounds.putdown.play(),ig.game.O2930=!1,ig.game.addStat(ig.game.O4269.O2507,"built",null,a),ig.game.O6401.O4407();else if(h&&!d){var k=h.tid;ig.game.O4961.getItem_P(k,"mapbam").done(function(){var b=ig.game.O4961.getItemBasic(k,
"map_abam");0<=ig.game.O1850.indexOf(b.base)?ml.Misc.O8083(a,k,b.base):ig.game.sounds.nocando.play()})}}return f};window.O6290.prototype.O4202=function(a,b,c,d,e,f){var g=!1;if(0==this.fillBuildQueue.length&&0==this.fillDeleteQueue.length||e)null===ig.game.O7715.O8268(d)&&!ig.game.O7715.isEditingTooCloseToSpawnPoint(d)?(g=!0,this.O3236({tid:a,rotation:b||0,flip:c},d,!1),b=ig.game.O7715.O2398(d.x,
d.y),ig.game.decorator.O8456(b),ig.game.decorator.O2922(ig.game.O4269,d),a=ig.game.O4961.getItemBasic(a,"map_bal"),f||(a&&a.isLiquid()&&(!a.attributes||!a.attributes.effectsFree)?ig.game.sounds.splash.play():ig.game.sounds.putdown.play())):!f&&0==this.fillBuildQueue.length&&ig.game.sounds.nocando.play();return g};window.O6290.prototype.O3710=function(a,b,c,d){a={tid:a,rotation:b||0,flip:c||0};d&&(a.ts=new Date(d));return a};window.O6290.prototype.isEditingTooCloseToSpawnPoint=
function(a,b){var c=!1;if(a&&null!==a.x&&null!==a.y&&void 0!==a.x&&void 0!==a.y)if(ig.game.O4269){var d=!ig.game.debug.O3627;if((10>ig.game.O4269.rank||d)&&ig.game.O5699)d=ig.game.areaCenterLocation,a.x>=d.x-1&&(a.x<=d.x+1&&a.y>=d.y-1&&a.y<=d.y+1)&&(c=!0,b||ig.game.O4269.say("new people spawn here"))}else c=!0;return c};window.O6290.prototype.O157=function(a,b,c,d,e,f,g){if(0==this.fillBuildQueue.length&&0==this.fillDeleteQueue.length){for(var h=
b;h<=d;h++)for(var k=a;k<=c;k++)k==a&&h==b||(k==c&&h==b||k==c&&h==d||k==a&&h==d)||this.fillBuildQueue.push({thingId:e,rotation:f,flip:g,pos:{x:k,y:h}});ig.game.O4803.register(ig.game.O4803.types.USED_FILL_BUILD)}};window.O6290.prototype.O6460=function(){if(0<this.fillBuildQueue.length){var a=this.fillBuildQueue.shift();ig.game.O7715.O4202(a.thingId,a.rotation,a.flip,a.pos,!0);this.O8038("build",a.thingId,a.pos.x,a.pos.y,
a.rotation,a.flip,!0);0<this.fillBuildQueue.length&&setTimeout(function(){ig.game.O7715.O6460()},this.queuePerformDelayMs)}};window.O6290.prototype.O4255=function(a,b,c,d){if(0==this.fillBuildQueue.length&&0==this.fillDeleteQueue.length)for(var e=b;e<=d;e++)for(var f=a;f<=c;f++)f==a&&e==b||(f==c&&e==b||f==c&&e==d||f==a&&e==d)||this.fillDeleteQueue.push({pos:{x:f,y:e}})};window.O6290.prototype.O8432=function(){if(0<
this.fillDeleteQueue.length){var a=this.fillDeleteQueue.shift();this.O8038("delete",a.thingId,a.pos.x,a.pos.y,a.rotation,a.flip,!0);ig.game.O7715.deleteThingAt(a.pos.x,a.pos.y,void 0,!0);a={x:a.pos.x*ig.game.tileSize,y:a.pos.y*ig.game.tileSize};ig.game.decorator.O3382(a);ig.game.decorator.O5666(ig.game.O4269,a);ig.game.sounds.bin.play();0<this.fillDeleteQueue.length&&setTimeout(function(){ig.game.O7715.O8432()},this.queuePerformDelayMs)}};
window.O6290.prototype.O1623=function(){this.fillBuildQueue=[];this.fillDeleteQueue=[]};window.O6290.prototype.O8038=function(a,b,c,d,e,f,g){if("build"!=a&&"delete"!=a)console.warn("LogActionAt action must be build or delete.");else if(b&&(this.actionLogIndex<this.actionLog.length-1&&(this.actionLog=this.actionLog.slice(0,this.actionLogIndex+1)),this.actionLog.push({action:a,tid:b,x:c,y:d,rotation:e,flip:f}),this.actionLogIndex++,50<this.actionLog.length&&(this.actionLog.shift(),
this.actionLogIndex--),!g&&4<=this.actionLog.length&&0==this.fillBuildQueue.length&&0==this.fillDeleteQueue.length)){a=this.actionLog.slice(this.actionLogIndex-4+1,this.actionLogIndex+1);b=!0;for(c=1;c<a.length;c++)if(a[c].action!=a[0].action||a[c].tid!=a[0].tid){b=!1;break}b&&(this.getIsRectangleStartingAtTop(a)?this.O5070(a):(this.O2410(a)||this.O737(a))&&this.O6996(a))}};window.O6290.prototype.getIsRectangleStartingAtTop=
function(a){return a[0].y==a[1].y&&a[1].x==a[2].x&&a[2].y==a[3].y&&a[3].x==a[0].x&&a[0].x!=a[2].x&&a[0].y<a[2].y};window.O6290.prototype.O2410=function(a){var b=a[0].y==a[1].y&&a[1].y==a[2].y&&a[2].y==a[3].y,c=a[0].x-1==a[1].x&&a[3].x-1==a[2].x||a[2].x-1==a[3].x&&a[1].x-1==a[0].x;a=2<=Math.abs(a[1].x-a[3].x);return b&&c&&a};window.O6290.prototype.O737=function(a){var b=a[0].x==a[1].x&&a[1].x==a[2].x&&a[2].x==a[3].x,c=a[0].y-1==a[1].y&&a[3].y-1==a[2].y||
a[2].y-1==a[3].y&&a[1].y-1==a[0].y;a=2<=Math.abs(a[1].y-a[3].y);return b&&c&&a};window.O6290.prototype.O5070=function(a){var b=a[0].x,c=a[1].x,d=a[0].y,e=a[2].y,f="build"==a[0].action;if(!(1>=Math.abs(c-b)&&1>=Math.abs(e-d))){b>c&&(b=a[1].x,c=a[0].x);var g=this.O1009(f?{x:a[0].x,y:a[0].y}:{x:b+1,y:a[0].y}),h=(c-b)*(e-d);g&&(g.thing&&ig.game.mapPlacementValidation.O7782(g.thing.base)&&ig.game.mapPlacementValidation.getAllInnerOfRectangleAreSameForFillBuilding(g.thing.id,
f,b,d,c,e)&&625>=h&&ig.game.mapPlacementValidation.O61())&&(f?(this.O157(b,d,c,e,a[0].tid,g.rotation,g.flip),setTimeout(function(){ig.game.O7715.O6460()},this.queuePerformDelayMs)):(this.O4255(b,d,c,e),setTimeout(function(){ig.game.O7715.O8432()},this.queuePerformDelayMs)))}};window.O6290.prototype.O6996=function(a){var b="build"==a[0].action,c={x:a[0].x,
y:a[0].y};b||(a[1].x<a[2].x?c={x:a[1].x+1,y:a[0].y}:a[1].x>a[2].x?c={x:a[1].x-1,y:a[0].y}:a[1].y<a[2].y?c={x:a[0].x,y:a[1].y+1}:a[1].y>a[2].y&&(c={x:a[0].x,y:a[1].y-1}));var d=this.O1009(c),c=a[1].x<a[2].x?Math.abs(a[1].x-a[3].x):Math.abs(a[1].y-a[3].y);if(d&&d.thing&&ig.game.mapPlacementValidation.O7782(d.thing.base,!0)&&50>=c&&ig.game.mapPlacementValidation.O61()){c=[];if(a[0].x!=a[1].x){var e=a[0].y;if(a[1].x<a[3].x)for(var f=a[1].x+
1;f<=a[3].x-1;f++)c.push({thingId:a[0].tid,rotation:d.rotation,flip:d.flip,pos:{x:f,y:e}});else for(f=a[1].x-1;f>=a[3].x+1;f--)c.push({thingId:a[0].tid,rotation:d.rotation,flip:d.flip,pos:{x:f,y:e}})}else if(f=a[0].x,a[1].y<a[3].y)for(e=a[1].y+1;e<=a[3].y-1;e++)c.push({thingId:a[0].tid,rotation:d.rotation,flip:d.flip,pos:{x:f,y:e}});else for(e=a[1].y-1;e>=a[3].y+1;e--)c.push({thingId:a[0].tid,rotation:d.rotation,flip:d.flip,pos:{x:f,y:e}});if(b){b=!1;for(a=0;a<c.length&&!b;a++)b=ig.game.O7715.O1009(c[a].pos),
b=Boolean(b);b||(this.fillBuildQueue=c,setTimeout(function(){ig.game.O7715.O6460()},this.queuePerformDelayMs))}else{b=!1;for(a=0;a<c.length&&!b;a++)b=!Boolean(ig.game.O7715.O1009(c[a].pos));b||(this.fillDeleteQueue=c,setTimeout(function(){ig.game.O7715.O8432()},this.queuePerformDelayMs))}}};window.O6290.prototype.undo=function(){if(this.actionLog&&1<=this.actionLog.length&&0<=this.actionLogIndex&&ig.game.O4269){var a=
this.actionLog[this.actionLogIndex--];this.O1711(a,"build"==a.action?"delete":"build")}};window.O6290.prototype.redo=function(){if(this.actionLog&&1<=this.actionLog.length&&this.actionLogIndex<this.actionLog.length-1&&ig.game.O4269){var a=this.actionLog[++this.actionLogIndex];this.O1711(a,a.action)}};window.O6290.prototype.O1711=function(a,b){var c={x:a.x,y:a.y};if(this.distanceFineForUndoRedo(c)){var d=this.O1009(c),e=!1;switch(b){case "build":(e=
!!d)||ig.game.O7715.O4202(a.tid,a.rotation?a.rotation:0,a.flip?a.flip:0,c,!1,!1);break;case "delete":e=!(d&&d.thing&&d.thing.id&&d.thing.id==a.tid),e||(ig.game.O7715.deleteThingAt(a.x,a.y,!1,!1,!0),c={x:c.x*ig.game.tileSize,y:c.y*ig.game.tileSize},ig.game.decorator.O3382(c),ig.game.decorator.O5666(ig.game.O4269,c),ig.game.sounds.bin.play())}e&&ig.game.sounds.shortWhoosh.play()}else ig.game.sounds.shortWhoosh.play()};window.O6290.prototype.distanceFineForUndoRedo=
function(a){return 750>=ml.Misc.O8132(ig.game.O4269.pos,this.O2398(a.x,a.y))}});ig.baked=!0;
ig.module("game.core.colors").defines(function(){window.Colors=ig.Class.extend({"enum":{red:1,green:2,cyan:3,purple:4,black:5,yellow:6,white:7,orange:8,pink:9,blue:10},dialogRgbs:{red:{overlay:[255,40,40],fill:[213,139,132],fillDark:[171,100,96],O4579:[203,150,150]},green:{overlay:[40,255,40],fill:[149,203,132],fillDark:[107,164,96],O4579:[190,233,190]},cyan:{overlay:[0,255,255],fill:[137,203,196],fillDark:[95,164,160],O4579:[180,233,233]},purple:{overlay:[40,40,255],fill:[149,139,
196],fillDark:[107,100,160],O4579:[190,190,233]},black:{overlay:[0,0,0],fill:[137,127,120],fillDark:[95,88,84],O4579:[160,160,160]},yellow:{overlay:[255,255,0],fill:[213,203,120],fillDark:[171,164,84],O4579:[233,233,190]},white:{overlay:[255,255,255],fill:[213,203,196],fillDark:[171,164,160],O4579:[255,255,255]},orange:{overlay:[255,160,0],fill:[213,175,120],fillDark:[171,136,84],O4579:[248,210,180]},pink:{overlay:[255,48,148],fill:[213,141,164],fillDark:[171,102,128],O4579:[245,
180,200]},blue:{overlay:[0,80,255],fill:[137,151,196],fillDark:[95,112,160],O4579:[130,160,255]}},O1701:function(a){var b=null,c;for(c in this.enum)if(this.enum[c]===a){b=c;break}return b}})});ig.baked=!0;
ig.module("game.entities.decorative.removedust").requires("impact.entity").defines(function(){window.EntityRemovedust=ig.Entity.extend({size:{x:4,y:3},maxVel:{x:100,y:100},friction:{x:0,y:0},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:40,decorative:!0,decay:30,init:function(a,b,c){this.parent(a,b,c);this.animSheet=new ml.AnimationSheet(null,this.size.x,this.size.y,ig.game.O5405.getImage(ig.game.O5405.dust));this.O199=0;this.vel.y=
Math.floor(6*Math.random()-3);this.vel.x=Math.floor(6*Math.random()-3);this.addAnim("main",1,[0])},update:function(){this.opacity-=decay*ig.system.tick;0>=this.opacity&&(this.opacity=0,this.kill());this.parent()},draw:function(){ig.system.context.globalAlpha=0.01*this.opacity;this.parent();ig.system.context.globalAlpha=1},O28:function(a){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick},check:function(){}})});ig.baked=!0;
ig.module("game.core.O8216").requires("game.entities.decorative.removedust","impact.timer").defines(function(){window.O7251=ig.Class.extend({O2176FromMap:!1,O2735:null,originTileLocation:{x:0,y:0},O2191:!1,movementDirectionIndicator:{timer:null,O7348:2,fadeTime:0.5,opacity:0.8,O1049:0.8},O5470:null,O5991:0,init:function(){},update:function(){if(!ig.game.O4269||!ig.game.O4269.O342()&&!ig.game.O4269.O1038()){var a=
ig.input.released("click");if(!a&&ig.game.O6099.O5632()&&(!ig.game.holderDialog||!ig.game.holderDialog.O4499())){if(ig.game.customSnapshotDialog&&ig.game.customSnapshotDialog.isOpen||ig.game.O3501&&ig.game.O3501.O1403())return;if(ig.input.O4903()){this.O1785();return}ig.game.panelSet&&ig.game.panelSet.panels[ig.game.panelSet.tabEnum.search].O1231();if(!ig.game.panelSet.O8171())if(ig.game.isFullAccount)if(!ig.game.O6310&&
!ig.game.O884.isSpeaking){ig.game.O6099.O6375(!1);ig.game.panelSet&&ig.game.panelSet.panels[ig.game.panelSet.tabEnum.search].O1231();var b=ig.game.entityManager.getMovingItemUnderMouse();if(b)if(ig.input.state("ctrl"))ig.game.isEditorHere?(this.originTileLocation=b.O5309,(b=this.removeItemFromMap(!1,b))&&ig.game.O4803.register(ig.game.O4803.types.DID_INWORLD_REMOVE)):ig.game.O884.O8271("editorOnly");else if((ig.ua.mobile||
ig.ua.isSteamBigPictureMode)&&this.originTileLocation.x==ig.game.currentMapCoordsForMouse.x&&this.originTileLocation.y==ig.game.currentMapCoordsForMouse.y&&this.O5470&&0.5>=this.O5470.delta())this.O5470=null,ig.game.isEditorHere?(b=this.removeItemFromMap(!1))&&ig.game.O4803.register(ig.game.O4803.types.DID_INWORLD_REMOVE):ig.game.O884.O8271("editorOnly");else{var c=ig.game.O7715.O8268(b.O5309);
if(c){var d=ig.game.O4961.getItemBasic(c.tid,"drag_update1");ig.game.O500={tid:c.tid,rotation:c.rotation,rotatable:d.rotatable,flippable:d.flippable,flip:c.flip,O6891:d.O6891(),base:d.base,attributes:d.attributes};this.O2176FromMap=!0;this.originTileLocation=b.O5309;this.O5470=new ml.Timer;ig.game.sounds.pickup.play()}}else ig.game.O7715.O6047(ig.game.currentMapCoordsForMouse)?ig.input.state("ctrl")?ig.game.isEditorHere?
ig.input.state("shift")||(this.originTileLocation=ig.game.currentMapCoordsForMouse,(b=this.removeItemFromMap(!1))&&ig.game.O4803.register(ig.game.O4803.types.DID_INWORLD_REMOVE)):ig.game.O884.O8271("editorOnly"):ig.game.writableDialog&&ig.game.writableDialog.isOpen?ig.game.writableDialog.commentIdToAddItemTo&&(c=ig.game.O7715.O8268(ig.game.currentMapCoordsForMouse),d=ig.game.O4961.getItemBasic(c.tid,"drag_update2"),ig.game.writableDialog.O7013(d)):
(ig.ua.mobile||ig.ua.isSteamBigPictureMode)&&this.originTileLocation.x==ig.game.currentMapCoordsForMouse.x&&this.originTileLocation.y==ig.game.currentMapCoordsForMouse.y&&this.O5470&&0.5>=this.O5470.delta()?(ig.O3970.stopAll(),this.O5470=null,ig.game.isEditorHere?(b=this.removeItemFromMap(!1))&&ig.game.O4803.register(ig.game.O4803.types.DID_INWORLD_REMOVE):ig.game.O884.O8271("editorOnly"),this.O2176FromMap=
!1,ig.game.O500=!1):(c=ig.game.O7715.O8268(ig.game.currentMapCoordsForMouse),d=ig.game.O4961.getItemBasic(c.tid,"drag_update3"),ig.game.O500={tid:c.tid,rotation:c.rotation,rotatable:d.rotatable,flippable:d.flippable,flip:c.flip,O6891:d.O6891(),loc:ig.game.currentMapCoordsForMouse,base:d.base,attributes:d.attributes},this.O2176FromMap=!0,this.originTileLocation.x=ig.game.currentMapCoordsForMouse.x,this.originTileLocation.y=ig.game.currentMapCoordsForMouse.y,
this.O5470=new ml.Timer,ig.game.sounds.pickup.play(),ig.input.state("shift")?ig.game.isEditorHere?(this.O2191=!0,this.originTileLocation=ig.game.currentMapCoordsForMouse,this.removeItemFromMap(!1,null,!0)):(this.O2191=!1,ig.game.O884.O8271("editorOnly")):this.O2191=!1):ig.game.isEditorHere&&ig.game.entityManager.O4493(ig.game.currentMapCoordsForMouse)&&(ig.ua.mobile?this.O5496():ig.input.state("shift")&&ig.game.deletionMarkerDialog.O2110(ig.game.currentMapCoordsForMouse))}else{if(ig.game.O6310&&
(c=ig.game.O7715.O8268(ig.game.currentMapCoordsForMouse)))ig.game.sounds.pickup.play(),ig.game.O4703.O1106(c.tid,this,"world")}else if(ig.ua.mobile||ig.ua.isSteamBigPictureMode)this.nonEditorTappedInfo={timer:new ml.Timer,x:ig.game.currentMapCoordsForMouse.x,y:ig.game.currentMapCoordsForMouse.y}}else ig.game.O6099.O2757()&&(!ig.game.panelSet.O8171()&&!this.O2176FromMap&&!ig.game.O500)&&
(ig.game.O6310&&ig.input.state("ctrl")?(c=ig.game.O7715.O8268(ig.game.currentMapCoordsForMouse))&&ig.game.painter.O592(c.tid):ig.game.O2571()?ig.game.O7673():ig.game.isFullAccount&&ig.input.state("shift")?((c=ig.game.O7715.O8268(ig.game.currentMapCoordsForMouse))&&ig.game.O4703.O6055(c.tid),ig.game.O6099.O1788(!1)):this.O5496());if(!a&&ig.input.state("click")&&
(this.O2176FromMap||this.nonEditorTappedInfo)){if(ig.game.O3501&&ig.game.O3501.O4101()){this.O2176FromMap=!1;ig.game.O500=!1;return}if(ig.ua.mobile){if(this.nonEditorTappedInfo){b=ig.game.O7715.O1407();b.x==this.nonEditorTappedInfo.x&&(b.y==this.nonEditorTappedInfo.y&&0.75<=this.nonEditorTappedInfo.timer.delta())&&(this.O5496(),this.nonEditorTappedInfo=null);return}if(ig.game.isFullAccount&&(this.O5470&&
0.75<=this.O5470.delta())&&(b=ig.game.O7715.O1407(),b.x==this.originTileLocation.x&&b.y==this.originTileLocation.y)){this.O5496();this.O2176FromMap=!1;ig.game.O500=!1;return}}this.nonEditorTappedInfo||(ig.game.panelSet&&(1!=ig.game.panelSet.tabState&&ig.game.panelSet.O8171())&&ig.game.panelSet.O7981(1),ig.game.panelSet&&ig.game.panelSet.O7890.O219(),ig.input.state("esc")&&
(this.O2176FromMap=!1,ig.game.O500=!1),ig.game.isFullAccount&&(ig.input.pressed("rightclick")||ig.input.state("ctrl")&&ig.input.pressed("r"))&&this.O1785())}ig.game.isFullAccount&&(this.O2176FromMap&&a)&&(this.O2176FromMap=!1,ig.game.O3501&&ig.game.O3501.O4101()?ig.game.O500=!1:ig.game.panelSet.O4738()?(ig.game.painter&&ig.game.painter.O3118(ig.game.O500.tid,
ig.game.O500.base),ig.game.O500=!1):ig.game.panelSet.O5220()?ig.game.isEditorHere?(this.removeItemFromMap(!0),ig.game.O500=!1):ig.game.O884.O8271("editorOnly"):ig.game.panelSet.O8171()?((a=ig.game.panelSet.O7890.O3795())?ml.Misc.O8083(ig.game.O500.tid,a.id,a.type):(a=ig.game.panelSet.O7890.O4273(),
ig.game.O4703.O2163(ig.game.O500.tid,a,ig.game.O500.loc)),ig.game.O500=!1):ig.game.holderDialog&&ig.game.holderDialog.O4499()?(ig.game.O6099.O6375(),ig.game.holderDialog.addItem(ig.game.O500.tid,ig.game.O500.rotation,ig.game.O500.flip),ig.game.O500=!1):ig.game.multithing&&ig.game.multithing.O4499()?ig.game.isEditorHere?(ig.game.O6099.O6375(),
ig.game.multithing.addItem(ig.game.O500.tid,ig.game.O500.rotation,ig.game.O500.flip),ig.game.O500=!1):ig.game.O884.O8271("editorOnly"):(b=ig.game.O7715.O1407(),this.originTileLocation&&b.x==this.originTileLocation.x&&b.y==this.originTileLocation.y&&!this.O2191?ig.game.O500=!1:(ig.ua.mobile||ig.ua.isSteamBigPictureMode)&&ig.game.entityManager.getMovingItemUnderMouse()?
ig.game.O500=!1:ig.game.O6099.O4290()&&ig.game.O7510.O1975(ig.game.O500.base,ig.game.O500.attributes)?ig.game.isEditorHere?(ig.game.O7510.O5292(ig.game.O4269,ig.game.O500.base,ig.game.O500.tid),ig.game.O500=!1):ig.game.O884.O8271("editorOnly"):(b=!1,ig.game.mapPlacementValidation.O4088(ig.game.O500,
void 0,!0)&&(b=ig.game.O7715.O3625(ig.game.O500.tid,ig.game.O500.rotation,ig.game.O500.flip)),!b&&this.O2191&&(ig.game.isEditorHere?ig.game.O7715.O4202(ig.game.O500.tid,ig.game.O500.rotation,ig.game.O500.flip,this.originTileLocation):ig.game.O884.O8271("editorOnly")),ig.game.O500=!1,this.O5470=
null,b&&ig.game.O4803.register(ig.game.O4803.types.DID_INWORLD_BUILD),this.O2191=!1)))}},O5496:function(){if((!ig.game.holderDialog||!ig.game.holderDialog.O4499()&&!ig.game.holderDialog.O1548)&&!(ig.ua.phone&&ig.input.mouse.y>=0.6*ig.system.height)){var a=ig.game.currentMapCoordsForMouse;ig.game.O7715.O8268(a)?(ig.game.itemContextMenu.O3106(a),ig.game.O6099.O1788(!1)):ig.game.isEditorHere&&
ig.game.entityManager.O4493(a)&&ig.game.deletionMarkerDialog.O3106(a)}},O1785:function(){if(ig.game.O500&&(ig.game.O500.rotatable||ig.game.O500.flippable)&&!ig.ua.phone)ig.game.O500.flippable?ig.game.O500.rotatable?3==ig.game.O500.rotation?(ig.game.O500.flip=ig.game.O500.flip?0:1,ig.game.O500.rotation=
0):ig.game.O500.rotation++:ig.game.O500.flip=ig.game.O500.flip?0:1:ig.game.O500.rotation=3==ig.game.O500.rotation?0:ig.game.O500.rotation+1,this.movementDirectionIndicator.timer=new ml.Timer,this.movementDirectionIndicator.opacity=this.movementDirectionIndicator.O1049,ig.game.sounds.shortWhoosh.play()},draw:function(){if(this.O2176FromMap&&ig.game.O500){var a=
ig.input.mouse.x-ig.game.O1990,b=ig.input.mouse.y-ig.game.O1990,c="DECOFB"==ig.game.O500.base?1:null,d=ig.game.O500.O6891?0:ig.game.O500.rotation;ig.game.O4961.getItemBasic(ig.game.O500.tid,"drag_draw").draw(a,b,d,ig.game.O500.flip,void 0,c);ig.game.O500.O6891&&this.movementDirectionIndicator.timer&&this.O8358(this.movementDirectionIndicator,
a,b)}},O7922:function(a,b){return this.O2176FromMap&&this.originTileLocation.x==a&&this.originTileLocation.y==b},O4065:function(a,b){var c=ig.game.O7715.O2398(a,b);ig.game.decorator.O3382(c)},O8358:function(a,b,c){var d=0==ig.game.O500.rotation||2==ig.game.O500.rotation;ig.system.context.globalAlpha=a.opacity;d?ig.game.O5405.O5345(b+
6,c-1):ig.game.O5405.O6970(b-1,c+6);ig.system.context.globalAlpha=1;a.timer.delta()>a.fadeTime&&(a.opacity=Math.max(a.opacity-0.01,0));a.timer.delta()>a.O7348&&(a.timer=null,a.opacity=a.O1049)},removeItemFromMap:function(a,b,c){var d=!0;if(this.originTileLocation){var e=ig.game.O7715.O2398(this.originTileLocation.x,this.originTileLocation.y);if(("ANY"==ig.game.O2714||ig.game.O5699)&&5>ig.game.O4269.rank&&ig.game.O172.O4036(e))c||
ig.game.O4269.say(ig.game.O172.O7190()),d=!1;else{var f=(e=ig.game.O7715.deleteThingAt(this.originTileLocation.x,this.originTileLocation.y,!1))?e.id:null;e&&"INTERACT"==e.base&&ig.game.O6401.deleteStoreDataOfEntity(e,this.originTileLocation);c||(b?ig.game.decorator.O3382(b.pos):(this.O4065(this.originTileLocation.x,this.originTileLocation.y),b=ig.game.O7715.O2398(this.originTileLocation.x,this.originTileLocation.y),
ig.game.decorator.O5666(ig.game.O4269,b)));c||(e&&e.isLiquid()&&(!e.attributes||!e.attributes.effectsFree)?ig.game.sounds.waterleave.play():ig.game.sounds.bin.play());a&&!c&&(ig.game.panelSet.O7890.O192(),ig.game.panelSet.O4651());e&&ig.game.addStat(ig.game.O4269.O2507,"removed",null,e.id);ig.game.holderDialog&&(f==ig.game.holderDialog.holderId&&ig.game.holderDialog.isOpen&&!ig.game.holderDialog.O3923)&&ig.game.holderDialog.close();var g=ig.game.O172.O6396({x:this.originTileLocation.x,
y:this.originTileLocation.y});setTimeout(function(){ig.game.O7715.requestDeletionMarkersForSector(g)},500)}}return d}})});ig.baked=!0;
ig.module("game.core.O5043").defines(function(){window.O3265=ig.Class.extend({O3628:!0,O3452:!1,O3088:!1,O529:30,O663:null,O2452:15,O8463:0,O1188:0,O1350:!0,O8151:5,O801:20,O5042:1,O6724:6,O416:1,O5578:0,O1450:!1,measureId:0,
launchFirstMeasureNowThatShroudIsRemoved:function(){this.log("");this.log("Shroud removed, first FPS check to come in 5 seconds.");setTimeout(function(){ig.game.O7649.O2040()},5E3)},O2040:function(){this.log("Setting up new FPS check.");var a=this;setTimeout(function(){a.O5407()},1E3*this.O5042);setTimeout(function(){a.O7317()},1E3*this.O6724)},update:function(){this.O1450&&this.O5578++},O1110:function(){this.O3452=
this.O1350=!1},O5407:function(){this.O3628&&(this.O5578=0,this.O1450=!0)},O7317:function(){if(this.O3628&&(this.O1450=!1,this.measureId=ig.game.O5167(1E6,9E6),0<this.O5578)){var a=this.O5578/(this.O6724-this.O5042);this.O663=Math.ceil(a).limit(0,60);this.log("");var b=this;a<=this.O529?(this.O3452=!0,ig.game.embeddedSoundUrl&&ig.game.removeEmbeddedSound(),
this.log("Low average FPS of "+Math.ceil(a)+" detected, now optimizing for speed.")):this.log("Average FPS of "+Math.ceil(a)+" detected. No stronger optimization for speed needed.");40<=a?(this.O1188++,this.O3452&&5<=this.O1188&&(this.O3452=!1)):this.O1188=0;a<=this.O2452?this.O8463++:this.O8463=0;this.O3452&&(this.O1350?ig.game.O8053&&ig.game.isEditorHere&&
(this.O3452=!1):this.O3452=!1);this.log("Times in row where good: "+this.O1188+" | Where very slow: "+this.O8463);this.log("New check in "+this.O416+" seconds.");setTimeout(function(){b.O2040()},1E3*this.O416)}},O546:function(){return Boolean(ig.game.O7649.O663&&ig.game.O7649.O663<=this.O2452)},O6018:function(){this.O3628?
ig.game.alertDialog.open("Last average FPS measured: "+(null!=this.O663?String(this.O663):"(still measuring)")+"\rFPS recovery measures started: "+(this.O3452?"yes":"no")+"\rLatency server -> client at start: "+String(ig.game.O1638.O6517/1E3)+" seconds\rUser agent: "+navigator.userAgent):ig.game.alertDialog.open("Speed watcher has been deactivated")},log:function(a){this.O3088&&console.log(a)}})});ig.baked=!0;
ig.module("game.core.O7802").defines(function(){window.O3383=ig.Class.extend({maxDaysToKeepStates:7,O7739:38,O191:114,O430:!1,O4447:["#","/",":",">","@"],O6580:60,O3280:10,O4229:500,O3239:15,O7819:"bumps transports throws harms heals shows plays stops waits rumbles places embeds unembeds limits font".split(" "),O2792:"  ",
possibleInteractions:"approaches nears reaches reached enters entered gets hears sees touches touched line-touches line-touched ends hits views viewed hears-notes".split(" "),O7729:"is isn't has hasn't currently not_currently in not_in".split(" "),O7039:"they_are they_aren't they_embody they_don't_embody they_mount they_don't_mount they_wear they_don't_wear they_hold they_don't_hold they_possess they_don't_possess they_have_attached they_don't_have_attached they_have_equipped they_don't_have_equipped they_move".split(" "),
someoneVerbs:"uses mounts unmounts attaches unattaches wears unwears embodies unembodies says does takes throws gathers activates emits plays plays-notes shouts consumes sits_on lies_on hard_lands_on reads writes hits catches dies selects holder-selects checks touches crumbles equips unequips finishes_countdown at_countdown kills".split(" "),O6814:"arrives acts swims jumps harmed climbs transports crumbles bounces dies finishes_countdown".split(" "),O6954:625,O8035:{},
currentEmbeddingInteract:null,O970:null,O5996:-1E12,O1736:1E12,O4836:{},O6837:["READABLE","WRITABLE","MEDIUM","HOLDER"],countdown:null,O3834:null,O426:null,O4560:"audio-free",O118:"visual-free",init:function(){var a;for(a=0;a<this.O6814.length;a++)this.someoneVerbs.push(this.O6814[a]);for(a=0;a<this.someoneVerbs.length;a++)this.possibleInteractions.unshift("someone_"+
this.someoneVerbs[a]);for(a=0;a<this.possibleInteractions.length;a++)this.O7729.unshift(this.possibleInteractions[a]);for(a=0;a<this.O7039.length;a++)this.O7729.unshift(this.O7039[a])},receiveMessageFromExternal:function(a){ig.game.O6401.currentEmbeddingInteract&&a&&(ig.game.O6401.currentEmbeddingInteract.O6111("sees",a,"embedding"),ig.game.O6401.currentEmbeddingInteract&&ig.game.O6401.currentEmbeddingInteract.O6111("hears",
a,"embedding"),window.focus())},O5341:function(a){a=a.split("\n");for(var b=0;b<a.length;b++){var c=a[b];0<=c.indexOf("someone")&&(0<=c.indexOf("[heard]")&&0<=c.indexOf("/embed"))&&(a[b]="")}return a.join("\n")},O171:function(a,b){var c=[];if(!ig.game.areaClosed&&ig.game.O4269&&!ig.game.O4269.O2031("disablesInteracting")||ig.game.O6310){ig.game.debug.O8137&&(window.consoleref.log("_____ Interacting content _____"),window.consoleref.log(a),
window.consoleref.log("_______________________________"));a=this.O2195(a);a=this.O5341(a);for(var d={n:0},e=null,f=0,g=!1,h=null,k=a.split("\n"),l=0;l<k.length;l++){var m=ig.game.strings.trim(k[l]);if(m&&""!=m){h?(e=h,h=null,g=!0):g&&!this.O47(m)&&(e=null,g=!1);l<k.length-1&&(!this.O47(m)&&this.O47(k[l+1]))&&(h=++f,g=!0);var n={},m=this.O615(m);0===m.indexOf("-")&&(m=m.substr(1));if((m=ig.game.strings.trim(m))&&""!=m){if(0==
m.indexOf("#")){var p=m.split(" ");n.marker=p[0].substr(1);m=ml.Misc.O2858(p," ",1)}if(m&&""!=m){p=0<=m.indexOf("://");if(1<=m.indexOf(":")&&!p){p=m.split(":");n.condition=ig.game.strings.trim(p[0].toLowerCase());if(n.condition){0===n.condition.indexOf("someone ")&&(n.condition=ig.game.strings.replaceAll(n.condition,"someone ","someone_"));for(m=0;m<this.O7039.length;m++){var q=this.O7039[m],s=ig.game.strings.replaceAll(q,"_"," ");0<=n.condition.indexOf(s+" ")&&(n.condition=
ig.game.strings.replaceAll(n.condition,s+" ",q+" "))}n.condition=ig.game.strings.replaceAll(n.condition,"they ","sees ")}this.O3893(n.condition)&&(n.interactionBased=!0);m=ig.game.strings.trim(ml.Misc.O2858(p,":",1))}p=[];m=this.insertLineBreaksIfTooLong(m);m=m.split(this.O2792);for(q=0;q<m.length;q++)if(s=this.O7992(m[q],b,e,d))s=this.O2234(s),h&&!s.setContext&&(s.setContext=h),p.push(s);n.condition&&0==p.length&&
p.push({});1<=p.length&&(e&&(n.context=e),n.result=p,c.push(n))}}}}}return c},O2195:function(a){a=ig.game.strings.O3410("\n"+a);a=this.toLowerCaseExceptUrls(a);a=ig.game.strings.replaceAll(a,"[ad area]",this.O7122());a=ig.game.strings.replaceAll(a,"[ad text]",this.O5251());a=a.replace(/\r\n/g,"\n");a=ig.game.strings.replaceAll(a,"not currently","not_currently");a=ig.game.strings.replaceAll(a,"/clear countdown","/clears countdown");a=this.O2516(a);
a=a.replace(/\nif /gi,"\nif ");a=this.O7884(a);a=this.O7095(a);a=ig.game.strings.replaceAll(a,"/they don't autoheal","/they don't auto-heal");a=ig.game.strings.replaceAll(a,"/they autoheal","/they auto-heal");a=ig.game.strings.replaceAll(a,"[age in seconds]","[age_in_seconds]");a=ig.game.strings.replaceAll(a,"[age in days]","[age_in_days]");a=ig.game.strings.replaceAll(a,"[ads count]","[ads_count]");a=ig.game.strings.replaceAll(a,"[main area]","[main_area]");a=ig.game.strings.replaceAll(a,
"/they auto-sets-spawnpoints","/they auto-set-spawnpoints");a=ig.game.strings.replaceAll(a,"/they don't auto-sets-spawnpoints","/they don't auto-set-spawnpoints");a=ig.game.strings.replaceAll(a,"/set spawnpoint","/sets spawnpoint");a=ig.game.strings.replaceAll(a,"/set-spawnpoint","/sets spawnpoint");a=ig.game.strings.replaceAll(a,"/sets-spawnpoint","/sets spawnpoint");a=ig.game.strings.replaceAll(a,"hear-notes","hears-notes");a=ig.game.strings.replaceAll(a,"hears hi:",'hears "hi":');a=ig.game.strings.replaceAll(a,
"hears hi ",'hears "hi" ');a=ig.game.strings.replaceAll(a,"transport here","transports here");a=ig.game.strings.replaceAll(a,"someone detaches","someone unattaches");a=this.O6282(a);return a=ig.game.strings.replaceAll(a,"/:","/~")},O7122:function(){var a="";ig.game.areaAdForDisplay&&ig.game.areaAdForDisplay.stablerAreaName&&(a=ig.game.areaAdForDisplay.stablerAreaName,a=ig.game.strings.replaceAll(a,"/"," "));return a},O5251:function(){var a="";ig.game.areaAdForDisplay&&
ig.game.areaAdForDisplay.stablerTitle&&(a=ig.game.areaAdForDisplay.stablerTitle,a=ig.game.strings.replaceAll(a,"/"," "));return a},update:function(){this.O5545();this.O5725();this.O7396()},draw:function(){this.countdown&&(this.countdown.isVisible&&""!==this.countdown.O1343)&&ml.Misc.O3941(this.countdown.O1343,ig.system.width/2,6)},O6361:function(a,b){this.countdown={timer:new ml.Timer,O8199:a,O1343:"",
isVisible:b,ended:!1,O4618:0}},O6723:function(){this.countdown=null},O2851:function(a){this.countdown&&(this.countdown.O4618+=parseInt(a))},O5545:function(){if(this.countdown&&this.countdown.timer&&this.countdown.O8199&&!this.countdown.ended){var a=this.countdown.O8199-this.countdown.timer.delta(),a=a+this.countdown.O4618;0>=a&&(a=0);var b=this.countdown.O1343;this.countdown.O1343=Math.ceil(a);0==a?(this.O5038(ig.game.O4269,
"finishes_countdown"),this.countdown&&(this.countdown.timer=null,this.countdown.ended=!0)):this.countdown.O1343!=b&&this.O5038(ig.game.O4269,"at_countdown",String(this.countdown.O1343))}},O7396:function(){this.currentEmbeddingInteract?(this.O970||(this.O970=new ml.Timer),1<=this.O970.delta()&&(window.focus(),this.O970=new ml.Timer)):this.O970&&(this.O970=null)},O2516:function(a){a=
ig.game.strings.replaceAll(a,"/to http://manyland.com/","/to_area_not_sub_area ");a=ig.game.strings.replaceAll(a,"/to https://manyland.com/","/to_area_not_sub_area ");a=ig.game.strings.replaceAll(a,"/to manyland.com/","/to_area_not_sub_area ");return a=ig.game.strings.replaceAll(a,"/to /","/to_area_not_sub_area ")},toLowerCaseExceptUrls:function(a){return a.replace(/[^\s]+/g,function(a){return 0===a.indexOf("http")?a:a.toLowerCase()})},O2816:function(a){return!0===a||!1===a||"true"===
a||"false"===a},O615:function(a){var b=a.indexOf("http://");-1===b&&(b=a.indexOf("https://"));if(0<=b){for(var c="",d=!1,e=0;e<a.length;e++){var f=a.substr(e,1);e>=b&&(" "==f?d=!0:d||(":"==f?f="{{char2}}":"/"==f&&(f="{{char1}}")));c+=f}a=c}return a},O2501:function(a){a=ig.game.strings.replaceAll(a,"{{char1}}","/");return a=ig.game.strings.replaceAll(a,"{{char2}}",":")},O6782:function(a){var b={};if(a&&(a=a.split("/"),4==a.length&&(b.seconds=parseFloat(a[0]),b.usesVisual=
"true"==a[1],b.usesAudio="true"==a[2],a=a[3].trim().split(","),1<=a.length)))for(var c=0;c<a.length;c++){var d=a[c].trim().split(" ");3==d.length&&(d={itemId:d[0],offsetX:parseInt(d[1]),offsetY:parseInt(d[2])},b.placements||(b.placements=[]),b.placements.push(d))}return b},O4100:function(){return this.O3521(this.O8035)},O1194:function(a,b){var c=this.O6782(b);if(c&&c.placements&&1<=c.placements.length)for(var d=this.O6954-
1,e=0;e<c.placements.length&&ml.Misc.O4361(this.O8035)<d;e++){var f=c.placements[e];"nothing"==f.itemId||ig.game.O4961.getItem(f.itemId,"interacting__trigger_places");var g={x:parseInt(parseInt(a.x)+parseInt(f.offsetX)),y:parseInt(parseInt(a.y)+parseInt(f.offsetY))},h=g.x+"_"+g.y;this.O8035[h]&&(this.O8035[h].removeInstantly=!0,this.O5725());if(!this.O8035[h]){this.O8035[h]={timer:new ml.Timer,O1592:c.seconds,
itemId:f.itemId,usesVisual:c.usesVisual,usesAudio:c.usesAudio,originalMapPosDef:ig.game.O7715.O8268(g)};var k=ig.game.O7715.O1009({x:g.x,y:g.y});k&&ig.game.O7715.deleteThingAt(g.x,g.y,!0);if("nothing"==f.itemId){if(k){if(c.usesAudio&&(!this.O3834||0.5<=this.O3834.delta()))this.O3834=new ml.Timer,ig.game.sounds.shortWhoosh.play();c.usesVisual&&(f=ig.game.O7715.O2398(g.x,g.y),ig.game.decorator.O3382(f))}else delete this.O8035[h];
(f=ig.game.backgroundMaps[1].O7363(g.x,g.y))&&ig.game.O7715.O3236({tid:f.id,rotation:0,flip:0},g,!0,!0)}else this.doPlace(ig.game.O5662(f),ig.game.O5662(c),ig.game.O5662(g))}}},doPlace:function(a,b,c){var d=this,e=ig.game.O4961.getItemBasic(a.itemId,"int_do_place");e.basicDataLoading.done(function(){if(-1===["INTERMOT","MOTION","MIFT"].indexOf(e.base)){ig.game.O7715.O3236({tid:a.itemId,rotation:0,flip:0},c,!0,!0);if(b.usesAudio&&(!d.O3834||
0.5<=d.O3834.delta()))d.O3834=new ml.Timer,e&&e.isLiquid()?ig.game.sounds.splash.play():ig.game.sounds.putdown.play();if(b.usesVisual){var f=ig.game.O7715.O2398(c.x,c.y);ig.game.decorator.O8456(f)}}})},O5725:function(){var a=!1,b;for(b in this.O8035){var c=this.O8035[b];if(c.timer&&c.timer.delta()>c.O1592||c.removeInstantly){var d=b.split("_"),d={x:d[0],y:d[1]};ig.game.O7715.O1009({x:d.x,
y:d.y})&&ig.game.O7715.deleteThingAt(d.x,d.y,!0);c.originalMapPosDef&&ig.game.O7715.O3236(c.originalMapPosDef,d,!0);c.usesVisual&&(d=ig.game.O7715.O2398(d.x,d.y),"nothing"==c.itemId?ig.game.decorator.O8456(d):ig.game.decorator.O3382(d));if((c.usesAudio||c.usesVisual)&&!a)ig.game.sounds.shortWhoosh.play(),a=!0;delete this.O8035[b]}}},O3521:function(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){b=!0;break}return b},
insertLineBreaksIfTooLong:function(a){var b=-1===a.indexOf("://")&&-1===a.indexOf(" ");a&&(a.length>this.O6580&&!b&&-1==a.indexOf("[")&&-1==a.indexOf(this.O2792)&&-1==a.indexOf("{")&&-1==a.indexOf("/"))&&(b=ig.game.strings.O4423(a,this.O6580),1<b.length&&(a=b.join(this.O2792)));return a},O7884:function(a){for(var b=[[":)","\\:)"],[":(","\\:("],[":-)","\\:-)"],[":-(","\\:-("]],c=0;c<b.length;c++){var d=b[c];
a=ig.game.strings.replaceAll(a,d[1],d[0]);a=ig.game.strings.replaceAll(a,d[0],d[1])}return a},O2234:function(a){for(var b=["say","marker","toMarker"],c=0;c<b.length;c++){var d=b[c];a[d]&&(a[d]=this.O7095(a[d],!0))}return a},O7095:function(a,b){for(var c=0;c<this.O4447.length;c++){var d=this.O4447[c],e="\\"+d,f="{{char"+c+"}}";b&&(e=f,f=d);a=ig.game.strings.replaceAll(a,e,f)}return a},O47:function(a){var b=!1;a&&(a=ig.game.strings.trim(a),
b=1<=a.length&&"-"==a.substr(0,1));return b},O7992:function(a,b,c,d){var e=null;if(""!=a){a=ig.game.strings.trim(a);e={};if(0<=a.indexOf(">")){var f=a.split(">");2==f.length&&""!=ig.game.strings.trim(f[1])&&(e.toMarker=ig.game.strings.trim(f[1]),a=f[0]);a=ig.game.strings.trim(ig.game.strings.replaceAll(a,">",""));c?e.setContext="":e.autoContinue=!0}c=[];if(a=this.O5463(a,c))0<=a.indexOf("://")?e.say=ig.game.strings.O2833(a,5*this.O6580):
0<=a.indexOf("[")?e.say=ig.game.strings.O2833(a,1E3):e.say=ig.game.strings.O2833(a,this.O6580+20);for(a=0;a<c.length;a++)if(f=c[a]){var g=f.toLowerCase();-1===g.indexOf("embed")&&-1===g.indexOf("http")&&(f=g);if(!this.O197(e,f,b)){if(0===f.indexOf("gives "))e.gives=f.substr(6);else if(0===f.indexOf("removes ")){if(g=this.O4559(f.substr(8)))e.removes=g}else 0===f.indexOf("harms ")?e.harms=this.O2444(f.substr(6)):0===f.indexOf("heals ")&&
this.O2444(f.substr(6))==f.substr(6)?e.heals=this.O2444(f.substr(6)):0===f.indexOf("limits ")?this.O890(e,f,b):"they focus here"==f?e.theyFocusHere=!0:"they don't focus here"==f?e.theyFocusHere=!1:0===f.indexOf("relocations go to ")?e.relocationsGoTo=f.substr(18).toLowerCase().trim():0===f.indexOf("lock 15 minutes")?e.areaBanForNMinutes=15:0===f.indexOf("lock 1 day")?e.areaBanForNMinutes=1440:0===f.indexOf("is ")?(e.commands||(e.commands=[]),e.commands.push({is:f.substr(3)})):
0===f.indexOf("_is ")?(e.privateCommands||(e.privateCommands=[]),e.privateCommands.push({is:f.substr(4)})):0===f.indexOf("isn't ")?(e.commands||(e.commands=[]),e.commands.push({isnt:f.substr(6)})):0===f.indexOf("_isn't ")?(e.privateCommands||(e.privateCommands=[]),e.privateCommands.push({isnt:f.substr(7)})):0===f.indexOf("they are ")?(e.privateCommands||(e.privateCommands=[]),e.privateCommands.push({theyAre:f.substr(9)})):0===f.indexOf("they aren't ")?(e.privateCommands||(e.privateCommands=[]),e.privateCommands.push({theyArent:f.substr(12)})):
0===f.indexOf("they auto-heal")?e.theyAutoHeal=!0:0===f.indexOf("they don't auto-heal")?e.theyAutoHeal=!1:0===f.indexOf("they can drown")?e.theyCanDrown=!0:0===f.indexOf("they can't drown")?e.theyCanDrown=!1:0===f.indexOf("they can boost")?e.O4367=!0:0===f.indexOf("they can't boost")?e.O4367=!1:0===f.indexOf("they can use all boosts")?e.O5182=!0:0===f.indexOf("they can't use all boosts")?e.O5182=!1:0===f.indexOf("they can see name tags")?e.O5049=
!0:0===f.indexOf("they can't see name tags")?e.O5049=!1:0===f.indexOf("they can paste")?e.O1217=!0:0===f.indexOf("they can't paste")?e.O1217=!1:0===f.indexOf("they always see instrument note labels")?e.O8422=!0:0===f.indexOf("they don't always see instrument note labels")?e.O8422=!1:0===f.indexOf("they can open map")?e.O329=!0:0===f.indexOf("they can't open map")?e.O329=!1:0===f.indexOf("they can be affected by non-friends")?
e.theyCanBeAffectedByNonFriends=!0:0===f.indexOf("they can't be affected by non-friends")?e.theyCanBeAffectedByNonFriends=!1:0===f.indexOf("they can be affected by friends")?e.theyCanBeAffectedByFriends=!0:0===f.indexOf("they can't be affected by friends")?e.theyCanBeAffectedByFriends=!1:0===f.indexOf("they can map-transport")?e.theyCanMapTeleport=!0:0===f.indexOf("they can't map-transport")?e.theyCanMapTeleport=!1:0===f.indexOf("they can remove dynamic")?e.O2066=!0:0===f.indexOf("they can't remove dynamic")?
e.O2066=!1:0===f.indexOf("they can remove holdable")?e.O7995=!0:0===f.indexOf("they can't remove holdable")?e.O7995=!1:0===f.indexOf("they can remove wearable")?e.O3643=!0:0===f.indexOf("they can't remove wearable")?e.O3643=!1:0===f.indexOf("they can remove mountable")?e.O4280=!0:0===f.indexOf("they can't remove mountable")?e.O4280=!1:0===f.indexOf("they can remove brain")?e.O4973=
!0:0===f.indexOf("they can't remove brain")?e.O4973=!1:0===f.indexOf("they can be affected by non-logged-ins")?e.theyCanBeAffectedByNonFullAccounts=!0:0===f.indexOf("they can't be affected by non-logged-ins")?e.theyCanBeAffectedByNonFullAccounts=!1:0===f.indexOf("they can be affected by brain-equippers")?e.theyCanBeAffectedByBrainEquippers=!0:0===f.indexOf("they can't be affected by brain-equippers")?e.theyCanBeAffectedByBrainEquippers=!1:0===f.indexOf("they can use any item")?e.O7804=
!0:0===f.indexOf("they can't use any item")&&(e.O7804=!1);if(0===f.indexOf("sets spawnpoint"))e.setSpawnPoint=!0;else if(0===f.indexOf("they auto-set-spawnpoints"))e.theyAutoSetSpawnpoints=!0;else if(0===f.indexOf("they don't auto-set-spawnpoints"))e.theyAutoSetSpawnpoints=!1;else if(0===f.indexOf("they possess ")){for(var f=f.substr(13).split(" and "),g=[],h=0;h<f.length;h++){var k=f[h],l=this.O7357(k,b);k!=l&&g.push(l)}1<=g.length&&(e.privateCommands||(e.privateCommands=
[]),e.privateCommands.push({addAreaPossession:g.join(",")}))}else if(0===f.indexOf("they don't possess *"))e.privateCommands||(e.privateCommands=[]),e.privateCommands.push({removeAllAreaPossessions:!0});else if(0===f.indexOf("they don't possess "))e.privateCommands||(e.privateCommands=[]),e.privateCommands.push({removeAreaPossession:f.substr(19)});else if(0===f.indexOf("hasn't "))e.hasnt=f.substr(7);else if("timer"==f)e.timer=!0;else if(0===f.indexOf("embeds ")){if((f=this.O2501(f.substr(7)))&&
(-1===f.indexOf("manyland.com")||0<=f.indexOf("manyland.com/info")))-1===f.indexOf("://")&&(f="//"+f),e.embedUrl=String(f)}else if("unembeds"==f)e.O5655=!0;else if(0===f.indexOf("bumps ")){if(f=this.O162(f.substr(6)))e.bumps=f}else if(0===f.indexOf("font ")){if(g=f.substr(5))if(f=!1,g=g.toLowerCase().trim(),0<=g.indexOf("once")&&(g=ig.game.strings.replaceAll(g,"once",""),g=ig.game.strings.replaceAll(g,"  "," "),g=g.trim(),f=!0),g=this.O6660(g))e.font=
g,f&&(e.useFontOnce=!0)}else if(0===f.indexOf("places ")){if(f=f.substr(7),f=this.O5388(f,b))e.id=++d.n,e.places=f}else if(0===f.indexOf("rumbles "))f=f.substr(8),f=ig.game.strings.replaceAll(String(f).toLowerCase(),"s",""),f==parseInt(f)&&(f=parseInt(f),1<=f&&f<=this.O3239&&(e.rumblesSeconds=f));else if(0===f.indexOf("transports here"))e.transportToHere=!0;else if(0===f.indexOf("to_area_not_sub_area "))e.to=f.substr(21),e.toDoesExcludeSubAreas=!0;else if(0===f.indexOf("to "))e.to=
f.substr(3);else if(0===f.indexOf("transports ")){if(f=this.O6589(f.substr(11)))e.transports=f}else if(0===f.indexOf("throws ")){if(f=this.O3429(f.substr(7),b))e.throws=f}else if(0===f.indexOf("plays "))g=this.O7357(f,b,"plays"),f!=g&&(e.playsSoundId=g);else if(0===f.indexOf("waits ")){if(f=f.substr(6),(f=ig.game.strings.replaceAll(String(f).toLowerCase(),"s",""))&&parseFloat(f)==f||parseInt(f)==f)e.delaySeconds=parseFloat(ml.Misc.O5179(f,
0.25,60))}else 0===f.indexOf("shows ")?(g=void 0,0===f.indexOf("shows only-holder-page ")&&(g=f.indexOf(" ",24),0<=g&&(g=f.substr(23,g-23),ml.Misc.O6674(g)&&1<=g&&(e.lockAtHolderPage=parseInt(g-1),f=ig.game.strings.replaceAll(f,"shows only-holder-page "+g+" ","shows ")))),g=this.O7357(f,b,"shows"),f!=g&&(e.showsId=g)):"stops"==f?e.stopMusic=!0:0===f.indexOf("they ")?(e.O4753Text=f.substr(5),g=this.O7357(f,b,"they"),f!=g&&(e.O4753Id=g)):this.O6767(f)&&
(e.motion=f,g=this.O7357(f,b),f!=g&&(e.motionId=g),"clears countdown"==f?e.countdownClear=!0:0===f.indexOf("countdown +")?(f=f.substr(11),f=String(f).trim(),ml.Misc.O6674(f)&&(1<=f&&1E4>=f)&&(e.countdownAdd=parseInt(f))):0===f.indexOf("countdown -")?(f=f.substr(11),f=String(f).trim(),ml.Misc.O6674(f)&&(1<=f&&1E4>=f)&&(e.countdownAdd=-parseInt(f))):0===f.indexOf("countdown ")&&(g=!0,0<=f.indexOf(" invisible")&&(g=!1,f=ig.game.strings.replaceAll(f," invisible","")),(f=f.substr(10))&&
(f=ig.game.strings.replaceAll(f,"s","")),ml.Misc.O6674(f)&&(1<=f&&1E6>=f)&&(e.countdown=parseInt(f),e.countdownIsVisible=g)))}}}return e},O890:function(a,b,c){b=b.substr(7);var d=0<=b.indexOf("auto-disappear");b=ig.game.strings.replaceAll(b,"auto-disappears","");b=ig.game.strings.replaceAll(b,"auto-disappear","");b=b.trim();var e=b.split(" ");if(3<=e.length){b=e.pop();var f=e.pop(),e=e.join(" "),g=0<=e.indexOf("their "),e=ig.game.strings.replaceAll(e,"their ","");g&&(e=this.O7357(e,
c));e&&(f==parseInt(f)&&b==parseInt(b))&&(a.limits||(a.limits=[]),a.limits.push([String(e),parseInt(f),parseInt(b),!!d,!!g]))}},O3391:function(a,b,c,d,e){this.O4836[a]={min:b,max:c,O3768:d,O158:e}},O8118:function(a,b){b=parseInt(b).limit(this.O5996,this.O1736);var c=this.O4836[a];c&&(b=parseInt(b).limit(c.min,c.max));return b},O197:function(a,b,c){var d=!1,e=["+","-","*","~","="];b=ig.game.strings.replaceAll(b,
"[value their ","[value_their_");var f=0<=b.indexOf("their ");b=ig.game.strings.replaceAll(b,"their ","");b=ig.game.strings.replaceAll(b,"[value_their_","[value their ");var g=0<=b.indexOf("effects-free")||0<=b.indexOf("effect-free");g&&(b=ig.game.strings.replaceAll(b,"effects-free",""),b=ig.game.strings.replaceAll(b,"effect-free",""),b=ig.game.strings.replaceAll(b,"  "," "),b=b.trim());var h=b.indexOf(" ");b.indexOf("] ")>=h&&(h=b.indexOf("] "));if(0<=h){var k=b.substr(0,h+1).trim(),h=b=b.substr(h+
1).trim();f&&(b=this.O7357(b,c));if(b!=h||!f)if(c=k.charAt(0),0<=e.indexOf(c)&&(e=k.substr(1),k=e==parseInt(e)&&parseInt(e)>=this.O5996&&parseInt(e)<=this.O1736,h=0===String(e).indexOf("[value ")||0===String(e).indexOf("[number ")||0===String(e).indexOf("[people]")||0===String(e).indexOf("[age_in_seconds]")||0===String(e).indexOf("[age_in_days]")||"[heard]"==String(e),k||h))d=!0,k&&(e=parseInt(e)),a.changeNumber||(a.changeNumber=[]),"~"==c&&(c=":"),a.changeNumber.push([b,
e,c,f,g])}return d},O4559:function(a){var b=null,c="wearable mountable holdable dynamic brain *".split(" ");a&&("string"===typeof a&&0<=c.indexOf(a))&&(b=a);return b},O6767:function(a){a=a.toLowerCase().substr(0,1);return 0<="abcdefghijklmnopqrstuvwxyz0123456789".indexOf(a)},O3429:function(a,b){var c=null;if(a){var d=a.split(",");if(1<=d.length){for(var c=[],e=0;e<d.length;e++){var f=d[e]?d[e].trim():null;if(f&&(f=this.O6088(f,
b)))if(c.push(f),10<=c.length)break}0==c.length&&(c=null)}}return c},O6088:function(a,b){var c=null;if(a){var d=ig.game.O4269.O7437.x;a=ig.game.strings.replaceAll(a,"%","");var e=a.split(" ");if(3<=e.length){var f=[e[0],e[1]],g=ml.Misc.O2858(e," ",2),e=this.O7357(g,b);e!=g&&(2==f.length&&parseInt(f[0])==f[0]&&parseInt(f[1])==f[1])&&(c=parseInt(f[0]).limit(0,360),g=parseInt(f[1]).limit(0,100),f=c/180*Math.PI,c=g/100*d*d,d=parseInt(Math.sqrt(c)*
Math.cos(f)),f=parseInt(Math.sqrt(c)*Math.sin(f)),c=d+" "+f+" "+e)}}return c},O162:function(a){var b=null;if(a){var c=0<=a.indexOf("absolute");c&&(a=ig.game.strings.replaceAll(a,"absolute",""),a=a.trim());var d=ig.game.O4269.O7437.x;a=ig.game.strings.replaceAll(a,"%","");a=a.split(" ");if(2==a.length&&parseInt(a[0])==a[0]&&parseInt(a[1])==a[1]){var b=parseInt(a[0]).limit(0,360),e=parseInt(a[1]).limit(0,100);a=b/180*Math.PI;e=e/100*d*d;d=270==b||90==b?0:parseInt(Math.sqrt(e)*
Math.cos(a));b=180==b||0==b?0:parseInt(Math.sqrt(e)*Math.sin(a));b=d+" "+b;c&&(b="absolute "+b)}}return b},O6660:function(a){var b=null;if(a){switch(a){case "blackwhite":a="blackWhite";break;case "whitesmall":a="whiteSmall";break;case "blacksmall":a="blackSmall"}void 0!==ig.game.availableFonts[a]&&(b=a)}return b},O6589:function(a){var b=null;if(a){var c=ig.game.O8283;a=ig.game.strings.replaceAll(a,"%","");a=a.split(" ");2==a.length&&(parseInt(a[0])==
a[0]&&parseInt(a[1])==a[1])&&(b=parseInt(a[0]).limit(0,360),a=parseInt(a[1]).limit(0,100),b=b/180*Math.PI,a=a/100*c,c=parseInt(a*Math.cos(b)),b=parseInt(a*Math.sin(b)),b=c+" "+b)}return b},O5463:function(a,b){var c=null;if(0<=a.indexOf("://")||-1==a.indexOf("/"))c=a;else for(var d=a.split("/"),c=d[0],e=1;e<d.length;e++)b.push(ig.game.strings.trim(d[e]));c&&(c=this.O7095(c,!0),c=c.trim());return c},O3893:function(a){for(var b=!1,c=
0;c<this.possibleInteractions.length;c++){var d=this.possibleInteractions[c];if(0===a.indexOf(d)||0<=a.indexOf(" "+d)){b=!0;break}}return b},O2444:function(a){parseInt(a)!=a&&(a=0);return a=parseInt(a).limit(0,100)},O7357:function(a,b,c){if(b)for(var d=0;d<b.length;d++){var e=b[d];if(!c&&a==e[1]||c&&a==c+" "+e[1]){a=e[0];break}}return a},O5388:function(a,b){var c="";if(a){var d,e=-1===a.indexOf(this.O118),f=-1===a.indexOf(this.O4560),
g=null;a=ig.game.strings.replaceAll(a,this.O4560,"");a=ig.game.strings.replaceAll(a,this.O118,"");a=a.trim();var h=a.indexOf(" ");if(1<=h){var k=a.substr(0,h).trim(),k=ig.game.strings.replaceAll(k,"s","");if((k==parseInt(k)||k==parseFloat(k))&&1<=k&&k<=this.O3239){a=a.substr(h).trim();for(var h=a.split(","),l=0;l<h.length;l++){var m=h[l].trim().split(" ");2==m.length&&d&&m.unshift(d);if(3<=m.length&&(m=this.joinStringArrayIntoLimitedRightBound(m,3))&&3==m.length){var n=
m[0].trim(),p=m[1],m=m[2];if("nothing"==n)parseInt(p)==p&&(parseInt(m)==m&&20>=Math.abs(p)&&20>=Math.abs(m))&&(g||(g=[]),d=n,g.push(n+" "+parseInt(p)+" "+parseInt(m)));else if(b&&1<=b.length)for(var q=0;q<b.length;q++){var s=b[q];if(n==s[1]&&(parseInt(p)==p&&parseInt(m)==m&&20>=Math.abs(p)&&20>=Math.abs(m))&&(g||(g=[]),g.length<this.O6954)){d=n;g.push(s[0]+" "+parseInt(p)+" "+parseInt(m));break}}}}g&&1<=g.length&&(c=parseFloat(k)+"/"+(e?"true":"false")+"/"+(f?"true":"false")+"/"+g.join(","))}}}return c},
joinStringArrayIntoLimitedRightBound:function(a,b){for(var c=[],d="",e=a.length-(b-1),f=0;f<e;f++)d+=a[f]+" ";c.push(d.trim());for(f=e;f<a.length;f++)c.push(a[f]);return c},O7893:function(a,b,c,d,e,f,g){if(a&&"string"===typeof a&&1<=a.length)for(var h=[{name:"number",paramsType:["integer","integer","integer"],requiredParamsMin:2},{name:"letter",paramsType:["character","character","integer"],requiredParamsMin:2},{name:"list",paramsType:["string","integer"]},{name:"states",paramsType:["integer"]},
{name:"chance",paramsType:["percent"]},{name:"name",paramsType:[]},{name:"time",paramsType:[]},{name:"random",paramsType:["string"],paramsAreArray:!0},{name:"someone",paramsType:[]},{name:"heard",paramsType:[]},{name:"received",paramsType:[]},{name:"timer",paramsType:[]},{name:"editor",paramsType:[]},{name:"account",paramsType:[]},{name:"lying",paramsType:[]},{name:"sitting",paramsType:[]},{name:"age_in_seconds",paramsType:[]},{name:"age_in_days",paramsType:[]},{name:"value",paramsType:["string"],
paramsAreArray:!0},{name:"people",paramsType:[]},{name:"ads_count",paramsType:[]},{name:"main_area",paramsType:[]},{name:"area",paramsType:[]}],k=0;k<h.length;k++)for(var l=h[k],m=null;a!=m;)m=a,a=this.O3773(a,l.name,l.paramsType,l.requiredParamsMin,!!l.paramsAreArray,b,c,d,e,f,g);return a},shuffle:function(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},O3773:function(a,b,c,d,e,f,g,h,k,l,m){var n=a.toLowerCase().indexOf("["+b),
p=-1;0<=n&&(p=a.indexOf("]",n+b.length));if(0<=n&&0<=p){var n=a.substr(n+1,p-(n+1)),n=ig.game.strings.trim(n),n=n.toLowerCase(),q=!0,s=n.split(" ");b=s[0];p=[];if(e)q=!1,2<=s.length&&(p=ml.Misc.O2858(s," ",1).split(","),q=1<=p.length);else{for(e=1;e<s.length;e++)p.push(s[e]);c&&(q=(p.length==c.length||p.length==d)&&this.O8388(p,c))}if(q){c=null;switch(b){case "number":c=this.O7301(p[0],p[1],p[2]);break;case "letter":c=this.O6242(p[0],p[1],
p[2]);break;case "random":c=this.O4980(p);break;case "name":c=this.O6094();break;case "area":c=ig.game.O6185(!1);break;case "main_area":c=ig.game.O6185(!0);break;case "someone":c=this.O1766();break;case "time":c=this.resolveFunction_getTime();break;case "list":c=this.O6251("has"==p[0]?f:g,p[1]);break;case "heard":c=l?l:"";break;case "received":c=k?k:"";break;case "chance":c=this.O6623(ig.game.chance(p[0]));
break;case "timer":c=this.resolveFunction_getTimer(m);break;case "editor":c=this.O6623(ig.game.isEditorHere);break;case "account":c=this.O6623(ig.game.isFullAccount);break;case "lying":c=this.O6623(ig.game.O4269&&ig.game.O4269.isLying);break;case "sitting":c=this.O6623(ig.game.O4269&&ig.game.O4269.isSitting);break;case "value":c=this.O4332(p[0],h);break;case "people":c=this.O6358();break;case "ads_count":c=
ig.game.areaAdForDisplay&&ig.game.areaAdForDisplay.allCount?ig.game.areaAdForDisplay.allCount:0;break;case "age_in_seconds":c=ig.game.O414;break;case "age_in_days":c=ig.game.O5210}null!==c&&(a=ig.game.strings.O2060(a,"["+n+"]",c))}else console.warn("Wrong parameters passed to "+b)}return a},O6358:function(){var a=0;ig.game.O413&&ig.game.O413.player&&(a=ig.game.O413.player.length);return a},O6623:function(a){return a?
"true":"false"},O4332:function(a,b){var c=0;0==a.indexOf("their ")?ig.game.motionDialog&&(a=a.substr(6),c=ig.game.motionDialog.O5057(a)):void 0!==b[a]&&(c=b[a]);return c},O6094:function(){return ig.game.O4269?ig.game.O4269.screenName:null},O7301:function(a,b,c){var d="";c||(c=1);c=c.limit(0,50);for(var e=1;e<=c;e++)d+=String(ig.game.O5167(a,b));return d},O6242:function(a,b,c){var d=
"";c||(c=1);c=c.limit(0,50);for(var e="abcdefghijklmnopqrstuvwxyz0123456789".split(""),f=1;f<=c;f++){for(var g=!1,h=[],k=0;k<e.length;k++){var l=e[k];l==a&&(g=!0);g&&h.push(l);if(l==b)break}d+=1<=h.length?h[ig.game.O5167(0,h.length-1)]:""}return d},O4980:function(a){var b=ig.game.O5167(0,a.length-1);return ig.game.strings.trim(String(a[b]))},resolveFunction_getTimer:function(a){var b="0";a&&(b=ig.game.strings.O3807(parseInt(a),!0," "));return b},O1766:function(){var a=
null;ig.game.O413&&ig.game.O413.player&&(a=ig.game.O5167(0,ig.game.O413.player.length-1),a=(a=ig.game.O413.player[a].screenName)?a:null);return a},resolveFunction_getTime:function(){var a=new Date;return ig.game.strings.pad(a.getUTCHours())+":"+ig.game.strings.pad(a.getUTCMinutes())+" mt"},O6251:function(a,b){var c=null;if(!a||0==a.length)c="nothing";else{for(var d=this.shuffle(ig.game.O5662(a)),c=[],e=1;e<=b&&1<=d.length;e++)c.push(d.shift());
if(2<=c.length){d=c[0];for(e=1;e<c.length-1;e++)d+=", "+c[e];c=d+=" and "+c[c.length-1]}else c=c[0]}return c},O8388:function(a,b){for(var c=!0,d=0;d<a.length&&c;d++)switch(b[d]){case "integer":a[d]==parseInt(a[d])?a[d]=parseInt(a[d]):c=!1;break;case "percent":a[d]==parseInt(a[d])&&parseInt(a[d]).limit(0,100)==a[d]?a[d]=parseInt(a[d]):c=!1;break;case "character":a[d]==String(a[d])&&1==a[d].length?a[d]=String(a[d]):c=!1;break;case "string":a[d]==String(a[d])?a[d]=String(a[d]):c=!1}return c},
O5939ByClosest:function(a,b){var c=0;ig.game.O4269&&(c=a.O5320(ig.game.O4269)<b.O5320(ig.game.O4269)?-1:1);return c},O1665:function(a,b,c,d){var e=!1;if(0<=this.possibleInteractions.indexOf(a)){var f=null;c&&c.attributes&&c.attributes.widerRange?f=this.O7739/2:"touches"==a&&(f=0);if(c=d?this.O1368(d):this.O5099(f)){2<=c.length&&c.sort(ig.game.O6401.O5939ByClosest);for(d=0;d<
c.length&&!(e=c[d].reactTo(a,b));d++);}}return e},O306:function(a,b,c,d,e){var f=0;if(0<=["hears","hears-notes","sees"].indexOf(b)&&(a=this.O552(a,d,e)))for(e=0;e<a.length&&!(f++,a[e].O6355(b,c,d,f),f>this.O3280);e++);},O3011:function(){var a=this.O5099(),b=!1;if(a){2<=a.length&&a.sort(ig.game.O6401.O5939ByClosest);
for(var c=0;c<a.length&&!(b=ml.Misc.O1461(a[c],ig.game.O4269),b=a[c].O5346(b));c++);}return b},O4380:function(){return!!this.O5099()},O5099:function(a){var b=null,c=ig.game.O413.betweenDefaultAndPlayer;if(c){var d=this.O7739;void 0!==a&&null!=a&&(d=a);for(a=0;a<c.length;a++){var e=c[a],f=e.collides==ig.Entity.COLLIDES.FIXED?5:0;e instanceof EntityInteract&&(!e._killed&&
ml.Misc.O1461(e,ig.game.O4269,d+f))&&(b||(b=[]),b.push(e))}}return b},O1368:function(a){var b=null,c=ig.game.O413.betweenDefaultAndPlayer;if(c){a={pos:a,size:{x:1,y:1}};for(var d=0;d<c.length;d++){var e=c[d];e instanceof EntityInteract&&(!e._killed&&e.touches(a))&&(b||(b=[]),b.push(e))}}return b},O552:function(a,b,c){var d=null,e=ig.game.O413.betweenDefaultAndPlayer,f=ig.game.O2944;
f&&(f.reactsTo&&1<=f.reactsTo.length&&0<=f.reactsTo.indexOf(b))&&(d||(d=[]),d.push(ig.game.O2944));if(e){var g={pos:a,size:{x:29,y:29}};for(a=0;a<e.length;a++)f=e[a],f instanceof EntityInteract&&(!f._killed&&f.id!=c&&f.reactsTo&&f.reactsTo instanceof Array&&0<=f.reactsTo.indexOf(b)&&f.O5320(g)<=this.O4229)&&(d||(d=[]),d.push(f))}if(ig.game.holderDialog&&(ig.game.holderDialog.isOpen&&ig.game.holderDialog.items)&&(e=ig.game.holderDialog.items[ig.game.holderDialog.O8177]))for(a=
0;a<e.length;a++)if((f=e[a].entity)&&f instanceof EntityInteract&&!f._killed&&f.id!=c&&f.reactsTo&&f.reactsTo instanceof Array&&1<=f.reactsTo.length&&0<=f.reactsTo.indexOf(b))d||(d=[]),d.push(f);return d},O5792:function(a,b){var c=null,d=ig.game.O413.betweenDefaultAndPlayer;if(d){var e="someone_"+a.toLowerCase(),f={pos:ig.game.O5662(ig.game.O4269.pos),size:{x:29,y:29}},g=ig.game.O2944;g&&(g.reactsTo&&1<=g.reactsTo.length&&
0<=g.reactsTo.indexOf(e))&&(c||(c=[]),c.push(ig.game.O2944));if((g=ig.game.O3501.O6307)&&g.reactsTo&&1<=g.reactsTo.length&&0<=g.reactsTo.indexOf(e))c||(c=[]),c.push(ig.game.O3501.O6307);for(var h=0;h<d.length;h++)g=d[h],g instanceof EntityInteract&&(!g._killed&&g.reactsTo&&1<=g.reactsTo.length&&0<=g.reactsTo.indexOf(e)&&g.O5320(f)<=this.O4229)&&(c||(c=[]),c.push(g));if(ig.game.holderDialog&&(ig.game.holderDialog.isOpen&&
ig.game.holderDialog.items)&&(d=ig.game.holderDialog.items[ig.game.holderDialog.O8177]))for(h=0;h<d.length;h++)if((g=d[h].entity)&&g instanceof EntityInteract&&!g._killed&&g.reactsTo&&1<=g.reactsTo.length&&0<=g.reactsTo.indexOf(e))c||(c=[]),c.push(g)}return c},O5758:function(a){var b=null,c=a.O6454?ig.game.O413.ui:ig.game.O413.O7046;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(!e._killed&&e.O2777==a.O276){b=
e;break}}return b},O630:function(a){a=ig.game.strings.replaceAll(a,"entered","enters");a=ig.game.strings.replaceAll(a,"touched","touches");a=ig.game.strings.replaceAll(a,"reached","reaches");return a=ig.game.strings.replaceAll(a,"views","viewed")},O4711:function(a,b,c,d,e,f,g,h,k,l,m,n){c=this.O7893(c,d,e,f,k,l,m);c=this.O630(c);k=!1;if(0<=c.indexOf("-and-")){c=c.split("-and-");for(l=0;l<c.length&&
!(k=ig.game.strings.trim(c[l]),k=this.O5080(a,b,k,d,e,f,g,h,n),!k);l++);}else if(0<=c.indexOf("-or-")){c=c.split("-or-");for(l=0;l<c.length&&!(k=ig.game.strings.trim(c[l]),k=this.O5080(a,b,k,d,e,f,g,h,n));l++);}else k=this.O5080(a,b,c,d,e,f,g,h,n);return k},O5080:function(a,b,c,d,e,f,g,h,k){var l=!1,m=null,n="and";0<=c.indexOf(" and ")?(m=c.split(" and "),n="and"):0<=c.indexOf(" or ")?(m=c.split(" or "),n="or"):m=[c];
c={thisType:""};for(var p=0;p<m.length;p++)if(""!=ig.game.strings.trim(String(m[p]))){var q=this.O3200(a,b,m[p],c,d,e,f,g,h,k);if("and"==n){if(l=q,!q){l=!1;break}}else if("or"==n){if(q){l=!0;break}}else{l=q;break}}return l},O3200:function(a,b,c,d,e,f,g,h,k,l){var m=!1;(c=ig.game.strings.trim(c))&&0===c.indexOf("not in")&&(c="not_in"+c.substr(6));if(!k||h instanceof Array&&0<=h.indexOf(k)){k&&(c=ig.game.strings.replaceAll(c,"@"+k+" ",""),c=ig.game.strings.replaceAll(c,'@"'+k+'" ',
""),c=ig.game.strings.trim(c));var n=c.indexOf(" ");-1===n&&-1===this.possibleInteractions.indexOf(c)&&(d.thisType&&(c=d.thisType+" "+c),n=c.indexOf(" "));k=c;h="";0<=n&&(h=c.substr(0,n),0<=this.O7729.indexOf(h)?(k=c.substr(0,n),h=c.substr(n+1)):(d.thisType&&(k=d.thisType),h=c));0<="hasn't isn't they_don't_embody they_don't_wear they_don't_hold they_aren't they_don't_possess they_don't_have_attached not_currently".split(" ").indexOf(k)?d.thisType="":d.thisType=k;0<=c.indexOf("==")||0<=c.indexOf("<")||
0<=c.indexOf(">")||0<=c.indexOf("!=")?m=this.O7610(c,g):"has"==k?m="*"==h||0<=e.indexOf(h):"hasn't"==k?m="*"==h?!e||0==e.length:-1==e.indexOf(h):"is"==k?m="*"==h||"true"==h||0<=f.indexOf(h):"isn't"==k?m="*"==h?!f||0==f.length:"false"==h||!this.O2816(h)&&-1===f.indexOf(h):"currently"==k||"not_currently"==k?(m="*"==h||"true"==h||l&&0<=l.indexOf(h)||"playing"==h&&ig.game.O6858&&ig.game.O6858.isPlaying,0<=k.indexOf("not_currently")&&(m=!m)):"in"==k||"not_in"==
k?(m=this.O5947(ig.game.areaName,h),0<=k.indexOf("not_in")&&(m=!m)):"they_are"==k||"they_aren't"==k?(m="*"==h||"true"==h||ig.game.O4269&&ig.game.O4269.allIs&&0<=ig.game.O4269.allIs.indexOf(h),0<=k.indexOf("aren't")&&(m=!m)):"they_move"==k?(a=["left","right","up","down"],ig.game.O4269&&0<=a.indexOf(h)?(a=ig.game.O4269.vel,m=0>a.x&&"left"==h||0<a.x&&"right"==h||0>a.y&&"up"==h||0<a.y&&"down"==h):m=!1):"they_embody"==k||"they_don't_embody"==k?((a=ig.game.O4269.attachments[ig.game.O7510.slots.BODY])&&
ig.game.O7510.O4053(ig.game.O4269)&&(a=null),m=a&&("*"==h||0<=a.name.toLowerCase().indexOf(h)),0<=k.indexOf("don't")&&(m=!m)):"they_mount"==k||"they_don't_mount"==k?(m=(a=ig.game.O4269.attachments[ig.game.O7510.slots.MOUNTABLE])&&("*"==h||0<=a.name.toLowerCase().indexOf(h)),0<=k.indexOf("don't")&&(m=!m)):"they_wear"==k||"they_don't_wear"==k?(m=(a=ig.game.O4269.attachments[ig.game.O7510.slots.WEARABLE])&&("*"==h||0<=a.name.toLowerCase().indexOf(h))&&
"STACKWEAR"==a.base,0<=k.indexOf("don't")&&(m=!m)):"they_have_attached"==k||"they_don't_have_attached"==k?(m=(a=ig.game.O4269.attachments[ig.game.O7510.slots.WEARABLE])&&("*"==h||0<=a.name.toLowerCase().indexOf(h))&&"DYNATHING"==a.base,0<=k.indexOf("don't")&&(m=!m)):"they_have_equipped"==k||"they_don't_have_equipped"==k?(m=(a=ig.game.O4269.attachments[ig.game.O7510.slots.BRAIN])&&("*"==h||0<=a.name.toLowerCase().indexOf(h)),0<=k.indexOf("don't")&&(m=!m)):"they_hold"==
k||"they_don't_hold"==k?(m=(a=ig.game.O4269.attachments[ig.game.O7510.slots.HOLDABLE])&&("*"==h||0<=a.name.toLowerCase().indexOf(h)),0<=k.indexOf("don't")&&(m=!m)):"they_possess"==k||"they_don't_possess"==k?(m=ig.game.motionDialog&&ig.game.motionDialog.O5364(h),0<=k.indexOf("don't")&&(m=!m)):a==k&&(m=this.O5947(b,h))}return m},O7610:function(a,b){var c=!1;if(!ig.game.motionDialog)return!1;for(var d="== <= >= <> != = > <".split(" "),
e=0;e<d.length;e++){var f=d[e];if(0<=a.indexOf(f)){d=a.split(f);if(2==d.length){for(e=0;e<d.length;e++)if(d[e]=String(d[e]).trim(),d[e]!=parseInt(d[e])&&(0==d[e].indexOf("their ")?(d[e]=d[e].substr(6),d[e]=ig.game.motionDialog.O5057(d[e])):d[e]=void 0!==b[d[e]]?b[d[e]]:0),d[e]==parseInt(d[e]))d[e]=parseInt(d[e]);else return!1;switch(f){case "==":case "=":c=d[0]==d[1];break;case "<>":case "!=":c=d[0]!=d[1];break;case "<=":c=d[0]<=d[1];break;case ">=":c=d[0]>=d[1];break;case "<":c=
d[0]<d[1];break;case ">":c=d[0]>d[1]}}else return!1;break}}return c},O4832:function(a){},O5947:function(a,b){if(null===a||void 0===a)a="";var c=""==b||"*"==b||"true"==b;c||(0===b.indexOf('"')?(b=this.O2041(b),a=this.O2041(a),c=a==b):c=0<=a.indexOf(b));return c},O2041:function(a){if(a&&"string"===typeof a){var b="";a=a.toLowerCase();for(var c=0;c<a.length;c++){var d=a.substr(c,
1);0<="abcdefghijklmnopqrstuvwxyz0123456789-_ ".indexOf(d)&&(b+=d)}a=b=b.trim()}return a},O2037:function(){if(!this.O430){for(var a=new Date,b=localStorage.length-1;0<=b;b--){var c=localStorage.key(b);if(0===c.indexOf("interacting_")){var d=localStorage.getItem(c);d&&(d=JSON.parse(d),d.dateSaved?this.getDaysDifferenceBetween(new Date(d.dateSaved),a)>this.maxDaysToKeepStates&&localStorage.removeItem(c):localStorage.removeItem(c))}}this.O430=
!0}},getDaysDifferenceBetween:function(a,b){var c=Math.abs(b.getTime()-a.getTime());return Math.floor(c/864E5)},O4814:function(a){this.O2037();var b=this.O4967(a);if(b&&(b=localStorage.getItem(b)))b=JSON.parse(b),b.allHas&&b.allHas instanceof Array&&(a.allHas=b.allHas),b.allIs&&b.allIs instanceof Array&&(a.allIs=b.allIs),b.allNumber&&(a.allNumber=b.allNumber),b.lastTimerDateInSec&&(a.lastTimerDateInSec=b.lastTimerDateInSec)},O6873:function(a){var b=
this.O4967(a);if(b){var c={};a.allIs&&1<=a.allIs.length&&(c.allIs=a.allIs);a.allHas&&1<=a.allHas.length&&(c.allHas=a.allHas);a.allNumber&&1<=ml.Misc.O4361(a.allNumber)&&(c.allNumber=a.allNumber);a.lastTimerDateInSec&&(c.lastTimerDateInSec=a.lastTimerDateInSec);c.allIs||c.allHas||c.allNumber||c.lastTimerDateInSec?(c.dateSaved=ig.game.strings.O6583(),ig.game.O914.setItem(b,JSON.stringify(c))):localStorage.removeItem(b);this.O4407()}},
deleteStoreDataOfEntity:function(a,b){var c=this.O4967({thingTypeId:a.id,O5309:b});c&&(localStorage.removeItem(c),this.O4407())},O4967:function(a){var b=null;a.O5309&&(b="interacting_"+ig.game.O172.O6722+"_"+ig.game.O172.currentArea+"_"+a.O5309.x+"_"+a.O5309.y+"_"+a.thingTypeId);return b},O6282:function(a){a=ig.game.strings.replaceAll(a,"someone at countdown 0",
"someone finishes_countdown");a=ig.game.strings.replaceAll(a,"someone finishes countdown","someone finishes_countdown");a=ig.game.strings.replaceAll(a,"someone at countdown","someone at_countdown");for(var b=0;b<this.someoneVerbs.length;b++){var c=this.someoneVerbs[b];if(0<=c.indexOf("_")){var c="someone "+c+" ",d=ig.game.strings.replaceAll(c,"_"," ");a=ig.game.strings.replaceAll(a,d,c)}}return a},O5702:function(a){var b;a&&(a=a.toLowerCase());a=this.O6282(a);for(var c=
/@("[^"]+"|\S+)/g,d=[];b=c.exec(a);)d.push(b[1].replace(/\"/g,""));for(b=0;b<this.someoneVerbs.length;b++){var c=this.someoneVerbs[b],e="someone "+c;-1==this.O6814.indexOf(c)&&(e+=" ");0<=a.indexOf(e)&&d.push("someone_"+c)}var f=[];jQuery.each(d,function(a,b){-1===jQuery.inArray(b,f)&&f.push(b)});return f},O4729:function(a){var b=!1;if(a&&1<=a.length)for(var c=0;c<a.length;c++)if(0===String(a[c]).toLowerCase().indexOf("someone")){b=!0;break}return b},O5038:function(a,
b,c){if(a&&a.O4102&&b&&(c||0<=this.O6814.indexOf(b)))if(a=this.O5792(b,c))for(var d=0;d<a.length;d++)a[d].O1315(b,c)},O955:function(a,b,c,d,e,f,g,h,k,l,m,n,p,q,s){if(b=this.O7021(b)){var r=ig.game.O4269&&ig.game.O4269.O2031("disablesInteracting");if(c){var v=b.font;q&&void 0!==ig.game.availableFonts[q]&&b.setFont(q);this.O4412(c)?
this.O7795(a,c):(q=0===c.indexOf("http://")||0===c.indexOf("https://")?c:null,b.O6433(),b.O6575.O5804(ig.game.O6401.O7035(c),q,!0,void 0,b.font),b.O6586=new ml.Timer)}d&&b.O4753(d,a.O2507);if(e)for(c=0;c<e.length;c++)d=e[c],d.is&&b.O5636(d.is),d.isnt&&b.removeFromAllIs(d.isnt);f&&b.O8428(f);g&&b.O6843(g);h&&(b.allNumber=h);n&&(n==parseInt(n)&&1<=n&&n<=this.O3239&&
!r)&&b.O2273(n);k&&(b.O4591&&b.O7664(a),b.O2802(k,l));m&&b.O5320(ig.game.O4269)<ig.system.widthHalf&&ig.game.sounds.O7220(m);p&&!r&&b.O1838(a,p);b.O4425(a);s&&b.setFont(v)}},O7795:function(a,b){a&&(b=this.O5693(b),b=this.O7035(b),a.say(b))},O7035:function(a){if(a&&"string"===typeof a){for(var b=a.length,c="",d=!1,e=null,f=0;f<b;f++){var g=e,e=a.substr(f,1);
"*"==e&&"*"==g?d=!d:d&&(e=e.toUpperCase());c+=e}a=ig.game.strings.replaceAll(c,"**","")}return a},O4412:function(a){return a&&"string"===typeof a&&3<=a.length&&"{"==a.substr(0,1)&&2<=a.indexOf("}")},O5693:function(a){var b=null;this.O4412(a)&&(b=a.indexOf("}"),b=a.substr(1,b-1));return b},O4289:function(){return ig.game.areaGlobalInteractingId},O3442:function(){return ig.game.O3501.O6307?
ig.game.O3501.O6307.id:null},O7021:function(a){var b=null;if(a){if(a==this.O4289())return ig.game.O2944;if(a==this.O3442())return ig.game.O3501.O6307;var c=ig.game.O413.betweenDefaultAndPlayer;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(e instanceof EntityInteract&&!e._killed&&e.O276==a){b=e;break}}}return b},O650:function(a,
b){var c=ig.game.O413.default;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(!e._killed&&e.O4305&&a.touches(e)){e.O5736=b;break}}},O4407:function(){ig.game.isEditorHere&&1<=jQuery("#interactingStatesWrapper").length&&this.showPlayerStates()},O2210:function(){var a=ig.game.O413.betweenDefaultAndPlayer;if(a)for(var b=0;b<a.length;b++){var c=a[b];c instanceof EntityInteract&&!c._killed&&c.O3696()}},
showPlayerStates:function(){if(ig.game.isEditorHere){this.O2210();ig.game.alertDialog.close();for(var a="<p>My states in "+ig.game.strings.O4334(ig.game.O966)+"</p>",a=a+'<div class="interactingStatesSection"><strong>YOU</strong>: <span class="interactingStateTypeOf">THEY ARE</span><br/>',b="",c=0;c<ig.game.O4269.allIs.length;c++)var d=ig.game.O4269.allIs[c],e="'"+ig.game.strings.O4334(d)+"'",b=b+'<div class="interactingState">',b=b+ig.game.strings.O4334(d),
b=b+('&nbsp; <span class="pseudolink" style="color: #a55; text-decoration: none" onclick="javascript:ig.game.O6401.O5255('+e+')">x</span>'),b=b+"</div>";b||(a+='<div class="interactingStateEmpty">-</div>');a+=b;a+="</div>";a+='<div id="interactingStates"></div>';a='<div id="interactingStatesWrapper">'+a+"</div>";ig.game.alertDialog.open(a,!0,void 0,void 0,void 0,!0,void 0,!0);this.O5718()}},O2737:function(a,b,c){var d=localStorage.getItem(c);
d&&(d=JSON.parse(d),"is"==a&&d.allIs?(a=d.allIs.indexOf(b),0<=a&&d.allIs.splice(a,1)):"has"==a&&d.allHas&&(a=d.allHas.indexOf(b),0<=a&&d.allHas.splice(a,1)),d.allIs&&1<=d.allIs.length||d.allHas&&1<=d.allHas.length?(d.dateSaved=ig.game.strings.O6583(),ig.game.O914.setItem(c,JSON.stringify(d))):localStorage.removeItem(c));if(a=ig.game.O413.betweenDefaultAndPlayer)for(b=0;b<a.length;b++)if(d=a[b],d instanceof EntityInteract&&!d._killed&&this.O4967(d)==
c){d.allHas=[];d.allIs=[];d.allNumber={};d.lastTimerDateInSec=null;this.O4814(d);break}ig.game.sounds.bin.play();this.showPlayerStates()},O5718:function(){for(var a=function(a,b,c){var d="";if(b&&0<b.length)for(var d=d+('<span class="interactingStateTypeOf">'+a.toUpperCase()+"</span><br/>"),e=0;e<b.length;e++)var f="'"+a+"','"+ig.game.strings.O4334(b[e])+"','"+ig.game.strings.O4334(c)+"'",d=d+'<div class="interactingState">',d=d+ig.game.strings.O4334(b[e]),
d=d+('&nbsp; <span class="pseudolink" style="color: #a55; text-decoration: none" onclick="javascript:ig.game.O6401.O2737('+f+')">x</span>'),d=d+"</div>";return d},b=localStorage.length-1;0<=b;b--){var c=localStorage.key(b);if(0===c.indexOf("interacting_")){var d=c.split("_"),e=d[d.length-1];if(d[1]==ig.game.O172.O6722&&d[2]==ig.game.O172.currentArea&&e){var f=ig.game.O4961.getItemBasic(e,"int_load_show");f.basicDataLoading.done(function(){if(f.name){var b;
b=""+('<div class="interactingStatesSection"><strong>'+ig.game.strings.O4334(f.name.toUpperCase())+"</strong>: ");var d=localStorage.getItem(c);if(d)try{var d=JSON.parse(d),e=a("is",d.allIs,c),l=a("has",d.allHas,c),m=[];e&&m.push(e);l&&m.push(l);b+=m.join("<br/>");d.allNumber&&(b+=JSON.stringify(d.allNumber))}catch(n){}jQuery("#interactingStates").append(b+"</div>")}})}}}},O6672:function(a){a=ig.game.strings.replaceAll(a,"theyare ","");a=ig.game.strings.replaceAll(a,"!",
"");ig.game.O4269.O5636(a.trim().toLowerCase())},O921:function(a){ig.game.sounds.bin.play();a=ig.game.strings.replaceAll(a,"theyarent ","");a=ig.game.strings.replaceAll(a,"!","");ig.game.O4269.removeFromAllIs(a.trim().toLowerCase())},O5255:function(a){ig.game.O4269.removeFromAllIs(a);ig.game.sounds.bin.play();ig.game.O6401.showPlayerStates()},O667:function(a){var b=!1;if(a&&"string"===typeof a&&(a=a.toLowerCase(),
0<=a.indexOf("approaches ")||0<=a.indexOf("approaches:")||0<=a.indexOf("approached ")||0<=a.indexOf("approached:")||0<=a.indexOf("nears ")||0<=a.indexOf("nears:")||0<=a.indexOf("neared ")||0<=a.indexOf("neared:")||0<=a.indexOf("reaches ")||0<=a.indexOf("reaches:")||0<=a.indexOf("reached ")||0<=a.indexOf("reached:")||0<=a.indexOf("views ")||0<=a.indexOf("views:")||0<=a.indexOf("viewed ")||0<=a.indexOf("viewed:")||0<=a.indexOf("hits ")||0<=a.indexOf("hits:")))try{var c=this.O171(a,[]);if(c)for(var d=
0;d<c.length;d++){var e=c[d];if(e.condition&&(0<=e.condition.toLowerCase().indexOf("approaches")||0<=e.condition.toLowerCase().indexOf("approached")||0<=e.condition.toLowerCase().indexOf("nears")||0<=e.condition.toLowerCase().indexOf("neared")||0<=e.condition.toLowerCase().indexOf("reaches")||0<=e.condition.toLowerCase().indexOf("reached")||0<=e.condition.toLowerCase().indexOf("views")||0<=e.condition.toLowerCase().indexOf("viewed")||0<=e.condition.toLowerCase().indexOf("hits"))){b=!0;break}}}catch(f){console.log("Guarded against Interacting parse error.",
a)}return b},O1032:function(a){var b=!1;if(a&&1<=a.length)for(var c=0;c<a.length;c++){var d=a[c];if(d.condition&&("enters"==d.condition||0<=d.condition.indexOf("enters ")||0<=d.condition.indexOf(" enters")||"entered"==d.condition||0<=d.condition.indexOf("entered ")||0<=d.condition.indexOf(" entered"))){b=!0;break}}return b},O2009:function(a){for(var b=0;b<this.O7819.length;b++){var c=this.O7819[b],d=c.substr(0,c.length-1);a=ig.game.strings.replaceAll(a,
"/"+d+" ","/"+c+" ")}return a},O4174:function(a,b){for(var c=!1,d=0;d<a.length&&!c;d++)c=0<=a[d][1].indexOf(b);return c},O7786:function(){var a=!1;ig.game.O707&&(ig.game.O4269&&ig.game.O4269.O3592?ig.game.O4269.O6233&&(a=ig.game.O4269.O6233>=ig.game.O4269.O3592):a=!0);return a},O7412:function(a,b){window.consoleref.clear();var c=[];if(b)for(var c=ig.game.O5662(b),
d=0;d<c.length;d++)c[d][0]=c[d][1]+" [reference found]";if(c=this.O171(a,c))for(var e=-1,d=0;d<c.length;d++){var f=c[d],g=f.context;delete f.interactionBased;delete f.context;var h=JSON.stringify(f);3<=h.length&&(h=h.substr(1,h.length-2));g&&(h="    "+h);(e&&e!=g||0<=h.indexOf('"setContext"'))&&window.consoleref.log("");window.consoleref.log(h);e=f.context}}})});ig.baked=!0;
ig.module("game.core.settings").defines(function(){window.Settings=ig.Class.extend({doPlaySound:!0,showMainUI:!0,fullscreen:!1,alwaysOnTop:!1,travelHolderId:null,shortcutWritableId:null,shortcutWearableId:null,panelColor:null,collectedTabItemId:null,createdTabItemId:null,searchTabItemId:null,hideInFriendsList:!1,onlyFriendsCanPingUs:!1,blockImagePastes:!1,blockVideoPastes:!1,keyboardCountry:null,disallowSandboxItemsByOthers:!1,hidePainterBack:!1,usePanelColorForOtherDialogs:!1,showBlockedPeopleSpeech:!1,
photosensitiveGuard:!1,guardToTeleports:!1,glueWearable:!1,glueHoldable:!1,glueMountable:!1,wearablePlusFollows:!1,"default":{},O2946:null,init:function(){this.default={doPlaySound:this.doPlaySound,showMainUI:this.showMainUI,fullscreen:this.fullscreen,alwaysOnTop:this.alwaysOnTop,travelHolderId:this.travelHolderId,shortcutWritableId:this.shortcutWritableId,shortcutWearableId:this.shortcutWearableId,panelColor:this.panelColor,collectedTabItemId:this.collectedTabItemId,createdTabItemId:this.createdTabItemId,
searchTabItemId:this.searchTabItemId,hideInFriendsList:this.hideInFriendsList,onlyFriendsCanPingUs:this.onlyFriendsCanPingUs,blockImagePastes:this.blockImagePastes,blockVideoPastes:this.blockVideoPastes,keyboardCountry:this.keyboardCountry,disallowSandboxItemsByOthers:this.disallowSandboxItemsByOthers,hidePainterBack:this.hidePainterBack,usePanelColorForOtherDialogs:this.usePanelColorForOtherDialogs,showBlockedPeopleSpeech:this.showBlockedPeopleSpeech,photosensitiveGuard:this.photosensitiveGuard,
guardToTeleports:this.guardToTeleports,glueWearable:this.glueWearable,glueHoldable:this.glueHoldable,glueMountable:this.glueMountable,wearablePlusFollows:this.wearablePlusFollows}},O3672:function(){if(this.O2946){for(var a in this.O2946)this.set(a,this.O2946[a],!0);this.alwaysOnTop&&this.fullscreen&&(this.alwaysOnTop=!1);this.O2946=null;this.O2514();this.panelColor&&ig.game.O5405.O4583(this.panelColor);this.fullscreen&&
this.setToFullscreen();ig.game.O884.setKeyboardCountry(this.keyboardCountry)}},O2514:function(){ig.ua.steam||(this.alwaysOnTop=this.fullscreen=!1);ig.ua.mobile&&(this.showMainUI=!0);ig.game.camera.setOffset()},set:function(a,b,c,d){this.default.hasOwnProperty(a)?this[a]!=b&&(this[a]=b,this.O2514(),c?d&&d():this.save(a,d)):console.warn('Setting name "'+a+'" does not exist, ignored.')},clear:function(a){this.set(a,null)},save:function(a,
b){this[a]==this.default[a]?ig.game.O7421.O2836(a,null).done(function(a){b&&b()}):ig.game.O7421.O2836(a,this[a]).done(function(a){b&&b()})},O1356:function(){ig.game.settings.set("collectedTabItemId",null,!0);ig.game.settings.set("createdTabItemId",null,!0);ig.game.settings.set("searchTabItemId",null,!0);ig.game.O7421.O2836("collectedTabItemId",null).done(function(a){ig.game.O7421.O2836("createdTabItemId",null).done(function(a){ig.game.O7421.O2836("searchTabItemId",
null).done(function(a){})})})},O7513:function(a){this.doPlaySound&&ig.game.sounds.shortWhoosh.play();this.set("doPlaySound",!this.doPlaySound);this.doPlaySound&&ig.game.sounds.success.play();a&&ig.game.O4269.say("sound is now "+(this.doPlaySound?"on":"off"));this.doPlaySound||(ig.game.panelSet.musicPlayer.O4602&&ig.game.panelSet.musicPlayer.O4192(),ig.game.mediaDialog.O3628&&ig.game.mediaDialog.O4192())},O4658:function(){this.set("showMainUI",!this.showMainUI)},
toggleAlwaysOnTop:function(){!this.alwaysOnTop&&this.fullscreen?(ig.game.settings.set("fullscreen",null,!0),ig.game.settings.set("alwaysOnTop",!0,!0),ig.game.O7421.O2836("fullscreen",ig.game.settings.fullscreen).done(function(a){ig.game.O7421.O2836("alwaysOnTop",ig.game.settings.alwaysOnTop).done(function(a){})})):(this.set("alwaysOnTop",!this.alwaysOnTop),this.O2181())},O2181:function(){ig.game.steamManager.setWindowAlwaysOnTop(Boolean(this.alwaysOnTop))},
setToFullscreen:function(){ig.ua.steam&&!this.alwaysOnTop&&!ig.game.steamManager.isWindowFullScreen()&&(this.set("fullscreen",!0),ig.game.steamManager.setWindowFullScreen(!0),window.location.reload())},toggleFullscreen:function(){if(ig.ua.steam){var a=ig.game.steamManager.isWindowFullScreen();(a=!a)&&this.alwaysOnTop?(this.set("alwaysOnTop",!1,!0),ig.game.steamManager.setWindowAlwaysOnTop(!1),ig.game.O7421.O2836("alwaysOnTop",!1).done(function(b){ig.game.settings.set("fullscreen",a);
ig.game.steamManager.setWindowFullScreen(a);window.location.reload()})):(this.set("fullscreen",a),ig.game.steamManager.setWindowFullScreen(a),window.location.reload())}},openDialog:function(){ig.game.alertDialog.close();var a;a='<div style="text-align: left; margin-left: 12px; margin-right: 12px">'+this.O4147("playSounds","play sounds","ctrl+m","ig.game.settings.O7513()",this.doPlaySound);ig.game.isFullAccount&&(a+=this.O4147("guardToTeleports",'To-teleports end with "!"',
null,"ig.game.settings.O2590()",this.guardToTeleports));a+=this.O8433("Display");ig.game.isFullAccount&&(a+=this.O4147("showMainUI","show icons",null,"ig.game.settings.O4658()",this.showMainUI));if(ig.ua.steam&&!ig.ua.isSteamBigPictureMode){var b=ml.Misc.O1098();a+=this.O4147("fullscreen","fullscreen","f11","ig.game.settings.toggleFullscreen()",b);b||(a+=this.O4147("alwaysOnTop","always on top",null,"ig.game.settings.toggleAlwaysOnTop()",
this.alwaysOnTop))}!ig.ua.mobile&&!ig.ua.isSteamBigPictureMode&&(a+=this.O4147("extraZoom","extra zoom",null,"ig.game.settings.O5310()","true"==localStorage.extraZoom));ig.game.isFullAccount&&(a+=this.O4147("hidePainterBack","Flat-colored create canvas",null,"ig.game.settings.O3039()",this.hidePainterBack),this.panelColor&&(a+=this.O4147("usePanelColorForOtherDialogs","Use panel color for other dialogs",null,"ig.game.settings.toggleUsePanelColorForOtherDialogs()",
this.usePanelColorForOtherDialogs)));!ig.ua.mobile&&!ig.ua.steam&&(a+=this.O4147("showAd","show ads",null,"ig.game.settings.O4124()","true"!=localStorage.closeAd));a+=this.O4147("photosensitiveGuard","Guard against some flicker & visuals",null,"ig.game.settings.O2886()",this.photosensitiveGuard);ig.game.isFullAccount&&(a+=this.O8433("People"),a+=this.O4147("onlyFriendsCanPingUs","only get pings from friends",null,"ig.game.settings.O3695()",
this.onlyFriendsCanPingUs),a+=this.O4147("hideInFriendsList","appear in friends lists",null,"ig.game.settings.O370()",!this.hideInFriendsList),a+=this.O4147("showBlockedPeopleSpeech","Show blocked people's speech",null,"ig.game.settings.O7801()",this.showBlockedPeopleSpeech));a+=this.O8433("Media");ig.game.isFullAccount&&(a+=this.O4147("blockImagePastes","show pasted images",null,"ig.game.settings.O2842()",
!this.blockImagePastes),a+=this.O4147("blockVideoPastes","show pasted videos",null,"ig.game.settings.O1402()",!this.blockVideoPastes));a+=this.O8148();ig.game.isFullAccount||(a+='<p style="opacity: .5">(There\'s more here when you <span class="pseudolink" onclick="ig.game.bottomMenu.showLoginDialog()">login</span>)</p>');a+="</div>";ig.game.alertDialog.open({html:a})},O8148:function(){var a,b=[null,"france","germany","italy","spain",
"uk","usa"];a=""+this.O8433("Keyboard");a+='<select id="keyboardCountry" style="font-family: \'Press Start 2P\', arial, helvetica, sans-serif; width: 100%; padding: 5px" onchange="ig.game.settings.setKeyboardCountry()">';for(var c=0;c<b.length;c++){var d=b[c],e=(d?d:"default").toUpperCase();a+='<option value="'+(d?d:"")+'"'+(d==this.keyboardCountry?" selected":"")+">"+e+"</option>";null===d&&(a+='<option disabled="disabled"></option>')}return a+"</select>"},setKeyboardCountry:function(){var a=
jQuery("#keyboardCountry").val();""==a&&(a=null);this.set("keyboardCountry",a);ig.game.O884.setKeyboardCountry(a);ig.game.sounds.success.play();setTimeout(function(){ig.game.alertDialog.close()},250)},O8433:function(a){return'<div style="margin-top: 30px; margin-bottom: 5px; color: rgba(0,0,0,0.65); text-transform: uppercase;">'+ig.game.strings.O4334(a)+"</div>"},O370:function(){jQuery("#hideInFriendsListInfo").html("");var a=this;this.set("hideInFriendsList",
!this.hideInFriendsList,void 0,function(){ig.game.sounds.success.play();ig.game.O4120.O4901(ig.game.O4269.O2507).done(function(b){b=b&&!b.unfindable;a.hideInFriendsList&&b?ig.game.O7421.O3855(a).done(function(a){jQuery("#hideInFriendsListInfo").html("Findability has now also been disabled");ig.game.friendsDialog.unfindable=!0}):!a.hideInFriendsList&&!b&&ig.game.O7421.O3855(a).done(function(a){jQuery("#hideInFriendsListInfo").html("Findability has now also been enabled");
ig.game.friendsDialog.unfindable=!1})})})},O5310:function(){"true"==localStorage.extraZoom?delete localStorage.extraZoom:localStorage.extraZoom="true";ig.game.O5211.fadeInShroud(function(){window.location.reload()})},O4124:function(){ig.game.hasMinfinity?(localStorage.closeAd="true"==localStorage.closeAd?"false":"true",window.location.reload()):(ig.game.alertDialog.close(),ig.game.iapDialogManager.O5267())},O3695:function(){this.set("onlyFriendsCanPingUs",
!this.onlyFriendsCanPingUs)},O2842:function(){this.set("blockImagePastes",!this.blockImagePastes)},O1402:function(){this.set("blockVideoPastes",!this.blockVideoPastes)},toggleDisallowSandboxItemsByOthers:function(){this.set("disallowSandboxItemsByOthers",!this.disallowSandboxItemsByOthers,void 0,function(){window.location.reload()})},O3039:function(){this.set("hidePainterBack",!this.hidePainterBack);ig.game.painter.isRunning&&ig.game.painter.update()},
toggleUsePanelColorForOtherDialogs:function(){this.set("usePanelColorForOtherDialogs",!this.usePanelColorForOtherDialogs)},O7801:function(){this.set("showBlockedPeopleSpeech",!this.showBlockedPeopleSpeech)},O2886:function(){this.set("photosensitiveGuard",!this.photosensitiveGuard,void 0,function(){window.location.reload()})},O2590:function(){this.set("guardToTeleports",!this.guardToTeleports)},O947:function(){this.set("wearablePlusFollows",
!this.wearablePlusFollows,void 0,function(){ig.game.sounds.success.play();setTimeout(function(){window.location.reload()},750)})},O2477:function(a){switch(a){case "wearable":this.set("glueWearable",!this.glueWearable);break;case "holdable":this.set("glueHoldable",!this.glueHoldable);break;case "mountable":this.set("glueMountable",!this.glueMountable);break;default:console.log("False O2477 parameter",a)}},getGlue:function(a){var b=!1;switch(a){case "wearable":case "w":(b=this.glueWearable)&&
(ig.game.O4269&&!ig.game.O4269.attachments.w)&&(b=!1);break;case "holdable":case "h":(b=this.glueHoldable)&&(ig.game.O4269&&!ig.game.O4269.attachments.h)&&(b=!1);break;case "mountable":case "m":(b=this.glueMountable)&&(ig.game.O4269&&!ig.game.O4269.attachments.m)&&(b=!1);break;default:console.log("Ignoring unknown getGlue parameter",a)}return b},O4147:function(a,b,c,d,e){var f="";c&&!ig.ua.mobile&&(f=' &nbsp; <span style="opacity: .5">'+ig.game.strings.O4334(c)+
"</span></label>");c=ig.game.staticResourcePrefix+"media/checkbox/"+(e?"on":"off")+"/"+Math.min(ig.system.scale,5)+".png";e="";this.O1286(a)&&(e=' <span style="text-decoration: underline; opacity: 0.5" onclick="'+("event.stopPropagation();window.event.cancelBubble=true;ig.game.settings.showHelpEntry('"+ig.game.strings.O4334(a)+"')")+'">(?)</span> ');return'<p class="disableContentSelect" style="background-color: rgba(255,255,255,.5); border-radius: 8px; cursor: default" onclick="ig.game.settings.toggleCheckbox(\''+
a+"');"+d+'"><img src="'+c+'" alt="" id="checkbox_'+a+'" /> '+ig.game.strings.O4334(b)+f+e+'<span id="'+a+'Info" style="display: inline-block; opacity: .5; margin-left: 28px; font-size: 90%"></span></p>'},showHelpEntry:function(a){ig.game.alertDialog.close();ig.game.alertDialog.open(this.O1286(a),!0,function(){setTimeout(function(){ig.game.settings.openDialog()},10)},void 0,void 0,!0)},O1286:function(a){var b=null;switch(a){case "disallowSandboxItemsByOthers":b="<p>Automations are Iframe-sandboxed JavaScripts of the type Happening, Brain, Changer and Generator. They are powerful but safeguarded as we use a separate domain, and browser security that tries disabling their connections to outside websites (as long as the developer console isn't open).</p>";
break;case "photosensitiveGuard":b="<p>This setting disables many Dynamic Shapes and Imgur embeds.<br/>It unfortunately can't disable all flicker and similar.</p><p><em>A very small percentage of individuals may experience epileptic seizures when exposed to certain light patterns or flashing lights. Exposure to certain patterns or backgrounds on a computer screen, or while playing games, may induce an epileptic seizure in these individuals. Certain conditions may induce previously undetected epileptic symptoms even in persons who have no history of prior seizures or epilepsy.</p><p><em>If you, or anyone in your family, have an epileptic condition, consult your physician prior to using Manyland. If you experience any of the following symptoms while playing a video or game &#8211; dizziness, altered vision, eye or muscle twitches, loss of awareness, disorientation, any involuntary movement, or convulsions &#8211; immediately discontinue use and consult your physician before resuming.</em></p>"}return b},
toggleCheckbox:function(a){var b=jQuery("#checkbox_"+a).attr("src"),b=0<=b.indexOf("/off/")?ig.game.strings.replaceAll(b,"/off/","/on/"):ig.game.strings.replaceAll(b,"/on/","/off/");jQuery("#checkbox_"+a).attr("src",b);ig.game.sounds.click.play()},O2618:function(){var a=null;if(this.panelColor){var b;switch(this.panelColor){case "red":b=[236,58,58];break;case "green":b=[84,207,84];break;case "cyan":b=[53,198,198];break;case "blue":b=[79,108,255];break;case "purple":b=[126,51,255];break;
case "black":b=[54,54,54];break;case "yellow":b=[214,214,39];break;case "white":b=[255,255,255];break;case "orange":b=[233,154,21];break;case "pink":b=[237,65,148]}a=ml.Misc.O22([204,204,204]);b=ml.Misc.O22(b);b.saturation*=0.3;b.value=a.value;b.value+=20;"black"==ig.game.settings.panelColor?b.value-=75:"white"==ig.game.settings.panelColor&&(b.value+=50);b.value=ml.Misc.O5179(b.value,0,255);a=ml.Misc.O1674(b)}return a}})});ig.baked=!0;
ig.module("game.core.linermanager").defines(function(){window.LinerManager=ig.Class.extend({collectIntervalSeconds:0.05,O7129:0.2,O897:null,O2355:null,O2766:null,O2765:20,update:function(){var a=ig.game.O4269;if(a&&a.O342()&&!ig.game.O7188.O2176FromMap&&!ig.game.O500Binable&&!ig.game.O2571()&&(!ig.game.holderDialog||!ig.game.holderDialog.isOpen)&&(!ig.game.virtualJoystick||!ig.game.virtualJoystick.O3912())){var b=
a.attachments.h.lines,c=a.attachments.h.attributes;if(ig.input.released("click"))this.O5667(a,c)?2<=b.length&&!b[b.length-1].isBreak?b.push({isBreak:!0}):b=[]:ig.game.sounds.nocando.play();else if(ig.input.state("click")&&!ig.game.panelSet.O8171()&&!ig.game.O2571()&&this.O5667(a,c)&&(!this.O897||this.O897.delta()>=this.collectIntervalSeconds)){this.O897=new ml.Timer;var d=ig.game.O6099.O4260(),
d=this.O8162(d,c),e=1<=b.length&&!b[b.length-1].isBreak?b[b.length-1]:null;d.x=Math.round(d.x);d.y=Math.round(d.y);var f=ig.game.O7715.O3379(d),f=f?f.thing:null;if((!e||e.x!=d.x||e.y!=d.y)&&this.O4446(f,a.attachments.h.linesData.atKeyword))if(this.O4683(a,d,b,c),b.push(ig.game.O5662(d)),d.x<a.pos.x?a.O2971():a.O6717(),!e||e.isBreak)c=a.attachments.h.name,ig.game.O6401.O1665("line-touches",
c,void 0,d),ig.game.O6401.O5038(ig.game.O4269,"uses",c)}if(!this.O2355||this.O2355.delta()>this.O7129)this.O2355=new ml.Timer,b=this.O1181(b),1<=b.length&&b.length<=this.O2765&&ig.game.O4349.O7252(b);ig.input.pressed("rightclick")&&(a.attachments.h.lines=[],ig.game.O4349.O5605())}},O5667:function(a,b){var c=!1,d=a.attachments.h&&a.attachments.h.linesData?
a.attachments.h.linesData.O1018:null,d=d&&ig.game.O8430.getAttributeIsDangerous(d.attribute);if(ig.game.O8053)switch(ig.game.O2714){case "ANY":c=1<=a.rank&&!d;break;case "CITIZENS":c=!d;break;case "INDIVIDUALS":c=!d||a.isEditorHere}else c=!d;return c},O6844:function(a){var b=!1;a&&(b=(a=a.atKeyword)&&5<=a.length&&"grass"!=a);return b},O1181:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d.isSent||(d.isBreak?b.push(";"):
b.push(Math.round(d.x),Math.round(d.y)),d.isSent=!0)}return b},O1179:function(a,b){var c=ig.game.O8412(a);if(c&&c.O342()&&this.O7758(c,b)){var d=c.attachments.h.lines,e=c.attachments.h.attributes;if(this.O5667(c,e))for(var f=0;f<b.length;f++)if(";"==b[f])d.push({isBreak:!0});else if(f<b.length-1){var g={x:Math.floor(b[f]),y:Math.floor(b[f+1])};this.O4683(c,g,d,e);d.push(g);f++}}},O6169:function(a){if((a=
ig.game.O8412(a))&&a.O342())a.attachments.h.lines=[]},O7758:function(a,b){var c=!0;if(b instanceof Array&&b.length<=this.O3059())for(var d=0;d<b.length;d++){if(!(";"==b[d]||ml.Misc.O3785(b[d]))){c=!1;break}}else c=!1;return c},O3059:function(a,b){var c=250;a&&(a.multiTrail&&(c=Math.floor(0.5*c)),a.thicker?c=Math.floor(0.2*c):a.veryThick?c=Math.floor(0.15*c):a.coloredOutline?c=Math.floor(0.15*c):a.floatingItem&&(c=Math.floor(0.15*
c)));return c},O8162:function(a,b){if(b.snapToGrid||b.snapToBigGrid){var c=b.snapToGrid?ig.game.O1990:ig.game.tileSize;0!=a.x&&(a.x=Math.round(a.x/c)*c);0!=a.y&&(a.y=Math.round(a.y/c)*c)}if(b.drawsRandomly||b.drawsVeryRandomly)a=ig.game.decorator.O8092(a,b.drawsRandomly?2:5);return a},O5625:function(a,b,c,d){if(1<=b.length){if(this.O2766){if(b.length>this.O3059(d,c)||this.O2766.delta()>=this.O5095(d))this.O2766=
new ml.Timer,b[0].isBreak&&b.shift(),1<=b.length&&b.shift()}else this.O2766=new ml.Timer;if(c.O1018){var e=b[ig.game.O5167(0,b.length-1)];e&&!e.isBreak&&(c.O1018.pos={x:e.x-ig.game.O1990,y:e.y-ig.game.O1990},c.O1018.update())}d.pulsates&&this.O4958(c.pulse,30,100);d.shiftsColor&&this.O4958(c.hue,0,255);d.hoverX&&this.O4958(c.hoverX,-10,10);d.hoverY&&this.O4958(c.hoverY,-10,10);this.O6967(b,
c,d);this.O6799(b,d);this.O7141(b,c);this.O7117(a,b,d);this.O6701(a,b,d)}},O6701:function(a,b,c){var d=a.attachments.h.animSheet;if(c.floatingItem)if((c=this.O7265(b))&&d&&d.width){d={x:c.x,y:c.y};b[b.length-1].isBreak||(d.x=Math.floor(d.x),d.y=Math.floor(d.y));if(b=a.attachments.h.pos){var e=10>=Math.abs(d.x-b.x)&&10>=Math.abs(d.y-b.y);2>=Math.abs(d.x-b.x)&&2>=Math.abs(d.y-b.y)?b=d:(e=e?4:10,b.x+=(d.x-
b.x)/e,b.y+=(d.y-b.y)/e)}else b=d;c.offset&&(b.x+=c.offset.x,b.y+=c.offset.y);a.attachments.h.pos=b}else a.attachments.h.pos&&delete a.attachments.h.pos},O7265:function(a){var b=null;if(1<=a.length)for(var c=a.length-1;0<=c;c--)if(!a[c].isBreak){b=a[c];break}return b},O7117:function(a,b,c){a=a.attachments.h.animSheet;if(c.stamps&&a&&a.width)for(c=1;c<b.length;c++){var d=b[c];if(!d.isBreak&&!d.didHandleStamp){d.didHandleStamp=!0;var e=b[c-1];if(ig.game.chance(25)&&!e.didGetStamp){d.didGetStamp=
!0;var f={O1271:2,O4895:100,O5561:2,fadingInc:0.5,vel:{x:-100,y:0},O1018:!1,animSheet:a};e.isBreak||(f.flipX=e.x<d.x);ig.game.O6879(EntitySpot,d.x-a.width/2,d.y-a.height/2,f)}}}},O6833:function(a,b){var c=ig.game.O4961.getItemBasic(b,"liner_inst_env");c.imagesBeingGenerated.done(function(){if(a&&a.attachments&&a.attachments.h&&a.attachments.h.linesData){var b={thingTypeId:c.id,attributes:c.attributes,animSheet:ig.game.entityManager.getAnimationForEntity(c,
0,0),isByLiner:!0};ig.game.entityManager.O6079(c.O7062(),c,b,!0);var e=ig.game.O5662(a.pos);a.attachments.h.linesData.O1018=new ig.global.EntityEnvironm(e.x,e.y,b)}})},O4683:function(a,b,c,d){var e=0==c.length;c=e||c[c.length-1].isBreak;for(var f=ig.game.O5167(0,7),g=1;g<=f;g++){var h=this.O527(a.pos,b);h.x=Math.round(h.x);h.y=Math.round(h.y);this.O309(h)}(e||ig.game.chance(c?50:5))&&ig.game.sounds[this.O3375(d)].play();
c&&(a.O2984=new ml.Timer)},O309:function(a){ig.game.O6879(EntitySpot,a.x,a.y,{O1271:2,O4895:60,O5561:0.5,fadingInc:2,O1018:!1})},O3375:function(a){var b=null;a.brightSounds?b="glimmer":a.darkSounds&&(b="humming");b?(a=ig.game.O5167(1,ig.game.sounds.environmentSounds[b]),b="environment_"+b+"_"+a):b=a.buzzSounds?"laser_carving_"+ig.game.O5167(1,2):a.humSounds?"footfalls_energy":"actionSoft";
return b},O527:function(a,b){var c=Math.random();return{x:(1-c)*a.x+c*b.x,y:(1-c)*a.y+c*b.y}},O4958:function(a,b,c){a.value+=a.vel*ig.game.targetFps*ig.system.tick;a.value<b?(a.vel=Math.abs(a.vel),a.value=b):a.value>c&&(a.vel=-a.vel,a.value=c)},O6799:function(a,b){var c=0;if(b.movesDown||!b.doesntMove)c=b.movesVeryFast?-60*ig.system.tick:b.movesFaster?-18*ig.system.tick:-3*ig.system.tick,b.movesDown&&(c=Math.abs(c));for(var d=0.0175*ig.game.areaAngleDriftVelocity.x,
e=0.0175*ig.game.areaAngleDriftVelocity.y,f=0;f<a.length;f++)if(!a[f].isBreak){var g=a[f],h=f<a.length-1&&!a[f+1].isBreak?a[f+1]:null;b.changesRandomly&&h&&(g.vel||(g.vel={x:ig.game.O5167(-2.25,2.25),y:ig.game.O5167(-2.25,2.25)},Math.abs(g.x-h.x)>=Math.abs(g.y-h.y)?g.vel.y+=g.y<h.y?-3:3:g.vel.x+=g.x<h.x?-3:3),g.x+=g.vel.x*ig.system.tick,g.y+=g.vel.y*ig.system.tick,g.vel.x*=0.99,g.vel.y*=0.99);g.y+=c;b.movesUp?g.y-=c:b.movesDown&&(g.y+=c);ig.game.O6225&&(g.x+=0.01*ig.game.O6225);
g.x+=d;g.y+=e;a[f]=g}},O7141:function(a,b){for(var c=a.length-1;0<=c;c--){var d=a[c];if(!d.isBreak){var e=ig.game.O7715.O3379(d),f=e?e.thing:null;this.O4446(f,b.atKeyword)?e&&e.thing&&"PUSH"==f.base&&(e=this.O7832(e),d.x+=e.x,d.y+=e.y):(this.O309(d),1<=c&&a[c-1].isBreak||c<a.length-2&&a[c+1].isBreak?a.splice(c,1):a[c]={isBreak:!0})}}},O6967:function(a,b,c){if(c.hoverX||c.hoverY)for(var d=0;d<a.length;d++)a[d].isBreak||
(a[d].offset={x:0,y:0},c.hoverX&&(a[d].offset.x=2*Math.sin(b.hoverX.value)),c.hoverY&&(a[d].offset.y=2*Math.sin(b.hoverY.value)))},O7832:function(a){var b={x:0,y:0};if(a.thing.O8207()&&0<=a.rotation&&3>=a.rotation){var b=0.5,c=1.2;a.thing.attributes&&a.thing.attributes.soft&&(b*=0.1,c*=0.4);b=[{x:0,y:-c},{x:b,y:0},{x:0,y:c},{x:-b,y:0}][a.rotation]}return b},O4446:function(a,b){var c=!0;a&&"SOLID"==a.base?c=!1:b&&(c=a&&0<=a.name.indexOf(b));return c},O6595:function(a,
b,c,d,e,f){e=ig.game.O5662(e);f=ig.game.O5662(f);d.shiftsColor&&(e=ml.Misc.O1674({hue:c.hue.value,saturation:1,value:255}),f=ml.Misc.O1674({hue:c.hue.value,saturation:1,value:255}));var g=c.O3992,h=d.shiftsColor||200<=g.value&&!d.coloredOutline,k=10>g.hue&&!d.shiftsColor&&!d.coloredOutline?0.2:0.4;5>=g.value&&(!d.shiftsColor&&!d.coloredOutline)&&(k=0.3);h&&ml.Misc.O1651("lighter");var l=d.noOuterLine?1:0,g=d.noInnerLine?0:1;d.noOuterLine&&
(k*=2);d.thicker?k*=0.6:d.veryThick&&(k*=0.4);d.pulsates&&(k*=0.01*c.pulse.value);d.lineMoreTransparent?k*=0.6:d.lineVeryTransparent&&(k*=0.3);d.coloredOutline&&(k*=0.75);var m,n;for(c=l;c<=g;c++){ig.system.context.beginPath();m=0==c?3:1;d.thicker?m*=2:d.veryThick&&(m*=3);n=0==c?0.5*k:1*k;ig.system.context.lineWidth=m*ig.system.scale;ig.system.context.strokeStyle=0==c&&d.coloredOutline?"rgba("+f.join(",")+","+n+")":"rgba("+e.join(",")+","+n+")";ig.system.context.lineCap="round";for(var l=null,p=0;p<
b.length;p++)if(b[p].isBreak)ig.system.context.stroke(),ig.system.context.beginPath(),l=null;else{var q=b[p].x,s=b[p].y;b[p].offset&&(q+=b[p].offset.x,s+=b[p].offset.y);l?ig.system.context.lineTo(this.O2084(q),this.O6509(s)):ig.system.context.moveTo(this.O2084(q),this.O6509(s));l={x:q,y:s}}1<=b.length&&!b[b.length-1].isBreak&&ig.system.context.stroke()}ig.system.context.closePath();this.O7044(a,b,d,e,m,n);this.O5834(b,d,e);h&&ml.Misc.O13()},O5834:function(a,
b,c){b.causesSparks&&1<=a.length&&(a=a[a.length-1],!a.isBreak&&ig.game.chance(10)&&(b={x:ig.game.O5167(-50,50),y:ig.game.O5167(-50,-100)},c={O4895:100,O5561:1,fadingInc:3,attribute:"lineSparks",O1018:!1,decorative:!1,O199:0.5,rectangle:{width:2,height:2,rgb:c.join(",")},vel:b},ig.game.O6879(EntitySpot,a.x,a.y,c)))},O7044:function(a,b,c,d,e,f){if((c.trail||c.multiTrail||c.doubleTrail)&&a.attachments.h&&a.attachments.h.animSheet&&
a.attachments.h.animSheet.width&&2<=b.length){var g=c.multiTrail?0.3:0.5;ig.system.context.strokeStyle="rgba("+d.join(",")+","+f*g+")";ig.system.context.lineWidth=2*e*ig.system.scale;d=a.O4354();a={x:a.pos.x+d.x+a.avatarMountOffsetForThisFlip.x+a.attachments.h.animSheet.width/2,y:a.pos.y+d.y+a.avatarMountOffsetForThisFlip.y};if(c.trail)c=b[b.length-1],c.isBreak||this.O1908(a,c);else if(c.doubleTrail){d=[null,null];for(e=0;e<b.length;e++)if(c=b[e],!c.isBreak){if(null==
d[0]||c.x<d[0].x)d[0]=c;if(null==d[1]||c.x>d[1].x)d[1]=c}for(e=0;e<d.length;e++)c=d[e],this.O1908(a,c)}else if(c.multiTrail)for(e=0;e<b.length;e++)c=b[e],c.isBreak||(c.didHandleStroke||(c.didHandleStroke=!0,c.doDrawStroke=ig.game.chance(50)),(c.doDrawStroke||0==e||e==b.length-1)&&this.O1908(a,c))}},O1908:function(a,b){a&&(b&&void 0!==a.x&void 0!==b.x)&&(ig.system.context.beginPath(),ig.system.context.moveTo(this.O2084(a.x),this.O6509(a.y)),ig.system.context.lineTo(this.O2084(b.x),
this.O6509(b.y)),ig.system.context.stroke(),ig.system.context.closePath())},O5095:function(a){var b=0.5;a.remainsBrief?b=0.2:a.remainsVeryBrief&&(b=0.075);return b},O2084:function(a){return(a-ig.game._rscreen.x)*ig.system.scale},O6509:function(a){return(a-ig.game._rscreen.y)*ig.system.scale}})});ig.baked=!0;
ig.module("game.core.movermanager").defines(function(){window.MoverManager=ig.Class.extend({textMaxLength:500,O7600:228,commands:{left:1,right:2,up:3,down:4,action:5,O2971:6,O6717:7,roll:8,O8304:9,O4042:10,O771:11,O3828:12,O5818:13,O1800:14,O8045:15,pause:16},nonPackedCommands:{debugInfo:17},commandChars:{left:"<",right:">",up:"^",down:"v",action:"!",pause:".",O2971:"{",O6717:"}",roll:"`",O8304:":",O4042:"-",O771:"+",
O3828:"#",O5818:"_",O1800:"=",O8045:";"},O480:[["_","unattach holdable"],["#","attach holdable"],[";","unattach wearable"],["=","attach wearable"],["+","normal steps"],["-","small steps"],[":","face normal"],["}","face right"],["{","face left"],["`","roll"]],O4449:[["~",".........."],["[","<<<<<<<<<<"],["]",">>>>>>>>>>"],["?","....."],["$","<<<<<"],["@",">>>>>"]],O7553:[],O272:[],O6000:15,
speedFactorDefault:3,O6110:9,O553:100,init:function(){for(var a in this.nonPackedCommands)this.commands[a]=this.nonPackedCommands[a];for(var b=1;b<=this.O6110;b++)a="interactingMessage"+b,this.commands[a]=this.O553+b,this.commandChars[a]=String(b),this.O272.push(this.commands[a]);this.O480=this.O480.concat(this.O4449);this.O7553=[this.commands.left,
this.commands.right,this.commands.up,this.commands.down]},O512:function(a){a.mover.index=-1;a.mover.speedFactor=this.O3612(a);a.mover.commands=this.O1347(a.mover.thing.text);a.mover.health=100;a.mover.attachedHoldable=!0;a.mover.attachedWearable=!0;a.mover.holdable=null;a.mover.wearable=null;a.mover.flipOverride=null;a.mover.stepSize=ig.game.tileSize;a.mover.holdableActionTimer=null;a.mover.touchTimer=null;a.mover.lastMessageTimer=null;a.mover.soundCount=0;a.mover.idPrevious=
a.mover.thing.id},O1716:function(a){this.O6865(a);if(!(0>=a.mover.health)){var b=0;a.mover.thing.attributes&&(a.mover.thing.attributes.diverseTiming&&a.O5309&&void 0!==a.O5309.x)&&(b=3*a.O5309.x+3*a.O5309.y);var c=((ig.game.O1638.milliseconds-1439414E6)/1E3*a.mover.speedFactor+b)%a.mover.commands.length,b=Math.floor(c),c=c-b;a.O2667();var d=a.mover.attachedHoldable,e=a.mover.attachedWearable;a.moveOffset=this.O6855(a);
a.mover.attachedHoldable=!0;a.mover.attachedWearable=!0;a.mover.flipOverride=null;a.mover.stepSize=ig.game.tileSize;a.mover.angle=0;for(var f=-1,g=0;g<=b;g++){var h=a.mover.commands[g];"number"===typeof h&&(h=[h]);for(var k=0;k<h.length;k++){var l=h[k],m=a.mover.stepSize;g==b&&(m*=c);switch(l){case this.commands.left:a.moveOffset.x-=m;f=-1;break;case this.commands.right:a.moveOffset.x+=m;f=1;break;case this.commands.up:a.moveOffset.y-=m;break;case this.commands.down:a.moveOffset.y+=m;break;case this.commands.O2971:a.mover.flipOverride=
!1;f=-1;break;case this.commands.O6717:a.mover.flipOverride=!0;f=1;break;case this.commands.O8304:a.mover.flipOverride=null;break;case this.commands.O4042:a.mover.stepSize=ig.game.O1990;break;case this.commands.O771:a.mover.stepSize=ig.game.tileSize;break;case this.commands.O3828:a.mover.attachedHoldable=!0;break;case this.commands.O5818:a.mover.attachedHoldable=!1;break;case this.commands.O1800:a.mover.attachedWearable=!0;break;case this.commands.O8045:a.mover.attachedWearable=
!1;break;case this.commands.roll:g==b&&(a.mover.angle=2*Math.PI*c,a.mover.angle*=f)}}a.moveOffset.x=ml.Misc.O5179(a.moveOffset.x,-this.O7600,this.O7600);a.moveOffset.y=ml.Misc.O5179(a.moveOffset.y,-this.O7600,this.O7600)}if(h=a.mover.commands[b]){"number"===typeof h&&(h=[h]);a.mover.currentCommands=h;if(b!=a.mover.indexPrevious){0<=h.indexOf(this.commands.debugInfo)&&window.consoleref.log(("mover debug "+b).toUpperCase());(d!==a.mover.attachedHoldable||e!==a.mover.attachedWearable)&&
ig.game.decorator.O7239(a);(0<=h.indexOf(this.commands.left)||0<=h.indexOf(this.commands.right))&&a.O767();if(0<=h.indexOf(this.commands.action)&&(a.mover.attachedHoldable&&(!a.mover.holdableActionTimer||0.25<=a.mover.holdableActionTimer.delta()))&&a.mover.holdable){a.mover.holdableActionTimer=new ml.Timer;if(5>=a.mover.soundCount||ig.game.chance(20))ig.game.sounds.O7086(ig.game.sounds.shortWhoosh,a,4>=a.mover.soundCount?1:0.5),a.mover.soundCount++;a.mover.holdable.attributes&&
(!ig.game.O8430.O7339(a.mover.holdable.attributes)||this.O3019(a))&&ig.game.O4269.O7692(a,!0,a.mover.holdable)}if(!ig.game.O707)for(k=0;k<h.length;k++)if(0<=this.O272.indexOf(h[k])){d=h[k]-this.O553;if((e=ml.Misc.O632(a))&&e.O4102&&(!a.mover.lastMessageTimer||0.5<=a.mover.lastMessageTimer.delta()))a.mover.lastMessageTimer=new ml.Timer,ig.game.O6401.O306(a.pos,
"sees",String(d),a.givenName,a.id);break}a.mover.indexPrevious=b}this.O8359(a,h[0],c,b)}}},O1347:function(a){a=this.O1962(a);var b=[];if(a&&"string"===typeof a)for(var c=[],d=!1,e="",f=0;f<a.length;f++){var g=a.charAt(f);if("("==g)d=!0,c=[];else if(")"==g)d=!1,b.push(c);else{var h=this.O6359(g);if(h)e&&(e=ig.game.strings.O3620(e),this.nonPackedCommands[e]&&b.push(this.commands[e]),e=""),d?c.push(h):b.push(h);else if(h=g.charCodeAt(0),
h=97<=h&&122>=h," "==g||h)e+=g}}e&&(e=ig.game.strings.O3620(e),this.nonPackedCommands[e]&&b.push(this.commands[e]));return b},O6359:function(a){var b=0,c;for(c in this.commands)if(this.commandChars[c]===a){b=this.commands[c];break}return b},O6855:function(a){var b={x:0,y:0};a.animSheet&&a.animSheet.image&&(a=a.animSheet.image.width/9,b.x+=ig.game.tileSize-a,a>ig.game.tileSize&&(b.x+=2));return b},O8359:function(a,b,c,d){a.O1457&&
0<=this.O7553.indexOf(b)&&(3>=a.mover.speedFactor&&0<=c&&0.5>=c||3<a.mover.speedFactor&&0==d%2?b==this.commands.up||b==this.commands.down?(a.O1457=a.anims.climbing,a.O1457.flip.x=!1):a.O1457=a.anims.run:b==this.commands.up||b==this.commands.down?(a.O1457=a.anims.climbing,a.O1457.flip.x=!0):a.O1457=a.anims.main);if(null!==a.mover.flipOverride)a.O1457&&(a.O1457.flip.x=a.mover.flipOverride);else switch(b){case this.commands.left:a.O1457&&
(a.O1457.flip.x=!1);break;case this.commands.right:a.O1457&&(a.O1457.flip.x=!0)}},O6865:function(a){if(a.mover.lastDiedTimer)a.mover.lastDiedTimer.delta()>this.O6000&&(a.mover.health=100,a.mover.lastDiedTimer=null,a.O1923(),ig.game.sounds.O7086(ig.game.sounds.whoosh,a,0.75));else if(0==a.mover.health){a.O1923();a.mover.lastDiedTimer=new ml.Timer;var b={O198:a};b.O1117={x:100*(ig.game.chance(50)?-1:1),y:-400};ig.game.O6879(EntityGhost,
a.pos.x,a.pos.y,b);ig.game.sounds.O7086(ig.game.sounds.die,a,0.75)}!a.mover.lastDiedTimer&&100>a.mover.health&&(a.mover.health+=2*ig.system.tick,100<a.mover.health&&(a.mover.health=100))},O1422:function(a){a=a.toLowerCase();for(var b=0;b<this.O480.length;b++)a=ig.game.strings.replaceAll(a,this.O480[b][1],this.O480[b][0]);return a},O7366:function(a){a=a.toLowerCase();for(var b=0;b<this.O480.length;b++)a=
ig.game.strings.replaceAll(a,this.O480[b][0],this.O480[b][1]);return a=a.toUpperCase()},O3612:function(a){var b=this.speedFactorDefault;a.mover.thing.attributes&&(a.mover.thing.attributes.verySlow&&(b=1),a.mover.thing.attributes.slow?b=2:a.mover.thing.attributes.fast?b=5:a.mover.thing.attributes.veryFast?b=7:a.mover.thing.attributes.fastest&&(b=8));return b},O3043:function(a,b,c){a.mover.attachedHoldable&&(b=a.mover.holdable,b.O1457&&
(b.animSheet.image&&b.animSheet.image.width&&a.O1457)&&a.O1457!=a.anims.climbing&&(a.mover.holdableActionTimer&&0.125>=a.mover.holdableActionTimer.delta()?a.O1457.flip.x?(b.O1457.pivot.x=0,b.O1457.pivot.y=b.animSheet.image.height,b.O1457.angle=a.O1457.angle+7*a.mover.holdableActionTimer.delta()):(b.O1457.pivot.x=b.animSheet.image.width,b.O1457.pivot.y=b.animSheet.image.height,b.O1457.angle=a.O1457.angle-7*a.mover.holdableActionTimer.delta()):
(b.O1457.pivot.x=b.animSheet.image.width/2,b.O1457.pivot.y=b.animSheet.image.height/2,b.O1457.angle=a.O1457.angle),b.O1457.flip.x=a.O1457.flip.x,b.O1457.draw(a.pos.x-a.offset.x-ig.game._rscreen.x+5,a.pos.y-a.offset.y-ig.game._rscreen.y+5)))},O6556:function(a,b,c){a.mover.attachedWearable&&(b=a.mover.wearable,b.O1457&&(b.animSheet.image&&b.animSheet.image.width&&a.O1457)&&(a.O1457==a.anims.climbing||a.O1457==a.anims.climbingidle?
(b.O1457=b.anims.back,b.O1457.flip.x=!1):(b.O1457=b.anims.normal,b.O1457.flip.x=b.attributes&&b.attributes.nonFlipping?!1:a.O1457.flip.x),c=ig.game.O7510.O1856(a,b),b.O1457.draw(a.pos.x-a.offset.x-ig.game._rscreen.x+c.x,a.pos.y-a.offset.y-ig.game._rscreen.y+c.y)))},O1962:function(a){a=ig.game.strings.replaceAll(a,"  "," ");a=ig.game.strings.replaceAll(a,"\r\n","");a=ig.game.strings.replaceAll(a,"\r","");a=ig.game.strings.replaceAll(a,
"\n","");a=a.toLowerCase();for(var b=0;b<this.O4449.length;b++)a=ig.game.strings.replaceAll(a,this.O4449[b][0],this.O4449[b][1]);return a},O6101:function(a,b,c){if("y"==c){var d=ig.game.O8430.O7339(a.mover.attributes);c=57*(a.mover.speedFactor/this.speedFactorDefault)*ig.system.tick;b.pos.y<=a.pos.y-8?(b.vel.y=0,-400>b.vel.y&&(b.vel.y=-400),a.mover.currentCommands&&(0<=a.mover.currentCommands.indexOf(this.commands.left)?
b.pos.x-=c:0<=a.mover.currentCommands.indexOf(this.commands.right)&&(b.pos.x+=c)),b.isOnSolidMoverBody=!0):b.pos.x<a.pos.x?(d=d||0<b.vel.x)?(b.vel.x-=200,-400>b.vel.x&&(b.vel.x=-400)):b.pos.x-=c:b.pos.x>a.pos.x&&((d=d||0>b.vel.x)?(b.vel.x+=200,400<b.vel.x&&(b.vel.x=400)):b.pos.x+=c);if(b.O4102){if(a.mover.thing.attributes){var e=!1;if(a.mover.thing.attributes.harmful){if(this.O3019(a)&&(!a.mover.touchTimer||0.25<=a.mover.touchTimer.delta()))e=!0,a.mover.touchTimer=new ml.Timer,
b.O4217(12.5,a,!0)}else a.mover.thing.attributes.deadly&&this.O3019(a)&&(b.O4217(100,a,!0),ig.game.O6401.O5038(ig.game.O4269,"touches",a.givenName),e=!0)}!ig.game.O707&&(!e&&(!a.mover.touchTimer||0.5<=a.mover.touchTimer.delta()))&&ig.game.O6401.O5038(ig.game.O4269,"touches",a.givenName)}}},O3019:function(a){return!ig.game.O707},O4405:function(a,b){var c=b.img.width,
d=b.img.height;2==b.cellCount&&(c=b.img.width/2);var e={},c=new ml.AnimationSheet(null,c,d,b.img);e.normal=2==b.cellCount?new ml.Animation(c,1,[0,1]):new ml.Animation(c,1,[0]);e.normal.pivot.x=7;e.normal.pivot.y=2;a.mover.holdable={animSheet:c,anims:e,O1457:e.normal,attributes:b.attributes}},O1289:function(a,b){var c,d={};c=new ml.AnimationSheet(null,b.img.width/2,b.img.height,b.img);d.normal=new ml.Animation(c,1,[0]);d.back=new ml.Animation(c,1,[1]);a.mover.wearable={animSheet:c,
anims:d,O1457:d.normal,attributes:b.attributes}},O4019:function(a){if(a.attachments.h){var b=a.O4866("widerRange")?34:26,c=ig.game.O413.default;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(!e._killed&&e.mover&&e.mover.thing&&"STACKWEARB"==e.baseType&&void 0!==e.mover.health&&a.O5320(e)<=b&&(!e.mover.thing.useKeyword||ml.Misc.O7871(a.attachments.h.name,e.mover.thing.useKeyword))){var f=a.attachments.h.attributes;if(f){var g=
0;f.slightlyHarmful?g=-15:f.harmful?g=-40:f.deadly?g=-100:f.heals&&(g=100);0>g&&(g=this.O1939(g,e));0!=g&&(f=e.mover.health,e.mover.health=parseInt(e.mover.health+g).limit(0,100),e.mover.health!=f&&(0>g&&(g=ig.game.O5167(6,10),ig.game.decorator.burst(e,g)),e.mover.health<f&&ig.game.sounds.pain.play(),ig.game.O4349.O532(e.O276,e.mover.health),0>=e.mover.health&&ig.game.O6401.O5038(ig.game.O4269,"kills",
e.givenName),window.consoleref.log((e.givenName+" health: "+e.mover.health+"%").toUpperCase())))}}}}},O1939:function(a,b){var c;b.mover.thing.protectPercent&&(a*=0.01*(100-b.mover.thing.protectPercent));b.mover.attachedWearable&&(b.mover.wearable&&b.mover.wearable.attributes)&&(c=1,b.mover.wearable.attributes.reducesDamage25percent?c=0.75:b.mover.wearable.attributes.reducesDamage50percent?c=0.5:b.mover.wearable.attributes.reducesDamage75percent?c=0.25:b.mover.wearable.attributes.reducesDamage100percent&&
(c=0),a*=c);return Math.round(a)},O1827:function(a,b){if(ig.game.O413){var c=ig.game.O413.default;if(c)for(var d=0;d<c.length;d++){var e=c[d];!e._killed&&(e.mover&&e.mover.thing&&"STACKWEARB"==e.baseType&&void 0!==e.mover.health&&e.O276==a)&&(e.mover.health=b)}}}})});ig.baked=!0;
ig.module("game.core.syncedclock").defines(function(){window.SyncedClock=ig.Class.extend({milliseconds:1E3,timeSinceMidnightObject:{hours:null,minutes:null,seconds:null},O7162:null,O8073:0,O6517:null,O666:null,init:function(){this.O666=6E4*(new Date).getTimezoneOffset()},update:function(){this.milliseconds=this.O4351()+this.O8073;this.O4236()},O4351:function(){return(new Date).getTime()},
sendPingToServer:function(){this.O7162=this.O4351();ig.game.O4349.O7548()},O417:function(a){if(a){var b=this.O4351();this.O6517=0.5*Math.abs(b-this.O7162);this.O7162=null;this.O8073=a-(b-this.O6517);this.O8073=Math.round(this.O8073)}},getSecondsSinceMidnight:function(){var a=new Date,a=new Date(a.getFullYear(),
a.getMonth(),a.getDate(),0,0,0);return(a=this.milliseconds-a.getTime()+this.O666)?a/1E3:0},O4236:function(){this.timeSinceMidnightObject.seconds=ig.game.O1638.getSecondsSinceMidnight();this.timeSinceMidnightObject.minutes=this.timeSinceMidnightObject.seconds?this.timeSinceMidnightObject.seconds/60:0;this.timeSinceMidnightObject.hours=this.timeSinceMidnightObject.minutes?this.timeSinceMidnightObject.minutes/60:0;this.timeSinceMidnightObject.seconds%=60;this.timeSinceMidnightObject.minutes%=
60},getTimeSinceMidnightObjectRounded:function(){var a=ig.game.O5662(this.timeSinceMidnightObject);null!==a.hours&&(a.hours=Math.floor(a.hours),a.minutes=Math.floor(a.minutes),a.seconds=Math.floor(a.seconds));return a}})});ig.baked=!0;
ig.module("game.core.aimablemanager").defines(function(){window.AimableManager=ig.Class.extend({flippedX:!1,O3287:!1,O1912:!1,O460:0,O3949:!1,O7181:function(a){a.O4102&&(jQuery("#canvas").css("cursor","none"),this.O1912=!1,this.O6689(a),this.O460=a.attachments.h.specs.shotsPerAmmo,this.O3949=!1)},O6689:function(a){var b=this.O1825(),c=a.attachments.h.specs;c?(void 0==c.recoil&&
(c.recoil=b.recoil),void 0==c.accuracy&&(c.accuracy=b.accuracy),void 0==c.harm&&(c.harm=b.harm),void 0==c.secondsBetweenShots&&(c.secondsBetweenShots=b.secondsBetweenShots),void 0==c.secondsToReload&&(c.secondsToReload=b.secondsToReload),void 0==c.shotsPerAmmo&&(c.shotsPerAmmo=b.shotsPerAmmo)):c=ig.game.O5662(b);a.attachments.h.specs=c},O3578:function(){ig.game.O2050&&(ml.Misc.O373(),this.O1912=!0)},O5724:function(a){a.O4102&&
(jQuery("#canvas").css("cursor","default"),this.O1912&&(ml.Misc.O373(),this.O1912=!1))},O5625:function(a){if(a.O1038()){this.O3578();var b=a.attachments.h.specs;if(ig.input.state("click")&&(!ig.game.virtualJoystick.O3912()||ig.input.mouse.y<ig.game.virtualJoystick.topY))"INDIVIDUALS"==ig.game.O2714?0<this.O460?this.shoot(a,b):this.O3949||(this.O3949=
!0,ig.game.sounds.click.play()):this.O14();a.O1644&&(0.5>=a.O1644.delta()&&(a.O6609=this.flippedX,a.O1457&&(a.O1457.flip.x=a.O6609)),0==this.O460&&a.O1644.delta()>=b.secondsToReload&&(this.O460=b.shotsPerAmmo,this.O3949=!1,ig.game.sounds.click.play()));ig.input.pressed("esc")&&ig.game.O7995&&ig.game.O7510.O3306(a,"h",!0)}},draw:function(){if(ig.game.O4269&&
ig.game.O4269.O1038()){if(!ig.ua.mobile){var a=ig.game.O4269.O1644&&0.1>=ig.game.O4269.O1644.delta()?"crosshairActive":"crosshair";0==this.O460&&(a="crosshairReloading");ig.game.O5405.draw(ig.input.mouse.x-ig.game.O5405[a].width/2,ig.input.mouse.y-ig.game.O5405[a].height/2,1,ig.game.O5405[a])}a=this.O460+"/"+ig.game.O4269.attachments.h.specs.shotsPerAmmo;0==this.O460&&(a=". . .");ig.system.context.globalAlpha=
0.5;ig.game.whiteFont.draw(a,ig.system.width-4,6,ig.Font.ALIGN.RIGHT);ig.system.context.globalAlpha=1}},O1825:function(){return{recoil:20,accuracy:90,harm:20,secondsBetweenShots:0.25,secondsToReload:3,shotsPerAmmo:20,weight:0}},shoot:function(a,b){if(!a.O1644||a.O1644.delta()>=b.secondsBetweenShots){var c={};this.O460--;var d={pos:ig.game.O6099.O4260(),size:{x:1,y:1}};this.flippedX=d.pos.x>a.pos.x;d.pos.x+=7;d.pos.y+=7;var e=100-b.accuracy;0<e&&(d.pos.x+=
ig.game.O5167(-e,e),d.pos.y+=ig.game.O5167(-e,e));d=a.angleTo(d);e=a.O4354();c.opp={x:Math.floor(a.pos.x-a.offset.x+e.x),y:Math.floor(a.pos.y-a.offset.y+e.y)};c.opv=this.O2071(d,800);c.tid=a.O2125++;ig.game.O7510.O5498(a,"h",!0,c);a.O1644=new ml.Timer;b.recoil&&(a.vel.x+=b.recoil*(a.attachments.m?1:3)*(this.flippedX?-1:1))}},O2071:function(a,b){return{x:Math.floor(Math.cos(a)*b),y:Math.floor(Math.sin(a)*
b)}},O14:function(){this.O3287||(this.O3287=!0,ig.game.O884.O2127("i can only use this"),setTimeout(function(){ig.game.O884.O2127("in editor-based areas")},1500))}})});ig.baked=!0;
ig.module("game.core.areagenerator").defines(function(){window.AreaGenerator=ig.Class.extend({O3628:!1,code:"",frameId:"generatorFrame",iframe:null,O1881:!1,O5594:!1,O793:"*",timer:null,O4029:null,O5691:null,O2244:[],maxRange:1E6,O4483:25,itemId:null,O5107:3,O8142:function(a,b){if(a){var c=this;this.O3628=!0;ig.game.O4961.getItem_P(a,
"ag_load").done(function(d){ml.Misc.O7257(d,b)?ig.game.O7421.getItemBigData_P(a,"ag_big").done(function(b){b&&b.textData?(c.itemId=a,c.code=b.textData,c.O599()):c.stop()}):c.stop()})}},O3371:function(){if(!ig.game.userScriptEditor||!ig.game.userScriptEditor.isOpen){var a=this;ig.game.O7421.O558().done(function(b){b=b.contents?b.contents:a.O7092();ig.game.userScriptEditor.open(b,a,void 0,!1)})}},O6090:function(a,b){(this.O3628||
9>=this.O2244.length)&&this.O1732(a,b)},O3359:function(){for(var a=-1;1>=a;a++)for(var b=-1;1>=b;b++)this.O1732(ig.game.O172.O2998.x+a,ig.game.O172.O2998.y+b)},O1732:function(a,b){if(this.O2244.length<=this.O4483){var c={};c.x1=a*ig.game.O172.O4577;c.y1=b*ig.game.O172.O4577;
c.x2=c.x1+ig.game.O172.O4577-1;c.y2=c.y1+ig.game.O172.O4577-1;Math.abs(c.x1)<=this.maxRange&&(Math.abs(c.y1)<=this.maxRange&&Math.abs(c.x2)<=this.maxRange&&Math.abs(c.y2)<=this.maxRange)&&this.O2244.push(c)}},O6568:function(){var a=this.O4483*Math.pow(ig.game.O172.O4577,2),b=this.O7327?this.O7327.placements:null;if(Array.isArray(b)&&b.length<=a)for(a=0;a<b.length;a++){var c=
b[a];this.O21(c)&&(ig.game.O7715.O8268({x:c.x,y:c.y})||this.O3517(c.x,c.y,c.id,c.rotation?c.rotation:0,c.flip?c.flip:0))}this.O7327=null},O3517:function(a,b,c,d,e){var f=ig.game.O4961.getItemBasic(c,"ag_1");f&&f.imagesBeingGenerated.done(function(){var f={tid:c,rotation:d,flip:e,O1777:!0};ig.game.O7715.mapData[b]||(ig.game.O7715.mapData[b]=[]);ig.game.O7715.O1792(f,a,b);ig.game.O7715.O6857(f,
{x:a,y:b})})},O21:function(a){return ml.Misc.O6674(a.x)&&ml.Misc.O6674(a.y)&&ml.Misc.O2017(a.id)&&24==a.id.length&&(void 0===a.rotation||ml.Misc.O6674(a.rotation)&&0<=a.rotation&&3>=a.rotation)&&(void 0===a.flip||ml.Misc.O6674(a.flip)&&0<=a.flip&&1>=a.flip)},O599:function(){jQuery("#"+this.frameId).remove();var a=ml.Misc.O5752()?"/":"//manyland.org/",a=a+("_sandbox/brain/?v="+ig.game.O574),a='<iframe id="'+this.frameId+
'" class="generatorFrame" sandbox="allow-scripts" src="'+a+'"></iframe>',b=window.frames.length;this.O7327=null;this.O3628=!0;this.iframe=jQuery(a);this.iframe.appendTo("body");this.iframe=window.frames[b];this.O2307();this.timer=null;this.O6933=this.O5594=this.O1881=!1},update:function(){if(this.O3628){if(this.O7327&&this.O7327.doEnd)ig.game.userScriptEditor&&ig.game.userScriptEditor.O3681(),
this.stop();else if(this.iframe||this.O319(),this.O1881&&this.O5594&&this.iframe){var a=!1;this.timer||(this.timer=new ml.Timer,a=!0,this.O2235=new ml.Timer);var b=this.timer.delta();a||this.O6933?0<this.O2244.length&&(this.O6933=!1,this.timer.reset(),a=this.O108(),this.iframe.postMessage(a,this.O793),this.O2244=[]):b>=this.O5107&&
(this.say("Oops, an area generator stopped as it took too long"),this.stop());this.O7327&&this.O6568()}ig.game.userScriptEditor&&ig.input.state("esc")&&ig.game.userScriptEditor.close()}},say:function(a){ig.game.O4269&&ig.game.O4269.say(a);window.consoleref&&window.consoleref.log?window.consoleref.log(a):console.log(a)},O108:function(){return{sectors:this.O2244,areaName:ig.game.O966,subAreaName:ig.game.O6845?
ig.game.areaName:null,spawnPosition:{x:Math.floor(ig.game.O172.O4577/2),y:Math.floor(ig.game.O172.O4577/2)}}},O7092:function(){return"var ids = {\r    solid: '"+(ig.game.isLocal?"60192af91be981395cc9e5e9":"538a6912502702986a653db0")+"',\r    back: '"+(ig.game.isLocal?"5c87c29e39000829e0c22eba":"53ed06283b84acbe1ab61513")+"',\r    climbable: '"+(ig.game.isLocal?"60cc5490bed3e921f8f4b248":"55bf2a8d2b753d6a5f02ba17")+"'\r};\r\rfunction generate(info) {\r    var placements = [];\r    var bridgeY = info.spawnPosition.y + 1;\r    for (var i = 0; i < info.sectors.length; i++) {\r        var sector = info.sectors[i];\r        for (var x = sector.x1; x <= sector.x2; x++) {\r            for (var y = sector.y1; y <= sector.y2; y++) {\r                if (y == bridgeY) {\r                    placements.push({id: ids.solid, x: x, y: y});\r                }\r                else if (isOdd(x)) {\r                    placements.push({id: ids.climbable, x: x, y: y});\r                }\r            }\r        }\r    }\r    \r    return {placements: placements};\r}\r\rfunction isOdd(v) {\r    return v % 2 != 0;\r}"},
O2307:function(){var a=window.addEventListener?"addEventListener":"attachEvent";(0,window[a])("attachEvent"==a?"onmessage":"message",function(a){ig.game.areaGenerator.receiveMessageFromExternal(a[a.message?"message":"data"])},!1)},receiveMessageFromExternal:function(a){a&&"fromChild"==a.internal_type&&(this.O1881?(this.O5594?(this.O6933=!0,this.O7327=a?a:{},ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen&&
(a.internal_doClearLog&&ig.game.userScriptEditor.O1467(),a.internal_logText&&"string"===typeof a.internal_logText&&ig.game.userScriptEditor.O1719(ig.game.brainManager.O5067(a.internal_logText)))):a.internal_didLoadWorker&&(this.O3628=this.O5594=!0),a.internal_error&&this.O6072(a.internal_error)):a.internal_didLoadInitial&&(this.O1881=!0,a=this.O482()+this.code,this.iframe&&this.iframe.postMessage({internal_codeToLoad:a,
internal_mainFunctionName:"generate"},this.O793)))},O6072:function(a){if(ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen){var b=this.O482(),b=a.lineNumber-b.split("\r").length+1;ig.game.userScriptEditor.O8457(a.message,b,a.columnNumber);ig.game.userScriptEditor.O3681()}else{var c="line "+a.lineNumber+", "+a.message.toLowerCase();this.say("the area generator has an issue");setTimeout(function(){ig.game.areaGenerator.say('"'+c+'"')},1500)}this.stop()},
O482:function(){this.O4029||(this.O4029=ml.Misc.O7937(ig.game.areaName,1E3));return ig.game.userScriptManager.getDeterministicRandomizationCodeStart(this.O4029)},userScriptEditorRunStarted:function(a){this.stop();this.code=a;var b=this;setTimeout(function(){b.O599()},300);return!0},userScriptEditorRunEnded:function(){ig.game.userScriptEditor&&ig.game.userScriptEditor.O3681();this.stop()},userScriptEditorClosed:function(){},
userScriptEditorOpenHelp:function(){ml.Misc.openUrl("/info-generator")},stop:function(){this.O7327=null;jQuery("#"+this.frameId).remove();this.iframe=null;this.O3628=!1},O366:function(){var a=ig.game.O7715.mapData,b;for(b in a)if(a.hasOwnProperty(b))if(b.O1777)delete ig.game.O7715.mapData[b];else for(var c in a[b])a[b].hasOwnProperty(c)&&c.O1777&&delete ig.game.O7715.mapData[b][c]}})});ig.baked=!0;
ig.module("game.core.O3408").defines(function(){window.O6328=ig.Class.extend({init:function(){this.O3906()},setItem:function(a,b){if(a)try{localStorage.setItem(a,b)}catch(c){this.O5770()}},O5770:function(){ig.game.O6401.maxDaysToKeepStates=2;ig.game.O6401.O430=!1;ig.game.O6401.O2037();ig.game.O4269&&ig.game.O4269.O895();
ig.game.writableDialog&&(ig.game.writableDialog.O3027=2,ig.game.writableDialog.O7525=!1,ig.game.writableDialog.O33());localStorage.removeItem("writableCommentBackup")},clearAll:function(){for(var a=localStorage.length-1;0<=a;a--){var b=localStorage.key(a);delete localStorage[b]}},O3906:function(){for(var a=localStorage.length-1;0<=a;a--){var b=localStorage.key(a);b&&(0===b.indexOf("O")||0===b.indexOf("portaller_O"))&&delete localStorage[b]}}})});
ig.baked=!0;
ig.module("game.core.O1036").defines(function(){window.O6455=ig.Class.extend({maxCellsEver:9,O1178:"up down left right opacity show hide bright unbright restart playSound accelerateLeft accelerateRight accelerateUp accelerateDown light flipHorizontal flipVertical rotate rotation pivot zIndex crop text font secondsAngle secondsAngleInSteps minutesAngle minutesAngleInSteps hoursAngle hoursAngleInSteps grab ungrab align position shape fill gradient circle outline".split(" "),O7407:"bright unbright flipHorizontal flipVertical secondsAngle secondsAngleInSteps minutesAngle minutesAngleInSteps hoursAngle hoursAngleInSteps grab ungrab".split(" "),
standAloneCommands:["restart","playSound","say","remove"],modes:"default;move;action;rise;fall;mounted rise;mounted fall;climb;swim;create;sit;lie;start;state 0;state 1;state 2;state 3;state 4;state 5;state 6;state 7;state 8;state 9;state 10;odd state;even state;negative state;positive state;neutral state;private;randomize;private randomize;moved;every minute;every 2 minutes;every 3 minutes;every 4 minutes;every 5 minutes;every 10 minutes;every 15 minutes;every 30 minutes;every hour;every 3 hours;every 6 hours;every 12 hours;every day;profile main;profile body;profile name;profile album;profile mifts".split(";"),
alternateModesSpelling:"moves;rises;falls;mounted rises;mounted falls;climbs;swims;creates;sits;lies;starts;odd states;even states;negative states;positive states;neutral states;randomizes;private randomizes".split(";"),O6432:15,O6417:3600,O936:60,O7986:4,pivotMax:200,otherMax:600,O7063:1E4,O3660:2,O1468:Math.PI/180,O7874:"[break]",O3674:"[comma]",O1340:"[colon]",prefixIfPlainText:"0: cell 1 opacity 1, font white, text ",
minPointsForPolygon:3,O397:100,O5114:600,O1866:function(a,b,c){var d={"default":{}};ig.game.O7649.O663&&(this.O936=parseInt(ig.game.O7649.O663).limit(10,60));if(a){a=this.O452(a);c.O5303=0<=a.indexOf("zIndex");c.O3984=0<=a.indexOf(" grab");c.containsLight=0<=a.indexOf("light");for(c=0;c<this.modes.length;c++){var e=this.modes[c];d[e]={};this.O5762(e,
a,d[e],b);(!d[e]||0==ml.Misc.O4361(d[e]))&&delete d[e]}d["default"]||(a=ig.game.strings.replaceAll(a,"\n",this.O7874),a=ig.game.strings.replaceAll(a,this.O3674,","),a=ig.game.strings.replaceAll(a,":",this.O1340),a=this.prefixIfPlainText+a,this.O5762("default",a,d["default"],b))}d["default"]||(d["default"]={});return d},O5762:function(a,b,c,d){b=b.split("\n");for(var e="default",f=0,g=0;g<b.length;g++){var h=
ig.game.strings.trim(b[g]);if(h&&""!=h)if(0<=this.modes.indexOf(h))e=h;else if(2<=h.length&&0<=this.modes.indexOf(h.substr(0,h.length-1)))e=h.substr(0,h.length-1);else if(a==e){null==c&&(c={});var k=h.split(":");if(2==k.length){var l=k[0].split("-");if(2>=l.length&&ml.Misc.O6680(l[0])){var f=this.O2994(l,f),h=parseInt(Number(l[0])*this.O936),m="f"+h+"_1";c[m]&&(m="f"+h+"_2");c[m]&&(m="f"+h+"_3");c[m]=this.O676(k[1],d);2==l.length&&(k=parseInt(Number(l[1])*
this.O936),c[m].spreadOverFrames=k-h)}}}}},O2994:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];0<=d.indexOf("+")&&(d=ig.game.strings.replaceAll(d,"+",""),ml.Misc.O6680(d)&&(0==c?ml.Misc.O6680(b)&&(d=parseFloat(d)+parseFloat(b)):ml.Misc.O6680(a[0])&&(d=parseFloat(d)+parseFloat(b)),a[c]=d));b=d}return b},O452:function(a){a=("\n"+a).toLowerCase();a=a.replace(/\r\n/g,"\n");a=ig.game.strings.O3410(a);a=ig.game.strings.replaceAll(a,"[ad area]",
this.O7122());a=ig.game.strings.replaceAll(a,"[ad text]",this.O5251());if(-1===a.indexOf(":"))a=ig.game.strings.replaceAll(a,"\n",this.O7874),a=ig.game.strings.replaceAll(a,",",this.O3674),a=ig.game.strings.replaceAll(a,":",this.O1340),a=this.prefixIfPlainText+a;else{a=ig.game.strings.replaceAll(a,"  "," ");a=ig.game.strings.replaceAll(a," :",":");a=ig.game.strings.replaceAll(a,"s:",":");a=ig.game.strings.replaceAll(a,"s-","-");a=ig.game.strings.replaceAll(a,
"\\,",this.O3674);a=ig.game.strings.replaceAll(a,"\\:",this.O1340);a=ig.game.strings.replaceAll(a,"z-index","zIndex");a=ig.game.strings.replaceAll(a,"z index","zIndex");a=ig.game.strings.replaceAll(a,"flip horizontal","flipHorizontal");a=ig.game.strings.replaceAll(a,"hours angle","hoursAngle");a=ig.game.strings.replaceAll(a,"hour angle","hoursAngle");a=ig.game.strings.replaceAll(a,"minutes angle","minutesAngle");a=ig.game.strings.replaceAll(a,"minute angle","minutesAngle");a=ig.game.strings.replaceAll(a,
"seconds angle","secondsAngle");a=ig.game.strings.replaceAll(a,"second angle","secondsAngle");a=ig.game.strings.replaceAll(a,"secondsAngle in steps","secondsAngleInSteps");a=ig.game.strings.replaceAll(a,"minutesAngle in steps","minutesAngleInSteps");a=ig.game.strings.replaceAll(a,"hoursAngle in steps","hoursAngleInSteps");a=ig.game.strings.replaceAll(a,"flip vertical","flipVertical");a=ig.game.strings.replaceAll(a,"accelerate left","accelerateLeft");a=ig.game.strings.replaceAll(a,"accelerate right",
"accelerateRight");a=ig.game.strings.replaceAll(a,"accelerate up","accelerateUp");a=ig.game.strings.replaceAll(a,"accelerate down","accelerateDown");a=ig.game.strings.replaceAll(a,"plays sound","playSound");a=ig.game.strings.replaceAll(a,"play sound","playSound");if(0<=a.indexOf(" text ")){a=ig.game.strings.replaceAll(a,", hide",", opacity 0");a=ig.game.strings.replaceAll(a,", show",", opacity 1");a=ig.game.strings.replaceAll(a,"cells hide","cells opacity 0");a=ig.game.strings.replaceAll(a,"cells show",
"cells opacity 1");for(var b=1;b<=this.maxCellsEver;b++)a=ig.game.strings.replaceAll(a,"cell "+b+" hide","cell "+b+" opacity 0"),a=ig.game.strings.replaceAll(a,"cell "+b+" show","cell "+b+" opacity 1")}else a=ig.game.strings.replaceAll(a,"hide","opacity 0"),a=ig.game.strings.replaceAll(a,"show","opacity 1");for(b=1;b<=this.maxCellsEver;b++)a=ig.game.strings.replaceAll(a,"cell "+b+"+","cells "+b+"+");a=this.O611(a)}return a},O611:function(a){a=a.split("\n");for(var b=[],c=0;c<
a.length;c++){var d=a[c].trim();if(0<=d.indexOf(":")||0<=this.modes.indexOf(d)||2<=d.length&&0<=this.modes.indexOf(d.substr(0,d.length-1)))b.push(d);else if(""!=d){var e=d.charAt(0),f=b.length-1;b[f]+=("0"<=e&&"9">=e||"-"==e||"."==e?" ":",")+d;b[f]=ig.game.strings.replaceAll(b[f],",,",",")}}return a=b.join("\n")},O7122:function(){var a="";ig.game.areaAdForDisplay&&ig.game.areaAdForDisplay.stablerAreaName&&(a=ig.game.areaAdForDisplay.stablerAreaName,a=ig.game.strings.replaceAll(a,":",
" "),a=ig.game.strings.replaceAll(a,","," "));return a},O5251:function(){var a="";ig.game.areaAdForDisplay&&ig.game.areaAdForDisplay.stablerTitle&&(a=ig.game.areaAdForDisplay.stablerTitle,a=ig.game.strings.replaceAll(a,":"," "),a=ig.game.strings.replaceAll(a,","," "));return a},O676:function(a,b){for(var c={},d="e1",e=a.split(","),f=null,g=0;g<e.length;g++){var d=e[g].trim(),h=[],k=null;if(0<=d.indexOf("cells "))if(0<=d.indexOf("+")&&-1===d.indexOf("+ ")&&-1===d.indexOf(" +")){var l=
d.split(" ");if(3<=l.length&&0<=l[1].indexOf("+")){for(var k=l[1].split("+"),m=0;m<k.length;m++)if(ml.Misc.O6680(k[m])){var n=parseInt(k[m]);1<=n&&(n<=this.maxCellsEver&&-1===h.indexOf(n))&&h.push(n)}k=d.substr(l[0].length+1+l[1].length+1)}}else{for(m=1;m<=b;m++)h.push(m);k=d.substr(6)}else if(0<=d.indexOf("cell "))k=parseInt(d.substr(5,1)),1<=k&&k<=b&&h.push(k),k=d.substr(7);else if(0===d.indexOf("say ")){if(d=d.substr(4).trim().toLowerCase())d=ig.game.strings.replaceAll(d,this.O3674,","),
d=ig.game.strings.replaceAll(d,this.O1340,":"),d=ig.game.strings.O1288(d,100,!0),c.say=d}else 0<=this.standAloneCommands.indexOf(d)?c[d]=!0:f&&(h=ig.game.O5662(f),k=d);if(k&&h&&1<=h.length){k=k.trim();for(d=0;d<h.length;d++)m=k.indexOf(" "),1<=m?(l=k.substr(0,m),0<=this.O1178.indexOf(l)&&(m=k.substr(m+1).trim(),n="e"+h[d],c[n]||(c[n]={}),m=this.O4232(l,m,b),null!=m&&(c[n][l]=m))):(m=this.O4232(k,null,b),null!=m&&(n="e"+h[d],c[n]||(c[n]={}),c[n][k]=m))}h&&
(f=ig.game.O5662(h))}return c},O4232:function(a,b,c){if("opacity"==a){if(5<b.length&&(b=b.substr(0,5)),b=parseFloat(b),0>b||1<b)b=null}else if("text"==a)if(null==b)b="";else{b=String(b);b=ig.game.strings.replaceAll(b,this.O3674,",");b=ig.game.strings.replaceAll(b,this.O1340,":");b=b.split(this.O7874);for(var d=0;d<b.length;d++)b[d]=ig.game.strings.O2833(b[d],200,!0);b=b.join(this.O7874)}else if("font"==a)if(b=String(b).trim().toLowerCase()){var d=
0<=b.indexOf("small"),e=0<=b.indexOf("black");a=0<=b.indexOf("white");b=ig.game.strings.replaceAll(b,"small","");b=ig.game.strings.replaceAll(b,"black","");b=ig.game.strings.replaceAll(b,"white","");b=""==b.trim()?e&&d?"blackSmallFont":e?"blackFont":a&&d?"whiteSmallFont":a?"whiteFont":null:null}else b=null;else if("fill"==a){if(b=String(b).trim().toLowerCase())if(a=null,0<=b.indexOf("dark")?(a="darken",b=ig.game.strings.replaceAll(b,"dark","")):0<=b.indexOf("bright")&&(a="lighter",b=ig.game.strings.replaceAll(b,
"bright","")),b=ig.game.strings.replaceAll(b,"  "," "),(b=String(b).trim().toLowerCase())&&1<=b.indexOf(" "))if(b=b.split(" "),4==b.length){for(d=0;d<b.length;d++)if(e=parseFloat(b[d]),e>=-this.otherMax&&e<=this.otherMax)b[d]=parseFloat(e);else{b=null;break}b.unshift(a)}else b=null}else if("align"==a)if(b=String(b).trim().toLowerCase())switch(b){case "left":b=ig.Font.ALIGN.LEFT;break;case "center":b=ig.Font.ALIGN.CENTER;break;case "right":b=ig.Font.ALIGN.RIGHT;break;default:b=null}else b=null;else if(0===
a.indexOf("accelerate"))b=parseFloat(b),Math.abs(b)>this.O3660&&(b=parseInt(b).limit(-this.O3660,this.O3660));else if(0===a.indexOf("light")){if(b=b.split(" "),3==b.length)for(d=0;d<b.length;d++)if(e=parseInt(b[d]),0<=e&&255>=e)b[d]=e;else{b=null;break}}else if(0<=this.O7407.indexOf(a))b=!0;else if(b&&1<=b.indexOf(" ")){b=b.split(" ");for(d=0;d<b.length;d++)if(e=parseFloat(b[d]),"pivot"==a)if(e>=-this.pivotMax&&e<=this.pivotMax)b[d]=e;else{b=null;break}else if("crop"==
a)if(e>=-this.otherMax&&e<=this.otherMax)b[d]=parseInt(e);else{b=null;break}else if("shape"==a||"gradient"==a)if(e>=-this.O5114&&e<=this.O5114&&1>=this.O1831(e))b[d]=parseFloat(e);else{b=null;break}else if("position"==a||"circle"==a||"outline"==a)if(e>=-this.otherMax&&e<=this.otherMax)b[d]=e;else{b=null;break}else if(1<=e&&e<=c)b[d]=e;else{b=null;break}if("crop"==a&&4==b.length)d=b[0],e=b[1],a=b[2],b=b[3],b=d>=a||e>=b?null:[d,e,a-d,b-e];else if("shape"==a){if(b.length<
2*this.minPointsForPolygon||b.length>2*this.O397||!ml.Misc.isEven(b.length))b=null}else"circle"==a?3==b.length?(d=0<b[2])||(b=null):b=null:"outline"==a?5==b.length?(d=b[0],0<d&&50>=d?(d=1,b[d]=this.O7928(b[d++]),b[d]=this.O7928(b[d++]),b[d]=this.O7928(b[d++]),b[d]=this.O4213(b[d++])):b=null):b=null:"fill"==a?(4==b.length&&b.unshift(null),5==b.length?(d=0,"dark"==b[0]?b[d]="darken":"bright"==b[0]&&(b[d]="lighter"),d++,b[d]=this.O7928(b[d++]),b[d]=this.O7928(b[d++]),
b[d]=this.O7928(b[d++]),b[d]=this.O4213(b[d++])):b=null):"gradient"==a&&(7==b.length?(d=0<b[2])?(d=3,b[d]=this.O7928(b[d++]),b[d]=this.O7928(b[d++]),b[d]=this.O7928(b[d++]),b[d]=this.O4213(b[d++])):b=null:10==b.length?0<b[2]&&0<b[5]?(d=6,b[d]=this.O7928(b[d++]),b[d]=this.O7928(b[d++]),b[d]=this.O7928(b[d++]),b[d]=this.O4213(b[d++])):b=null:8==b.length?b[0]!=b[2]||b[1]!=b[3]?(d=4,b[d]=this.O7928(b[d++]),b[d]=this.O7928(b[d++]),b[d]=this.O7928(b[d++]),
b[d]=this.O4213(b[d++])):b=null:b=null)}else 0<=a.indexOf("rotate")||0<=a.indexOf("rotation")?(b=parseInt(b).limit(-this.O7063,this.O7063),b*=this.O1468):b="gradient"==a?null:parseInt(b).limit(-this.otherMax,this.otherMax);return b},O1831:function(a){return Math.floor(a)===a?0:a.toString().split(".")[1].length||0},O7928:function(a){ml.Misc.O3785(a)||(a=0);return ml.Misc.O1613(a,0,255)},O4213:function(a){ml.Misc.O6680(a)||(a=0);return ml.Misc.O5179(a,
0,1)}})});ig.baked=!0;
ig.module("game.core.userscriptmanager").defines(function(){window.UserScriptManager=ig.Class.extend({didEmbed:!1,inputData:null,O1195:null,iframe:null,code:null,O1881:!1,O5594:!1,O793:"*",mainFunctionName:"",O2615:5,O7822:null,getResultByItemId:function(a,b,c,d){var e=this;ig.game.O4961.getItem_P(a,"getResultByItemId_load").done(function(f){ml.Misc.O7257(f)&&ig.game.O7421.getItemBigData_P(a).done(function(a){e.O7418(a&&
a.textData?a.textData:"",b,c,d)})})},O7418:function(a,b,c,d){!this.didEmbed&&(ig.game.O4269&&1<=ig.game.O4269.rank&&d&&b)&&(this.O1195=d,this.inputData=b,this.mainFunctionName=c,a||(a=""),ig.game.brainManager.O2712(a)||(this.code=a,this.O6456()))},O7092:function(){return""},O6456:function(){this.O7822&&(clearTimeout(this.O7822),this.O7822=null);jQuery("#externalScriptFrame").remove();
ig.game.userScriptEditor&&ig.game.userScriptEditor.O1467();this.iframe=null;var a=ml.Misc.O5752()?"/":"//manyland.org/",a=a+("_sandbox/brain/?v="+ig.game.O574),b=window.frames.length;this.iframe=jQuery('<iframe id="externalScriptFrame" sandbox="allow-scripts" src="'+(a+"#userScriptManager")+'"></iframe>');this.iframe.appendTo("body");this.iframe=window.frames[b];this.O5594=this.O1881=!1},receiveMessageFromExternal:function(a){a&&
"fromChild"==a.internal_type&&(this.O1881?this.O5594?(a=a?a:{},delete a.internal_logText,delete a.internal_doClearLog,delete a.internal_type,delete a.internal_didLoadWorker,delete a.internal_target,this.O1195(a),this.cleanUp()):(a.internal_didLoadWorker&&(this.O5594=!0),a.internal_error?ig.game.O4269&&ig.game.O4269.say(JSON.stringify(a.internal_error)):this.O5594&&(this.iframe&&this.iframe.postMessage(this.inputData,
this.O793),this.inputData=null)):a.internal_didLoadInitial&&(this.O1881=!0,a={internal_codeToLoad:this.code,internal_mainFunctionName:this.mainFunctionName},this.O7822=setTimeout(function(){ig.game.userScriptManager.cleanUp()},1E3*this.O2615),this.iframe&&this.iframe.postMessage(a,this.O793),this.code=null))},cleanUp:function(){jQuery("#externalScriptFrame").remove();this.O7822&&(clearTimeout(this.O7822),
this.O7822=null);this.didEmbed=!1;this.inputData=this.O1195=this.code=this.iframe=null;this.O5594=this.O1881=!1;setTimeout(function(){ig.game.errorManager.init()},10)},O1328:function(a){var b=null,c=null,d;for(d in ig.game.brainManager.enumType)ig.game.brainManager.enumType[d]==a&&(c=d);if(c)for(var e in window.Item.prototype.BASE_TYPES)if((a=window.Item.prototype.BASE_TYPES[e].publicKey)&&a==c){b=e;break}return b},
getDeterministicRandomizationCodeStart:function(a){return""+this.O3719()+"\r\rvar mersenneTwisterSeed = '"+a+"';\rvar mersenneTwisterObject = new MersenneTwister(mersenneTwisterSeed);\rMath.random = function() { return mersenneTwisterObject.random(); }\r\r"},O3719:function(){return"var MersenneTwister = function(seed) {\r  if (seed == undefined) { seed = Date.now(); } \r  this.N = 624;\r  this.M = 397;\r  this.MATRIX_A = 0x9908b0df;\r  this.UPPER_MASK = 0x80000000;\r  this.LOWER_MASK = 0x7fffffff;\r  this.mt = new Array(this.N);\r  this.mti=this.N+1;\r  this.init_genrand(seed);\r}  \r \rMersenneTwister.prototype.init_genrand = function(s) {\r  this.mt[0] = s >>> 0;\r  for (this.mti=1; this.mti<this.N; this.mti++) {\r      var s = this.mt[this.mti-1] ^ (this.mt[this.mti-1] >>> 30);\r      this.mt[this.mti] = (((((s & 0xffff0000) >>> 16) * 1812433253) << 16) + (s & 0x0000ffff) * 1812433253) + this.mti;\r      this.mt[this.mti] >>>= 0;\r   }\r}\r \rMersenneTwister.prototype.genrand_int32 = function() {\r  var y;\r  var mag01 = new Array(0x0, this.MATRIX_A);\r \r  if (this.mti >= this.N) {\r    var kk;\r \r    if (this.mti == this.N+1)\r      this.init_genrand(5489);\r \r    for (kk=0;kk<this.N-this.M;kk++) {\r      y = (this.mt[kk]&this.UPPER_MASK)|(this.mt[kk+1]&this.LOWER_MASK);\r      this.mt[kk] = this.mt[kk+this.M] ^ (y >>> 1) ^ mag01[y & 0x1];\r    }\r    for (;kk<this.N-1;kk++) {\r      y = (this.mt[kk]&this.UPPER_MASK)|(this.mt[kk+1]&this.LOWER_MASK);\r      this.mt[kk] = this.mt[kk+(this.M-this.N)] ^ (y >>> 1) ^ mag01[y & 0x1];\r    }\r    y = (this.mt[this.N-1]&this.UPPER_MASK)|(this.mt[0]&this.LOWER_MASK);\r    this.mt[this.N-1] = this.mt[this.M-1] ^ (y >>> 1) ^ mag01[y & 0x1];\r \r    this.mti = 0;\r  }\r \r  y = this.mt[this.mti++];\r \r  y ^= (y >>> 11);\r  y ^= (y << 7) & 0x9d2c5680;\r  y ^= (y << 15) & 0xefc60000;\r  y ^= (y >>> 18);\r \r  return y >>> 0;\r}\r \rMersenneTwister.prototype.random = function() {\r  return this.genrand_int32()*(1.0/4294967296.0); \r}\r"}})});
ig.baked=!0;
ig.module("game.core.brainmanager").defines(function(){window.BrainManager=ig.Class.extend({O3628:!1,control:{left:!1,right:!1,up:!1,down:!1,action:!1},controlPrevious:{left:!1,right:!1,up:!1,down:!1,action:!1},O7327:null,timer:null,O2415:1/15,O6933:!1,O5107:3,O71:"XMLHttpRequest XMLHttpRequestUpload WebSocket File FileList FileError FileReader FileReaderSync IDBCursor IDBCursorWithValue IDBDatabase IDBFactory IDBIndex IDBKeyRange IDBObjectStore IDBOpenDBRequest IDBRequest IDBTransaction IDBVersionChangeEvent ImageData Image Canvas ActiveXObject URL WorkerLocation WorkerGlobalScope WorkerNavigator indexedDB localStorage sessionStorage importScripts setTimeout setInterval applicationCache performance Blob DedicatedWorkerGlobalScope webkitIDBCursor webkitIDBDatabase webkitIDBFactory webkitIDBIndex webkitIDBKeyRange webkitIDBObjectStore webkitIDBRequest webkitIDBTransaction webkitIndexedDB webkitURL addEventListener removeEventListener dispatchEvent msIndexedDB msWriteProfilerMark setImmediate XDomainRequest alert speechSynthesis SpeechSynthesisUtterance SpeechRecognition Iterator Worker Request fetch".split(" "),O6639:"internal_;eval;self;use strict;location;navigator;onerror;onclose;onmessage;postMessage;onreadystatechange;self.close;window;worker;canvas;EvalError;MessageChannel;MessageEvent;http;alert; catch;createObjectURL".split(";"),
anonymizedValuesPerSession:{},O2650:{},O2770:10,O273:null,O1035:null,O464:1.5,pressedSinceLast:{left:!1,right:!1,up:!1,action:!1},stateSinceLast:{left:!1,right:!1,up:!1,action:!1},enumType:{being:1,emission:2,item:3,speech:4,solid:5,slope:6,back:7,thing:8,sound:9,backAndFront:10,slidey:11,slideySlope:12,sticky:13,bouncy:14,pushing:15,climbable:16,oneWay:17,deadly:18,moving:19,deadlyMoving:20,movingLiving:21,activator:91,openOnActivate:22,
transporting:23,directionalTransporting:24,ringPortal:25,crumbling:26,itemThrower:27,deadlyEmerging:28,flippingLiquid:29,liquid:30,harmful:31,changingHarmful:32,medium:33,environment:34,living:35,interacting:36,interactingMotion:37,changingLiving:38,flippingDecorative:39,changingThing:40,sparkling:41,flexible:42,pointer:43,placeName:44,writable:45,readable:46,bigThing:47,livelyThing:48,viewable:49,dynamic:50,brain:51,liner:52,thingInFront:53,bouncyTilt:54,light:55,topLight:56,surroundLight:57,holder:58,
fillLight:59,lightGlow:60,musical:61,music:62,musicSheet:63,emitter:65,interactiveEnvironment:66,equipment:67,consumable:68,swingLine:69,wearable:70,body:71,mountable:72,flyingMountable:73,instrument:74,motion:75,changingOnActivator:76,gatherable:77,changingOnTouch:78,changer:79,happening:80,mover:81,helper:82,mift:83,walkable:84,aimable:85,farBack:86,veryBigThing:87,multi:88,pushingDiagonal:89,passableSlope:90,furry:92,clothy:93,drifty:94,generator:95},enumStance:{swimming:2,climbing:3,creating:4,
sitting:5,lying:6},enumMode:{"default":0,bright:1,dark:2,multiply:3,screen:4,overlay:5,difference:6,exclusion:7,hue:8,saturation:9,color:10,luminosity:11},enumFont:{whiteSmall:0,white:1,blackSmall:2,black:3},enumAlign:{center:0,left:1,right:2},iframe:null,code:null,O793:"*",O7037:"externalScriptFrame",O1881:!1,O5594:!1,O3722:{},O5082:[],O4252:0,isLoading:!1,O7736:function(a){if(!this.isLoading){this.isLoading=!0;var b=
this;ig.game.O4961.getItem_P(a.id,"brain_lbi").done(function(c){ml.Misc.O7257(c)&&(c=a.attributes&&a.attributes.offersEditing,!a.textSize||c&&a.id==localStorage.lastSavedOffersEditingItemId?ig.game.O7421.O558().done(function(a){var c=a.contents?a.contents:b.O7092();if(!ig.game.userScriptEditor||!ig.game.userScriptEditor.isOpen)ig.game.userScriptEditor?(ig.game.userScriptEditor.open(c,b),ig.game.brainManager.isLoading=!1):setTimeout(function(){ig.game.userScriptEditor&&
(ig.game.userScriptEditor.open(c,b),ig.game.brainManager.isLoading=!1)},500)}):c?ig.game.O7421.getItemBigData_P(a.id).done(function(c){var e=c.textData?c.textData:"";if(!ig.game.userScriptEditor||!ig.game.userScriptEditor.isOpen)ig.game.userScriptEditor?(ig.game.userScriptEditor.open(e,b,!1,void 0,a.id),ig.game.brainManager.isLoading=!1):setTimeout(function(){ig.game.userScriptEditor&&(ig.game.userScriptEditor.open(e,b,!1,void 0,a.id),ig.game.brainManager.isLoading=!1)},500)}):ig.game.O7421.getItemBigData_P(a.id).done(function(a){void 0!==
a.textData&&(b.O2239(a.textData),ig.game.brainManager.isLoading=!1)}))})}},O2239:function(a){if(this.O4399()){var b=!1;this.O3628&&this.unload();ig.game.O4269&&(1<=ig.game.O4269.rank&&!this.O2712(a))&&(this.code=a,this.O4252=0,jQuery("#externalScriptFrame").remove(),ig.game.userScriptEditor&&ig.game.userScriptEditor.O1467(),this.iframe=null,a=ml.Misc.O5752()?"/":"//manyland.org/",a+="_sandbox/brain/?v="+ig.game.O574,
b=window.frames.length,this.iframe=jQuery('<iframe id="externalScriptFrame" sandbox="allow-scripts" src="'+(a+"#brainManager")+'"></iframe>'),this.iframe.appendTo("body"),this.iframe=window.frames[b],this.O2307(),this.timer=null,this.O6933=this.O5594=this.O1881=!1,b=!0);return b}},O4399:function(){return ig.game.O4269&&ig.game.O4269.attachments&&ig.game.O4269.attachments.br},O2307:function(){var a=
window.addEventListener?"addEventListener":"attachEvent";(0,window[a])("attachEvent"==a?"onmessage":"message",function(a){ig.game.brainManager.receiveMessageFromExternal(a[a.message?"message":"data"])},!1)},O2712:function(a){var b=null;if("string"===typeof a){a=a.toLowerCase();for(var c=0;1>=c;c++)for(var d=0==c?this.O71:this.O6639,e=0;e<d.length;e++){var f=d[e].toLowerCase();0<=a.indexOf(f)&&(b='Using "'+d[e]+'" is not supported')}}null!==b&&(window.consoleref.warn("Oops, cancelled brain..."+
b),ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen&&(ig.game.O4269.say("oops, cancelled brain..."),setTimeout(function(){ig.game.O4269.say(b.toLowerCase())},1500)));return b},unload:function(a){this.control={};this.controlPrevious={};this.O3628=!1;this.O3722={};this.timer=null;jQuery("#externalScriptFrame").remove();this.iframe=null;ig.game.O4269&&(ig.game.O4269.vel={x:0,y:0},ig.game.O4269.accel={x:0,y:0},ig.game.O4269.setAnim(ig.game.O4269.anims.idle));
ig.game.userScriptEditor&&ig.game.userScriptEditor.O3681();a&&(ig.game.O4269&&ig.game.O4269.attachments.br&&ig.game.O7510.O3306(ig.game.O4269,"br",!0),ig.game.userScriptEditor&&ig.game.userScriptEditor.close(),setTimeout(function(){ig.game.errorManager.init()},10))},O482:function(){return"'use strict';\nvar internal_logText = '', internal_didLogOnce = false, internal_doClearLog = false;\ndelete self.eval;\n"+this.O1488()+this.getEnum("enumType",
this.enumType)+this.getEnum("enumStance",this.enumStance)+this.getEnum("enumMode",this.enumMode)+this.getEnum("enumFont",this.enumFont)+this.getEnum("enumAlign",this.enumAlign)+"\n"},getEnum:function(a,b){var c;c=""+("var "+a+" = {");for(var d in b)c+=d+": "+b[d]+",";return c+"};\n"},O1488:function(){for(var a="",b=0;b<this.O71.length;b++)a+="try { "+this.O71[b]+" = null; } catch(err) {} ";return a},O7092:function(){return"// An example script\n\nvar chanceForMovement = 25;\n\nfunction update(my) {\n    var reaction = {left: false, right: false, up: false, down: false, actionOnce: false};\n    \n    if ( chance(chanceForMovement) ) { reaction.left = true; }\n    \n    return reaction;\n}\n\nfunction chance(percent) {\n    return Math.random() <= percent / 100;\n}"},
update:function(){if(this.O3628&&ig.game.O4269&&ig.game.O4269.O1457&&ig.game.O4269.O1457.flip)if(ig.game.O4269.attachments.br){if(this.O1881&&this.O5594){this.O1040();this.O6985();this.O2791();var a=!1;this.timer||(this.timer=new ml.Timer,a=!0);var b=this.timer.delta();if(a||b>=this.O2415)a||this.O6933?
(this.O6933=!1,this.timer.reset(),this.iframe&&this.iframe.postMessage(this.O2811(),this.O793),this.O3722={},this.O5082=[],0<this.O4252&&this.O4252--):b>=this.O5107&&(ig.game.O4269.say("oops, brain code stopped as it took too long to react"),this.unload(!(ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen)))}}else this.unload(!0)},O6985:function(){this.pressedSinceLast.left||
(this.pressedSinceLast.left=ig.input.pressed("a")&&!ig.game.O884.O3340||ig.input.pressed("l_arr")||ig.game.virtualJoystick.input.left);this.pressedSinceLast.right||(this.pressedSinceLast.right=ig.input.pressed("d")&&!ig.game.O884.O3340||ig.input.pressed("r_arr")||ig.game.virtualJoystick.input.right);this.pressedSinceLast.up||(this.pressedSinceLast.up=ig.input.pressed("w")&&!ig.game.O884.O3340||ig.input.pressed("u_arr")||ig.game.virtualJoystick.input.up);
!ig.game.O4973&&!this.pressedSinceLast.down&&(this.pressedSinceLast.down=ig.input.pressed("s")&&!ig.game.O884.O3340||ig.input.pressed("d_arr")||ig.game.virtualJoystick.input.down);this.pressedSinceLast.action||(this.pressedSinceLast.action=(ig.input.pressed("space")||ig.ua.fireTV&&ig.input.pressed("enter"))&&!ig.game.O884.O3833()||ig.game.virtualJoystick.input.action)},O2791:function(){this.stateSinceLast.left||
(this.stateSinceLast.left=ig.input.state("a")&&!ig.game.O884.O3340||ig.input.state("l_arr")||ig.game.virtualJoystick.input.left);this.stateSinceLast.right||(this.stateSinceLast.right=ig.input.state("d")&&!ig.game.O884.O3340||ig.input.state("r_arr")||ig.game.virtualJoystick.input.right);this.stateSinceLast.up||(this.stateSinceLast.up=ig.input.state("w")&&!ig.game.O884.O3340||ig.input.state("u_arr")||ig.game.virtualJoystick.input.up);!ig.game.O4973&&
!this.stateSinceLast.down&&(this.stateSinceLast.down=ig.input.state("s")&&!ig.game.O884.O3340||ig.input.state("d_arr")||ig.game.virtualJoystick.input.down);this.stateSinceLast.action||(this.stateSinceLast.action=(ig.input.state("space")||ig.input.state("enter"))&&!ig.game.O884.O3833()||ig.game.virtualJoystick.input.action)},receiveMessageFromExternal:function(a){a&&"fromChild"==a.internal_type&&(this.O1881?(this.O5594?
(this.O6933=!0,this.O7327||(this.O7327=a?a:{})):a.internal_didLoadWorker&&(this.O3628=this.O5594=!0),a.internal_error&&this.O6072(a.internal_error)):a.internal_didLoadInitial&&(this.O1881=!0,this.iframe&&this.iframe.postMessage({internal_codeToLoad:this.code,internal_mainFunctionName:"update"},this.O793),this.code=null))},O1040:function(){if(this.O7327){var a=
this.O7327;this.controlPrevious=ig.game.O5662(this.control);this.control={left:a.left||a.leftOnce,right:a.right||a.rightOnce,up:a.up||a.upOnce,down:a.down||a.downOnce,action:a.action||a.actionOnce,leftOnce:!!a.leftOnce,rightOnce:!!a.rightOnce,upOnce:!!a.upOnce,downOnce:!!a.downOnce,actionOnce:!!a.actionOnce};this.O8265(a.speech);this.O4669(a.motion);this.O2072(a.playInstrument);if(a.unequip){var b=this.control.action&&!this.controlPrevious.action;
this.unload(!0);b&&ig.game.O7510.O5328()}ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen&&(a.internal_doClearLog&&ig.game.userScriptEditor.O1467(),a.internal_logText&&"string"===typeof a.internal_logText&&ig.game.userScriptEditor.O1719(this.O5067(a.internal_logText)));this.O7327=null}},O2072:function(a){if(0>=this.O4252&&(ig.game.instrumentDialog&&ig.game.instrumentDialog.isOpen&&ig.game.O4269&&
1<=ig.game.O4269.rank)&&(Array.isArray(a)||(a=[a]),6>=a.length))for(var b=0;b<a.length;b++){var c=a[b];if(c)for(var d=0;d<ig.game.instrumentDialog.notes.length;d++){var e=ig.game.instrumentDialog.notes[d];if(e.note){if("string"===typeof c){var f=ig.game.strings.replaceAll(e.note,"s","#"),g=f+e.octave;if(c==f||c==g){ig.game.instrumentDialog.playSound(e);this.O4252+=3;break}}}else if(e.kitNumber&&e.kitNumber==c){ig.game.instrumentDialog.playSound(e);this.O4252+=3;break}}}},O5067:function(a){for(var b in this.enumType){var c=
this.enumType[b];a=ig.game.strings.replaceAll(a,'"type":'+c+",",'"type":enumType.'+b+",");a=ig.game.strings.replaceAll(a,'"type":'+c+"}",'"type":enumType.'+b+"}")}for(b in this.enumStance)c=this.enumStance[b],a=ig.game.strings.replaceAll(a,'"stance":'+c+",",'"stance":enumStance.'+b+","),a=ig.game.strings.replaceAll(a,'"stance":'+c+"}",'"stance":enumStance.'+b+"}");for(b in this.enumMode)c=this.enumMode[b],a=ig.game.strings.replaceAll(a,'"mode":'+c+",",'"stance":enumMode.'+b+","),a=ig.game.strings.replaceAll(a,
'"mode":'+c+"}",'"stance":enumMode.'+b+"}");return a},O3814:function(){this.control.leftOnce&&(this.control.left=!1,this.control.leftOnce=!1);this.control.rightOnce&&(this.control.right=!1,this.control.rightOnce=!1);this.control.upOnce&&(this.control.up=!1,this.control.upOnce=!1);this.control.downOnce&&(this.control.down=!1,this.control.downOnce=!1);this.control.actionOnce&&(this.control.action=!1,this.control.actionOnce=!1)},O975:function(a){for(var b in this.anonymizedValuesPerSession){var c=
b.substr(1);a=ig.game.strings.replaceAll(a,"["+this.anonymizedValuesPerSession[b]+"]",c)}return a},O8265:function(a){if(a&&"string"===typeof a&&ig.game.motionDialog&&(!this.O273||this.O273.delta()>=this.O464)&&ig.game.O4269)this.O273=new ml.Timer,a=this.O975(a),a=a.substr(0,22),ig.game.O884.O2127(a),0===a.toLowerCase().indexOf("to ")&&ig.game.O884.O4994(a),
ig.game.motionDialog.O1951(a),ig.game.O6401.O5038(ig.game.O4269,"says",a)},O4669:function(a){if(a&&"string"===typeof a&&ig.game.O4269&&ig.game.motionDialog&&(!this.O1035||this.O1035.delta()>=this.O464))ig.game.O6401.O5038(ig.game.O4269,"does",a),ig.game.motionDialog.O1951(a)},O6072:function(a){this.O3628&&(ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen?
(ig.game.userScriptEditor.O8457(a.message,a.lineNumber,a.columnNumber),this.unload()):(ig.game.O4269&&ig.game.O4703.O1620(ig.game.O4269.attachments.br.id,this).done(function(b){var c=b&&b.name;b=b&&b.id;var d="line "+a.lineNumber+", "+a.message.toLowerCase(),e="this brain has an issue";b!=ig.game.O4269.O2507&&(e="this brain by "+c+" has an issue");ig.game.O4269.say(e);setTimeout(function(){ig.game.O4269.say('"'+d+'"')},1500)}),this.unload(!0)))},O4458:function(){return this.O482().split("\n").length},
O2811:function(){var a={sight:{placements:[],entities:[],scope:this.O2770},touch:{left:null,right:null,top:null,bottom:null,center:null},hearing:[],energy:0,x:null,y:null,width:null,height:null,velocity:{},name:null,id:null,control:{},status:{isLoggedIn:!1,isEditorHere:!1}},b=ig.game.O4269;if(b){a.sight.placements=this.O7152({x:b.pos.x+b.O7704Offset.x,y:b.pos.y+b.O7704Offset.y});a.sight.entities=this.O2335();a.touch=this.O211(b);
a.hearing=this.O4386();a.control=this.O167();a.name=this.O3025(b.screenName);a.energy=b.health;a.id=this.O2897(b.O2507);a.status.isLoggedIn=ig.game.isFullAccount;a.status.isEditorHere=ig.game.isEditorHere;var c=this.O3072(b);a.x=c.x;a.y=c.y;a.width=b.size.x;a.height=b.size.y;a.velocity.x=this.getFormattedFloat(b.vel.x);a.velocity.y=this.getFormattedFloat(b.vel.y);a.direction=b.O1457.flip.x?1:-1;b.attachments.b&&(a.body=this.O3479(b.attachments.b),
a.body&&(a.body.id=this.O2897(a.body.id),a.body.name=""));b.attachments.w&&(a.wearable=this.O3479(b.attachments.w));b.attachments.m&&(a.mountable=this.O3479(b.attachments.m));b.attachments.h&&(a.holdable=this.O3479(b.attachments.h));b.attachments.br&&(a.brain=this.O3479(b.attachments.br))}return a},O3025:function(a){return"["+this.O2897(a)+"]"},O167:function(){var a={},b;for(b in this.stateSinceLast)a[b]=this.stateSinceLast[b],
this.stateSinceLast[b]=!1;for(b in this.pressedSinceLast)a[b+"Once"]=this.pressedSinceLast[b],this.pressedSinceLast[b]=!1;return a},O3072:function(a){return{x:a.pos.x+a.size.x/2,y:a.pos.y+a.size.y/2}},O211:function(a){var b={},c,d=this.O3072(a),e=a.size.x/2+4,f=a.size.y/2+4,g=a.O1457.flip.x?1:-1;c={x:d.x-e,y:d.y};b.left=this.O582(ig.game.O7715.O3379(c));c={x:d.x+e,y:d.y};b.right=this.O582(ig.game.O7715.O3379(c));
c={x:d.x,y:d.y-f};b.top=this.O582(ig.game.O7715.O3379(c));c={x:d.x-e,y:d.y-f};b.topLeft=this.O582(ig.game.O7715.O3379(c));c={x:d.x+e,y:d.y-f};b.topRight=this.O582(ig.game.O7715.O3379(c));c={x:d.x-e,y:d.y+f};b.bottomLeft=this.O582(ig.game.O7715.O3379(c));c={x:d.x+e,y:d.y+f};b.bottomRight=this.O582(ig.game.O7715.O3379(c));c={x:d.x+e*g,y:d.y-
f};b.topForward=this.O582(ig.game.O7715.O3379(c));c={x:d.x+e*g,y:d.y};b.forward=this.O582(ig.game.O7715.O3379(c));c={x:d.x+e*g,y:d.y+f};b.bottomForward=this.O582(ig.game.O7715.O3379(c));b.bottom=this.O582(a.O274);b.center=this.O582(a.O7704);return b},O7450:function(a){return a?-1:1},O2695:function(a){return[0,90,180,
270][a]},O3479:function(a){var b=null;a&&(b={},b.type=this.O6073(a.base),b.id=a.id,b.name=a.name,b.attributes=a.attributes?a.attributes:{});return b},O4657:function(a){var b="";if(a){a=String(a).toLowerCase();for(var c=0;c<a.length;c++){var d=a.charAt(c),d="abcdefghijklmnopqrstuvwxyz".indexOf(d);0<=d&&(b+="0123456789zyxwvutsrqponmlk".charAt(d))}if(12<b.length)b=b.substr(12);else for(;12>b.length;)b+="0"}return b},O6073:function(a){var b=0;a&&window.Item.prototype.BASE_TYPES[a]&&
(b=this.enumType[window.Item.prototype.BASE_TYPES[a].publicKey]);return b},O7152:function(a){var b=[];a=ig.game.O7715.O1414(a.x,a.y);for(var c=-this.O2770;c<=this.O2770;c++){var d=c+this.O2770;b[d]=[];for(var e=-this.O2770;e<=this.O2770;e++){var f=e+this.O2770,g={x:a.x+c,y:a.y+e},h=ig.game.O7715.O2398(g.x,g.y);h.x+=ig.game.O1990;h.y+=ig.game.O1990;(g=this.O582(ig.game.O7715.O1009(g),
g,h))&&(b[d][f]=g)}}return b},O582:function(a,b,c){var d=null;if(a&&a.thing){var d=this.O3479(a.thing),e=1===a.flip;e&&(d.isFlipped=e);e=this.O2695(a.rotation);0!=e&&(d.rotation=e);c&&(d.x=c.x+ig.game.O1990,d.y=c.y+ig.game.O1990);if(c=0<=[this.enumType.solid,this.enumType.flexible,this.enumType.slidey,this.enumType.slope,this.enumType.slideySlope,this.enumType.sticky,this.enumType.bouncy,this.enumType.bouncyTilt].indexOf(d.type)||d.type==
this.enumType.oneWay&&0==e)d.isSolid=c;if(c=0<=[this.enumType.deadly,this.enumType.deadlyMoving,this.enumType.harmful,this.enumType.changingHarmful,this.enumType.deadlyEmerging].indexOf(d.type)||ig.game.O8430.O7339(d.attributes))d.isHarmful=c;if(b)switch(a.thing.base){case "CRUMBLING":if(a=this.O1540(b))if(c=!(a.state==a.STATES.CRUMBLED||a.state==a.STATES.SMASHED))d.isSolid=c;break;case "GATHER":if(a=this.O1540(b))d.isGathered=a.state==
a.STATES.GATHERED;break;case "OPENABLE":if(a=this.O1540(b))if(c=a.state!=a.STATES.OPEN)d.isSolid=c}}return d},O1540:function(a){var b=null,c=ig.game.O413.default;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(e.O5309&&e.O5309.x==a.x&&e.O5309.y==a.y){b=e;break}}return b},O2897:function(a){a="_"+a;this.anonymizedValuesPerSession[a]||(this.anonymizedValuesPerSession[a]=ig.game.strings.O5151(32));return this.anonymizedValuesPerSession[a]},
getFormattedFloat:function(a){a!=parseInt(a)&&(a=a.toFixed(2),a=parseFloat(a));return a},O2335:function(a){a||(a=ig.game.O4269);var b=[];if(ig.game.O413.player)for(var c=0;c<ig.game.O413.player.length;++c){var d=ig.game.O413.player[c],e={};e.type=this.enumType.being;e.id=this.O2897(d.O2507);e.name=this.O3025(d.screenName);var f=this.O3722[d.O2507];if(f)for(var g in f)e[g]=f[g];if(f=this.O6135(d))e.stance=
f;f=this.O3072(d);e.x=this.getFormattedFloat(f.x);e.y=this.getFormattedFloat(f.y);e.velocity={x:this.getFormattedFloat(d.vel.x),y:this.getFormattedFloat(d.vel.y)};e.width=d.size.x;e.height=d.size.y;e.isMe=a.O2507==d.O2507;d.informBrainDidAction&&(e.acts=!0,delete d.informBrainDidAction);d.attachments&&(d.attachments.b&&(e.body=this.O3479(d.attachments.b),e.body&&(e.body.id=this.O2897(e.body.id),e.body.name="")),d.attachments.w&&(e.wearable=this.O3479(d.attachments.w)),
d.attachments.m&&(e.mountable=this.O3479(d.attachments.m)),d.attachments.h&&(e.holdable=this.O3479(d.attachments.h)),d.attachments.br&&(e.brain=this.O3479(d.attachments.br)));b.push(e)}if(ig.game.O413.foreground)for(c=0;c<ig.game.O413.foreground.length;++c)d=ig.game.O413.foreground[c],e={},e.type=d.isEmitter?this.enumType.emission:this.enumType.item,e.id=d.id,e.fromId=this.O2897(d.originatorId),e.name=d.O2068,e.attributes=
d.attributes?d.attributes:{},e.width=d.size.x,e.height=d.size.y,f=this.O3072(d),e.x=this.getFormattedFloat(f.x),e.y=this.getFormattedFloat(f.y),e.velocity={x:this.getFormattedFloat(d.vel.x),y:this.getFormattedFloat(d.vel.y)},b.push(e);return b},O6135:function(a){var b=null;a.O2865==a.O2558.SWIMMING?b=this.enumStance.swimming:a.O2865==a.O2558.CLIMBING?b=this.enumStance.climbing:a.O1457==a.anims.creating?b=this.enumStance.creating:a.isLying?b=this.enumStance.lying:
a.isSitting&&(b=this.enumStance.sitting);return b},O4386:function(){var a=[];if(ig.game.O413.player)for(var b=0;b<ig.game.O413.player.length;++b){var c=ig.game.O413.player[b];if(c.O6575)for(var d=0;d<c.O6575.O1423.length;d++){var e=c.O6575.O1423[d];if(e.moving&&!e.wasHeardByExtension&&"_thumbsUp"!=e.keys[0]&&"_thumbsDown"!=e.keys[0]){e.wasHeardByExtension=!0;var f={};f.content=e.O2383;f.type=this.enumType.speech;f.fromId=
this.O2897(c.O2507);a.push(f)}}}for(b=0;b<this.O5082.length;b++)f={},f.content=this.O5082[b],f.type=this.enumType.sound,a.push(f);return a},O4307:function(a,b,c){this.O3628&&!a.O4102&&(a=a.O2507,this.O3722[a]||(this.O3722[a]={}),this.O3722[a][b]=c?c:!0)},O828:function(a){this.O3628&&(a&&-1===a.indexOf("footsteps"))&&(a=ig.game.strings.replaceAll(a,ig.game.staticResourcePrefix+"media/sounds/",""),a=ig.game.strings.replaceAll(a,
"/"," "),a=ig.game.strings.replaceAll(a,".*",""),a=ig.game.strings.replaceAll(a,"_"," "),-1===["pick up","put down","click","cannot do this"].indexOf(a)&&this.O5082.push(a))},userScriptEditorRunStarted:function(a){var b=!1,c=ig.game.O4269.attachments.br;c&&(!c.textSize||c.attributes&&c.attributes.offersEditing)?b=this.O2239(a):ig.game.alertDialog.open("You need to equip an empty brain first");return b},userScriptEditorRunEnded:function(){this.unload()},userScriptEditorOpenHelp:function(){ml.Misc.openUrl("/info-brain")},
O7062FromEnumType:function(a){for(var b in this.enumType)if(this.enumType[b]===a){for(var c in window.Item.prototype.BASE_TYPES)if(window.Item.prototype.BASE_TYPES[c].publicKey==b)return a=c;break}return null}})});ig.baked=!0;
ig.module("game.core.O3405").defines(function(){window.O2526=ig.Class.extend({lightSpreadFactorDefault:490,rgba:null,rgbaTop:null,O4303:null,O6114:null,O4488:null,O5886:null,O7049:0,O88:0.8,alphaMax:0,O692:0,O3259:0.075,lightGroups:{"default":1,top:2,vignette:3,O4695:4,O1290:5},O7629:0,O6812:0,O2241:null,O8382:null,
O1132Direction:0,O8340:null,O7321:!1,O2903:!1,init:function(){this.alphaMax=this.O88},update:function(){var a=1==ig.game.O1132,b=this.O7068(ig.game.O413.light,this.lightGroups.default);if(null==this.rgba||a)this.rgba=b;this.O4501(this.rgba,b);b=this.O7068(ig.game.O413.light,this.lightGroups.top);if(null==this.rgbaTop||a)this.rgbaTop=b;this.O4501(this.rgbaTop,
b);b=this.O7068(ig.game.O413.light,this.lightGroups.vignette);if(null==this.O4303||a)this.O4303=b;this.O4501(this.O4303,b);b=this.O7068(ig.game.O413.light,this.lightGroups.O4695);if(null==this.O6114||a)this.O6114=b;this.O4501(this.O6114,b);b=this.O7068(ig.game.O413.light,this.lightGroups.O1290);if(null==
this.O4488||a)this.O4488=b;this.O4501(this.O4488,b);this.O2691();this.O2093()},O7068:function(a,b){var c=null,c=[],d=this.alphaMax,e=this.lightSpreadFactorDefault,f=b==this.lightGroups.vignette||b==this.lightGroups.O4695;b==this.lightGroups.default?this.O692=this.O88:f&&(d=1,e=650);if(a)for(var g=0;g<a.length;g++){var h=a[g];if(h.O5742==b&&h.rgba){var k=h.pos.x+
8-(ig.game.screen.x+ig.system.widthHalf),l=h.pos.y+8-(ig.game.screen.y+ig.system.O8417),k=(1-Math.sqrt(k*k+l*l)/e).limit(0,d);0<k&&h.rgba&&(l=ig.game.O5662(h.rgba),l[3]*=k,0<l[3]&&(h.attributes&&h.attributes.fullyOpaque&&(this.O692+=0.1*k),c.push(l),h.O3922&&c.push(l)))}}1<this.O692&&(this.O692=1);return c=0<c.length?f?this.O6183(c):this.O7261(c):[0,0,0,0]},O2691:function(){this.alphaMax>this.O692?
(this.alphaMax-=0.01,this.alphaMax<this.O692&&(this.alphaMax=this.O692)):this.alphaMax<this.O692&&(this.alphaMax+=0.01,this.alphaMax>this.O692&&(this.alphaMax=this.O692))},O4501:function(a,b){for(var c=6,d=a.length-1,e=0;e<=d;e++)e==d&&(c=0.03),a[e]=Number(a[e]),b[e]=Number(b[e]),a[e]<b[e]?(a[e]+=c,a[e]>b[e]&&(a[e]=b[e])):a[e]>b[e]&&(a[e]-=c,a[e]<b[e]&&(a[e]=b[e]))},draw:function(){0<this.rgbaTop[3]?this.O5941():this.O1791()},
O6780:function(){if(this.O4488&&0<this.O4488[3]){var a=this.O3062(500);a.player?(a=a.distance/500,this.O3259+=0.075,a=1-0.925*a,this.O3259>a&&(this.O3259=a)):(this.O3259-=0.075,0.075>this.O3259&&(this.O3259=0.075));this.O3392(this.O4488,3,1,0.5,this.O3259)}else this.O6114&&0<this.O6114[3]?
this.O3392(this.O6114,3,1,0.5):this.O4303&&0<this.O4303[3]&&this.O3392(this.O4303,2,0.4,0.6);this.O5293();this.O7587()},O3062:function(a){var b={player:null,distance:null};if(ig.game.O4269)if(ig.game.O4269.O4866("brightens"))b={player:ig.game.O4269,distance:0};else{var c=ig.game.O413.player;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(!e._killed&&
e.O4866("brightens")){var f=ig.game.O4269.O5320(e);if(f<a&&(null==b.distance||f<b.distance))b={player:e,distance:f}}}}return b},O3392:function(a,b,c,d,e){var f=ig.system.realWidth>ig.system.O1709?ig.system.realWidth:ig.system.O1709,g=ig.system.realWidth/2,h=ig.system.O1709/2,k=a[3],k=this.O2059(k*b,0,c);b=0;void 0!==e&&(b=k-e,0>b&&(b=0));e=ig.system.context;e.beginPath();c=e.createRadialGradient(g,h,1,g,h,f);a=this.O2603(a);a.pop();
a=a.join(",");c.addColorStop(0,"rgba("+a+","+b+")");c.addColorStop(d,"rgba("+a+","+k+")");e.fillStyle=c;e.arc(g,h,f,0,ig.game.fullAngle,!1);e.fill()},O1791:function(){ig.system.context.fillStyle="rgba("+this.O2603(this.rgba).join(",")+")";ig.system.context.fillRect(0,0,ig.system.realWidth,ig.system.O1709)},O5941:function(){var a=0<this.rgbaTop[3]?this.rgbaTop[3]/this.alphaMax:0,b=null;0<=this.rgbaTop[0]||0<=this.rgbaTop[1]||0<=this.rgbaTop[2]?(b=this.O6183([this.O2603(this.rgbaTop),
this.O2603(this.rgba)]),b=this.O4235(b,1+0.4*a),b=this.O6629(b,Math.floor(70*a))):b=this.O6183([this.rgbaTop,this.O2603(this.rgba)]);ig.system.realWidth&&ig.system.O1709&&(a=ig.system.context.createLinearGradient(0,0,0,ig.system.O1709),a.addColorStop(0,"rgba("+this.O2603(b).join(",")+")"),a.addColorStop(0.5,"rgba("+this.O2603(this.rgba).join(",")+")"),ig.system.context.fillStyle=a,ig.system.context.fillRect(0,
0,ig.system.realWidth,ig.system.O1709))},O2603:function(a){return[this.O2059(a[0],0,255,!0),this.O2059(a[1],0,255,!0),this.O2059(a[2],0,255,!0),this.O2059(a[3],0,1)]},O2059:function(a,b,c,d){return jQuery.isNumeric(a)?(a=d?Math.floor(a):parseFloat(a.toFixed(4)),a.limit(b,c)):b},O4235:function(a,b){for(var c={r:a[0],g:a[1],b:a[2]},d=0;3>d;d++){var e=ml.Misc.O3208(c);e.saturation*=b;e=ml.Misc.O3824(e);
e=[e.r,e.g,e.b,a[3]]}return e},O6629:function(a,b){for(var c=[a[0],a[1],a[2],a[3]],d=0;2>=d;d++)c[d]=(a[d]+b).limit(0,255);return c},O7261:function(a){for(var b=[],c=a.length,b=[0,0,0],d=0,e=0;e<c;e++){for(var f=a[e][3],g=0;3>g;g++)b[g]+=f*a[e][g];d+=f}a=Math.max(b[0],b[1],b[2]);255<a&&(a/=255,b[0]/=a,b[1]/=a,b[2]/=a);return b=[Math.floor(b[0]),Math.floor(b[1]),Math.floor(b[2]),Math.min(Math.floor(100*d)/100,this.alphaMax)]},O6183:function(a){var b=
null,c=a.length;if(2<=c){for(var d=0,e=null,f=0;f<c;f++)if(null==e||a[f][3]>e)e=a[f][3];if(0<e){for(var b=1/e,g=[0,0,0],f=0;f<c;f++)for(var h=a[f][3]*b,d=d+h,k=0;3>k;k++)g[k]+=h*a[f][k];for(k=0;3>k;k++)g[k]/=d,g[k]=Math.max(g[k],0),g[k]=Math.min(g[k],255);b=[Math.floor(g[0]),Math.floor(g[1]),Math.floor(g[2]),e]}}null==b&&(b=[a[0][0],a[0][1],a[0][2],a[0][3]]);return b},O7494:function(a){if(0==this.O7629){var b=a&&a.O4102,c=!0;b&&(this.O8382?
c=!1:(this.O8382=new ml.Timer,c=!0,ig.game.O4349.O7119()));c&&(this.O7629=0,this.O6812=300,this.O2241=a,ig.ua.mobile||ig.game.sounds.O7086(ig.game.sounds.click,this.O2241),b||ig.game.sounds.O7086(ig.game.sounds.whoosh,this.O2241))}},O7587:function(){if(0!=this.O6812&&this.O2241&&(this.O7629+=this.O6812*
ig.system.tick,0<this.O6812&&40<=this.O7629?(this.O7629=40,this.O6812=-40):0>this.O6812&&0>this.O7629&&(this.O6812=this.O7629=0),0<this.O7629&&!ig.game.O3252)){var a=this.O6602(this.O2241);ig.system.context.beginPath();var b=0<this.O7629?this.O7629/100:0,c=ig.system.context.createRadialGradient(a.x,a.y,15*
ig.system.scale,a.x,a.y,30*ig.system.scale);c.addColorStop(0,"rgba(255,255,255,"+this.O2059(b,0,1)+")");c.addColorStop(1,"rgba(255,255,255,0)");ig.system.context.fillStyle=c;ig.system.context.arc(a.x,a.y,40*ig.system.scale,0,2*Math.PI,!1);ig.system.context.fill();ig.system.context.closePath()}this.O8382&&(a=ig.game.O4269&&2<=ig.game.O4269.rank?3:10,this.O8382.delta()>=a&&(this.O8382=null))},O6602:function(a){return{x:(a.pos.x-
ig.game._rscreen.x+3)*ig.system.scale,y:(a.pos.y-ig.game._rscreen.y)*ig.system.scale}},O6509:function(a){return(this.pos.y+a-this.offset.y-ig.game._rscreen.y+offset)*ig.system.scale},fadeOutShroud:function(a){-1!=this.O1132Direction&&(ig.game.O1132=1,this.O1132Direction=-1,this.O8340=a)},fadeInShroud:function(a,b){1!=this.O1132Direction&&(this.O2903=Boolean(b),ig.game.O1132=0,this.O1132Direction=1,this.O8340=
a,this.O7321=!1)},O4005:function(){0<ig.game.O1132&&1>=ig.game.O1132&&(ig.system.context.fillStyle="rgba(255,255,255,"+parseFloat(ig.game.O1132.toFixed(4))+")",ig.system.context.fillRect(0,0,ig.system.realWidth,ig.system.O1709))},O2093:function(){if(0!=this.O1132Direction){var a=0.9,a=this.O2903?0.5*a:a*(0<this.O1132Direction?4:2);ig.game.O1132+=this.O1132Direction*a*ig.system.tick;0>ig.game.O1132?
(this.O1132Direction=ig.game.O1132=0,this.O8340&&(this.O8340(),this.O8340=null)):1<ig.game.O1132&&(ig.game.O1132=1,this.O1132Direction=0,this.O8340&&(this.O8340(),this.O8340=null))}},O5293:function(){if(this.O5886){this.O5886.energy+=this.O5886.energyVel;this.O5886.energy>=this.O5886.energyMax&&
0<this.O5886.energyVel&&(this.O5886.energyVel=-this.O5886.energyVel,this.O5886.energy=this.O5886.energyMax);var a=(0.01*this.O5886.energy).limit(0,0.35);ml.Misc.O1651("lighter");ig.system.context.fillStyle="rgba("+this.O5886.rgb+","+a+")";ig.system.context.fillRect(0,0,ig.system.realWidth,ig.system.O1709);ml.Misc.O13();0>=this.O5886.energy&&(this.O5886=null)}else ig.game.O4269&&ig.game.O4269.O2031("shaded")&&
(a=ig.game.O4269.attachments[ig.game.O7510.slots.WEARABLE],a.rgb&&"string"==typeof a.rgb&&(ig.system.context.fillStyle="rgba("+a.rgb+",.35)",ig.system.context.fillRect(0,0,ig.system.realWidth,ig.system.O1709)))},O919:function(a,b){null==this.O5886&&(b||(b=45),this.O5886={rgb:a,energy:1,energyVel:1,energyMax:b})}})});ig.baked=!0;
ig.module("game.entities.immobile.deletionmarker").requires("impact.entity").defines(function(){window.EntityDeletionMarker=ig.Entity.extend({size:{x:19,y:19},offset:{x:0,y:0},O199:0,type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,init:function(a,b,c){this.parent(a,b,c);this.addAnim("main",1,[0])},update:function(){ig.game.decorator.O3683(this.pos)},draw:function(){},O28:function(a){},check:function(a){},O3683:function(){if(0.5>=
100*Math.random()){var a=pos.x+9+ig.game.O5167(-4,4),b=pos.y+9+ig.game.O5167(-4,4),c={x:ig.game.O5167(-1,1),y:ig.game.O5167(-1,1)};ig.game.O6879(EntitySpot,a,b,{O3726:ig.game.O5405.dust,O1271:0.3,O4895:70,O5561:3,fadingInc:1,vel:c})}}})});ig.baked=!0;
ig.module("game.core.O3676").requires("game.entities.immobile.deletionmarker").defines(function(){window.O5588=ig.Class.extend({activeEntities:{},O6798:{},init:function(){},O141:function(a,b,c){!this.O6988(b)&&!this.O5257(b)&&this.spawnEntity(a,b,c)},spawnEntity:function(a,b,c){b&&(this.testEntityLoc&&b.x==this.testEntityLoc.x&&b.y==this.testEntityLoc.y)&&console.log("spawnEntity FOR OUR TEST ENTITY");var d=ig.game.O4961.getItemBasic(a.tid,
"entity_spawn"),e=ig.game.O7715.O2398(b.x,b.y),f=this;f.activeEntities[f.O4193(b)]="queued";jQuery.when(d.imagesBeingGeneratedPromise,d.basicDataLoading.promise()).then(function(){var g=d.O7062(),h={thingTypeId:a.tid,animSheet:f.getAnimationForEntity(d,a.rotation,a.flip),rotation:a.rotation,attributes:d.attributes,O5309:b};f.O6079(g,d,h,c);g=ig.game.spawnEntity(g,e.x,e.y,h);f.activeEntities[f.O4193(b)]=g;g.zIndex=-1;f.O6798[f.O4193(b)]&&
(h=f.O6798[f.O4193(b)],h.pos&&(g.pos=h.pos),h.vel&&(g.vel=h.vel),"function"==typeof g.O6415&&g.O6415(h.sta,!0),delete f.O6798[f.O4193(b)])})},O6079:function(a,b,c,d){var e=a&&0<="EntityLiving EntityMedium EntityLivanim EntityEnvironm EntityStackinstr EntityActivator EntityFlexible EntityMusical EntityPortal EntityPortalr EntityMusicsheet EntityReadable EntityInteract EntityDynathing EntityHappening EntityHolder EntityCrumbling EntityBrain EntityStackwearb EntityHelper EntityMultithing".split(" ").indexOf(a);
void 0!==b.musicData&&(c.musicData=b.musicData);void 0!==b.specs&&(c.specs=b.specs);void 0!==b.rptype&&(c.rptype=b.rptype);void 0!==b.url&&(c.url=b.url);void 0!==b.pitch&&(c.pitch=b.pitch);void 0!==b.rgb&&(c.rgb=b.rgb);void 0!==b.rgb2&&(c.rgb2=b.rgb2);void 0!==b.text&&(c.text=b.text);void 0!==b.soundId&&(c.soundId=b.soundId);void 0!==b.textSize&&(c.textSize=b.textSize);void 0!==b.reactsTo&&(c.reactsTo=b.reactsTo);void 0!==b.checksNears&&(c.checksNears=b.checksNears);void 0!==b.hasId&&(c.hasId=b.hasId);
void 0!==b.emitsId&&(c.emitsId=b.emitsId);void 0!==b.secPerTransform&&(c.secPerTransform=b.secPerTransform);void 0!==b.environmentId&&(c.environmentId=b.environmentId);void 0!==b.boundingBox&&(c.boundingBox=b.boundingBox);void 0!==b.boundingBox2&&(c.boundingBox2=b.boundingBox2);void 0!==b.throwDirection&&(c.throwDirection=b.throwDirection);"EntityHolder"==a&&b.useKeyword&&(c.useKeyword=b.useKeyword);b.backTileCount&&(c.backTileCount=b.backTileCount);e&&void 0!==b.name&&(c.givenName=b.name);d&&(c.O6712=
!0)},O1854:function(a){if(a){var b=ig.game.O4961.getItemBasic(a,"entity_spawn_agi"),c=this;jQuery.when(b.imagesBeingGeneratedPromise,b.basicDataLoading.promise()).then(function(){var d={thingTypeId:a,animSheet:c.getAnimationForEntity(b,0,0),rotation:0,attributes:b.attributes,O5309:null,O4591:!0};void 0!==b.name&&(d.givenName=b.name);void 0!==b.checksNears&&(d.checksNears=b.checksNears);void 0!==b.textSize&&(d.textSize=b.textSize);void 0!==b.reactsTo&&
(d.reactsTo=b.reactsTo);void 0!==b.boundingBox&&(d.boundingBox=b.boundingBox);ig.game.O2944=new ig.global.EntityInteract(0,0,d)})}},O6189:function(a,b,c,d,e){var f=ig.game.O4961.getItemBasic(a.tid,"entity_spawn_sm"),g=this;g.activeEntities[g.O4193(b)]="queued";d||(d={x:0,y:0});c||(c=ig.game.O7715.O2398(b.x,b.y));jQuery.when(f.imagesBeingGeneratedPromise,f.basicDataLoading.promise()).then(function(){var h=f.O7062();
try{var k=ig.game.spawnEntity(h,c.x,c.y,{thingTypeId:a.tid,animSheet:g.getAnimationForEntity(f,a.rotation,a.flip),vel:d,state:e,throwDirection:f.throwDirection,attributes:f.attributes,rotation:a.rotation,O5309:b});g.activeEntities[g.O4193(b)]=k;k.zIndex=-1}catch(l){console.log("Problem instantiating state-managed "+h+". Old type?")}})},O4968:function(a){if(!this.activeEntities[this.O4193(a)]){var b=ig.game.O7715.O2398(a.x,a.y),b=ig.game.spawnEntity(EntityDeletionMarker,
b.x,b.y,{animSheet:null});this.activeEntities[this.O4193(a)]=b;b.zIndex=-1;b.O5309=a}},O3582:function(a){this.O4493(a)&&this.O154(a.x,a.y)},O4493:function(a){return this.activeEntities[this.O4193(a)]&&this.activeEntities[this.O4193(a)]instanceof EntityDeletionMarker},O6988:function(a){return this.activeEntities[this.O4193(a)]},O5257:function(a){return"queued"==this.activeEntities[this.O4193(a)]},
getAnimationForEntity:function(a,b,c){b=a.getImageForRotationFlip(b,c);b=new ml.Image(null,null,null,b);var d=a.img.width;c=a.img.height;if("MOTION"==a.base||"INTERMOT"==a.base||"HOLDER"==a.base)d=Math.floor(a.img.width/3);else if("DYNATHING"==a.base||"HAPPENING"==a.base)d=Math.floor(a.img.width/29),d=Math.floor(a.img.width/d);else if("MUSICSHEET"==a.base)d=Math.floor(a.img.width/32),d=Math.floor(a.img.width/d);else if("FARBACK"==a.base||"TRANSFORM"==a.base)d=Math.floor(a.img.width/ig.game.O5286),
d=Math.floor(a.img.width/d);else if(0<=ig.game.O3577.indexOf(a.base)||"DECOFB"==a.base||"MULTITHING"==a.base)d=Math.floor(a.img.width/2);else if(d>ig.game.tileSize){d=ig.game.maxCells;if("VIEWABLE"==a.base||"GLOW"==a.base)d=Math.floor(a.img.width/ig.game.O5286);else if("DYNATHING"==a.base||"HAPPENING"==a.base)d=Math.floor(a.img.width/ig.game.tileSize);else if("MUSICSHEET"==a.base)d=Math.floor(a.img.width/ig.game.tileSize);else if("DECOBIG"==a.base||"DECOVBIG"==a.base||"POINTER"==
a.base||"PLACENAME"==a.base||"LIVING"==a.base)d=1;d=Math.floor(a.img.width/d)}return new ml.AnimationSheet(null,d,c,b)},O154:function(a,b){var c={x:a,y:b},d=this.activeEntities[this.O4193(c)];d&&"queued"!=d?("function"==typeof d.tidyUp&&d.tidyUp(),ig.game.O154(d),delete this.activeEntities[this.O4193(c)]):(console.log("entityManager.O154 called for location for which entityManager does not have an entity"),window.setTimeout(function(){ig.game.entityManager.O154(a,
b)},ig.game.O5167(1E3,2E3)))},O4193:function(a){return a.x+","+a.y},update:function(){},O114:function(a){if(this.O6988(a.loc))this.O5257(a.loc)?this.O6798[this.O4193(a.loc)]=a:a.evt?this.O1646(a.loc,a.evt):this.O7214(a.loc,a.pos,a.vel,a.sta);else{var b=ig.game.O7715.O8268(a.loc);b&&this.O6189(b,a.loc,a.pos,a.vel,a.sta)}},O7214:function(a,
b,c,d){var e=this.activeEntities[this.O4193(a)];e?this.O5257(a)?console.error("We are trying to update an entity thats queued for loading!"):(b&&(e.pos=b),c&&(e.vel=c),"function"==typeof e.O6415&&e.O6415(d)):console.error("we dont know about this entity, but should do!")},O1646:function(a,b){var c=this.activeEntities[this.O4193(a)];c?"function"==typeof c.O5688&&c.O5688(b):console.error("we dont know about this entity, but should do!")},
getMovingItemUnderMouse:function(){var a,b;for(b in this.activeEntities)if(this.activeEntities.hasOwnProperty(b)&&(a=this.activeEntities[b])&&a.O7742&&this.O6849Entity(a))return a},O2534:function(){var a,b;for(b in this.activeEntities)this.activeEntities.hasOwnProperty(b)&&(a=this.activeEntities[b],"queued"!=a&&!ig.game.O172.O3023(a)&&this.O3693(a,b))},O3693:function(a,b){ig.game.O154(a);delete this.activeEntities[b]},
O6849Entity:function(a){a=ig.game.O7715.O4294(a.pos.x,a.pos.y);return ig.game.O6099.O6849(a.x,a.y,a.x+ig.game.tileSize,a.y+ig.game.tileSize)},O8069:function(){return this.activeEntities},O6266:function(a){var b=[],c;for(c in this.activeEntities)if(this.activeEntities.hasOwnProperty(c)){var d=this.activeEntities[c];if(d instanceof EntityPortal||d instanceof EntityPortaldir){var e=!0;a?e=d.thingTypeId==a:d.attributes&&d.attributes.forSameOnly&&
(e=!1);e&&b.push(d)}}return b},O2219:function(a){var b=[],c;for(c in this.activeEntities)this.activeEntities.hasOwnProperty(c)&&(this.activeEntities[c]instanceof a||this.activeEntities[c]instanceof a)&&b.push(this.activeEntities[c]);return b}})});ig.baked=!0;
ig.module("game.core.O1741").defines(function(){window.O5916=ig.Class.extend({localPlayerCount:0,myPeople:[],O3212:[],O625:[],O2078:null,init:function(){this.O2078=this.O3399()},O3399:function(){var a=jQuery.Deferred(),b=this,c=ig.game.O7421.O6343(this);c.done(function(c){b.myPeople=c&&c.friends;b.O3212=c&&c.blocked;a.resolve()});c.fail(function(a,b,c){ig.game.errorManager.O7973("Loading issue (My People)")});
return a.promise()},O1498:function(){var a=jQuery.Deferred(),b=this,c=ig.game.O7421.O3677(this);c.done(function(c){b.myPeople=c;a.resolve()});c.fail(function(a,b,c){ig.game.errorManager.O7973("Loading issue (My People Ordered)")});return a.promise()},O1980:function(){this.localPlayerCount++;ig.game.O2169&&ig.game.O2169.O3911(!0)},O2342:function(){this.localPlayerCount--;1>this.localPlayerCount&&
ig.game.O2169&&ig.game.O2169.O3911(!1)},O983:function(a){a&&(ig.game.O3985&&ig.game.O3985.O1097)&&ig.game.O3985.O1097(a.O2507);ig.game.O154(a);this.O2342()},O4117:function(a){ig.game.O172.O7557(a)||(ig.game.O154(a),this.O2342())},O3434:function(a,b){var c=jQuery.Deferred(),
d=-1!==this.myPeople.indexOf(a);c.resolveWith(b,[d]);return c.promise()},O4135:function(a){return 0<=this.myPeople.indexOf(a)},O1167:function(a,b){var c=jQuery.Deferred(),d=-1!==this.O3212.indexOf(a);c.resolveWith(b,[d]);return c.promise()},O2144:function(a,b){return-1!==this.O3212.indexOf(a)},O8186:function(a,b,c){var d=jQuery.Deferred(),e=a*(b-1)+b;a=this.myPeople.slice(a*(b-1),e);d.resolveWith(c,[a,
this.myPeople.length>e]);return d.promise()},O4901:function(a,b){var c=jQuery.Deferred(),d=this;ig.game.O7421.O4901(a,b).done(function(e){e.distance=Math.floor(d.O8132(e.location));d.O625[a]=e;c.resolveWith(b,[e])});return c.promise()},O5249:function(a){return this.O625[a]},O2586:function(a,b){var c=jQuery.Deferred();ig.game.O7421.O2586(a,b).done(function(a){c.resolveWith(b,
[a])});return c.promise()},O3655:function(a){var b=this;ig.game.O7421.O6370(a).done(function(){b.myPeople.push(a);var c=ml.Misc.O2849(a);c&&(c.O4135edByUs=!0);ig.game.O7421.O2039(a,b)})},O704:function(a){var b=this;ig.game.O7421.O2369(a).done(function(){var c=b.myPeople.indexOf(a);-1!=c&&b.myPeople.splice(c,1);if(c=ml.Misc.O2849(a))c.O4135edByUs=!1})},O8287:function(){var a=
jQuery.Deferred(),b=this;this.O3212Loaded?a.resolve(b.O3212):ig.game.O7421.O8287(this).done(function(c){b.O3212=c;b.O3212Loaded=!0;a.resolve(c)});return a.promise()},O6306:function(a){var b=this;ig.game.O7421.O4539(a).done(function(){b.O3212.push(a)})},O6362:function(a){var b=this;ig.game.O7421.O7495(a).done(function(){var c=b.O3212.indexOf(a);
-1!=c&&b.O3212.splice(c,1)})},O1462:function(a,b){var c=jQuery.Deferred();ig.game.O7421.O1462(a,b).done(function(a){var e,f;a&&(e=a.visitedLocation,f=a.moreResults);c.resolveWith(b,[e,f])});return c.promise()},O2240:function(a,b,c){var d=jQuery.Deferred();ig.game.O7421.O2240(a,b,c).done(function(a){var b,g;a&&(b=a.visitedLocation,g=a.moreResults);d.resolveWith(c,[b,g])});return d.promise()},O8132:function(a){if(!a)return null;
var b=ig.game.O7715.O1414(ig.game.O4269.pos.x,ig.game.O4269.pos.y);return Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}})});ig.baked=!0;
ig.module("game.core.O4045").defines(function(){window.O4039=ig.Class.extend({data:null,O1631:null,O5065:null,O6918:0,timeMax:null,O4257:300,isPlaying:!1,O1600:!1,O1599:0.05,O7057:null,volume:1,O4431:3,init:function(){},update:function(){},draw:function(){},O7994:function(a,b,c){this.data=ig.game.O5662(a);this.O1631=b?b:null;this.O5065=c},O3571:function(){this.isPlaying&&this.O453();
if(!this.O7057&&(null!=this.data||this.O1600))this.O6918=0,this.timeMax=null,this.isPlaying=!0,this.O7057=setInterval(function(){ig.game.O6858.playNextTick()},1E3*this.O1599)},O933:function(a){if(this.isPlaying)this.O453();else{var b=this;ig.game.O4961.getItem_P(a,"musicman").done(function(c){c&&c.musicData&&(b.O7994(c.musicData,a),b.O3571())})}},O6673:function(a){return(parseFloat(a)+parseFloat(this.O1599)).toFixed(2)},
playNextTick:function(){if(ig.game.sounds){this.O6918=this.O6673(this.O6918);var a=!0;this.O5065&&ig.game.O4269&&(a=ig.game.O4269.O5320(this.O5065)<2*ig.system.width);if(a)if(this.timeMax||(this.timeMax=this.O1600?this.O4257:this.getTimeMax()),!this.timeMax||parseFloat(this.O6918)>parseFloat(this.timeMax))this.O453();else{var a=this.getTimeToKey(this.O6918),b;for(b in this.data)if(ig.game.sounds.instruments[b]){var c=
this.data[b][a];if(c)for(var d=0;d<c.length;d++){var e=c[d];e&&(ig.game.sounds.instruments[b].isKit?ig.game.sounds.O2318(b,e,!1,null,!0):2==e.length&&ig.game.sounds.O8389(b,e[0],e[1],!1,null,!0))}}}}},getTimeToKey:function(a){var b="0";a&&(b=ig.game.strings.replaceAll(String(a),".","_"));return b},O2680:function(a){return parseFloat(ig.game.strings.replaceAll(String(a),"_","."))},getTimeMax:function(){var a=null;if(this.data)for(var b in this.data)for(var c in this.data[b]){var d=
this.O2680(c);if(null==a||parseFloat(d)>parseFloat(a))a=parseFloat(d)}return a},O1064:function(a,b){var c=parseInt(b.slice(-1)),d=b.substring(0,b.length-1);return a+"_"+c+"_"+d},O3156:function(a,b,c,d){this.O1600&&(this.data||(this.data={}),this.data[a]||(this.data[a]={}),d=this.getTimeToKey(void 0===d?this.O6918:d),this.data[a][d]||(this.data[a][d]=[]),-1==this.O659(this.data[a][d],[b,c])&&this.data[a][d].push([b,c]))},O2058:function(a,
b,c){this.O1600&&(this.data||(this.data={}),this.data[a]||(this.data[a]={}),c=this.getTimeToKey(void 0===c?this.O6918:c),this.data[a][c]||(this.data[a][c]=[]),-1==this.data[a][c].indexOf(b)&&this.data[a][c].push(b))},O659:function(a,b){for(var c=-1,d=0;d<a.length;++d)if(this.O7930(a[d],b)){c=d;break}return c},O7930:function(a,b){if(!b||a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!this.O7930(a[c],
b[c]))return!1}else if(a[c]!=b[c])return!1;return!0},O453:function(){clearInterval(this.O7057);this.O7057=null;this.O6918=0;this.isPlaying=!1;null!=this.O1631&&(this.O5065=this.O1631=this.data=null)},O8330:function(){this.O1600=!0;this.O3571()},O4759:function(){this.O1600=!1;this.O453()},reset:function(){this.isPlaying&&this.O453();this.O1600&&this.O4759();this.O6322()},O6322:function(){this.timeMax=
this.O5065=this.O1631=this.data=null},O5676:function(a){var b=null,c=this.O2302();if(a)for(var d in a){var e=c[d];if(e){b||(b={});b[d]={};for(var f in a[d]){f=this.O8218(f);if(null==f)return null;var g=a[d][f];b[d][f]=[];for(var h=0;h<g.length;h++){var k=g[h];if(e.isKit)if(this.O4327(d,null,null,k))0==h&&(b[d][f]=[]),b[d][f].push(k);else return null;else if(this.O4327(d,k[0],k[1],k))0==h&&(b[d][f]=[]),b[d][f].push([k[0],
k[1]]);else return null}}}else{b=null;break}}return b},O4327:function(a,b,c,d){var e=!1,f=this.O2302(),g=ig.game.sounds.tones;if(f[a])for(var h in f)h==a&&(e=f[h],e=e.isKit?this.O6674(d)&&1<=d&&d<=e.max:this.O6674(b)&&b>=e.minOctave&&b<=e.maxOctave&&this.O2017(c)&&0<=g.indexOf(c));return e},O8218:function(a){var b=null;if("string"===typeof a)try{var c=ig.game.strings.replaceAll(a,"_",".");parseFloat(c);b=String(a)}catch(d){b=null}return b},O2302:function(){return ig.game.sounds.instruments},
O6674:function(a){return this.O6680&&parseInt(a)==a},O6680:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},O2017:function(a){return"string"===typeof a}})});ig.baked=!0;
ig.module("game.core.holdermanager").defines(function(){window.HolderManager=ig.Class.extend({getUseKeywordIsOk:function(a){var b=!0;if(a){var b=!1,c=ig.game.O4269.attachments.h;c&&0<=["STACKHOLD","EQUIPMENT","LINER"].indexOf(c.base)?(b=c&&c.name&&0<=c.name.indexOf(a),"STACKHOLD"==c.base||"LINER"==c.base?b&&ig.game.O7510.O3306(ig.game.O4269,"h",!0):"EQUIPMENT"==c.base&&ig.game.O4269.O2264()):ig.game.O4269.O2264()}return b},O7236:function(a,
b,c){if(a&&b&&ig.game.O413.default){for(var d=null,e=0;e<ig.game.O413.default.length;e++){var f=ig.game.O413.default[e];if(f instanceof EntityHolder&&f.O5309&&f.O5309.x==b.x&&f.O5309.y==b.y){d=f;break}}d&&d.O7094(a,c)}},O1097:function(a){if(ig.game.O413&&ig.game.O413.default)for(var b=0;b<ig.game.O413.default.length;b++){var c=ig.game.O413.default[b];c instanceof EntityHolder&&
c.O7094(a,!1)}},O6366:function(){var a=ig.game.settings.travelHolderId;a&&ig.game.holderDialog&&ig.game.holderDialog.open(a,void 0,void 0,void 0,!0,void 0,!0)}})});ig.baked=!0;
ig.module("game.core.multithingmanager").defines(function(){window.MultithingManager=ig.Class.extend({O8278:function(a,b){if(a&&b&&Array.isArray(b)&&3==b.length){var c=b[0],d=b[1],e=b[2];"i"==c&&(c="itemChange");void 0!==e.s&&(e.state=e.s,delete e.s);void 0!==e.r&&(e.rot=e.r,delete e.r);if("startViewing"==c)a.O4102?a.viewingMultithingSince=e.viewingMultithingSince:(a.viewingMultithingPlacementId=d,a.viewingMultithingSince=e.viewingMultithingSince,ig.game.sounds.O7086(ig.game.sounds.shortWhoosh,
a));else if("stopViewing"==c)this.O2047(a);else if(ig.game.multithing)if(ig.game.multithing.isOpen&&ig.game.multithing.placementId==d)ig.game.multithing.O4742(a,c,d,e);else if(c=this.O6929(d))ig.game.decorator.O1185(a,null,c.O5309,!0,8,65,15,!0),ig.game.sounds.O733(ig.game.sounds.shortWhoosh,0.35)}},O6929:function(a){var b;if(ig.game.O413)for(var c=["default","decoEffects"],d=0;d<c.length;d++){var e=ig.game.O413[c[d]];
if(e)for(var f=0;f<e.length;f++){var g=e[f];if(!g._killed&&g.O2673&&g.placementId==a){b=g;break}}}return b},addParticipant:function(a){if((a=ml.Misc.O2849(a.O2507))&&ig.game.multithing&&ig.game.multithing.isOpen)a.hasMultithingAddButton=!1,ig.game.multithing.addParticipant(a)?ig.game.O4349.O953("addParticipant",ig.game.multithing.placementId,{userId:a.O2507}):ig.game.O4269.say("the participants limit has been reached"),ig.game.sounds.success.play()},
removeParticipant:function(a){if((a=ml.Misc.O2849(a.O2507))&&ig.game.multithing&&ig.game.multithing.isOpen)a.hasMultithingAddButton=!1,ig.game.multithing.removeParticipant(a),ig.game.O4349.O953("removeParticipant",ig.game.multithing.placementId,{userId:a.O2507}),ig.game.sounds.pickup.play()},O7878:function(a){if(ig.game.multithing)if(a.viewingMultithingPlacementId)if(a.O4102){if(!a.multithingPos){var b=this.O6929(a.viewingMultithingPlacementId);
b&&(a.multithingPos=ig.game.O5662(b.pos))}a.multithingPos&&350<=ml.Misc.O7969(ig.game.O4269.pos,a.multithingPos)&&ig.game.multithing.close()}else if(a.viewingMultithingName)a.viewingMultithingSince&&a.hasMultithingAddButton&&15<=(Date.now()-a.viewingMultithingSince)/1E3&&(a.hasMultithingAddButton=!1);else{if(b=this.O6929(a.viewingMultithingPlacementId))a.viewingMultithingName=ig.game.strings.O1288(b.givenName,15),a.hasMultithingAddButton=ig.game.multithing.isOpen&&
ig.game.multithing.placementId==a.viewingMultithingPlacementId&&ig.game.multithing.O256()&&!ig.game.multithing.O5141()}else a.viewingMultithingName&&(delete a.viewingMultithingName,delete a.hasMultithingAddButton,delete a.multithingPos)},O2047:function(a,b){delete a.viewingMultithingPlacementId;delete a.viewingMultithingSince;delete a.viewingMultithingName;delete a.hasMultithingAddButton;delete a.multithingPos;ig.game.sounds.O7086(ig.game.sounds.shortWhoosh,
a,0.35);a.O4102&&ig.game.O4349.O953("stopViewing",b)},toggleParticipation:function(a){console.log("toggleParticipation",a)}})});ig.baked=!0;
ig.module("game.core.O1919").defines(function(){window.O1873=ig.Class.extend({getCollectedItemsForPlayer:function(a,b,c){var d=jQuery.Deferred(),e=a*b-1;ig.game.O7421.O5663(a*b-b,e,c).done(function(a){var g=[],h=!1,k=1,l=0;if(a&&a.items){h=0;for(k=a.items.length;h<k;h++)g.push(ig.game.O4961.getItemBasic(a.items[h],"items_get_col"));h=a.itemCount>e+1;k=Math.ceil(a.itemCount/b);l=a.itemCount}d.resolveWith(c,[g,h,k,l])});return d.promise()},O5389:function(a,
b,c){var d=jQuery.Deferred(),e=a*b-1;ig.game.O7421.O3957(a*b-b,e,c).done(function(a){var g=[],h=!1,k=1,l=0;if(a&&a.items){h=0;for(k=a.items.length;h<k;h++)g.push(ig.game.O4961.getItem(a.items[h],"items__get_created_items_for_player"));h=a.itemCount>e+1;k=Math.floor(a.itemCount/b)+1;l=a.itemCount}d.resolveWith(c,[g,h,k,l])});return d.promise()},O4311:function(a,b,c,d){if(ig.game.universeSearchChecked)return this.O5979(a,b,c,d);var e=
jQuery.Deferred();if(!a||""==a||2>a.length)return e.resolveWith(d,[[],!1]),e.promise();var f=ig.game.searchQuery.getNormalized(a),g=b*c-c,h=b*c-1;(!a||!(0<=a.indexOf("in bin")||0<=a.indexOf("in:bin")))&&this.O184(f,b,c)?(g=jQuery.Deferred(),a=g.promise(),g.resolve(this.getCacheData())):a=ig.game.O7421.O1921(f,g,h);a.done(function(a){var g=[],h=!1;if(a&&a.items){for(var h=0,n=a.items.length;h<n;h++)g.push(ig.game.O4961.getItemBasic(a.items[h],"items_get_search"));
h=a.more}ig.game.O4703.cacheSearchData(f,b,c,a);e.resolveWith(d,[g,h])});return e.promise()},O5979:function(a,b,c,d){var e=jQuery.Deferred();if(!a||""===a||2>a.length)return e.resolveWith(d,[[],!1]),e.promise();a=ig.game.searchQuery.getNormalized(a);ig.game.itemSearchManager.O7517(a,b*c-c,b*c-1).done(function(a,b){var c=[];if(a)for(var k=0;k<a.length;k++)c.push(ig.game.O4961.getItemBasic(a[k],"items_get_search"));e.resolveWith(d,[c,b])});return e.promise()},
cacheSearchData:function(a,b,c,d){ig.game.O914.setItem("search_String",a);ig.game.O914.setItem("search_PageNo",b);ig.game.O914.setItem("search_PageSize",c);ig.game.O914.setItem("search_Data",JSON.stringify(d))},getCacheData:function(){var a,b=localStorage.getItem("search_Data");if(b)try{a=JSON.parse(b)}catch(c){ig.game.errorManager.warn("getCacheData not able to parse localStorage data")}return a},O184:function(a,b,c){var d=!1;
try{d=a==localStorage.getItem("search_String")&&b==localStorage.getItem("search_PageNo")&&c==localStorage.getItem("search_PageSize")}catch(e){console.log("couldnt hydrate cached search data")}return d},O2163:function(a,b,c){ig.game.O7421.O3821(a,(ig.game.panelSet.O7890.tilePage-1)*ig.game.panelSet.O7890.O7424+b-1,this).done(function(a){var e=a&&a.alreadyExisted;a&&a.actionWasBlocked?ig.game.sounds.nocando.play():e?(ig.game.panelSet.O7890.refresh(),
ig.game.sounds.putdown.play()):(ig.game.sounds.collected.play(),ig.game.panelSet.O7890.O5819(b),c&&(ig.game.decorator.O4712(ig.game.O4269,c),ig.game.O4349.O1871(c)))}).fail(function(){ig.game.sounds.nocando.play()})},removeItemFromCollection:function(a,b){var c=jQuery.Deferred();ig.game.O7421.O201(a,b).done(function(a){c.resolveWith(b)});return c.promise()},O1722:function(a){var b=jQuery.Deferred();
a=ig.game.O7421.O247(a);a.done(function(a){a&&a.ok?b.resolve():b.reject()});a.fail(function(){b.reject()});return b.promise()},O6092:function(a){ig.game.O4961.getItem_P(a,"after_save").done(function(){ig.game.panelSet.O488.O5760()})},O1106:function(a,b,c,d,e){ig.game.painter&&ig.game.painter.O481()&&(c=ig.game.painter.data&&ig.game.painter.data.type&&ig.game.painter.types[ig.game.painter.data.type].O2283,
"cloneOld"==ig.game.painter.mode?ig.game.O7421.getItemImageDataFromPng_P(a,b).done(function(b){if(b){ml.Misc.O1267(b.diagnostics);var c={};c.id=a;c.name=b.name;c.type=b.base;b.prop&&(c.prop=b.prop,b.prop.attr&&ig.game.O8430.O4198(b));c.direction=b.rotation;var d=ig.game.O4269.O2507==b.creator;if(b.isBlocked)ig.game.painter.showItemIsBlocked();else if(!b.imageData||!b.imageData.colors)ig.game.sounds.nocando.play(),console.log("Pixel/ palette data not available for this item");
else if(c.colors=b.imageData.colors,b.imageData.pixels&&(jQuery.isArray(b.imageData.pixels[0][0])?c.pixels=b.imageData.pixels:(c.pixels=[],c.pixels[0]=b.imageData.pixels)),b="MUSICSHEET"==c.type||c.prop&&c.prop.attributes&&0<=c.prop.attributes.indexOf("clonable"),d||b){var e;d?c.prop&&c.prop.clonedFrom&&(e=c.prop.clonedFrom):e=c.id;0<=ig.game.typesWithExternalBigData.indexOf(c.type)?ig.game.O7421.getItemBigData_P(c.id).done(function(a){a&&(c.prop||(c.prop={}),c.prop.textData=a.textData);ig.game.painter.O4582(c,
e)}):ig.game.painter.O4582(c,e)}else ig.game.sounds.nocando.play()}}):(ig.game.painter.data&&0<=["interactiveEnvironment","gatherable","liner","mover"].indexOf(ig.game.painter.data.type)||ig.game.painter.data&&ig.game.painter.data.type&&0<=ig.game.painter.O942.indexOf(ig.game.painter.types[ig.game.painter.data.type].key)||c||ig.game.painter.thingReferencesDialog&&ig.game.painter.thingReferencesDialog.isOpen)&&ig.game.painter.O2665(a,d,e))},O6055:function(a){ig.game.O4961.getItem_P(a,
"export").done(function(a){a&&a.imagesBeingGenerated.done(function(){var c=a.creatorId==ig.game.O4269.O2507,d=10<=ig.game.O4269.rank,e='<p style="text-transform: none">URL: <span style="opacity: 0.7">'+ig.game.strings.O4334("https://i.manyland.com/"+a.id+".png")+"</span></p>",e=e+('<p style="text-transform: none">ID: <span style="opacity: 0.7">'+a.id+"</span></p>"),f=ig.game.O8430.O1530(a),f=f&&""!=f?ig.game.strings.O4334(f)+".":"-",e=e+("<p>Attributes: "+
f+"</p>");if(c||d){var g;a.text?g=a.text:a.textData&&(g=a.textData);g&&(e+="<p>TEXT (ONLY VISIBLE TO YOU AS CREATOR",d&&(e+=' <br/><span style="opacity: 0.5">AND THIS ADMIN OVERRIDE</span>'),e=e+")</p>"+('<div style="text-transform: none; overflow-y: scroll; height: 300px; text-align: left; padding: 10px; border-top: 2px solid rgba(0,0,0,.5); background-color: rgba(255,255,255,0.3)"><pre>'+ig.game.strings.O4334(g)+"</pre></div>"))}d&&(e+='<p style="color: gray">Admin-Only Info:<br/><br/>',e+=
'Actual URL: <span style="text-transform: none">'+ig.game.strings.O4334(a.img.path)+"</span>",e+="</p>");ig.game.alertDialog.open(e,!0)})})},O3217:function(a,b,c,d,e){ig.game.O4269&&ig.game.O4961.getItem_P(a,"trigger_item_default_behavior_on_selection").done(function(f){f&&f.imagesBeingGenerated.done(function(){var g=ig.game.O4269.pos.x,h=ig.game.O4269.pos.y;switch(f.base){case "WRITABLE":ig.game.writableDialog.isOpen&&ig.game.writableDialog.forumId==
f.id?ig.game.writableDialog.O7504():(ig.game.writableDialog.isOpen&&ig.game.writableDialog.O7504(),ig.game.writableDialog.O3103(f));break;case "READABLE":ig.game.readableDialog.isOpen&&ig.game.readableDialog.close();ig.game.O4961.getItem_P(f.id,"trigger_item_default_behavior_on_selection__readable").done(function(a){ig.game.readableDialog.open(g,h,a.rgb,a.rgb2,a.textData,a.attributes,f.name)});break;case "MEDIUM":f.url&&0===f.url.indexOf("writable://")?ig.game.mediaDialog.O471(f.url,
f.rgb,f.rgb2):ml.Misc.O6896(f.url,ig.game.O4269.O2507,!1);break;case "CHANGER":ig.game.O6310&&ig.game.painter.O1413(f.id);break;case "SOUND":ig.game.sounds.O7220(a);break;case "POINTER":ig.game.O7421.O384(f.url).done(function(a){a&&(void 0!=a.x&&void 0!=a.y)&&ig.game.O5051.O7648(a)});break;case "MUSIC":ig.game.O6858.O933(a);break;case "HELPER":ml.Misc.O7522(f.attributes,
f.name);break;case "HOLDER":if(ig.game.holderDialog.isOpen&&ig.game.holderDialog.holderId==f.id)ig.game.holderDialog.close(),ig.game.panelSet.O5400(),b&&(b.isOpen=!1);else if(ig.game.O3985.getUseKeywordIsOk(f.useKeyword)){var k=!1,l=!ig.game.isEditorHere&&!e&&!d;ig.game.holderDialog.isOpen&&(k=ig.game.holderDialog.O3923,l=ig.game.holderDialog.O814,ig.game.holderDialog.close(),ig.game.panelSet.O5400());var m=void 0;c&&(void 0!==c.lockAtHolderPage&&
(m=c.lockAtHolderPage),void 0!==c.openAsTravelHolder&&c.openAsTravelHolder&&(l=c.openAsTravelHolder));ig.game.holderDialog.open(f.id,b,f.soundId,k,l,m)}else ig.game.O884.O8271("thisHolderNeedsSomething"),ig.game.sounds.nocando.play();break;case "PLACENAME":ig.game.userO6290.O3163(f.id);break;case "VIEWABLE":k=new ml.AnimationSheet(null,f.img.width/ig.game.O5286,f.img.height,f.img);ig.game.viewableDialog.open(g,h,k,!0,f.soundId,!0,f.attributes);
break;case "MIFT":if((k=ig.game.panelSet.O4887[f.id])&&!k.isPaid&&k.transactionId)ig.ua.steam?ig.game.alertDialog.O1846("This Mift is unpaid and not sent, but you can clone it by dragging it over the Create button."):(ig.game.O231.O7538(),ig.game.iapManager.O2301(k.transactionId));break;default:ig.game.motionDialog&&f.id==ig.game.motionDialog.O7659?ig.game.portaller.startExitAreaTeleportingRequest():!d&&!e&&
ig.game.playerDialog.O6647()?ig.game.playerDialog.O2135(f):ig.game.settings.getGlue(ig.game.O7510.O969(f.base))||ig.game.O7510.O8157(f,void 0,d,e)}})})},O1620:function(a,b){return ig.game.O7421.O378(a,b)},O1370:function(a,b){var c=jQuery.Deferred();ig.game.O4703.O1620(a,b).done(function(a){a=a&&a.id;c.resolveWith(b,ig.game.O4269&&ig.game.O4269.O2507==
a)}).fail(function(){c.rejectWith(b)});return c.promise()}})});ig.baked=!0;
ig.module("game.core.itemsearchmanager").defines(function(){window.ItemSearchManager=ig.Class.extend({bulkPageSize:100,O8407:[],O4904:0,O8371:!1,O7794:null,O7667:function(a){a!==this.O7794&&(this.O8407=[],this.O4904=0,this.O8371=!1);this.O7794=a},O1729:function(a,b){var c;if(this.O8407.length>=b||this.O8371)c={},c.itemIds=this.O8407.slice(a,
b+1),c.moreAvailable=this.O8407.length>b||!this.O8371;return c},O4839:function(){var a=jQuery.Deferred();if(this.O8371)a.resolve();else{var b=this;ig.game.O7421.O4518(this.O7794,this.O4904,this.bulkPageSize).done(function(c){b.O8407=b.O8407.concat(c.items);b.O8371=!c.items||c.items.length<b.bulkPageSize;b.O4904++;a.resolve()})}return a.promise()},O7517:function(a,
b,c,d){var e=jQuery.Deferred();this.O7667(a);var f=this.O1729(b,c);if(f)e.resolveWith(d,[f.itemIds,f.moreAvailable]);else{var g=this;this.O4839().done(function(){f=g.O1729(b,c);e.resolveWith(d,[f.itemIds,f.moreAvailable])})}return e.promise()}})});ig.baked=!0;
ig.module("game.core.O1847").defines(function(){window.O3046=ig.Class.extend({info:{SOLID:{behind:{shortkey:2},takeAutoFill:{shortkey:3,label:"get auto-back"},blocksLeft:{shortkey:4},blocksRight:{shortkey:5},clonable:{shortkey:1}},TRANSFORM:{startRandomly:{shortkey:2},cycles:{shortkey:3,label:"cycle"},cyclesForthAndBack:{shortkey:4,label:"cycle forth+back"},hot:{shortkey:5},steamy:{shortkey:6},bubbly:{shortkey:7},shiny:{shortkey:8},effectsOnlyAtLastCell:{shortkey:12,label:"effects at last"},
inFront:{shortkey:9},inCenter:{shortkey:10},atBottom:{shortkey:11},unlabeled:{shortkey:13},clonable:{shortkey:1}},MOVER:{verySlow:{shortkey:2},slow:{shortkey:3},fast:{shortkey:4},veryFast:{shortkey:5},fastest:{shortkey:6},diverseTiming:{shortkey:10},solid:{shortkey:7},harmful:{shortkey:8,O1506:!0},deadly:{shortkey:9,O1506:!0},clonable:{shortkey:1}},DECOBG:{horizontalOnly:{shortkey:2,label:"fill horiz. only"},verticalOnly:{shortkey:3,label:"fill vert. only"},clonable:{shortkey:1}},FARBACK:{leftward:{shortkey:2},
rightward:{shortkey:3},upward:{shortkey:4},inward:{shortkey:15},diversifyPoints:{shortkey:11,label:"diversify points"},diversifyPointsStronger:{shortkey:12,label:"div. points +"},diversifyPointsStrongest:{shortkey:13,label:"div. points ++"},furtherInFront:{shortkey:6,label:"further in front"},muchFurtherInFront:{shortkey:14,label:"further in fr. +"},shortGradient:{shortkey:9},gradient:{shortkey:7},longGradient:{shortkey:10},unfilled:{shortkey:8},clonable:{shortkey:1},diversifyPointsOld:{shortkey:5,
label:"div. points alt.",deprecated:!0}},FURRY:{behind:{shortkey:2},orderly:{shortkey:3},unrippable:{shortkey:4},sparse:{shortkey:5},lessSkew:{shortkey:8},extraSkew:{shortkey:6},smallPush:{shortkey:13},placeVariance:{shortkey:7},weedy:{shortkey:9},single:{shortkey:12},hot:{shortkey:14},steamy:{shortkey:15},bubbly:{shortkey:16},shiny:{shortkey:17},bristling:{shortkey:18},dontTakeAutoFill:{shortkey:11,label:"no auto-back"},clonable:{shortkey:1},roundOrderlyTouchRotation:{shortkey:10,label:"round rotating"},
roundVariedTouchRotation:{shortkey:19,label:"round weedy-rot."},roundTouchExpand:{shortkey:20,label:"round expanding"},roundTouchCollapse:{shortkey:21,label:"round collapsing"},ripsFloatAway:{shortkey:22}},GENERATOR:{clonable:{shortkey:1}},DRIFTY:{downwards:{shortkey:2},inFront:{shortkey:3},"static":{shortkey:4},fast:{shortkey:5},veryFast:{shortkey:6},fastest:{shortkey:7},noRotation:{shortkey:8},fastRotation:{shortkey:9},sidewaysSpeed:{shortkey:10,label:"side speed",icon:5},fastSidewaysSpeed:{shortkey:11,
label:"fast side spd.",icon:5},bright:{shortkey:24},more:{shortkey:12},manyMore:{shortkey:13},startHigh:{shortkey:16,label:"start high",icon:22},startVeryHigh:{shortkey:17,label:"st. very high",icon:30},startLow:{shortkey:14,label:"start low",icon:23},startVeryLow:{shortkey:15,label:"st. very low",icon:31},dontTakeAutoFill:{shortkey:18,label:"no auto-back"},fadeFast:{shortkey:19},fadeVeryFast:{shortkey:20},fadeFastest:{shortkey:21},affectedMoreByEnvironment:{shortkey:25,label:"wind reactive +"},randomizeFlipX:{shortkey:26,
label:"random hrz. flip"},randomizeFlipY:{shortkey:27,label:"random vrt. flip"},noTouchReaction:{shortkey:28,label:"no touch react"},reverseTouchReaction:{shortkey:29,label:"reverse touch r."},swingingHorizontally:{shortkey:30,label:"swinging"},clonable:{shortkey:1}},CLOTHY:{flipAngles:{shortkey:2},placeVariance:{shortkey:3},inFront:{shortkey:4},lightweight:{shortkey:5},orderly:{shortkey:6},dontTakeAutoFill:{shortkey:7,label:"no auto-back"},clonable:{shortkey:1}},CLIMB:{dontTakeAutoFill:{shortkey:2,
label:"no auto-back"},fast:{shortkey:3},veryFast:{shortkey:4},fastest:{shortkey:5},onlyFasterDown:{shortkey:6,label:"only faster down"},blocksUp:{shortkey:7},blocksDown:{shortkey:8},blocksLeft:{shortkey:9},blocksRight:{shortkey:10},clonable:{shortkey:1}},OPENABLE:{clonable:{shortkey:1}},WALKABLE:{inFront:{shortkey:2},dontGiveAutoFill:{shortkey:3,label:"don't give fill"},fast:{shortkey:4},veryFast:{shortkey:5},blocksUp:{shortkey:7},blocksDown:{shortkey:8},blocksLeft:{shortkey:9},blocksRight:{shortkey:10},
clonable:{shortkey:1}},DECOACT:{clonable:{shortkey:1}},PORTAL:{forSameOnly:{shortkey:2},clonable:{shortkey:1}},PORTALDIR:{forSameOnly:{shortkey:2},clonable:{shortkey:1}},STICKY:{blocksLeft:{shortkey:2},blocksRight:{shortkey:3},jumpable:{shortkey:4},nonLowering:{shortkey:5,label:"non-lowering"},steadySlowdown:{shortkey:6},clonable:{shortkey:1}},MIFT:{"private":{shortkey:2}},BRAIN:{suppressControl:{shortkey:1,label:"suppress control"},offersEditing:{shortkey:3},clonable:{shortkey:2}},LINER:{remainsBrief:{shortkey:1,
label:"brief"},remainsVeryBrief:{shortkey:2,label:"very brief"},lineMoreTransparent:{shortkey:3,label:"more transparent"},lineVeryTransparent:{shortkey:4,label:"very transparent"},noOuterLine:{shortkey:5},noInnerLine:{shortkey:6},snapToGrid:{shortkey:7},snapToBigGrid:{shortkey:8,label:"snap to big gr."},shiftsColor:{shortkey:9},pulsates:{shortkey:10},drawsRandomly:{shortkey:11,label:"draws random"},drawsVeryRandomly:{shortkey:12,label:"draws very rand."},hoverX:{shortkey:13,label:"waving"},hoverY:{shortkey:14,
label:"hovering"},movesDown:{shortkey:15},doesntMove:{shortkey:16,label:"doesn't move"},movesFaster:{shortkey:17},movesVeryFast:{shortkey:18},changesRandomly:{shortkey:19,label:"chng. randomly"},coloredOutline:{shortkey:21},stamps:{shortkey:22},floatingItem:{shortkey:34},thicker:{shortkey:23},veryThick:{shortkey:24},trail:{shortkey:25},doubleTrail:{shortkey:26},multiTrail:{shortkey:27},causesSparks:{shortkey:28},brightSounds:{shortkey:29},darkSounds:{shortkey:30},buzzSounds:{shortkey:31},humSounds:{shortkey:32},
clonable:{shortkey:33}},DECO:{dontTakeAutoFill:{shortkey:3,label:"no auto-back"},nonSelectable:{shortkey:2,label:"holder part"},clonable:{shortkey:1}},HAPPENING:{offersEditing:{shortkey:3},follows:{shortkey:1},clonable:{shortkey:2}},LIGHT:{pulsating:{shortkey:1},fullyOpaque:{shortkey:2,label:"thick"},clonable:{shortkey:3}},LIGHTTOP:{clonable:{shortkey:1}},SLOPE:{behind:{shortkey:2},dontTakeAutoFill:{shortkey:3,label:"no auto-back"},clonable:{shortkey:1}},SLSLOPE:{behind:{shortkey:2},dontTakeAutoFill:{shortkey:3,
label:"no auto-back"},clonable:{shortkey:1}},PASSSLOPE:{behind:{shortkey:2},dontTakeAutoFill:{shortkey:3,label:"no auto-back"},clonable:{shortkey:1}},VIEWABLE:{slow:{shortkey:1},fast:{shortkey:2},veryFast:{shortkey:3},clonable:{shortkey:4}},FILLLIGHT:{singleStriped:{shortkey:1,label:"single striped"},doubleStriped:{shortkey:2,label:"double striped"},corner:{shortkey:5},full:{shortkey:6},furtherInBack:{shortkey:10},furtherInFront:{shortkey:4,label:"further in front"},shortGradient:{shortkey:3},gradient:{shortkey:8},
longGradient:{shortkey:9},clonable:{shortkey:7}},VIGNETTE:{thick:{shortkey:1},veryThick:{shortkey:2,label:"very thick"},clonable:{shortkey:3}},HELPER:{help:{shortkey:1},areasOfTheHour:{shortkey:3,label:"areas of the hr."},news:{shortkey:4},paste:{shortkey:5},map:{shortkey:6},boosts:{shortkey:8},snapshot:{shortkey:9},friends:{shortkey:11},areaInfo:{shortkey:17},createAreaOrSubArea:{shortkey:12,label:"create area/sub."},toHome:{shortkey:2},toElsewhere:{shortkey:14},profile:{shortkey:13},login:{shortkey:15},
findAreas:{shortkey:18},findAreasByName:{shortkey:21,label:"find ar. by name"},visitedAreas:{shortkey:19},createdAreas:{shortkey:20},settings:{shortkey:16},areaAds:{shortkey:23},myStates:{shortkey:24},clonable:{shortkey:50,O5153:!0},toArea:{shortkey:22,deprecated:!0},travelHolder:{shortkey:7,deprecated:!0}},HOLDER:{snapToGrid:{shortkey:5},nonSelectable:{shortkey:4,label:"non-selectables"},upDownPaging:{shortkey:6,label:"up-down paging"},leftRightPaging:{shortkey:14,label:"l.-right paging"},
border:{shortkey:15},thickBorder:{shortkey:16},nonRandomBack:{shortkey:20,label:"non-random back"},patternedBack:{shortkey:21},changingBack:{shortkey:17},hot:{shortkey:7},steamy:{shortkey:8},bubbly:{shortkey:9},shiny:{shortkey:10},bristling:{shortkey:11},dripping:{shortkey:12},sprinkling:{shortkey:13},needNotShown:{shortkey:19},openOnLastPage:{shortkey:22,label:"opens last page"},clonable:{shortkey:18}},HARM:{moreHarmful:{shortkey:1},extremelyHarmful:{shortkey:2},clonable:{shortkey:3}},HARMANIM:{moreHarmful:{shortkey:1,
label:"more harmful"},extremelyHarmful:{shortkey:2,label:"extremely harmful"},clonable:{shortkey:3}},DYNATHING:{startsOnTouch:{shortkey:1},replaces:{shortkey:3},behind:{shortkey:4},inFront:{shortkey:10},attachable:{shortkey:5},follows:{shortkey:6},closelyFollows:{shortkey:7},solid:{shortkey:8},nonFlipping:{shortkey:9,label:"non-flipping"},nonSelectable:{shortkey:11,label:"holder part"},actionable:{shortkey:12},slowerToUse:{shortkey:13},slowsFall:{shortkey:14},heavy:{shortkey:15},fast:{shortkey:33},
veryFast:{shortkey:34},climbable:{shortkey:19},enablesDoubleJump:{shortkey:16,label:"double jump"},enablesTripleJump:{shortkey:17,label:"triple jump"},enablesQuadrupleJump:{shortkey:24,label:"quadruple jump"},enablesQuintupleJump:{shortkey:25,label:"quintuple jump"},enablesInfiniteJump:{shortkey:26,label:"infinite jump"},higherJump:{shortkey:18},pushFlying:{shortkey:35,label:"flying"},dontTakeAutoFill:{shortkey:20,label:"no auto-back"},randomizer:{shortkey:21},noOneClickStateChange:{shortkey:22,label:"no state+ switch"},
effectsFree:{shortkey:23,label:"no wear effects"},clonable:{shortkey:2},hot:{shortkey:38},steamy:{shortkey:39},bubbly:{shortkey:40},shiny:{shortkey:41},bristling:{shortkey:42},dripping:{shortkey:43},sprinkling:{shortkey:44},airOnlyEffects:{shortkey:45,label:"air-only effects"},passThroughSolids:{shortkey:46,label:"pass thru solids"}},CHANGER:{clonable:{shortkey:1}},STACKHOLD:{heavy:{shortkey:1},lightweight:{shortkey:2},bouncy:{shortkey:3},nonRotating:{label:"nonrotating",shortkey:4},floaty:{shortkey:5},
shatters:{shortkey:6},bursts:{shortkey:7},flies:{shortkey:8},containsLiquid:{shortkey:9},living:{shortkey:10},autobursts:{shortkey:11},colorTrail:{shortkey:12},returns:{shortkey:40},hot:{shortkey:14},many:{shortkey:15},amplifies:{shortkey:36,label:"amplifies speech"},transporting:{shortkey:37},instantTransporting:{shortkey:38,label:"instant transp."},tail:{shortkey:42,label:"tailed"},fadingTail:{shortkey:43,label:"fading tailed"},bright:{shortkey:44},gathered:{shortkey:45,label:"gatherable"},stickyOnThings:{shortkey:13,
label:"sticky"},stickyOnPeople:{shortkey:30,label:"sticky -> *",O1506:!0},clearsWearable:{shortkey:31,label:"clear wear. -> *"},clearsMountable:{shortkey:32,label:"clear mount. -> *"},clearsHoldable:{shortkey:33,label:"clear hold. -> *"},bumps:{shortkey:39,label:"bumps -> *",O1506:!0},heals:{shortkey:41,label:"heals -> other"},harmful:{shortkey:34,label:"harmf. -> *",O1506:!0},deadly:{shortkey:35,label:"deadly -> *",O1506:!0},brightens:{shortkey:51},passesThrough:{shortkey:52},
clonable:{shortkey:50},nonFlipping:{shortkey:53,label:"non-flipping"},hook:{shortkey:16,label:"with swing line",deprecated:!0},edible:{shortkey:21,deprecated:!0},drinkable:{shortkey:22,deprecated:!0},slightlyPoisonous:{shortkey:24,label:"a bit poisonous",deprecated:!0,O1506:!0},mediumPoisonous:{shortkey:26,label:"a bit more pois.",deprecated:!0,O1506:!0},veryPoisonous:{shortkey:25,deprecated:!0,O1506:!0},affecting:{shortkey:27,deprecated:!0},antidotal:{shortkey:28,deprecated:!0}},
READABLE:{noBack:{shortkey:1,label:"no background"},semiTransparentBack:{shortkey:8,label:"transparent back"},centered:{shortkey:2},sansSerifFont:{shortkey:5,label:"mixed case font"},tiltLeft:{shortkey:6},tiltRight:{shortkey:7},clonable:{shortkey:3}},MEDIUM:{named:{shortkey:1},O3848s:{shortkey:3,label:"Set Wrtbl. Color"},clonable:{shortkey:2}},WRITABLE:{clonable:{shortkey:1}},EMITTER:{heavy:{shortkey:1},lightweight:{shortkey:2},bouncy:{shortkey:3},floaty:{shortkey:5},shatters:{shortkey:6},bursts:{shortkey:7},
flies:{shortkey:8},containsLiquid:{shortkey:9},autobursts:{shortkey:11},colorTrail:{shortkey:12},returns:{shortkey:40},slowerToUse:{shortkey:41},randomized:{shortkey:42},tail:{shortkey:47,label:"tailed"},fadingTail:{shortkey:48,label:"fading tailed"},bright:{shortkey:49},stickyOnThings:{shortkey:13,label:"sticky"},passesThrough:{shortkey:51},heals:{shortkey:46,label:"heals -> other"},clearsWearable:{shortkey:31,label:"clear wear. -> *"},clearsMountable:{shortkey:32,label:"clear mount. -> *"},clearsHoldable:{shortkey:33,
label:"clear hold. -> *"},bumps:{shortkey:39,label:"bumps -> *",O1506:!0},bumpsStrong:{shortkey:45,label:"bumps strong -> *",O1506:!0},bumpsSelf:{shortkey:43},slightlyHarmful:{shortkey:44,label:"a bit harmf. -> *",O1506:!0},harmful:{shortkey:34,label:"harmf. -> *",O1506:!0},deadly:{shortkey:35,label:"deadly -> *",O1506:!0},clonable:{shortkey:50}},AIMABLE:{heavy:{shortkey:2},clearsWearable:{shortkey:3,label:"clear wear. -> *"},clearsMountable:{shortkey:4,label:"clear mount. -> *"},
clearsHoldable:{shortkey:5,label:"clear hold. -> *"},bumps:{shortkey:6,label:"bumps -> *"},bumpsStrong:{shortkey:7,label:"bumps strong -> *"},instantTransporting:{shortkey:8,label:"instant transp."},passesThrough:{shortkey:9},noTrail:{shortkey:10},clonable:{shortkey:1}},STACKWEAR:{breather:{shortkey:3},shaded:{shortkey:4},invisibility:{shortkey:1},heatResistant:{shortkey:7},coldResistant:{shortkey:8},stormWindResistant:{shortkey:6},bumpResistant:{shortkey:26},mutesInstruments:{shortkey:9},mutesPastes:{shortkey:10},
mutesAll:{shortkey:11},slowsFall:{shortkey:12},slowsFallALot:{shortkey:27,label:"slows fall a lot"},heavy:{shortkey:19},veryHeavy:{shortkey:28},fast:{shortkey:33},veryFast:{shortkey:34},nonFlipping:{shortkey:24,label:"non-flipping"},enablesDoubleJump:{shortkey:13,label:"double jump"},enablesTripleJump:{shortkey:14,label:"triple jump"},enablesQuadrupleJump:{shortkey:31,label:"quadruple jump"},enablesQuintupleJump:{shortkey:32,label:"quintuple jump"},enablesInfiniteJump:{shortkey:36,label:"infinite jump"},
higherJump:{shortkey:23},pushFlying:{shortkey:35,label:"flying"},reducesDamage25percent:{shortkey:15,label:"protects 25%"},reducesDamage50percent:{shortkey:16,label:"protects 50%"},reducesDamage75percent:{shortkey:17,label:"protects 75%"},reducesDamage100percent:{shortkey:18,label:"protects 100%"},behindBody:{shortkey:5,label:"behind"},seeAllItems:{shortkey:20,label:"sees all items"},seeAllEvents:{shortkey:21,label:"sees all events"},disablesInteracting:{shortkey:22,label:"interact. resist."},clonable:{shortkey:50},
effectsFree:{shortkey:25,label:"no wear effects"},slidey:{shortkey:29},verySlidey:{shortkey:30},hot:{shortkey:38},steamy:{shortkey:39},bubbly:{shortkey:40},shiny:{shortkey:41},bristling:{shortkey:42},dripping:{shortkey:43},sprinkling:{shortkey:44},airOnlyEffects:{shortkey:45,label:"air-only effects"},disablesGrabbing:{shortkey:46,label:"grab resistant"},disablesTransport:{shortkey:47,label:"transport resist."},passThroughSolids:{shortkey:48,label:"pass thru solids"}},EQUIPMENT:{slowerToUse:{shortkey:10},
hot:{shortkey:21},steamy:{shortkey:22},bubbly:{shortkey:23},shiny:{shortkey:24},bristling:{shortkey:26},dripping:{shortkey:27},sprinkling:{shortkey:28},clearsWearable:{shortkey:4,label:"clear wear. -> *"},clearsMountable:{shortkey:5,label:"clear mount. -> *"},clearsHoldable:{shortkey:6,label:"clear hold. -> *"},widerRange:{shortkey:12},bumps:{shortkey:8,label:"bumps -> *",O1506:!0},bumpsStrong:{shortkey:9,label:"bumps strong -> *",O1506:!0},slightlyHarmful:{shortkey:11,label:"a bit harmf. -> *",
O1506:!0},harmful:{shortkey:2,label:"harmful -> *",O1506:!0},deadly:{shortkey:3,label:"deadly -> *",O1506:!0},heals:{shortkey:29,label:"heals -> other"},nonFlipping:{shortkey:30,label:"non-flipping"},clonable:{shortkey:50}},CONSUMAB:{edible:{shortkey:1},drinkable:{shortkey:2},slightlyPoisonous:{shortkey:3,label:"a bit poisonous",O1506:!0},mediumPoisonous:{shortkey:4,label:"a bit more pois.",O1506:!0},veryPoisonous:{shortkey:5,O1506:!0},affecting:{shortkey:6},antidotal:{shortkey:7},
many:{shortkey:9},hot:{shortkey:8},steamy:{shortkey:11},bubbly:{shortkey:12},shiny:{shortkey:13},bristling:{shortkey:15},dripping:{shortkey:16},heals:{shortkey:10},clonable:{shortkey:50}},INTERENV:{normal:{shortkey:1},veryRare:{shortkey:2},rare:{shortkey:3},frequent:{shortkey:4},always:{shortkey:5},clonable:{shortkey:9,O5153:!0}},INTERACT:{nonFlipping:{shortkey:1,label:"non-flipping"},unnamed:{shortkey:6},O2351:{shortkey:2,label:"steady change"},slowChange:{shortkey:3},solid:{shortkey:4},
facesAway:{shortkey:7},affectsBelow:{shortkey:9,O1506:!0},hot:{shortkey:10},steamy:{shortkey:11},bubbly:{shortkey:12},shiny:{shortkey:13},bristling:{shortkey:15},dripping:{shortkey:16},nonSelectable:{shortkey:17,label:"holder part"},climbable:{shortkey:18},dontTakeAutoFill:{shortkey:19,label:"no auto-back"},clonable:{shortkey:8},canHarmOrHasHighImpact:{shortkey:5,hidden:!0}},STACKWEARB:{hot:{shortkey:1},steamy:{shortkey:2},bubbly:{shortkey:4},shiny:{shortkey:5},bristling:{shortkey:6},dripping:{shortkey:7},
sprinkling:{shortkey:8},bright:{shortkey:9},clonable:{shortkey:3}},MOTION:{replaces:{shortkey:1,label:"replaces body"},quick:{shortkey:2},"long":{shortkey:3},stops:{shortkey:4},fadeInAndOut:{shortkey:5,label:"softly appears"},spoken:{shortkey:6},bursts:{shortkey:11,icon:19},flows:{shortkey:13,icon:19},bristles:{shortkey:14,icon:19},randomizePosition:{shortkey:15,icon:19,label:"randomize pos."},fadeIn:{shortkey:16,icon:19},slow:{shortkey:29,icon:19},fast:{shortkey:17,icon:19},forward:{shortkey:18,
icon:19},diagonal:{shortkey:19,icon:19},backward:{shortkey:20,icon:19},downward:{shortkey:33,icon:19},rotates:{shortkey:21,icon:19},lightweight:{shortkey:28,icon:19},bright:{shortkey:22,icon:19},behindBody:{shortkey:23,icon:19},brief:{shortkey:30,icon:19},veryBrief:{shortkey:35,icon:19},atOnce:{shortkey:31,icon:19},delayedStart:{shortkey:24,icon:19},zigZag:{shortkey:27,icon:19},nonFlipping:{shortkey:32,icon:19,label:"non-flipping"},singular:{shortkey:26,icon:19},more:{shortkey:25,icon:19},invisible:{shortkey:36,
icon:19},clonable:{shortkey:34}},INTERMOT:{replaces:{shortkey:1},quick:{shortkey:2},"long":{shortkey:3},stops:{shortkey:4},fadeInAndOut:{shortkey:5,label:"softly appears"},passable:{shortkey:33},solid:{shortkey:34},bursts:{shortkey:11,icon:20},flows:{shortkey:13,icon:20},bristles:{shortkey:14,icon:20},randomizePosition:{shortkey:15,icon:20,label:"randomize pos."},fadeIn:{shortkey:16,icon:20},slow:{shortkey:29,icon:20},fast:{shortkey:17,icon:20},forward:{shortkey:18,icon:20},diagonal:{shortkey:19,
icon:20},backward:{shortkey:20,icon:20},downward:{shortkey:35,icon:19},rotates:{shortkey:21,icon:20},lightweight:{shortkey:28,icon:20},bright:{shortkey:22,icon:20},behindBody:{shortkey:23,icon:20,label:"behind"},brief:{shortkey:30,icon:20},atOnce:{shortkey:31,icon:20},delayedStart:{shortkey:24,icon:20},zigZag:{shortkey:27,icon:20},nonFlipping:{shortkey:32,icon:20,label:"non-flipping"},singular:{shortkey:26,icon:20},more:{shortkey:25,icon:20},clonable:{shortkey:36},spoken:{shortkey:6,deprecated:!0}},
STACKINSTR:{piano:{shortkey:13},classic_piano:{shortkey:14,label:"classic piano"},bell:{shortkey:15,label:"bells"},drums:{shortkey:16},bongo:{shortkey:17},guitar:{shortkey:18},eguitar:{shortkey:19,label:"e-guitar"},classicclean_guitar:{shortkey:20,label:"e-guitar 2"},rootsrock_guitar:{shortkey:21,label:"e-guitar 3"},trumpet:{shortkey:22},fiddle:{shortkey:23},silent_piano:{shortkey:24,label:"silent piano"},casual_clarinet:{shortkey:25,label:"casual clarinet"},clonable:{shortkey:50,O5153:!0}},
LIQUID:{harmless:{shortkey:3},harmful:{shortkey:1,O1506:!0,label:"extra harmful"},thick:{shortkey:2},heals:{shortkey:4},pushesLeft:{shortkey:6},pushesRight:{shortkey:7},moreOpaque:{shortkey:8},veryOpaque:{shortkey:9},fullyOpaque:{shortkey:10},effectsFree:{shortkey:11,label:"effects-free"},dontGiveAutoFill:{shortkey:12,label:"don't give fill"},clonable:{shortkey:5}},DECOANIM:{hot:{shortkey:1},steamy:{shortkey:2},bubbly:{shortkey:3},shiny:{shortkey:4},bristling:{shortkey:6},dripping:{shortkey:7},
sprinkling:{shortkey:8},inFront:{shortkey:5},O2351:{shortkey:9,label:"steady change"},slowChange:{shortkey:10},nonSelectable:{shortkey:12,label:"holder part"},pointsAtPerson:{shortkey:13,label:"points at one"},dontTakeAutoFill:{shortkey:14,label:"no auto-back"},climbable:{shortkey:15},solid:{shortkey:16},clonable:{shortkey:11}},SPARKLING:{sharp:{shortkey:1},dontTakeAutoFill:{shortkey:3,label:"no auto-back"},solid:{shortkey:4},clonable:{shortkey:2}},DECOFG:{dontTakeAutoFill:{shortkey:2,label:"no auto-back"},
clonable:{shortkey:1}},DECOFB:{climbable:{shortkey:2},clonable:{shortkey:1}},MULTITHING:{hot:{shortkey:1},steamy:{shortkey:2},bubbly:{shortkey:3},shiny:{shortkey:4},inFront:{shortkey:5},noDustTrails:{shortkey:7},clonable:{shortkey:6}},FLEXIBLE:{crumbling:{shortkey:1},clonable:{shortkey:2}},DECOBIG:{hot:{shortkey:1},steamy:{shortkey:2},bubbly:{shortkey:3},shiny:{shortkey:4},inFront:{shortkey:5},inCenter:{shortkey:7},atBottom:{shortkey:8},nonSelectable:{shortkey:9,label:"holder part"},clonable:{shortkey:6}},
DECOVBIG:{hot:{shortkey:1},steamy:{shortkey:2},bubbly:{shortkey:3},shiny:{shortkey:4},inFront:{shortkey:5},inCenter:{shortkey:7},atBottom:{shortkey:8},nonSelectable:{shortkey:9,label:"holder part"},clonable:{shortkey:6}},MNTGROUND:{legged:{shortkey:1},hot:{shortkey:2},steamy:{shortkey:4},bubbly:{shortkey:3},colorTrail:{shortkey:5},bouncy:{shortkey:6},bristling:{shortkey:7},slower:{shortkey:8},toStand:{shortkey:10},behindBody:{shortkey:11,label:"behind"},autoSpeedLeft:{shortkey:14,label:"autospeed left"},
autoSpeedRight:{shortkey:15,label:"autospeed right"},autoSpeedFast:{shortkey:16,label:"fast autospeed"},goneOnImpact:{shortkey:12},replaces:{shortkey:20,label:"covers body"},nonFlipping:{shortkey:21,label:"non-flipping"},noFlyOffAtEnd:{shortkey:22,label:"no end fall off"},clonable:{shortkey:50}},MNTAIR:{heavy:{shortkey:5},lightweight:{shortkey:13},hot:{shortkey:1},steamy:{shortkey:2},bubbly:{shortkey:3},colorTrail:{shortkey:4},bristling:{shortkey:6},slower:{shortkey:7},verticalOnly:{shortkey:8},horizontalOnly:{shortkey:9},
toStand:{shortkey:10},behindBody:{shortkey:11,label:"behind"},autoSpeedLeft:{shortkey:14,label:"autospeed left"},autoSpeedRight:{shortkey:15,label:"autospeed right"},autoSpeedUp:{shortkey:16,label:"autospeed up"},autoSpeedDown:{shortkey:17,label:"autospeed down"},autoSpeedFast:{shortkey:18,label:"fast autospeed"},goneOnImpact:{shortkey:12},replaces:{shortkey:20,label:"covers body"},noFlyOffAtEnd:{shortkey:21,label:"no end fly off"},nonFlipping:{shortkey:22,label:"non-flipping"},passThroughSolids:{shortkey:23,
label:"pass thru solids"},clonable:{shortkey:50}},LIVELY:{randomized:{shortkey:7,label:"random",icon:7},randomizedSlow:{shortkey:12,label:"slow random",icon:8},swinging:{shortkey:1,icon:3},waving:{shortkey:2,icon:4},shaking:{shortkey:4,icon:5},hovering:{shortkey:3,icon:6},rocking:{shortkey:5,icon:9},rotating:{shortkey:8,icon:1},rotatingCounterClockwise:{shortkey:9,label:"counter-rotat.",icon:2},rotatingBoth:{shortkey:30,icon:1,label:"double rotat."},swarm:{shortkey:6,icon:10},flailingLeft:{shortkey:10,
icon:11,label:"flailing"},flailingRight:{shortkey:11,icon:12,label:"flail. right"},emitting:{shortkey:13,icon:13},brightEmitting:{shortkey:14,icon:14,label:"bright emit."},emittingUp:{shortkey:15,icon:15},emittingDown:{shortkey:16,icon:16},emittingLeft:{shortkey:17,icon:17},emittingRight:{shortkey:18,icon:18},foaming:{shortkey:19,icon:21},movingUp:{shortkey:20,icon:22},movingUpRight:{shortkey:26,icon:26,label:"moving up r."},movingRight:{shortkey:23,icon:25},movingDownRight:{shortkey:27,icon:27},
movingDown:{shortkey:21,icon:23},movingDownLeft:{shortkey:28,icon:28},movingLeft:{shortkey:22,icon:24},movingUpLeft:{shortkey:29,icon:29,label:"moving up l."},clonable:{shortkey:50,O5153:!0},inFront:{shortkey:51,O5153:!0}},THROWER:{moreForce:{shortkey:2},throwsLiving:{shortkey:3},clonable:{shortkey:1}},CRUMBLING:{strongWhenWalked:{shortkey:1,label:"strong vs feet"},strongWhenWalkedAndBumped:{shortkey:2,label:"strong vs body"},leavesNoTrace:{shortkey:3},crumbleInstantly:{shortkey:12,
label:"crmbl. instantly"},crumbleUpwards:{shortkey:13,label:"crumble upwards"},quakeBoostTriggered:{shortkey:10,label:"quake boost trg."},reset30s:{shortkey:5,label:"30 seconds",icon:1},reset2m:{shortkey:6,label:"2 minutes",icon:1},reset10m:{shortkey:7,label:"10 minutes",icon:1},reset60m:{shortkey:8,label:"Longer",icon:1},randomized:{shortkey:9,icon:1},clonable:{shortkey:11}},DECOTCH:{needsPressing:{shortkey:1},hot:{shortkey:9},steamy:{shortkey:2},bubbly:{shortkey:4},shiny:{shortkey:5},bristling:{shortkey:6},
dripping:{shortkey:7},sprinkling:{shortkey:8},clonable:{shortkey:3}},GATHER:{edible:{shortkey:1},valuable:{shortkey:2},shiny:{shortkey:16},heals:{shortkey:3},cracking:{shortkey:13},rotating:{shortkey:14},hovering:{shortkey:15},harvested:{shortkey:4},hot:{shortkey:23},bristling:{shortkey:24},bubbly:{shortkey:25},steamy:{shortkey:26},reset30s:{shortkey:5,label:"30 seconds",icon:1},reset2m:{shortkey:6,label:"2 minutes",icon:1},reset10m:{shortkey:7,label:"10 minutes",icon:1},reset60m:{shortkey:8,label:"Longer",
icon:1},randomized:{shortkey:9,icon:1},reactToThrow:{shortkey:10,label:"on throw"},onlyReactToThrow:{shortkey:11,label:"only on throw"},onlyReactToAction:{shortkey:12,label:"only on action"},resistant:{shortkey:17,label:"action resistant"},veryResistant:{shortkey:18,label:"very action res."},randomizeResistance:{shortkey:22,label:"random act. res."},sometimesHas:{shortkey:27},rarelyHas:{shortkey:28},veryRarelyHas:{shortkey:29},harmful:{shortkey:20,O1506:!0},deadly:{shortkey:21,O1506:!0},
clonable:{shortkey:50}},GLOW:{wavering:{shortkey:6},pulsating:{shortkey:1},flickering:{shortkey:2},blinking:{shortkey:3},rotating:{shortkey:4},rotatingFront:{shortkey:7},randomized:{shortkey:5},hot:{shortkey:8},steamy:{shortkey:9},bubbly:{shortkey:10},shiny:{shortkey:11},bristling:{shortkey:12},clonable:{shortkey:13}},ACTIVATOR:{needsPressing:{shortkey:1},silent:{shortkey:2},clonable:{shortkey:3}},ENVIRONM:{rainCloud:{shortkey:18},snowCloud:{shortkey:19},heat:{shortkey:20},mist:{shortkey:21},natureAir:{shortkey:22},
humming:{shortkey:23},oceanAir:{shortkey:24},wind:{shortkey:25},sunshine:{shortkey:26},villageDust:{shortkey:27},cityAir:{shortkey:28},glimmer:{shortkey:29},smoke:{shortkey:30},steam:{shortkey:31},nightAir:{shortkey:32},reflections:{shortkey:33},colorReflections:{shortkey:34},glitter:{shortkey:35},colorGlitter:{shortkey:36},bubbles:{shortkey:37},dripping:{shortkey:38},stars:{shortkey:39},lightningCloud:{shortkey:43},stormWinds:{shortkey:44,O1506:!0},rumbling:{shortkey:45,O1506:!0},harmfulAir:{shortkey:40,
O1506:!0},harmfulHeat:{shortkey:41,O1506:!0},harmfulCold:{shortkey:42,O1506:!0},bursts:{shortkey:46},colorBursts:{shortkey:47},floating:{shortkey:48},backFloating:{shortkey:50},downFloating:{shortkey:51},soundscape:{shortkey:49,O1506:!0},quiet:{shortkey:52,O5153:!0},nonVisual:{shortkey:53,label:"non-visual",O5153:!0}},SLIDEY:{verySlidey:{shortkey:1},blocksLeft:{shortkey:3},blocksRight:{shortkey:4},clonable:{shortkey:2}},PUSH:{soft:{shortkey:1},standing:{shortkey:3},
dontTakeAutoFill:{shortkey:4,label:"no auto-back"},behind:{shortkey:5},clonable:{shortkey:2}},PUSHDIAG:{soft:{shortkey:1},standing:{shortkey:3},dontTakeAutoFill:{shortkey:4,label:"no auto-back"},behind:{shortkey:5},clonable:{shortkey:2}},PASS:{inFront:{shortkey:2},specialDownPassable:{shortkey:4,label:"hold to pass",icon:23},dontTakeAutoFill:{shortkey:3,label:"no auto-back"},clonable:{shortkey:1}},BOUNCEY:{clonable:{shortkey:1}},BOUNCEYT:{clonable:{shortkey:1}},MOVING:{clonable:{shortkey:1}},LIVING:{clonable:{shortkey:1}},
LIVANIM:{clonable:{shortkey:1}},LIVMOV:{clonable:{shortkey:1}},HOOK:{clonable:{shortkey:1}},MUSIC:{clonable:{shortkey:1}},MUSICSHEET:{clonable:{shortkey:1}},PLACENAME:{clonable:{shortkey:1}},DEADLY:{clonable:{shortkey:1}},DEADLYMV:{clonable:{shortkey:1}},DEADLYEM:{clonable:{shortkey:1}}},O7747:[["lightweight","heavy"],["floaty","heavy"],["heavy","flies"],["heavy","veryHeavy"],["fast","veryFast"],["lightweight","veryHeavy"],["floaty","veryHeavy"],["veryHeavy","flies"],["multiple","infinite"],
["floaty","flies"],["floaty","containsLiquid"],["bouncy","shatters"],["bursts","shatters"],["lightweight","floaty"],["strongWhenWalked","strongWhenWalkedAndBumped"],["down","up"],["left","right"],["hook","heavy"],["hook","veryHeavy"],["hook","stickyOnThings"],["hook","lightweight"],["hook","bouncy"],["hook","floaty"],["hook","shatters"],["hook","bursts"],["hook","containsLiquid"],["hook","autobursts"],["hook","returns"],["hook","flies"],["hook","many"],["hook","stickyOnPeople"],["hook","clearsWearable"],
["hook","harmful"],["hook","deadly"],["hook","transporting"],["hook","instantTransporting"],["stickyOnThings","transporting"],["stickyOnPeople","transporting"],["stickyOnPeople","deadly"],["stickyOnPeople","harmful"],["floaty","transporting"],["harmful","deadly"],["pulsating","flickering"],["pulsating","blinking"],["flickering","blinking"],["wavering","pulsating"],["wavering","blinking"],["slightlyPoisonous","veryPoisonous"],["slightlyPoisonous","mediumPoisonous"],["mediumPoisonous","veryPoisonous"],
["antidotal","slightlyPoisonous"],["antidotal","mediumPoisonous"],["antidotal","veryPoisonous"],["verticalOnly","horizontalOnly"],["frontwards","backwards"],["quick","long"],["bursts","bristles"],["flows","bristles"],["bursts","flows"],["fast","flows"],["fast","bursts"],["upward","forward"],["slow","fast"],["transporting","harmful"],["transporting","deadly"],["frequent","rare"],["rare","veryRare"],["frequent","veryRare"],["edible","drinkable"],["transporting","instantTransporting"],["heals","harmful"],
["heals","deadly"],["bumps","heals"],["bumps","harmful"],["bumps","deadly"],["bumps","bumpsStrong"],["reset30s","reset2m"],["reset30s","reset10m"],["reset30s","reset60m"],["reset2m","reset10m"],["reset2m","reset60m"],["reset10m","reset60m"],["reactToThrow","onlyReactToThrow"],["onlyReactToAction","onlyReactToThrow"],["onlyReactToAction","reactToThrow"],["resistant","veryResistant"],["harmful","deadly"],["onlyReactToAction","harvested"],["hovering","rotating"],["sometimesHas","rarelyHas"],["sometimesHas",
"veryRarelyHas"],["rarelyHas","veryRarelyHas"],["solid","passable"],["nonFlipping","facesAway"],["tail","fadingTail"],["mutesInstruments","mutesAll"],["mutesPastes","mutesAll"],["affectsBelow","affectsAbove"],["singleStriped","doubleStriped"],["attachable","follows"],["attachable","closelyFollows"],["follows","closelyFollows"],["full","singleStriped"],["full","doubleStriped"],["full","corner"],["inCenter","atBottom"],["autoSpeedLeft","autoSpeedRight"],["autoSpeedLeft","autoSpeedUp"],["autoSpeedLeft",
"autoSpeedDown"],["autoSpeedUp","autoSpeedDown"],["autoSpeedUp","autoSpeedRight"],["autoSpeedDown","autoSpeedRight"],["autoSpeedUp","horizontalOnly"],["autoSpeedDown","horizontalOnly"],["autoSpeedLeft","verticalOnly"],["autoSpeedRight","verticalOnly"],["thick","veryThick"],["brief","veryBrief"],["moreHarmful","extremelyHarmful"],["enablesDoubleJump","enablesTripleJump"],["enablesDoubleJump","enablesQuadrupleJump"],["enablesDoubleJump","enablesQuintupleJump"],["enablesTripleJump","enablesQuadrupleJump"],
["enablesTripleJump","enablesQuintupleJump"],["enablesQuadrupleJump","enablesQuintupleJump"],["enablesInfiniteJump","enablesDoubleJump"],["enablesInfiniteJump","enablesTripleJump"],["enablesInfiniteJump","enablesQuadrupleJump"],["enablesInfiniteJump","enablesQuintupleJump"],["pushFlying","enablesDoubleJump"],["pushFlying","enablesTripleJump"],["pushFlying","enablesQuadrupleJump"],["pushFlying","enablesQuintupleJump"],["pushFlying","enablesInfiniteJump"],["hoverFlying","enablesDoubleJump"],["hoverFlying",
"enablesTripleJump"],["hoverFlying","enablesQuadrupleJump"],["hoverFlying","enablesQuintupleJump"],["hoverFlying","enablesInfiniteJump"],["pushFlying","hoverFlying"],["reducesDamage25percent","reducesDamage50percent"],["reducesDamage25percent","reducesDamage75percent"],["reducesDamage25percent","reducesDamage100percent"],["reducesDamage50percent","reducesDamage75percent"],["reducesDamage50percent","reducesDamage100percent"],["reducesDamage75percent","reducesDamage100percent"],["harmless","harmful"],
["heals","slightlyPoisonous"],["heals","mediumPoisonous"],["heals","veryPoisonous"],["slow","veryFast"],["fast","veryFast"],["slightlyHarmful","harmful"],["slightlyHarmful","deadly"],["slightlyHarmful","heals"],["upDownPaging","leftRightPaging"],["border","thickBorder"],["snapToGrid","snapToRoomyGrid"],["nonRandomBack","patternedBack"],["nonRandomBack","changingBack"],["patternedBack","changingBack"],["remainsVeryBrief","remainsBrief"],["remainsVeryBrief","remainsLong"],["remainsBrief","remainsLong"],
["remainsVeryLong","remainsLong"],["remainsVeryBrief","remainsVeryLong"],["remainsBrief","remainsVeryLong"],["snapToGrid","snapToBigGrid"],["drawsRandomly","drawsVeryRandomly"],["changesRandomly","changesVeryRandomly"],["shiftsColor","coloredOutline"],["brightSounds","darkSounds"],["brightSounds","buzzSounds"],["brightSounds","humSounds"],["darkSounds","buzzSounds"],["darkSounds","humSounds"],["buzzSounds","humSounds"],["lineMoreTransparent","lineVeryTransparent"],["doesntMove","movesDown"],["doesntMove",
"movesFaster"],["doesntMove","movesVeryFast"],["movesFaster","movesVeryFast"],["thicker","veryThick"],["trail","doubleTrail"],["trail","multiTrail"],["doubleTrail","multiTrail"],["multiTrail","veryThick"],["enablesDoubleJump","higherJump"],["enablesTripleJump","higherJump"],["follows","offersEditing"],["singleStriped","gradient"],["doubleStriped","gradient"],["corner","gradient"],["full","gradient"],["singleStriped","shortGradient"],["doubleStriped","shortGradient"],["corner","shortGradient"],["full",
"shortGradient"],["singleStriped","longGradient"],["doubleStriped","longGradient"],["corner","longGradient"],["full","longGradient"],["gradient","shortGradient"],["longGradient","shortGradient"],["gradient","longGradient"],["pushesLeft","pushesRight"],["passesThrough","instantTransporting"],["climbable","solid"],["verySlow","slow"],["verySlow","fast"],["verySlow","veryFast"],["verySlow","fastest"],["slow","fast"],["slow","veryFast"],["slow","fastest"],["fast","veryFast"],["fast","fastest"],["veryFast",
"fastest"],["serifFont","sansSerifFont"],["leftward","rightward"],["leftward","upward"],["rightward","upward"],["leftward","unfilled"],["rightward","unfilled"],["upward","unfilled"],["leftward","inward"],["rightward","inward"],["upward","inward"],["inward","unfilled"],["gradient","unfilled"],["diversify","unfilled"],["furtherInBack","furtherInFront"],["diversifyPointsOld","diversifyPoints"],["diversifyPointsOld","diversifyPointsStronger"],["diversifyPoints","diversifyPointsStronger"],["diversifyPoints",
"diversifyPointsStrongest"],["diversifyPointsStronger","diversifyPointsStrongest"],["diversifyPointsOld","diversifyPointsStrongest"],["furtherInFront","muchFurtherInFront"],["moreOpaque","veryOpaque"],["moreOpaque","fullyOpaque"],["veryOpaque","fullyOpaque"],["cycles","cyclesForthAndBack"],["hasPrivateSections","showPrivateSections"],["maxUsers1","maxUsers2"],["maxUsers1","maxUsers3"],["maxUsers2","maxUsers3"],["slowsFall","slowsFallALot"],["slidey","verySlidey"],["noBack","semiTransparentBack"],
["onlyFasterDown","blocksDown"],["lessSkew","extraSkew"],["single","ball"],["smallPush","lessSkew"],["smallPush","extraSkew"],["roundOrderlyTouchRotation","roundVariedTouchRotation"],["roundTouchExpand","roundTouchCollapse"],["unrippable","ripsFloatAway"],["noRotation","fastRotation"],["sidewaysSpeed","fastSidewaysSpeed"],["static","fast"],["static","veryFast"],["static","fastest"],["static","downwards"],["more","manyMore"],["startLow","startVeryLow"],["startVeryLow","startHigh"],["startLow","startVeryHigh"],
["startLow","startHigh"],["startVeryLow","startHigh"],["startVeryLow","startVeryHigh"],["startHigh","startVeryHigh"],["fadeFast","fadeVeryFast"],["fadeFast","fadeFastest"],["fadeVeryFast","fadeFastest"],["noTouchReaction","reverseTouchReaction"],["behind","inFront"]],O7183:["STACKINSTR","ENVIRONM","LIVELY","INTERENV","HELPER"],O5337:function(a){if(a&&a.prop&&a.prop.attributes){var b=a.base?a.base:a.type;a.prop.attr=[];for(var c=0;c<a.prop.attributes.length;c++){var d=a.prop.attributes[c];
(d=this.O579(b,d))&&a.prop.attr.push(d)}delete a.prop.attributes}},O4198:function(a){if(a&&a.prop&&a.prop.attr){var b=a.base?a.base:a.type;a.prop.attributes=[];for(var c=0;c<a.prop.attr.length;c++){var d=this.O6112(b,a.prop.attr[c]);a.prop.attributes.push(d)}delete a.prop.attr}},O7339:function(a){var b=!1;if(a)for(var c in a)if(a[c]&&(b=this.getAttributeIsDangerous(c)))break;return b},getAttributeFromSingleAttributes:function(a,b){var c;if(a)for(var d in a){var e=
this.info[b][d];if(e&&!e.O5153){c=d;break}}return c},getAttributeIsDangerous:function(a){var b=!1,c;for(c in this.info){for(var d in this.info[c])if(a==d&&(b=!!this.info[c][d].O1506))break;if(b)break}return b},O5233:function(a){var b={};if(a)for(var c=0;c<a.length;c++)b||(b={}),b[a[c]]=!0;return b},O579:function(a,b){return this.info[a][b]?this.info[a][b].shortkey:null},O6112:function(a,b){var c=null,d;for(d in this.info[a])this.info[a][d]&&(this.info[a][d].shortkey&&
this.info[a][d].shortkey==b)&&(c=d);return c},O2226:function(a){return a&&0<=this.O7183.indexOf(a)},O1530:function(a){var b="";if(a&&a.attributes&&a.base)for(var c in a.attributes){var d=c,e=null;this.info[a.base]&&(this.info[a.base][c]&&this.info[a.base][c].label)&&(e=this.info[a.base][c].label);d=null!=e?e:ig.game.strings.O2708(d);""!=b&&(b+=", ");d=d.toUpperCase();b+=d}return b},O2829:function(a){var b=null;
switch(a){case "clonable":b=32;break;case "inFront":b=33;break;case "behind":b=34;break;case "dontTakeAutoFill":b=35;break;case "takeAutoFill":b=36;break;case "solid":b=37;break;case "hot":case "steamy":case "shiny":case "bubbly":case "dripping":case "bristling":case "sprinkling":b=38;break;case "harmful":case "deadly":b=39;break;case "blocksLeft":b=40;break;case "blocksRight":b=41;break;case "blocksUp":b=42;break;case "blocksDown":b=43;break;case "fast":b=44;break;case "veryFast":b=45;break;case "fastest":b=
46;break;case "nonSelectable":b=47;break;case "nonFlipping":b=48;break;case "climbable":b=49}return b}})});ig.baked=!0;
ig.module("game.core.O2970").defines(function(){window.O2776=ig.Class.extend({opacity:0,O3585:!1,init:function(){},died:function(a){if(a==ig.game.deathTypes.FOCUS)this.O3585=!0,this.O3815();else{var b=this;ig.game.O6462?ig.game.O4269&&ig.game.O8053&&5>=ig.game.O172.O3574(ig.game.O4269.pos)?ig.game.O172.O1689()?ig.game.O5211.fadeInShroud(function(){b.askIfOneWantsToGoToParentArea()}):
ig.game.O5211.fadeInShroud(function(){b.O4411()}):ig.game.O5211.fadeInShroud(function(){b.O6293()}):ig.game.O5211.fadeInShroud(function(){window.location.reload()})}},O7538:function(){ig.game.alertDialog.close();ig.game.O5211.fadeInShroud(null,!0)},O6293:function(){confirm("OUCH, THAT WAS QUICK! WANT TO RESET YOUR LOCATION HERE?")||this.O6700()?this.resetSpawnPoint():this.O3815()},
resetSpawnPoint:function(){ig.game.O5699?ig.game.O172.O1312()?window.location.replace("/1"):window.location.replace("/"+ig.game.O172.currentArea):(ig.game.O4349.O5390(),setTimeout(function(){ig.game.O231.O3815()},1E3))},O2030:function(){var a=0;ig.game.O4269&&(a=ig.game.O172.O3574(ig.game.O4269.pos));100<=a?ig.game.O231.resetSpawnPoint():window.location.replace("/3")},
askIfOneWantsToGoToParentArea:function(){confirm("OUCH, THAT WAS QUICK! WANT TO GO TO THE MAIN AREA?")||this.O6700()?ig.game.portaller.O7714(ig.game.O966):this.O3815()},O4411:function(){confirm("OUCH, THAT WAS QUICK! WANT TO GO TO ELSEWHERE?")||this.O6700()?ig.game.portaller.startExitAreaTeleportingRequest():this.O3815()},O6700:function(){return ig.game.O4269&&ig.game.O4269.attachments&&ig.game.O4269.attachments.br},
goToFullAccountLogin:function(a){var b={google:"/auth/google",facebook:"https://manyland.com/auth/facebook",amazon:"https://manyland.com/auth/amazon"};b[a]&&(ig.game.alertDialog.close(),ig.game.O5211.fadeInShroud(function(){window.location.replace(b[a])}))},O7566:function(a){ig.game.motionDialog&&ig.game.motionDialog.O5076("leave");ig.game.O5211.fadeInShroud(function(){window.location.replace("/"+a)})},O6526:function(a){ig.game.motionDialog&&ig.game.motionDialog.O5076("leave");
ig.game.O5211.fadeInShroud(function(){a.done(function(){window.location.replace("/")})})},teleported:function(a,b){ig.game.sounds.ringportalling.play();var c="/";b&&(c+=b);ig.game.motionDialog&&ig.game.motionDialog.O5076("leave");ig.game.O5211.fadeInShroud(function(){a?a.done(function(){window.location.replace(c)}):window.location.replace(c)})},O3815:function(){var a="/intermission";ig.game.O45&&(a+="/"+ig.game.O45);this.O3585&&
localStorage.setItem("intermissionMode","extended");window.location.replace(a)},O7154:function(){var a="/intermission";ig.game.O45&&(a+="/"+ig.game.O45);localStorage.setItem("intermissionMode","pause");window.location.replace(a)},reload:function(){window.location.reload(!1)}})});ig.baked=!0;
ig.module("game.core.O148").defines(function(){window.O5534=ig.Class.extend({MIN_TIME:5,MIN_DISTANCE:10,O5000:null,O6181:null,O1015:!0,start:function(){this.O5000=new ml.Timer;this.O6181=ig.game.O7715.O1414(ig.game.O4269.pos.x,ig.game.O4269.pos.y)},O7501:function(){if(this.O1015&&ig.game.gameStartTimer&&!(ig.game.gameStartTimer.delta()<this.MIN_TIME)&&
!(this.O5000.delta()<this.MIN_TIME)&&!(0!=ig.game.O4269.vel.x||0!=ig.game.O4269.vel.y||ig.game.O4269.O2865==ig.game.O4269.O2558.SWIMMING||!ig.game.O4269.standing&&!ig.game.O4269.O3739)&&ig.game.O4269.O274&&ig.game.O4269.O274.thing.O407()&&!Boolean(ig.game.O4269.O2356)&&!(ig.game.O4269.health<ig.game.O4269.O4811)&&!ig.game.O6401.O4100()&&
!ig.game.O4269.O2031("reducesDamage100percent")){var a=ig.game.O7715.O1414(ig.game.O4269.pos.x,ig.game.O4269.pos.y);this.O7969(a,this.O6181)<this.MIN_DISTANCE||this.O863()}},O863:function(){this.O8012(ig.game.O7715.O1414(ig.game.O4269.pos.x+2,ig.game.O4269.pos.y))},O8012:function(a){ig.game.O4349.O4639(a);
this.O6181=a;this.O5000.reset()},O7969:function(a,b){var c=Math.abs(b.x-a.x),d=Math.abs(b.y-a.y);return Math.sqrt(c*c+d*d)}})});ig.baked=!0;
ig.module("game.entities.decorative.backgroundblock").requires("impact.entity").defines(function(){window.EntityBackgroundBlock=ig.Entity.extend({size:{x:5,y:5},type:ig.Entity.TYPE.NONE,O6821:ig.Entity.TYPE.NONE,collides:ig.Entity.COLLIDES.NEVER,opacity:1,O298:6,O3538:0,O4828:1,maxX:200,maxY:100,O199:0,O6961:!1,uiEntity:!1,backgroundEntity:!0,O7168:!0,init:function(a,b,c){this.parent(a,b,c);this.size.x=c.size.x;this.size.y=c.size.y;this.maxX=c.maxX;
this.maxY=c.maxY;this.O4828=c.O4828;this.animSheet=new ml.AnimationSheet(null,this.size.x,this.size.y,ig.game.O5405.getImage(ig.game.O5405.bgBlock));this.addAnim("main",1,[0]);this.farBg=ig.game.backgroundMaps[0]},update:function(){ig.game.O7649.O3452||(this.opacity+=this.O298*ig.system.tick,0<this.O298&&this.opacity>this.O4828?(this.opacity=this.O4828,ig.game.chance(1)&&(this.O298*=-1)):0>this.O298&&
this.opacity<this.O3538&&(this.opacity=this.O3538,ig.game.chance(1)&&(this.O298*=-1)),this.pos.x+=this.vel.x*ig.system.tick,this.pos.y+=this.vel.y*ig.system.tick,0>this.pos.x?this.pos.x=this.maxX:this.pos.x>this.maxX&&(this.pos.x=0),0>this.pos.y?this.pos.y=this.maxY:this.pos.y>this.maxY&&(this.pos.y=0))},draw:function(){if(!ig.game.O7649.O3452){ig.system.context.globalAlpha=this.opacity;var a=this.pos.x-(ig.game.screen.x/1.1).mod(this.maxX),b=this.pos.y-(ig.game.screen.y/
1.1).mod(this.maxY);this.O1457.draw(a,b);this.O1457.draw(a+this.maxX,b);this.O1457.draw(a+this.maxX,b+this.maxY);this.O1457.draw(a,b+this.maxY)}},check:function(){}})});ig.baked=!0;
ig.module("game.core.backgrounddecorator").requires("game.entities.decorative.backgroundblock").defines(function(){window.BackgroundDecorator=ig.Class.extend({O3538:0,O4828:0.25,O2888:15,maxX:400,maxY:200,init:function(){this.maxX=ig.system.width;this.maxY=ig.system.height;this.totalObjects=parseInt(ig.system.width/this.O2888,10);ig.game.O731||this.O7012()},O7012:function(){for(var a,b,c,d,e,f,g,h,k,l=0;l<this.totalObjects;l++)d=e=
0,a=Math.random()*this.O4828,b=ig.game.O5167(0,this.maxX),c=ig.game.O5167(0,this.maxY),f=g=ig.game.O5167(2,6),h=0.001,k=10*Math.random(),ig.game.chance(50)?d=ig.game.chance(50)?-k:k:e=ig.game.chance(50)?-k:k,0!=ig.game.areaDrift.speed&&(k=ml.Misc.O7683(),d+=k.x,e+=k.y),ig.game.chance(50)&&(h*=-1),ig.game.spawnEntity(EntityBackgroundBlock,b,c,{vel:{x:d,y:e},size:{x:f,y:g},opacity:a,O298:h,O4828:0.225,maxX:this.maxX,maxY:this.maxY})}})});
ig.baked=!0;
ig.module("game.core.camera").defines(function(){window.Camera=ig.Class.extend({screenTarget:{x:0,y:0},O7916:{},O2399:{},offset:{x:0,y:0},temporaryOffset:{x:0,y:0},autoSpeedOffset:{x:0,y:0},O5967:0,O3763:0,O691:0,O84:null,O8052:!1,O8320:!1,init:function(){this.O8320="1"==sessionStorage.lockCamToPlayer;this.O7916={x:15,y:20};this.O2344();this.setOffset()},O2344:function(){ig.ua.mobile&&
(this.O7916.x=3,this.O7916.y=10);this.O8320&&(this.O7916={x:1,y:1});this.O2399.x=this.O7916.x;this.O2399.y=this.O7916.y},setOffset:function(){this.offset={x:0,y:0};this.offset.x=-ig.system.widthHalf;this.offset.y=-ig.system.O8417+9;if(ig.ua.mobile){if(this.offset.y-=4,ig.game.O2050&&(this.offset.x+=20),ig.game.virtualKeyboard&&ig.game.virtualKeyboard.isOpen){var a=42;ig.game.multithing&&
ig.game.multithing.isOpen&&(a+=40);ig.ua.phone?a-=10:ig.ua.mobile&&ig.system.width>ig.system.height&&(a+=20);this.offset.y+=a}}else this.O5967=-38,ig.game.O2050&&!this.O8320&&(this.offset.x+=20);this.O3763=this.O5967;ig.game.userScriptEditor&&(ig.game.userScriptEditor.isOpen&&ig.game.userScriptEditor.isVisible)&&(this.offset.x+=Math.floor(ig.game.userScriptEditor.size.x/2)+15)},update:function(){this.O8320||(this.O2509(),
this.O4888(),this.O3542(),this.O621());var a=ig.game.O6310?100:0,b=ig.game.userMapDialog&&ig.game.userMapDialog.isOpen?ig.game.userMapDialog.O7056:0,c=ig.game.O4269;ig.game.O3501.isRunning&&("focusOnMe"==ig.game.O3501.O4644&&ig.game.O3501.O3685)&&(c=ig.game.O3501.O3685);this.screenTarget.x=c.pos.x+this.offset.x-b+this.autoSpeedOffset.x+a;this.screenTarget.y=
c.pos.y+this.offset.y+this.O5967+this.O691+this.autoSpeedOffset.y;this.O4584();this.O6026();ig.ua.mobile&&(this.screenTarget.x+=3);ig.game.O4269&&(ig.game.O4269.O4102&&ig.game.cameraTrackPlayer)&&this.O8125();ig.game.screen.x+=this.temporaryOffset.x;ig.game.screen.y+=this.temporaryOffset.y;this.O8052||(this.O8052=!0,this.O5973())},O5973:function(){ig.game.screen.x=
parseFloat(ig.game.screen.x.toFixed(4));ig.game.screen.y=parseFloat(ig.game.screen.y.toFixed(4))},O4584:function(){this.O2399.x=this.O7916.x;this.O2399.y=this.O7916.y;if(this.O84){var a=this.O84.pos,b=ml.Misc.O8132(ig.game.O4269.pos,a);if(600>=b){var c=(600-b)/10;0<=c&&(this.O2399.x=Math.floor(this.O2399.x+c).limit(0,32),this.O2399.y=Math.floor(this.O2399.y+
c).limit(0,32))}400>=b&&(this.screenTarget.x=(ig.game.O4269.pos.x+a.x)/2-ig.system.widthHalf,this.screenTarget.y=(ig.game.O4269.pos.y+a.y)/2-ig.system.O8417)}},O6026:function(){"zoom_on_me"==ig.game.O3501.O4644&&ig.game.O3501.O3685&&(this.screenTarget=ig.game.O5662(ig.game.O3501.O3685.pos),this.screenTarget.x-=ig.system.width/2,this.screenTarget.y-=ig.system.height/2)},O3542:function(){0>this.autoSpeedOffset.x?
(this.autoSpeedOffset.x+=2,0<this.autoSpeedOffset.x&&(this.autoSpeedOffset.x=0)):0<this.autoSpeedOffset.x&&(this.autoSpeedOffset.x-=2,0>this.autoSpeedOffset.x&&(this.autoSpeedOffset.x=0));0>this.autoSpeedOffset.y?(this.autoSpeedOffset.y+=2,0<this.autoSpeedOffset.y&&(this.autoSpeedOffset.y=0)):0<this.autoSpeedOffset.y&&(this.autoSpeedOffset.y-=2,0>this.autoSpeedOffset.y&&(this.autoSpeedOffset.y=0));if(ig.game.O4269&&ig.game.O4269.attachments&&ig.game.O4269.attachments.m&&ig.game.O4269.attachments.m.attributes){var a=
ig.game.O4269.attachments.m.attributes,b=0.2*ig.system.width,c=0.2*ig.system.height;a.autoSpeedLeft?(this.autoSpeedOffset.x-=4,this.autoSpeedOffset.x<-b&&(this.autoSpeedOffset.x=-b)):a.autoSpeedRight?(this.autoSpeedOffset.x+=4,this.autoSpeedOffset.x>b&&(this.autoSpeedOffset.x=b)):a.autoSpeedUp?(this.autoSpeedOffset.y-=4,this.autoSpeedOffset.y<-c&&(this.autoSpeedOffset.y=-c)):a.autoSpeedDown&&(this.autoSpeedOffset.y+=4,this.autoSpeedOffset.y>c&&(this.autoSpeedOffset.y=c))}},O621:function(){ig.game.O4269&&
150<ig.game.O4269.vel.y&&200>this.O691?(this.O691+=2,200<this.O691&&(this.O691=200)):0<this.O691&&(this.O691-=2,0>this.O691&&(this.O691=0))},O4888:function(){ig.game.multithing&&ig.game.multithing.isOpen?this.O5967=ig.ua.mobile?-90:-110:ig.ua.isSteamBigPictureMode||(0>this.O5967&&1>=
Math.abs(ig.game.O4269.vel.y)&&(ig.game.instrumentDialog&&ig.game.instrumentDialog.isOpen||ig.game.O413.player&&3<ig.game.O413.player.length&&3<=this.O4717())&&this.O5967++,this.O5967-=0.03,this.O5967<this.O3763&&(this.O5967=this.O3763))},O4717:function(){var a=0,b=ig.game.O413.player;if(b)for(var c=0;c<b.length;c++){var d=b[c];!d._killed&&
(!d.O4102&&d.pos.y>ig.game.O4269.pos.y+38&&d.pos.y<=ig.game.O4269.pos.y+200)&&a++}return a},O2509:function(){var a=this.temporaryOffset;0>a.x?(a.x+=0.25,0<a.x&&(a.x=0)):0<a.x&&(a.x-=0.25,0>a.x&&(a.x=0));0>a.y?(a.y+=0.25,0<a.y&&(a.y=0)):0<a.y&&(a.y-=0.25,0>a.y&&(a.y=0))},O8125:function(){ig.game.screen.x>this.screenTarget.x+1?ig.game.screen.x-=(ig.game.screen.x-this.screenTarget.x)/this.O2399.x:ig.game.screen.x<this.screenTarget.x-1&&(ig.game.screen.x+=
(this.screenTarget.x-ig.game.screen.x)/this.O2399.x);ig.game.screen.y>this.screenTarget.y+1?ig.game.screen.y-=(ig.game.screen.y-this.screenTarget.y)/this.O2399.y:ig.game.screen.y<this.screenTarget.y-1&&(ig.game.screen.y+=(this.screenTarget.y-ig.game.screen.y)/this.O2399.y)},shake:function(a,b){a||(a=15);b||(b=1.75);this.temporaryOffset.x=ml.Misc.O3512(-b,b);this.temporaryOffset.y=ml.Misc.O3512(-b,b);this.temporaryOffset.x=this.temporaryOffset.x.limit(-a,
a);this.temporaryOffset.y=this.temporaryOffset.y.limit(-a,a)},O5890:function(){(this.O8320=!this.O8320)?sessionStorage.lockCamToPlayer="1":delete sessionStorage.lockCamToPlayer;this.init()}})});ig.baked=!0;
ig.module("game.core.spritesheet").requires("mlframe.image").defines(function(){window.O1778=ig.Class.extend({gfxContext:null,O6245:{},image:null,bottomMenuButtonEmphasized:{x:3,y:160,width:32,height:7},bottomMenuButton:{x:4,y:169,width:10,height:5},bottomMenuDimensionsTop:{x:0,y:333,width:194,height:3},bottomMenuDimensionsBottom:{x:0,y:335,width:194,height:3},bottomMenuDimensionsSeparator:{x:0,y:421,width:194,height:2},bottomMenuDimensionsIcon:{x:0,y:338,width:24,height:24},bottomMenuDimensionsNotice:{x:0,
y:396,width:96,height:25},bottomMenuDimensionsArrow:{x:93,y:134,width:10,height:15},bottomMenuDimensionsUsers:{x:0,y:386,width:10,height:10},bottomMenuVisitedDialog:{x:493,y:251,width:143,height:118},aboutInfoButton:{x:47,y:149,width:7,height:6},boostIcon:{x:238,y:112,width:10,height:10},questionsAndFeedbackButton:{x:65,y:375,width:69,height:6},settingsIcon:{x:0,y:112,width:8,height:8},crosshair:{x:263,y:303,width:15,height:15},crosshairActive:{x:247,y:303,width:15,height:15},crosshairReloading:{x:230,
y:303,width:15,height:15},miftsButton:{x:78,y:51,width:32,height:11},addMiftButton:{x:246,y:224,width:19,height:9},miftPublicPrivateToggle_public:{x:576,y:143,width:55,height:6},miftPublicPrivateToggle_private:{x:576,y:149,width:55,height:6},unverifiedMiftPlaceholder:{x:0,y:293,width:19,height:19},keyboardToPlayOff:{x:97,y:292,width:20,height:10},keyboardToPlayOn:{x:97,y:303,width:20,height:10},visitorsMapIcon:{x:221,y:112,width:11,height:10},nonFullAccountStatus:ig.ua.phone?{x:259,y:107,width:17,
height:6}:{x:259,y:107,width:126,height:6},collectButton:{x:227,y:130,width:15,height:11},elsewhereButton:{x:0,y:7,width:40,height:5},elsewhereButtonSmall:{x:394,y:160,width:17,height:9},homeButton:{x:363,y:160,width:17,height:9},areaBanButton:{x:121,y:86,width:6,height:12},areaBanButtonActive:{x:128,y:86,width:6,height:12},createAreaIcon:{x:134,y:53,width:15,height:6},findAreaIcon:{x:133,y:43,width:16,height:8},openAlbumButton:{x:177,y:197,width:10,height:9},addHomeButton:{x:363,y:194,width:13,height:6},
addHomeButtonActive:{x:380,y:194,width:13,height:6},itemListDialog:{x:1,y:314,width:191,height:60},cloneHistoryHeader:{x:0,y:390,width:134,height:5},previousArrow:{x:22,y:307,width:6,height:5},nextArrow:{x:29,y:307,width:6,height:5},plus:{x:22,y:14,width:5,height:5},areaGlobalInteractingButtonActive:{x:267,y:235,width:9,height:9},areaGlobalInteractingButtonInactive:{x:267,y:245,width:9,height:9},singlePersonExperienceButtonActive:{x:256,y:235,width:9,height:9},singlePersonExperienceButtonInactive:{x:256,
y:245,width:9,height:9},unlistedButtonActive:{x:246,y:235,width:9,height:9},unlistedButtonInactive:{x:246,y:245,width:9,height:9},nonLoggedInChatIfEditorAroundButtonActive:{x:246,y:255,width:9,height:9},nonLoggedInChatIfEditorAroundButtonInactive:{x:246,y:265,width:9,height:9},generatorButtonActive:{x:256,y:255,width:9,height:9},generatorButtonInactive:{x:256,y:265,width:9,height:9},backOverrideRgbButtonActive:{x:236,y:235,width:9,height:9},backOverrideRgbButtonInactive:{x:236,y:245,width:9,height:9},
universeSearchChecked:{x:123,y:295,width:41,height:8},universeSearchUnchecked:{x:123,y:304,width:41,height:8},bottomMenuMoreTop:{x:493,y:125,width:82,height:17},bottomMenuMoreMiddle:{x:493,y:143,width:82,height:17},bottomMenuMoreBottom:{x:493,y:161,width:82,height:17},bottomMenuMoreHereIcon:{x:576,y:158,width:9,height:7},closeX:{x:200,y:109,width:9,height:9},closeXWhite:{x:200,y:117,width:9,height:9},closeButtonTransparent:{x:42,y:122,width:9,height:9},closeButtonSemiTransparent:{x:52,y:122,width:9,
height:9},closeButtonGray:{x:62,y:122,width:9,height:9},base6number_0:{x:2,y:226,width:5,height:5,key:"base6number_0"},base6number_1:{x:8,y:226,width:5,height:5,key:"base6number_1"},base6number_2:{x:14,y:226,width:5,height:5,key:"base6number_2"},base6number_3:{x:20,y:226,width:5,height:5,key:"base6number_3"},base6number_4:{x:26,y:226,width:5,height:5,key:"base6number_4"},base6number_5:{x:32,y:226,width:5,height:5,key:"base6number_5"},backerOrMinfinityIcon:{x:63,y:81,width:9,height:7,key:"backerorminfinityicon"},
playerDialogMyFriendsShortcut:{x:419,y:114,width:5,height:5},playerDialogMyLocationShortcut:{x:424,y:114,width:5,height:5},panelSetShowButton:{x:156,y:11,width:18,height:9,key:"panelSetShowButton"},panelSetHideButton:{x:166,y:24,width:5,height:9,key:"panelSetHideButton"},meetPeople:{x:197,y:271,width:26,height:7},meetPeopleSmall:{x:197,y:271,width:7,height:7},baseEditStatic:{x:0,y:14,width:7,height:8,key:"baseEditStatic"},baseEditMovables:{x:8,y:14,width:7,height:8,key:"baseEditMovables"},addMultithingParticipantButton:{x:0,
y:23,width:13,height:9,key:"addMultithingParticipantButton"},musicRecorder_record_default:{x:27,y:51,width:23,height:9,key:"musicRecorder_record_default"},musicRecorder_record_active1:{x:27,y:61,width:23,height:9,key:"musicRecorder_record_active1"},musicRecorder_record_active2:{x:27,y:71,width:23,height:9,key:"musicRecorder_record_active2"},musicRecorder_play_default:{x:51,y:51,width:23,height:9,key:"musicRecorder_play_default"},musicRecorder_play_active:{x:51,y:61,width:23,height:9,key:"musicRecorder_play_active"},
musicRecorder_dataEmpty_default:{x:52,y:72,width:8,height:8,key:"musicRecorder_dataIcon_default"},musicRecorder_dataFull_default:{x:63,y:72,width:8,height:8,key:"musicRecorder_dataIcon_active"},musicRecorder_undo_default:{x:27,y:81,width:11,height:9,key:"musicRecorder_undo_default"},musicRecorder_undo_delete:{x:51,y:81,width:11,height:9,key:"musicRecorder_undo_delete"},musicRecorder_ok_default:{x:39,y:81,width:11,height:9,key:"musicRecorder_ok_default"},myVisitedIcon:{x:249,y:176,width:9,height:9},
speechDialogBg:{x:0,y:223,width:279,height:87},speechSymbol:{x:177,y:177,width:11,height:9},eyeSymbol:{x:178,y:55,width:17,height:7},virtualKeyboardOpenButton:{x:177,y:177,width:11,height:9},virtualKeyboardCloseButton:{x:177,y:187,width:11,height:9},white_glow:{x:554,y:1,width:96,height:104,key:"white_glow"},itemContextMenuBg:{x:284,y:7,width:114,height:72},itemContextMenuFillerVert:{x:284,y:10,width:1,height:9},itemContextMenuFillerHorz:{x:288,y:7,width:9,height:1},itemContextMenuArrowUp:{x:314,
y:194,width:9,height:9},itemContextMenuArrowRight:{x:323,y:194,width:9,height:9},itemContextMenuArrowDown:{x:332,y:194,width:9,height:9},itemContextMenuArrowLeft:{x:341,y:194,width:9,height:9},itemContextMenuCollectedTick:{x:178,y:170,width:5,height:7},arrowUp:{x:272,y:116,width:9,height:12},arrowDown:{x:272,y:142,width:9,height:12},arrowLeft:{x:257,y:130,width:12,height:9},arrowRight:{x:284,y:130,width:12,height:9},flagOff:{x:178,y:162,width:5,height:8},flagOn:{x:183,y:162,width:5,height:8},motionsDialogLabel:{x:196,
y:252,width:42,height:11,key:"motionsDialogLabel"},symbolBuilt:{x:178,y:0,width:17,height:11},symbolBuiltShort:{x:178,y:0,width:15,height:11},symbolCollected:{x:178,y:11,width:17,height:10},symbolCollectedShort:{x:178,y:11,width:15,height:10},symbolPlaced:{x:178,y:21,width:17,height:12},symbolTravelled:{x:178,y:33,width:17,height:11},symbolFind:{x:178,y:64,width:17,height:8},symbolPerson:{x:178,y:44,width:17,height:11},symbolNothing:{x:134,y:31,width:17,height:9},reloadBodiesButton:{x:59,y:134,width:11,
height:11},collectedIcon:{x:153,y:76,width:11,height:9},unlistedOff:{x:25,y:97,width:9,height:8},unlistedOn:{x:35,y:97,width:9,height:8},alertIcon1:{x:0,y:380,width:9,height:9,key:"alerticon1"},alertIcon2:{x:9,y:380,width:9,height:9,key:"alerticon2"},alertIcon3:{x:18,y:380,width:9,height:9,key:"alerticon3"},alertIcon4:{x:27,y:380,width:9,height:9,key:"alerticon4"},alertIcon5:{x:36,y:380,width:9,height:9,key:"alerticon5"},O3486:{x:45,y:380,width:9,height:9,key:"alerticonmore"},O2674:{x:54,
y:380,width:9,height:9,key:"alerticoninfo"},pagingPosition:{x:78,y:64,width:5,height:6,key:"pagingposition"},healthHeart:{x:59,y:0,width:9,height:8},healthBar:{x:0,y:3,width:52,height:3},healthBarInner:{x:1,y:1,width:1,height:1},healthBarPulse:{x:53,y:3,width:6,height:3},highlightRound:{x:177,y:84,width:16,height:16},highlightRotation:{x:153,y:107,width:19,height:19},highlightItem:{x:177,y:121,width:18,height:18},highlightEmptyGrid:{x:153,y:85,width:23,height:23},movementDirectionIndicatorH:{x:103,
y:134,width:21,height:7},movementDirectionIndicatorV:{x:124,y:134,width:7,height:21},playerDialogBodyButton:{x:418,y:0,width:32,height:11,key:"playerDialogBodyButton"},playerDialogNameButton:{x:450,y:0,width:33,height:11,key:"playerDialogNameButton"},playerDialogSnapsButton:{x:418,y:24,width:65,height:11,key:"playerDialogSnapsButton"},playerDialogMyFriendsButton:{x:418,y:12,width:65,height:11,key:"playerDialogMyFriendsButton"},playerDialogAddToMyFriendsButton:{x:197,y:0,width:65,height:11,key:"playerDialogAddMyFriendButton"},
playerDialogAddToMyFriendsButton_active:{x:197,y:12,width:65,height:11,key:"playerDialogAddMyFriendButton_active"},playerDialogEditorButton:{x:418,y:36,width:65,height:11,key:"playerDialogEditorButton"},playerDialogEditorButton_active:{x:418,y:48,width:65,height:11,key:"playerDialogEditorButton_active"},playerDialogAttachmentsButton:{x:418,y:120,width:65,height:11,key:"playerDialogAttachmentsButton"},playerDialogOkButton:{x:0,y:146,width:47,height:12},playerDialogAvatarSelectButton:{x:153,y:53,width:23,
height:23},playerDialogMyPeopleBtnOvlay:{x:194,y:333,width:65,height:11},playerDialogBackArrow:{x:229,y:177,width:9,height:7},visitedLocationFrame:{x:197,y:24,width:86,height:69},visitedLocationVisitedButton:{x:194,y:351,width:44,height:12},visitedLocationVisitedButtonOn:{x:194,y:364,width:44,height:12},visitedLocationListedPubliclyChecked:{x:111,y:229,width:57,height:10},visitedLocationListedPubliclyUnchecked:{x:111,y:240,width:57,height:10},checkbox:{x:111,y:241,width:8,height:8},checkboxActive:{x:111,
y:230,width:8,height:8},bigOkButton:{x:51,y:161,width:32,height:14},findButton:{x:264,y:172,width:26,height:11},transportButton:{x:264,y:183,width:26,height:11},openMapThereButton:{x:227,y:142,width:26,height:11},infoButton:{x:315,y:172,width:12,height:11},infoSymbol:{x:179,y:537,width:12,height:7},zoomSymbol:{x:20,y:293,width:11,height:10},distanceIndicator:{x:263,y:156,width:34,height:8},distanceIndicatorWhite:{x:263,y:164,width:46,height:8},distanceIndicatorClose:{x:301,y:155,width:8,height:8},
genericClose:{x:301,y:155,width:8,height:8},closeButton:{x:267,y:224,width:9,height:9},panelBGTop:{x:360,y:0,width:54,height:6},panelBottom:{x:66,y:24,width:54,height:25},panelEmptyMessage:{x:0,y:177,width:63,height:23},panelCreateNewButton:{x:0,y:134,width:59,height:12},panelCreateNewButtonRankNeeded:{x:0,y:121,width:59,height:12},panelBinClosed:{x:100,y:0,width:12,height:15},panelBinOpen:{x:131,y:0,width:12,height:21},panelBinMessage:{x:114,y:1,width:17,height:16},panelRotateMessage:{x:80,y:1,width:17,
height:16},panelTabCollectedOff:{x:0,y:248,width:19,height:14},panelTabCollectedOn:{x:19,y:248,width:19,height:14},panelTabCreatedOff:{x:0,y:263,width:19,height:14},panelTabCreatedOn:{x:19,y:263,width:19,height:14},panelTabSearchOff:{x:0,y:278,width:17,height:14},panelTabSearchOn:{x:19,y:278,width:17,height:14},panelTabOff:{x:493,y:221,width:19,height:14},panelTabOn:{x:512,y:221,width:19,height:14},panelTabSmallOff:{x:493,y:236,width:17,height:14},panelTabSmallOn:{x:512,y:236,width:17,height:14},
pageButtonUp:{x:314,y:194,width:9,height:9},pageButtonDown:{x:332,y:194,width:9,height:9},pageButtonLeft:{x:9,y:38,width:9,height:9},pageButtonRight:{x:0,y:38,width:9,height:9},thumbUpSmall:{x:120,y:75,width:11,height:9},sparkle:{x:197,y:208,width:15,height:5,key:"sparkle"},actionSparkle:{x:197,y:200,width:15,height:5,key:"actionsparkle"},dangerSparkle:{x:197,y:191,width:15,height:5,key:"dangersparkle"},dust:{x:221,y:199,width:6,height:5,key:"dust"},bigDust:{x:228,y:197,width:9,height:9,key:"bigdust"},
bgBlock:{x:241,y:207,width:10,height:10,key:"bgblock"},rotationIcon:{x:1,y:215,width:56,height:8,key:"rotationicon"},whitePixel:{x:241,y:207,width:2,height:2,key:"whitepixel"},whitePixelSmall:{x:241,y:207,width:1,height:1,key:"whitepixelsmall"},redPixel:{x:253,y:207,width:2,height:2,key:"redpixel"},blackPixel:{x:256,y:207,width:2,height:2,key:"blackpixel"},yellowPixel:{x:259,y:207,width:2,height:2,key:"yellowpixel"},whiteLineVertical:{x:241,y:207,width:2,height:4,key:"whiteLineVertical"},mist:{x:419,
y:63,width:54,height:35,key:"mist"},sunbeam:{x:484,y:0,width:46,height:114,key:"sunbeam"},lightning:{x:543,y:0,width:78,height:123,key:"lightning"},distanceIndicatorArrow:{x:302,y:193,width:7,height:8,key:"distanceIndicatorArrow"},smoke:{x:221,y:218,width:6,height:5,key:"smoke"},bigSmoke:{x:228,y:216,width:9,height:9,key:"bigSmoke"},steam:{x:221,y:238,width:5,height:4,key:"steam"},bigSteam:{x:221,y:230,width:9,height:7,key:"bigSteam"},bubble1:{x:198,y:231,width:3,height:3,key:"bubble1"},bubble2:{x:198,
y:235,width:4,height:4,key:"bubble2"},bubble3:{x:198,y:240,width:6,height:6,key:"bubble3"},bubble1black:{x:209,y:231,width:3,height:3,key:"bubble1black"},reflection1:{x:62,y:223,width:21,height:11,key:"lightReflection1"},reflection2:{x:62,y:235,width:21,height:11,key:"reflection2"},reflection3:{x:62,y:247,width:21,height:11,key:"reflection3"},reflection4:{x:62,y:258,width:21,height:11,key:"reflection4"},reflection5:{x:62,y:270,width:21,height:11,key:"reflection5"},reflection6:{x:62,y:281,width:21,
height:11,key:"reflection6"},glitter1:{x:93,y:227,width:2,height:2,key:"glitter1"},glitter2:{x:93,y:230,width:2,height:2,key:"glitter2"},glitter3:{x:93,y:233,width:2,height:2,key:"glitter3"},glitter4:{x:93,y:236,width:2,height:2,key:"glitter4"},glitter5:{x:93,y:239,width:2,height:2,key:"glitter5"},glitter6:{x:93,y:242,width:2,height:2,key:"glitter6"},stackback:{x:28,y:44,width:19,height:3,key:"stackback"},musicPlayer:{x:100,y:265,width:48,height:17,key:"musicPlayer"},checkMark:{x:100,y:285,width:4,
height:4,key:"checkMark"},rank0:{x:12,y:94,width:12,height:9,key:"rank0"},rankBlack0:{x:12,y:103,width:12,height:9,key:"rankblack0"},virtualJoystick_left:{x:494,y:190,width:28,height:23,key:"virtualJoystick_left"},virtualJoystick_right:{x:526,y:190,width:28,height:23,key:"virtualJoystick_right"},virtualJoystick_up:{x:555,y:187,width:23,height:28,key:"virtualJoystick_up"},virtualJoystick_down:{x:579,y:187,width:23,height:28,key:"virtualJoystick_down"},virtualJoystick_action:{x:603,y:189,width:23,height:24,
key:"virtualJoystick_action"},gameBackground:{x:279,y:204,width:213,height:213,key:"gamebackground"},blackFont:{x:0,y:467,width:403,height:8,key:"blackfont"},whiteFont:{x:0,y:475,width:404,height:8,key:"whitefont"},blackSmallFont:{x:0,y:492,width:399,height:7,key:"blacksmallfont"},whiteSmallFont:{x:0,y:500,width:399,height:7,key:"whitesmallfont"},blackWhiteFont:{x:0,y:509,width:641,height:11,key:"blackwhitefont"},eleganceFont:{x:0,y:521,width:503,height:10,key:"elegancefont"},wildFont:{x:0,y:532,
width:539,height:11,key:"wildfont"},shapesFont:{x:0,y:545,width:496,height:10,key:"shapesfont"},cuteFont:{x:0,y:556,width:476,height:10,key:"cutefont"},actionFont:{x:0,y:568,width:534,height:10,key:"actionfont"},invertedFont:{x:0,y:580,width:482,height:10,key:"invertedfont"},strictFont:{x:0,y:592,width:481,height:10,key:"strictfont"},faintFont:{x:0,y:604,width:486,height:10,key:"faintfont"},melodicFont:{x:0,y:615,width:486,height:11,key:"melodicfont"},lowFont:{x:0,y:627,width:484,height:10,key:"lowfont"},
highFont:{x:0,y:638,width:478,height:10,key:"highfont"},smoothFont:{x:0,y:419,width:485,height:10,key:"smoothfont"},casualFont:{x:0,y:431,width:485,height:10,key:"casualfont"},wideFont:{x:0,y:443,width:523,height:10,key:"widefont"},bulkyFont:{x:0,y:455,width:509,height:10,key:"bulkyfont"},O5621:jQuery.Deferred(),O1823:null,init:function(){0<=navigator.userAgent.indexOf("Mac OS X")&&(this.panelBinMessage.y=53);var a=this;this.O1823=this.O5621.promise();
this.image=new ml.Image(ig.game.staticResourcePrefix+"media/spritesheet.png?v="+ig.game.version,function(b){b?a.O5621.resolveWith(a):a.O5621.rejectWith(a)},this)},O4583:function(a){ig.game.panelRgb=ig.game.colors.dialogRgbs[a];if(ig.game.panelRgb){a="panelBGTop panelBottom panelEmptyMessage panelCreateNewButton panelCreateNewButtonRankNeeded panelTabCollectedOff panelTabCollectedOn panelTabCreatedOff panelTabCreatedOn panelTabSearchOff panelTabSearchOn panelTabOff panelTabOn panelTabSmallOff panelTabSmallOn".split(" ");
var b=["panelCreateNewButton","panelCreateNewButtonRankNeeded"],c=this.image.data.getContext("2d");c.globalCompositeOperation="source-atop";for(var d=0;d<a.length;d++){var e=a[d];c.beginPath();var f=0<=b.indexOf(e)?0.15:0.3;c.fillStyle="rgba("+ig.game.panelRgb.overlay.join(",")+","+f+")";c.rect(this[e].x*ig.system.scale,this[e].y*ig.system.scale,this[e].width*ig.system.scale,this[e].height*ig.system.scale);c.fill();c.closePath()}c.globalCompositeOperation="source-over"}},O2601:function(a,
b,c){this.draw(a,b,c,this.gameBackground)},O2119:function(a,b,c){this.draw(a,b,c,this.closeButtonGray)},O2036:function(a,b,c){this.draw(a,b,c,this.bottomMenuButton)},O1047:function(a,b,c){this.draw(a,b,c,this.bottomMenuButtonEmphasized)},O8015:function(a,b,c){this.draw(a,b,c,this.nonFullAccountStatus)},O3207:function(a,b,c){this.draw(a,b,c,this.elsewhereButton)},O571:function(a,b,c){this.draw(a,
b,c,this.elsewhereButtonSmall)},O8353:function(a,b,c){this.draw(a,b,c,this.homeButton)},O2678:function(a,b,c){this.draw(a,b,c,this.collectButton)},O3868:function(a,b,c){this.draw(a,b,c,this.meetPeople)},O7951:function(a,b,c){this.draw(a,b,c,this.meetPeopleSmall)},O7159:function(a,b,c){this.draw(a,b,c,this.boostIcon)},O5340:function(a,b,c){this.draw(a,b,c,this.myVisitedIcon)},O7980:function(a,b,c){this.draw(a,b,c,
this.bottomMenuVisitedDialog)},O2190:function(a,b,c){this.draw(a,b,c,this.virtualKeyboardOpenButton)},O1259:function(a,b,c){this.draw(a,b,c,this.virtualKeyboardCloseButton)},O7365:function(a,b,c){this.draw(a,b,c,this.speechDialogBg)},O1160:function(a,b,c){this.draw(a,b,c,this.speechSymbol)},O4536:function(a,b,c){this.draw(a,b,c,this.eyeSymbol)},O2428:function(a,b,c){this.draw(a,b,c,this.checkMark)},O7353:function(a,
b,c){this.draw(a,b,c,this.itemContextMenuBg)},O6270:function(a,b,c){this.draw(a,b,c,this.itemContextMenuArrowUp)},O1606:function(a,b,c){this.draw(a,b,c,this.itemContextMenuArrowRight)},O2614:function(a,b,c){this.draw(a,b,c,this.itemContextMenuArrowDown)},O5001:function(a,b,c){this.draw(a,b,c,this.itemContextMenuArrowLeft)},O4341:function(a,b,c){this.draw(a,b,c,this.itemContextMenuFillerVert)},
O3498ContextMenuFillerHorz:function(a,b,c){this.draw(a,b,c,this.itemContextMenuFillerHorz)},O8088:function(a,b,c){this.draw(a,b,c,this.itemContextMenuCollectedTick)},O7496:function(a,b,c){this.draw(a,b,c,this.aboutInfoButton)},O791:function(a,b,c){this.draw(a,b,c,this.bigOkButton)},O3875:function(a,b,c){this.draw(a,b,c,this.flagOn)},O7293:function(a,b,c){this.draw(a,b,c,this.flagOff)},O6287:function(a,b,c){this.draw(a,b,c,
this.unlistedOn)},O6991:function(a,b,c){this.draw(a,b,c,this.unlistedOff)},O2141:function(a,b,c){this.draw(a,b,c,this.universeSearchChecked)},O8023:function(a,b,c){this.draw(a,b,c,this.universeSearchUnchecked)},O7427:function(a,b,c){this.draw(a,b,c,this.symbolBuilt)},O1307:function(a,b,c){this.draw(a,b,c,this.symbolBuiltShort)},O5168:function(a,b,c){this.draw(a,b,c,this.symbolCollected)},O4661:function(a,
b,c){this.draw(a,b,c,this.symbolCollectedShort)},O8222:function(a,b,c){this.draw(a,b,c,this.symbolPlaced)},O1864:function(a,b,c){this.draw(a,b,c,this.symbolTravelled)},O4347:function(a,b,c){this.draw(a,b,c,this.symbolFind)},O1655:function(a,b,c){this.draw(a,b,c,this.symbolPerson)},O516:function(a,b,c){this.draw(a,b,c,this.symbolNothing)},O3737:function(a,b,c){this.draw(a,b,c,this.reloadBodiesButton)},O6357:function(a,
b,c){this.draw(a,b,c,this.collectedIcon)},O1415:function(a,b,c){this.draw(a,b,c,this.healthHeart)},O1493:function(a,b,c){this.draw(a,b,c,this.healthBar)},O2075:function(a,b,c){this.draw(a,b,c,this.healthBarInner)},O5284:function(a,b,c){this.draw(a,b,c,this.healthBarPulse)},O4606:function(a,b,c){this.draw(a,b,c,this.highlightRound)},O3132:function(a,b,c){this.draw(a,b,c,this.highlightRotation)},O7655:function(a,b,
c){this.draw(a,b,c,this.highlightItem)},O3303:function(a,b,c){this.draw(a,b,c,this.highlightEmptyGrid)},O3559:function(a,b,c){this.draw(a,b,c,this.highlightItem)},O5345:function(a,b,c){this.draw(a,b,c,this.movementDirectionIndicatorV)},O6970:function(a,b,c){this.draw(a,b,c,this.movementDirectionIndicatorH)},O7090:function(a,b,c){this.draw(a,b,c,this.playerDialogOkButton)},O4417:function(a,
b,c){this.draw(a,b,c,this.playerDialogAvatarSelectButton)},O7297:function(a,b,c){this.draw(a,b,c,this.playerDialogMyPeopleBtnOvlay)},O2451:function(a,b,c){this.draw(a,b,c,this.playerDialogMyPeopleStatusBar)},O1019:function(a,b,c){this.draw(a,b,c,this.playerDialogBackArrow)},O5876:function(a,b,c){this.draw(a,b,c,this.visitedLocationFrame)},O202:function(a,b,c){this.draw(a,b,c,this.visitedLocationVisitedButton)},
O202On:function(a,b,c){this.draw(a,b,c,this.visitedLocationVisitedButtonOn)},O4097:function(a,b,c){this.draw(a,b,c,this.visitedLocationListedPubliclyChecked)},O5136:function(a,b,c){this.draw(a,b,c,this.visitedLocationListedPubliclyUnchecked)},O6027:function(a,b,c){this.draw(a,b,c,this.findButton)},O5592:function(a,b,c){this.draw(a,b,c,this.transportButton)},O7867:function(a,
b,c){this.draw(a,b,c,this.openMapThereButton)},O8190:function(a,b,c){this.draw(a,b,c,this.infoButton)},O5455:function(a,b,c){this.draw(a,b,c,this.infoSymbol)},O3421:function(a,b,c){this.draw(a,b,c,this.zoomSymbol)},O4383:function(a,b,c){this.draw(a,b,c,this.distanceIndicator)},O2611:function(a,b,c){this.draw(a,b,c,this.distanceIndicatorWhite)},O6179:function(a,b,c){this.draw(a,b,c,this.distanceIndicatorClose)},O3506:function(a,
b,c){this.draw(a,b,c,this.panelBGTop)},O2598:function(a,b,c){this.draw(a,b,c,this.panelBottom)},O2352:function(a,b,c){this.draw(a,b,c,this.panelEmptyMessage)},O5556:function(a,b,c){this.draw(a,b,c,this.panelCreateNewButton)},O926:function(a,b,c){this.draw(a,b,c,this.panelCreateNewButtonRankNeeded)},O375:function(a,b,c){this.draw(a,b,c,this.panelBinClosed)},O8075:function(a,b,c){this.draw(a,b,c,this.panelBinOpen)},
drawPanelBinMessage:function(a,b,c){this.draw(a,b,c,this.panelBinMessage)},O6017:function(a,b,c){this.draw(a,b,c,this.panelRotateMessage)},O3738:function(a,b,c){this.draw(a,b,c,this.panelSetHideButton)},O2400:function(a,b,c){this.draw(a,b,c,this.panelSetShowButton)},O8241:function(a,b,c){this.draw(a,b,c,this.panelTabCollectedOn)},O4337:function(a,b,c){this.draw(a,b,c,this.panelTabCollectedOff)},O6774:function(a,
b,c){this.draw(a,b,c,this.panelTabCreatedOn)},O4400:function(a,b,c){this.draw(a,b,c,this.panelTabCreatedOff)},O7003:function(a,b,c){this.draw(a,b,c,this.panelTabSearchOn)},O5169:function(a,b,c){this.draw(a,b,c,this.panelTabSearchOff)},O822:function(a,b,c){this.draw(a,b,c,this.panelTabCollectedOldOn)},O5909:function(a,b,c){this.draw(a,b,c,this.panelTabCollectedOldOff)},O126:function(a,b,
c){this.draw(a,b,c,this.panelTabCreatedOldOn)},O2622:function(a,b,c){this.draw(a,b,c,this.panelTabCreatedOldOff)},O7679:function(a,b,c){this.draw(a,b,c,this.pageButtonUp)},O2029:function(a,b,c){this.draw(a,b,c,this.pageButtonDown)},O7754:function(a,b,c){this.draw(a,b,c,this.pageButtonLeft)},O5369:function(a,b,c){this.draw(a,b,c,this.pageButtonRight)},O4918:function(a,b,c){this.draw(a,b,c,this.thumbUpSmall)},O3947:function(a,
b,c){this.draw(a,b,c,this.miftsButton)},O25:function(a,b,c){this.draw(a,b,c,this.addMiftButton)},draw:function(a,b,c,d){var e;if(d.opacity||c)e=ig.system.context.globalAlpha,ig.system.context.globalAlpha=d.opacity||c;d.cachedImage||(d.key||(d.key=d.x+"_"+d.y+"_"+d.width+"_"+d.height),d.cachedImage=this.getImage(d));d.cachedImage.draw(a,b);if(d.opacity||c)ig.system.context.globalAlpha=e},O6963:function(a,b,c,d,e,f){var g=ig.system.context.globalAlpha;if(d.opacity||c)ig.system.context.globalAlpha=
d.opacity||c,console.log("alpha");this.image.O6963(a,b,e,f,d.x,d.y,d.width,d.height);if(d.opacity||c)ig.system.context.globalAlpha=g},getImage:function(a){if(!this.image.loaded)return console.error("tried to load subspritesheet before spritesheet loaded"),null;a.key||console.error("tried to load subspritesheet without key");if(!this.O6245[a.key]){var b=this.image.data,c=a.width*ig.system.scale,d=a.height*ig.system.scale,e=document.createElement("canvas");e.width=c;e.height=d;e.getContext("2d").drawImage(b,
a.x*ig.system.scale,a.y*ig.system.scale,c,d,0,0,c,d);b=new ml.Image(null,null,null,e);b.path="extracted/"+a.key;this.O6245[a.key]=b}return this.O6245[a.key]}})});ig.baked=!0;
ig.module("game.core.spritesheetboostdialog").requires("mlframe.image").defines(function(){window.O1778BoostDialog=ig.Class.extend({image:null,O6245:{},background:{x:0,y:294,width:203,height:203},O5621:jQuery.Deferred(),O1823:null,multipliedButton:{sound:8,interaction:10,happening:12},init:function(){for(var a=ig.game.O3501.namesInO1778Order.length,b=0,c=Math.ceil(a/10),d=0;d<c;d++){for(var e=0;10>e;e++){b++;var f=ig.game.O3501.namesInO1778Order[b-
1];if(f){var g=[];if(this.multipliedButton[f])for(var h=1;h<=this.multipliedButton[f];h++)g.push(f+"_"+h);else g.push(f);for(h=0;h<g.length;h++)f=g[h],ig.game.O3501.O4516(f)?(name="button_"+f,this[name]={x:e*(ig.game.tileSize+1),y:d*(ig.game.tileSize+1),width:ig.game.tileSize,height:ig.game.tileSize}):console.warn("Boost name not found",f)}if(b>=a)break}if(b>=a)break}var k=this;this.O1823=this.O5621.promise();this.image=new ml.Image(ig.game.staticResourcePrefix+
"media/spritesheet-boostdialog.png?v="+ig.game.version,function(){k.O5621.resolveWith(k)},this)},getImage:function(a){if(!this.image.loaded)return null;a.key||console.error("tried to load subspritesheet without key");if(!this.O6245[a.key]){var b=this.image.data,c=a.width*ig.system.scale,d=a.height*ig.system.scale,e=document.createElement("canvas");e.width=c;e.height=d;e.getContext("2d").drawImage(b,a.x*ig.system.scale,a.y*ig.system.scale,c,d,0,0,c,d);b=new ml.Image(null,
null,null,e);b.path="extracted/"+a.key;this.O6245[a.key]=b}return this.O6245[a.key]},draw:function(a,b,c,d){var e=ig.system.context.globalAlpha;if(d.opacity||c)ig.system.context.globalAlpha=d.opacity||c;this.image.draw(a,b,d.x,d.y,d.width,d.height);if(d.opacity||c)ig.system.context.globalAlpha=e}})});ig.baked=!0;
ig.module("game.core.playerstatusobserver").requires("impact.impact","game.entities.player").defines(function(){window.PlaterStatusObserver=ig.Class.extend({lastState:{},O8381:5,O3456:1,O2460:5,O3721:null,O7806:null,player:null,O1868:!1,O2437:!1,init:function(a){a&&(this.O8381=a);this.player=ig.game.O4269;this.O4120=ig.game.O4120;this.setUpdatesPerSecond(this.O3456)},
setUpdatesPerSecond:function(a){this.O2460=a;this.O7034()},O7034:function(){this.O3721=1E3/this.O2460},O3911:function(a){this.O2460=(this.O1868=a)?this.O8381:this.O3456},update:function(){if(this.player&&(!this.player.isDead&&this.player.O2507)&&(Date.now()-this.O7806>=this.O3721||this.O2492()))this.O7806=Date.now(),ig.game.O8110?
this.O7816():this.O4183()},O2492:function(){return(!this.O2437||this.O1868)&&(this.bigVelocityChange()||this.justReleasedHControl()||this.O6268()||this.O547()||this.O6294())},O7816:function(){if(!this.lastState.pos||!this.lastState.vel||this.lastState.pos.x!=this.player.pos.x||this.lastState.pos.y!=this.player.pos.y||this.lastState.vel.x!=this.player.vel.x||this.lastState.vel.y!=this.player.vel.y||
this.lastState.O1457Name!=this.player.O1457.name||this.lastState.flipped!=this.player.O6609){this.lastState.pos={x:this.player.pos.x,y:this.player.pos.y};this.lastState.vel={x:this.player.vel.x,y:this.player.vel.y};this.lastState.O1457Name=this.player.O1457.name;this.lastState.flipped=this.player.O6609;var a=2;this.player.O199==this.player.O4387?a=1:this.player.O199==this.player.O7438&&(a=3);
ig.game.O4349.binary.O3235(this.player.pos,this.player.vel,this.player.accel,this.player.O1457.O463Index,this.player.O6609,a,this.player.O2865)}},O4183:function(){var a,b,c;a={};b={};c={};a.x=Math.round(100*ig.game.O4269.pos.x)/100;a.y=Math.round(100*ig.game.O4269.pos.y)/100;b.x=Math.round(1E3*ig.game.O4269.vel.x)/1E3;b.y=Math.round(1E3*ig.game.O4269.vel.y)/1E3;c.x=Math.round(10*ig.game.O4269.accel.x)/10;c.y=Math.round(10*ig.game.O4269.accel.y)/
10;if(!this.lastState.pos||!this.lastState.vel||this.lastState.pos.x!=a.x||this.lastState.pos.y!=a.y||this.lastState.vel.x!=b.x||this.lastState.vel.y!=b.y||this.lastState.O1457Name!=ig.game.O4269.O1457.name||this.lastState.flipped!=ig.game.O4269.O6609){this.lastState.pos=a;this.lastState.vel=b;this.lastState.O1457Name=ig.game.O4269.O1457.name;this.lastState.flipped=ig.game.O4269.O6609;var d=2;ig.game.O4269.O199==ig.game.O4269.O4387?
d=1:ig.game.O4269.O199==ig.game.O4269.O7438&&(d=3);a={pos:a,vel:b,acl:c,ani:ig.game.O4269.O1457.name,flp:ig.game.O4269.O6609,g:d};ig.game.O4269.O2865!=ig.game.O4269.O2558.RUNNING&&(ig.game.O4269.O2865==ig.game.O4269.O2558.CLIMBING?a.act=ig.game.O4269.O2558.CLIMBING:ig.game.O4269.O2865==ig.game.O4269.O2558.SWIMMING&&(a.act=ig.game.O4269.O2558.SWIMMING));ig.game.O4349.O3235(a)}},
bigVelocityChange:function(){var a,b,c;if(this.lastState.vel){if(0<Math.abs(this.player.vel.x)&&0==this.lastState.vel.x||0<Math.abs(this.player.vel.y)&&0==this.lastState.vel.y)a=!0;if(0<Math.abs(this.lastState.vel.x)&&0==this.player.vel.x||0<Math.abs(this.lastState.vel.y)&&0==this.player.vel.y)b=!0;if(0<this.player.vel.x&&0>this.lastState.vel.x||0>this.player.vel.x&&0<this.lastState.vel.x||0<this.player.vel.y&&0>this.lastState.vel.y||0>this.player.vel.y&&0<this.lastState.vel.y)c=!0}return a||b||c},
justReleasedHControl:function(){if(this.player.hControlJustReleased)return this.player.hControlJustReleased=!1,!0},O6268:function(){if(ig.game.O5354())return!0},O547:function(){if(this.player.forceSend)return this.player.forceSend=!1,!0},O6294:function(){return this.lastState.O1457Name!=this.player.O1457.name||this.lastState.flipped!=this.player.O6609}})});ig.baked=!0;
ig.module("game.core.validations").defines(function(){window.Validations=ig.Class.extend({playerName:{maxLength:20,noName:"no name",clean:function(a){a=String(a);a=a.replace(/[^0-9a-zA-Z!? \*.,-]/g,"");return a=a.substring(0,this.maxLength)},isValid:function(a){var b=!1;"string"==typeof a&&(b=a.search(/[a-z]/i),b=a==this.clean(a)&&-1!=b&&2<=a.length);return b},O6791:function(a){a=this.clean(a);""==a&&(a=this.noName);return a}},itemName:{maxLength:37,noName:"no name",clean:function(a){a=
String(a);a=a.replace(/[^0-9a-zA-Z!? .,--\:\;\_\(\)\[\]\$\%\@\~\*\'\^\#\&]/g,"");a=ig.game.strings.trim(a);a=a.toLowerCase();return a=a.substring(0,this.maxLength)},isValid:function(a){return a==this.clean(a)},O6791:function(a){a=this.clean(a);""==a&&(a=this.noName);return a}},O7613:function(a){return/^[0-9a-fA-F]{24}$/.test(a)},O2960:function(a){return RegExp("^((ft|htt)ps?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%@_.~+&:]*)*(\\?[;&a-z\\d%@_.,~+&:=-]*)?(\\#[-a-z\\d_]*)?$",
"i").test(a)}})});ig.baked=!0;
ig.module("game.core.mapplacementvalidation").defines(function(){window.MapPlacementValidation=ig.Class.extend({getAllInnerOfRectangleAreSameForFillBuilding:function(a,b,c,d,e,f){for(var g=!0,h=c;h<=e;h++)for(var k=d;k<=f;k++){var l={x:h,y:k};if(!(h==c&&k==d||h==e&&k==d||h==e&&k==f||h==c&&k==f))if(l=ig.game.O7715.O1009(l),b){if(l){g=!1;break}}else if(!l||!l.thing||l.thing.id!=a){g=!1;break}}return g},O7782:function(a,b){var c="SOLID DECOBG DECO DECOFG LQDFLIP LIQUID SLIDEY CLIMB PUSH PUSHDIAG SPARKLING FLEXIBLE WALKABLE PASS DECOANIM DEADLY HARM FURRY CLOTHY DRIFTY".split(" ");
b&&c.push("BOUNCEY");return 0<=c.indexOf(a)},O61:function(){var a=2<=ig.game.O4269.rank;a||ig.game.O4132.O2959();return a},O4088:function(a,b,c){var d=void 0;c&&(d={x:Math.round(ig.input.mouse.x+ig.game.screen.x),y:Math.round(ig.input.mouse.y+ig.game.screen.y)});return this.isEditor(b)&&!this.O1633(a,b,d)&&!this.O4298(a,b,"FILLLIGHT",EntityFilllight,ig.game.O413.environment)&&!this.O4298(a,
b,"FARBACK",EntityFarback,ig.game.O413.farBack,void 0,30)&&!this.O4298(a,b,"TRANSFORM",EntityTransform,void 0,[ig.game.O413.default,ig.game.O413.decoEffects],20)&&!this.O4298(a,b,"MULTITHING",EntityMultithing,void 0,[ig.game.O413.default,ig.game.O413.decoEffects],4,400)&&!this.O6081(a,b)&&!this.O7285(a,b)},isEditor:function(a){var b=
ig.game.isEditorHere;!b&&!a&&ig.game.O884.O8271("editorOnly");return b},O1633:function(a,b,c){var d=!1;if(a){"INTERACT"==a.base&&(!a.checksNears&&ig.game.O6401.O667(a.textData))&&(a.checksNears=!0);var e=ig.game.O8430.O7339(a.attributes),f="ENVIRONM"==a.base&&e,g="STACKHOLD"==a.base&&e,h=0<=["GATHER","INTERACT"].indexOf(a.base)&&e,k="DEADLY DEADLYMV HARM HARMANIM HARMFLIP DEADLYEM HAPPENING".split(" "),
l=!!a.reactsTo,m=!!a.checksNears,n=ig.game.O172.O4675();c||(c=ig.game.O5662(ig.game.O4269.pos));var p=ig.game.O707;c=ig.game.O172.O4036(c);p&&c&&"WALKABLE"==a.base?(b||ig.game.O4269.say(ig.game.O172.O7190()),d=!0):p&&"HELPER"==a.base&&a.attributes&&a.attributes.settings?(ig.game.O884.O2127("i cannot place this here"),d=!0):"INDIVIDUALS"==ig.game.O2714?(d=!1,"MEDIUM"==a.base&&
(d=a.url&&(0<=a.url.indexOf("vimeo.com")||0<=a.url.indexOf("imgur.com")||0<=a.url.indexOf("vine.co"))?5>ig.game.O4269.rank:!1),d&&!b&&ig.game.sounds.nocando.play()):p&&0<=["MEDIUM","PLACENAME"].indexOf(a.base)&&5>ig.game.O4269.rank?(b||ig.game.sounds.nocando.play(),d=!0):n&&(l||m)?(b||ig.game.O884.O8271("cantPlaceReactingInteracting"),d=!0):p&&(f||"INTERENV"==a.base)?(b||ig.game.sounds.nocando.play(),d=!0):"ANY"==ig.game.O2714&&c&&5<=ig.game.O4269.rank&&
0<=["FILLLIGHT","VIGNETTE","TRANSFORM"].indexOf(a.base)?d=!1:n&&(c||5>ig.game.O4269.rank)&&(0<=["FILLLIGHT","VIGNETTE","BRAIN","TRANSFORM"].indexOf(a.base)||0<=k.indexOf(a.base)||g||h||"INTERACT"==a.base&&e|l|m)?(b||(c&&5<=ig.game.O4269.rank?ig.game.O4269.say(ig.game.O172.O7190()):ig.game.sounds.nocando.play()),d=!0):p&&(5>ig.game.O4269.rank&&c)&&(b||ig.game.O4269.say(ig.game.O172.O7190()),d=!0)}return d},O7285:function(a,
b){var c=!1;if(a&&"HAPPENING"==a.base&&ig.game.O413.default&&1<=ig.game.O413.default.length){var d=ig.game.O413.default;if(d)for(var e=0;e<d.length;e++){var f=d[e];if(!f._killed&&f instanceof EntityHappening){c=!0;b||ig.game.O4269.say("there's already a happening placed around here");break}}}return c},O4298:function(a,b,c,d,e,f,g,h){var k=!1;if(a&&a.base==c&&(e&&1<=e.length||f&&1<=f.length)){a=0;void 0==g&&(g=10);h||(h=700);var l=ig.game.O7715.O1407();
c={pos:{x:null,y:null},size:{x:null,y:null}};c.pos.x=l.x*ig.game.tileSize;c.pos.y=l.y*ig.game.tileSize;c.size={x:ig.game.tileSize,y:ig.game.tileSize};e=f?f:[e];for(f=0;f<e.length&&!k;f++)for(l=0;l<e[f].length&&!k;l++){var m=e[f][l];!m._killed&&m instanceof d&&(parseInt(m.O5320(c))<=h&&++a>=g)&&(k=!0,b||ig.game.O4269.say("there are too many of this nearby already"))}}return k},O6081:function(a,b){function c(a){var b=0;a.attributes&&(a.attributes.thick?
b=1:a.attributes.veryThick&&(b=2));return b}var d=!1;if(a&&"VIGNETTE"==a.base&&ig.game.O413.light&&1<=ig.game.O413.light.length){var e=c(a),f=ig.game.O413.light;if(f)for(var g=0;g<f.length;g++){var h=f[g];if(!h._killed&&h instanceof EntityVignette&&e!=c(h)){b||ig.game.O4269.say("surround lights of different thickness don't mix");d=!0;break}}}return d}})});ig.baked=!0;
ig.module("game.core.O7785").defines(function(){window.O4988=ig.Class.extend({O2512Id:null,targetMapLocation:null,trackingMode:0,playerName:"",margin:{x1:50,y1:20,x2:100,y2:50},pos:{x:0,y:0},O3226:0,arrowPos:{x:-14,y:14},indicatorDataPos:{x:5,y:15},namePos:{x:5,y:6},closePos:{x:14,y:13},closeSize:{x:7,y:7},O6426:!1,O3717:!1,O5191:35,O6207:0,O6449:!1,O3644:null,O5004:0,O6766:!1,
targetIntermediateMapTarget:null,tilesize:19,arrow:null,O1371:null,O4892:null,O8174:20,O7102:null,O4830:10,alpha:1,maxAlpha:0.5,alphaInc:0.016,O518:2,O6543:"to outer ring",O7621:"to inner ring",init:function(){var a=ig.game.O5405.distanceIndicatorArrow;this.O1371=new ml.AnimationSheet(null,a.width,a.height,ig.game.O5405.getImage(a));this.arrow=new ml.Animation(this.O1371,
1,[0]);this.alpha=this.maxAlpha},O930:function(a){if(ig.game.O4269.rank>=this.O518){var b=this;if(window.location.hash&&-1==window.location.hash.indexOf("=")){var c=window.location.hash.substring(1).toLowerCase();"_=_"!=c&&ig.game.O7421.O384(c).done(function(c){c&&(void 0!=c.x&&void 0!=c.y)&&b.O248(c,a)})}}},O5184:function(a){ig.game.O7421.O384(a).done(function(a){a&&(void 0!=a.x&&void 0!=
a.y)&&ig.game.O5051.O248(a,!0)})},O7015:function(a){return ig.game.O7421.O384(a)},O2581:function(){if(ig.game.isFullAccount){var a;this.trackingMode!=this.trackingModes.NONE&&(a={O2512Id:this.O2512Id,targetMapLocation:this.targetMapLocation,trackingMode:this.trackingMode,playerName:this.playerName});ig.game.O7421.O6527(a)}},O1564:function(a){a&&(a.trackingMode==
this.trackingModes.PLAYER?this.O913(a.O2512Id,a.playerName):a.trackingMode==this.trackingModes.MAPLOC&&this.O248(a.targetMapLocation))},O913:function(a,b){this.O3717=!1;this.O2512Id=a;this.playerName=b;this.trackingMode=this.trackingModes.PLAYER;this.O4892=new ml.Timer;this.O2787(!0)},O4364:function(a,b){this.O3717=!1;this.O913(a,b);this.O2581();this.O1129()},
O248OnAutoPilot:function(a){this.O3717=!0;this.O248(a)},O248:function(a,b){if(a&&"undefined"!=typeof a.p&&"undefined"!=typeof a.a&&"undefined"!=typeof a.x&&"undefined"!=typeof a.y)if(this.targetMapLocation=a,this.playerName=null,ig.game.O172.O3782(a))this.trackingMode=this.trackingModes.MAPLOC,this.O3644=ig.game.O7715.O2398(a.x,a.y),this.targetIntermediateMapTarget=null,b&&this.O1129();
else{var c=this;ig.game.O7421.O3851(ig.game.O172.O6722,ig.game.O172.currentArea,a.p,a.a).done(function(a){a&&(c.trackingMode=c.trackingModes.MAPLOC,c.O3644=ig.game.O7715.O2398(a.x,a.y),c.targetIntermediateMapTarget={},b&&c.O1129())})}},O7648:function(a){this.O3717=!1;this.O248(a);this.O2581();this.O1129()},O6340:function(){this.O3717=
!1;var a=this;ig.game.O7421.O5970(ig.game.O172.O6722,ig.game.O172.currentArea).done(function(b){b&&a.O7648(b)})},O3931:function(a){this.O3717=!1;this.trackingMode=this.trackingModes.NONE;this.O4892=null;this.O2581()},update:function(){this.trackingMode!=this.trackingModes.NONE&&(this.O3492(),this.O2787(),this.O2491(),this.O7275(),this.O3438(),
this.O6313(),this.O550())},O1129:function(){0>=this.O6207&&!this.O3717&&(this.O6207=this.O5191,ig.game.sounds.shortWhoosh.play())},O2787:function(a){if(this.trackingMode==this.trackingModes.PLAYER){var b=ig.game.O8412(this.O2512Id);if(b)this.O3644=b.pos,this.targetIntermediateMapTarget=null;else if(a||this.O4892&&this.O4892.delta()>
this.O8174)this.O2512Id?(this.O4892.reset(),ig.game.O4120.O2586(this.O2512Id,this).done(function(a){if(a)if(ig.game.O172.O3782(a))ig.game.O461||(this.O3644=ig.game.O7715.O2398(a.x,a.y),this.targetIntermediateMapTarget=null);else{if(!this.targetIntermediateMapTarget||!(this.targetIntermediateMapTarget.O2512PreviousPlane==
a.p&&this.targetIntermediateMapTarget.O2512PreviousArea==a.a)){var b=this;ig.game.O7421.O3851(ig.game.O172.O6722,ig.game.O172.currentArea,a.p,a.a).done(function(e){e&&(b.O3644=ig.game.O7715.O2398(e.x,e.y),b.targetIntermediateMapTarget={},b.targetIntermediateMapTarget.O2512PreviousPlane=a.p,b.targetIntermediateMapTarget.O2512PreviousArea=a.a)})}}else this.targetIntermediateMapTarget=this.O3644=
null})):this.O3931()}},O7275:function(){this.O6766?0<this.alpha&&(this.alpha=Math.max(this.alpha-this.alphaInc,0)):1>this.alpha&&(this.alpha=Math.min(this.alpha+this.alphaInc,this.maxAlpha))},O2491:function(){this.O3644&&(ml.Misc.O7388({x:this.O3644.x,y:this.O3644.y})&&!this.O6766&&((Date.now()-this.O7102)/1E3>this.O4830&&ig.game.sounds.found.play(),this.O7102=Date.now()),this.O6766=
ml.Misc.O7388({x:this.O3644.x,y:this.O3644.y}))},O550:function(){if(this.O3717&&this.O6766){var a=ml.Misc.O2281(ig.game.O4269,EntityPointer);if(a){var b=this;ig.game.O7421.O384(a.url).done(function(a){b.targetMapLocation.x!=a.x&&b.targetMapLocation.y!=a.y&&ig.game.O5051.O248OnAutoPilot(a)})}}},O6313:function(){if(this.O3644){var a=this.O3644.y-
ig.game.screen.y+ig.game.camera.offset.y;this.pos.x=Math.max(Math.min(this.O3644.x-ig.game.screen.x+ig.game.camera.offset.x-ig.game.camera.offset.x,ig.system.width-this.margin.x2),this.margin.x1);this.pos.y=Math.max(Math.min(a-ig.game.camera.offset.y,ig.system.height-this.margin.y2),this.margin.y1);a=this.O5971(this.O3644,ig.game.O4269.pos);this.arrow.angle=a-1.6}},draw:function(){if(!this.O3717&&(this.trackingMode!=this.trackingModes.NONE&&this.O3644)&&(!ig.game.userMapDialog||
!ig.game.userMapDialog.isOpen))ig.system.context.globalAlpha=0.9*this.alpha,ml.Misc.O1651("lighter"),this.trackingMode==this.trackingModes.PLAYER?this.targetIntermediateMapTarget?ig.game.whiteFont.draw(this.O200(),this.pos.x+this.namePos.x,this.pos.y+this.namePos.y,ig.Font.ALIGN.CENTER):ig.game.whiteFont.draw(this.O1190(this.playerName,13),this.pos.x+this.namePos.x,this.pos.y+this.namePos.y,ig.Font.ALIGN.CENTER):this.trackingMode==this.trackingModes.MAPLOC&&this.targetIntermediateMapTarget&&
ig.game.whiteFont.draw(this.O200(),this.pos.x+this.namePos.x,this.pos.y+this.namePos.y,ig.Font.ALIGN.CENTER),ig.game.whiteFont.draw(ig.game.strings.O5728(this.distance),this.pos.x+this.indicatorDataPos.x,this.pos.y+this.indicatorDataPos.y,ig.Font.ALIGN.CENTER),this.arrow.draw(this.pos.x+this.arrowPos.x,this.pos.y+this.arrowPos.y),this.O6426||ig.game.O5405.O6179(this.pos.x+this.closePos.x,this.pos.y+this.closePos.y),ig.system.context.globalAlpha=
1,ml.Misc.O13(),0.5<=this.alpha&&(0<this.O6207&&ig.game.chance(35))&&(ig.game.decorator.O6664(ig.game.O5167(this.pos.x-32,this.pos.x+40),ig.game.O5167(this.pos.y,this.pos.y+30),null),this.O6207--)},O200:function(){return 1==ig.game.O172.O6722?this.O7621:this.O6543},O1190:function(a,b){var c="";"string"===typeof a&&(c=a.length>b?a.substring(0,b-1)+"..":a);return c},O3438:function(){this.O3644&&
(this.distance=Math.floor(Math.sqrt((this.O3644.x-ig.game.O4269.pos.x)*(this.O3644.x-ig.game.O4269.pos.x)+(this.O3644.y-ig.game.O4269.pos.y)*(this.O3644.y-ig.game.O4269.pos.y))/this.tilesize))},O3492:function(){var a=ig.game.O6099.O6849(this.pos.x+this.closePos.x,this.pos.y+this.closePos.y,this.pos.x+this.closePos.x+this.closeSize.x,this.pos.y+this.closePos.y+this.closeSize.y);a&&ig.game.O6099.O4013();a&&ig.game.O6099.O5632()&&
(ig.game.O6099.O6375(!0),this.O3931())},trackingModes:{NONE:0,PLAYER:1,MAPLOC:2},O5971:function(a,b){return Math.atan2(b.y-a.y,b.x-a.x)}})});ig.baked=!0;
ig.module("game.core.O3247").defines(function(){window.O1042=ig.Class.extend({isSpeaking:!1,O3340:!1,thumbing:null,O5289:null,O3420:null,symbolPos:{x:0,y:0},symbolSize:{x:0,y:0},O2750:0.5,O4578:null,O3969:0.75,O5029:null,O6739:0.4,O6259:null,O7267:[],O6349:[],O1017:4,O4966:[],O4687:60,
abc:"abcdefghijklmnopqrstuvwxyz".split(""),O4630:"zero one two three four five six seven eight nine".split(" "),O4630Mapping:{one:"1",two:"2",three:"3",four:"4",five:"5",six:"6",seven:"7",eight:"8",nine:"9",zero:"0"},O1571:[],O7558:{},O6615:"r",O5177:0,O5126:null,moveChars:["w","a","s","d"],O1706:0,O6622:"to the left;to the right;to infinity and beyond;to be ;to answer your;to hell with;to whom it may;to the back;to the center;to something;to do ;to create;to change;to kill you;to collect;to you too;to place blocks;to that area;to do what;to do that;to restart;to the center;to escape quick;to do better;to my friends;to get out;to refresh;to get air;to go home;to the back;to delete".split(";"),
init:function(){this.setKeyboardCountry();this.symbolSize.x=ig.game.O5405.speechSymbol.width;this.symbolSize.y=ig.game.O5405.speechSymbol.height;localStorage&&"true"==localStorage.ignoreWasdMovement&&(this.O3340=!0);setInterval(function(){ig.game.O884.O1706=0},250)},setKeyboardCountry:function(a){this.O1571=[];this.O7558={};this.O1852("one","!");this.O1852("two",'"');this.O1852("five","%");this.O1852("eight",
"*");this.O1852("nine","(");this.O1852("zero",")");this.O1852("semicolon",":");this.O1852("single_quote",'"');this.O1852("squarebracket_open","{");this.O1852("squarebracket_close","}");this.O1852("forwardslash","?");this.O1852("backwardslash","|");this.O1852("equal","+");this.O1852("minus","_");switch(a){case "france":this.O1852("two","e");this.O1852("three",'"');this.O1852("four",
"'");this.O1852("seven","e");this.O1852("eight","!");this.O1852("zero","a");break;case "germany":this.O1852("two","@");this.O1852("four","$");this.O1852("six","&");this.O1852("seven","/");this.O1852("eight","(");this.O1852("nine",")");this.O1852("zero","=");this.O1852("comma",";");this.O1852("period",":");this.O1852("backquote","'");break;case "italy":this.O1852("two",
'"');this.O1852("four","$");this.O1852("six","&");this.O1852("seven","/");this.O1852("eight","(");this.O1852("nine",")");this.O1852("comma",";");this.O1852("period",":");break;case "spain":this.O1852("two","@");this.O1852("three","#");this.O1852("four","$");this.O1852("six","&");this.O1852("seven","/");this.O1852("eight","(");this.O1852("nine",")");
this.O1852("zero","=");this.O1852("comma",";");this.O1852("period",":");break;case "uk":this.O1852("two",'"');this.O1852("four","$");this.O1852("seven","&");this.O1852("eight","*");this.O1852("nine","(");this.O1852("zero",")");this.O1852("comma","<");this.O1852("period",">");break;case "usa":this.O1852("two","@"),this.O1852("three","#"),this.O1852("four",
"$"),this.O1852("seven","&"),this.O1852("comma","<"),this.O1852("period",">"),this.O1852("backquote","~"),this.O1852("backslash","|")}},O1852:function(a,b){-1===this.O1571.indexOf(a)&&this.O1571.push(a);this.O7558[a]=b},update:function(){!ig.game.O6310&&(!ig.game.writableDialog.isWriting&&!ig.game.areaDialog.isOpen)&&0==ig.game.O1132&&(ig.game.O1285()?(0>=this.O5177&&
!ig.game.O4269.attachments[ig.game.O7510.slots.HOLDABLE]&&(this.O5177=7),ig.game.O1412&&"toArea"!=ig.game.O1412.attribute?ig.game.O1412.O6558():ig.game.O8380?ig.game.O8380.O2485():ig.game.O3687?ig.game.O3687.O7702():ig.game.O5307?ig.game.O5307.openDialogIfNeeded():ig.game.O7510.O5328()):
0<this.O5177?(this.O5177--,ig.game.O7510.O5328(!0)):(this.O3340||this.O1323(),this.O3340&&(this.O8272(),this.O3748(),this.O8147(),this.O5145()),this.O5285(),this.O684()))},O3833:function(){var a=ig.game.O4269.O6575.O8238();return a&&!a.moving&&!(ig.game.motionDialog&&
ig.game.motionDialog.isOpen)},O6611:function(){return ig.input.state("l_arr")||ig.input.state("r_arr")||ig.input.state("u_arr")||ig.input.state("d_arr")},O5285:function(){if(15<=this.O4966.length){for(var a=!0,b=0;15>b;b++){var c=this.O4966[b];if(c&&(c=c.toLowerCase(),-1===this.moveChars.indexOf(c))){a=!1;break}}a&&this.endFreeSpeech()}},O684:function(){!ig.input.state("w")&&!ig.input.state("a")&&!ig.input.state("s")&&
!ig.input.state("d")?this.O4578=null:this.O4578&&null!=this.O2822(this.abc)?this.O4578=null:(this.O4578||(this.O4578=new ml.Timer),this.O4578.delta()>this.O3969&&(this.O5444(),this.endFreeSpeech(),ig.input.lastPressAction=null,ig.input.previousPressAction=null))},O8147:function(a){(void 0!=a&&null!=a?a:ig.input.state("backspace"))?(this.O5029||
(this.O5029=new ml.Timer),this.O5029.delta()>this.O6739&&this.O2361()):this.O5029=null},O2822:function(a){for(var b=null,c=0;c<a.length&&null==b;c++)ig.input.pressed(a[c])&&(b=a[c]);return b},O1323:function(){if(this.O6611()||ig.input.pressed("enter"))this.O4847();else if(ig.input.pressed("w"))this.O7267=["w"];else if(null==this.O2822(["a",
"s","d"])&&(this.O2822(this.abc)||this.O2822(this.O4630)||ig.input.pressed("apostrophe")||ig.input.pressed("colon"))||ig.input.pressed("single_quote")||ig.input.pressed("semicolon")||ig.input.pressed("forwardslash")||ig.input.pressed("equal")||ig.input.pressed("comma")||ig.input.pressed("minus")||ig.input.pressed("backquote")||ig.input.pressed("period")||ig.input.pressed("backslash")||ig.input.pressed("question"))this.O4847(),ig.input.O1855("a")&&
this.O321("a"),ig.input.O1855("s")&&this.O321("s"),ig.input.O1855("d")&&this.O321("d")},O6530:function(){(!ig.game.O4269.O6575.O8238()||ig.game.O4269.O6575.O8238().isEmpty())&&ig.input.pressed("enter")&&this.endFreeSpeech()},O8272:function(){this.symbolPos=ig.game.O7715.O4294(ig.game.O4269.pos.x,ig.game.O4269.pos.y);this.symbolPos.y+=
20},draw:function(){},O3748:function(){if((!ig.game.instrumentDialog||!ig.game.instrumentDialog.isOpen||!ig.game.instrumentDialog.doUseKeyboardToPlay)&&!ig.input.state("ctrl")){if(ig.input.pressed("backspace"))this.O5444();else if(ig.input.pressed("esc"))this.O2361();else if(ig.input.pressed("enter")){var a=this.O4966.slice().reverse().join("");this.O5606();0===a.toLowerCase().indexOf("to ")&&this.O4994(a);ig.game.multithing&&
ig.game.multithing.O3728(a);this.O7913(a);this.O4966=[];ig.game.O4269.O6731=!1}else ig.input.pressed("space")&&this.O321(" ");a=this.O2822(this.abc);ig.input.state("shift")&&(!a||!ig.game.O4269.voice)?a?(this.O321(a.toUpperCase()),ig.game.O4269.O662(a)):(a=this.O2822(this.O1571))&&this.O321(this.O7558[a]):
a?(this.O321(a),ig.game.O4269.O662(a),ig.game.motionDialog&&ig.game.motionDialog.isOpen&&ig.game.motionDialog.close()):(a=this.O2822(this.O4630))?(this.O321(this.O4630Mapping[a]),ig.game.O4269.O662(a)):ig.input.pressed("squarebracket_open")?"germany"==ig.game.settings.keyboardCountry?this.O321("?"):this.O321("["):ig.input.pressed("squarebracket_close")?this.O321("]"):
ig.input.pressed("single_quote")?this.O321("'"):ig.input.pressed("semicolon")?this.O321(";"):ig.input.pressed("forwardslash")?this.O321("/"):ig.input.pressed("equal")?this.O321("="):ig.input.pressed("comma")?this.O321(","):ig.input.pressed("period")?this.O321("."):ig.input.pressed("minus")?this.O321("-"):ig.input.pressed("backquote")?this.O321("`"):ig.input.pressed("backslash")?
this.O321("\\"):ig.input.pressed("question")&&this.O321("?")}},O5546:function(a){this.say("_nl");this.say("_thumbsUp");a==ig.game.O4269.O2507?this.say("me"):this.say("_p"+a);this.say("_nl")},O2161:function(){return ig.game.isFullAccount||!ig.game.O4349.O1679()||ig.game.nonLoggedInChatIfEditorAround&&ml.Misc.O2616()||ig.game.O1591&&ig.game.O707},O321:function(a){if(this.O2161()){ig.game.O4269.keepEyesClosedDueToBoost&&
(ig.game.O4269.keepEyesClosedDueToBoost=!1);if(0==this.O4966.length&&("/"==a||"*"==a))ig.game.O4269.O6731=!0;if(ig.game.isFullAccount&&!ig.game.O4132.O1198(ig.game.O4132.O3829.FREE_SPEECH_SPEAK))if(3>this.O4966.length)if(a=ig.game.O4269.O6575.O8238(),!a||!a.moving)a=".",ig.game.sounds.nocando.play();else return;else return;if(ig.game.O4269.O1972()&&!ig.game.O4269.voice&&ig.game.chance(50>=
ig.game.O4269.health?50:20))a=a.toUpperCase();ig.game.O4269.O6210=new ml.Timer;80>=Math.abs(ig.game.O4269.vel.y)||ig.game.O4269.isHooked?(this.O4966&&0==this.O4966.length&&ig.game.motionDialog.O7617(),this.say("_c"+a),this.O2214(a)):this.O7267[this.O7267.length]=a}else this.O8271("loginToChat")},O3757:function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<
a.length;c++)if(a[c]!==b[c])return!1;return!0},O2257:function(a){a&&4<=a.length&&(a=a.substr(a.length-4),a.toUpperCase()==a&&a.toLowerCase()!=a&&ig.game.motionDialog&&ig.game.motionDialog.O5076("shout"))},O2214:function(a){this.O4966.unshift(a);this.O4966.length>this.O4687&&this.O4966.splice(this.O4687);var b=this.O4966.slice().reverse().join("");this.O2257(b);
this.O4503(b,a)},O7913:function(a){a=a.toLowerCase();("help"==a||"help!"==a)&&(2>=ig.game.O5210||1>=ig.game.O4269.rank)&&ml.Misc.O284(!0)},O4503:function(a,b){if("!"==b)if(0===a.toLowerCase().indexOf("to "))this.O4994(a);else{var c=ig.game.isEditorHere&&ig.game.O8053,c=0<=a.indexOf("myspeed!")||0<=a.indexOf("camlock!")||0<=a.indexOf("make things slower!")||0<=a.indexOf("explorify!")||0<=a.indexOf("clearstorage!")||
0<=a.indexOf("guardto!")||0<=a.indexOf("appversion!")||0<=a.indexOf("myversion!")||0<=a.indexOf("myv!")||0<=a.indexOf("myscreen!")||0<=a.indexOf("istablet!")||0<=a.indexOf("firstview!")||0<=a.indexOf("oldflags!")||0<=a.indexOf("togglejoystick!")||0<=a.indexOf("mystates!")&&ig.game.isEditorHere||0<=a.indexOf("speedinfo!")||0===a.indexOf("showme")||c&&(0===a.indexOf("dontpossess ")||0===a.indexOf("theyarent ")||0===a.indexOf("theyare ")),d=0<=a.indexOf("shazam!")||0<=a.indexOf("prototype!")||0<=a.indexOf("areaglobal!")||
0<=a.indexOf("geronimo!")||0<=a.indexOf("xhrpost!")||0<=a.indexOf("jqueryinfo!")||0<=a.indexOf("secureme!");if(c||d&&(ig.game.O4269.rank>=ig.game.O5997||ml.Misc.O5752()))this.O4966=[],this.O5606(),-1===a.indexOf("guardto!")&&ig.game.sounds.success.play(),0<=a.indexOf("shazam!")?ig.game.O2467(!0):0<=a.indexOf("speedinfo!")?this.O2524():0<=a.indexOf("geronimo!")?ig.game.errorManager.O6605():0<=a.indexOf("myspeed!")?ig.game.O7649.O6018():
0<=a.indexOf("myversion!")||0<=a.indexOf("myv!")?this.O2127("i'm on version "+ig.game.version):0<=a.indexOf("appversion!")?this.O1092():0<=a.indexOf("istablet!")?this.O2127("i'm "+(ig.ua.tablet?"":"not ")+"on a tablet"):0<=a.indexOf("myscreen!")?this.O6206():0<=a.indexOf("areaglobal!")?ml.Misc.O2046():0<=a.indexOf("explorify!")?ml.Misc.O2230():0<=a.indexOf("camlock!")?ig.game.camera.O5890():0<=a.indexOf("clearstorage!")?
ig.game.O914.clearAll():0<=a.indexOf("make things slower!")?ig.game.O7649.O1110():0<=a.indexOf("mystates!")?ig.game.O6401.showPlayerStates():0<=a.indexOf("xhrpost!")?ig.game.O7421.testXhrPost():0===a.indexOf("dontpossess ")?ig.game.motionDialog.O5557(a):0===a.indexOf("theyare ")?ig.game.O6401.O6672(a):0===a.indexOf("theyarent ")?ig.game.O6401.O921(a):
0===a.indexOf("firstview!")?this.O4075():0===a.indexOf("togglejoystick!")?ig.game.virtualJoystick.O2713():0===a.indexOf("oldflags!")?ig.game.bottomMenu.O7107():0===a.indexOf("jqueryinfo!")?this.O2127(jQuery().jquery):0<=a.indexOf("secureme!")?ig.game.useSSL=!0:0===a.indexOf("showme")&&this.O1949(a)}},O2524:function(){if(ig.game.debug.O1575||void 0!==ig.game.debug.O6162)ig.game.debug.clear(),
ig.game.O2467(!1);ig.game.O2467(!1)},O1949:function(a){ig.game.debug.clear();var b=a.substring(6);"!"===b.charAt(b.length-1)&&(b=b.substring(0,b.length-1));b=b.trim().toLowerCase();if(""!==b)if(0<="* everything every any anything all".split(" ").indexOf(b))ig.game.debug.O1575=!0;else{a=[];for(var c=[],b=b.split(","),d=0;d<b.length;d++)for(var e=0;1>=e;e++){var f=b[d].trim();if(1===e)if("s"===f.charAt(f.length-1))f=f.substring(0,f.length-1);else break;var g=!0;switch(f){case "light":a.push(EntityLight);
a.push(EntityLighttop);a.push(EntityFilllight);a.push(EntityVignette);a.push(EntityGlow);break;case "fill light":a.push(EntityFilllight);break;case "surround light":a.push(EntityVignette);break;case "top light":a.push(EntityLighttop);break;case "glow":a.push(EntityGlow);break;case "interacting":a.push(EntityInteract);break;case "int. environment":case "interactive environment":a.push(EntityInterenv);break;case "harmful":a.push(EntityHarm);a.push(EntityHarmanim);a.push(EntityDeadly);a.push(EntityDeadlymv);
a.push(EntityDeadlyem);break;case "deadly":case "deadlie":a.push(EntityDeadly);a.push(EntityDeadlymv);a.push(EntityDeadlyem);break;case "moving":a.push(EntityMoving);break;case "item thrower":case "thrower":a.push(EntityThrower);break;case "activator":a.push(EntityActivator);break;case "openable":a.push(EntityOpenable);break;case "living":a.push(EntityLiving);break;case "mov. living":case "moving living":a.push(EntityLivmov);break;case "liquid":a.push(EntityLiquid);a.push(EntityLqdflip);break;case "readable":a.push(EntityReadable);
break;case "writable":case "forum":a.push(EntityWritable);break;case "dynamic":a.push(EntityDynathing);break;case "happening":a.push(EntityHappening);break;case "environment":a.push(EntityEnvironm);break;case "crumbling":a.push(EntityCrumbling);break;case "far back":case "farback":a.push(EntityFarback);break;case "gatherable":a.push(EntityGather);break;case "place name":case "placename":a.push(EntityPlacename);break;case "crumble":case "crumbling":a.push(EntityCrumbling);break;case "person":case "people":a.push(EntityPlayer);
break;case "brain":a.push(EntityBrain);break;case "big thing":a.push(EntityDecobig);break;case "very big thing":a.push(EntityDecovbig);break;case "liner":a.push(EntityLiner);break;case "sound":a.push(EntitySound);break;case "sparkling":a.push(EntitySparkling);break;case "helper":a.push(EntityHelper);break;case "multi":a.push(EntityMultithing);break;case "body":case "bodie":a.push(EntityStackwearb);break;case "wearable":a.push(EntityStackwear);break;case "instrument":a.push(EntityStackinstr);break;
case "item":case "holdable":a.push(EntityStackhold);break;case "mountable":a.push(EntityMntground);a.push(EntityMntair);break;case "flying mountable":a.push(EntityMntair);break;case "holder":a.push(EntityHolder);break;case "medium":a.push(EntityMedium);break;case "portal":a.push(EntityPortal);a.push(EntityPortaldir);a.push(EntityPortalr);break;case "music":a.push(EntityMusic);break;case "musical":a.push(EntityMusical);break;case "music sheet":a.push(EntityMusicsheet);break;case "equipment":a.push(EntityEquipment);
break;case "consumable":a.push(EntityConsumab);break;case "consumable":a.push(EntityConsumab);break;case "swing line":a.push(EntityHook);break;case "emitter":a.push(EntityEmitter);break;case "aimable":a.push(EntityAimable);break;case "motion":a.push(EntityMotion);break;case "drifty":case "driftie":a.push(EntityDrifty);break;case "clothy":case "clothie":a.push(EntityClothy);break;case "lively thing":a.push(EntityLively);break;case "changer":a.push(EntityChanger);break;case "transforming":a.push(EntityTransform);
break;case "pointer":a.push(EntityPointer);break;case "furry":case "furrie":a.push(EntityFurry);break;case "flexible":a.push(EntityFlexible);break;case "back+front":a.push(EntityDecofb);break;case "chang. on activ.":case "change on activation":case "changes on activation":case "changing on activation":a.push(EntityDecoact);break;case "chang. on touch":case "change on touch":case "changes on touch":case "changing on touch":a.push(EntityDecotch);break;default:g=!1}g&&(f=f.trim().toUpperCase(),-1===
c.indexOf(f)&&c.push(f));if(1<=a.length)break}0<a.length&&(ig.game.debug.O6162=a,ig.game.debug.O1419=c.join(", "))}ig.game.debug.O1575||ig.game.debug.O6162?ig.game.debug.O3627||ig.game.O2467(!1):ig.game.debug.O3627&&ig.game.O2467(!1);ig.game.sounds.success.play()},O4075:function(){ig.game.isFullAccount&&2<=ig.game.O4269.rank||ig.game.O876?(ig.game.O876=
!ig.game.O876,ig.game.O876?(ig.game.O4269.rank=1,ig.game.O5210=0,ig.game.O414=0,ig.game.O5442=null,ig.game.bottomMenu.init(),ig.game.O4803.O7783()):window.location.reload()):ig.game.sounds.nocando.play()},O2902:function(){"true"==localStorage.extraZoomOut?(localStorage.removeItem("extraZoomOut"),window.location.reload()):ig.game.isFullAccount&&2<=ig.game.O4269.rank?(localStorage.extraZoomOut=
"true",window.location.reload()):ig.game.sounds.nocando.play()},O1092:function(){var a="",a=ig.ua.isAndroidApp?a+("i'm on android app v"+ig.ua.androidAppVersion):a+"i'm not on the android app";this.O2127(a)},O6206:function(){this.O2127("my screen size is");setTimeout(function(){ig.game.O884.O2127(ig.ua.viewport.width+" x "+ig.ua.viewport.height+" at "+ig.system.scale+"x zoom")},1500)},O7888:function(a,b){for(var c=!1,
d=0;d<b.length&&!c;d++)c=0===a.indexOf(b[d]);return c},O4994:function(a){if(ig.game.areaDialog&&(a=a.toLowerCase(),!this.O7888(a,this.O6622))){var b=a.substr(3);a=b.endsWith("!");var b=ig.game.strings.replaceAll(b,"!",""),b=b.trim(),c=ig.game.areaDialog.O7422,d=ig.game.areaDialog.nameMaxLength;this.O4966=[];b=ml.Misc.O7149(b);if("elsewhere"==b)ig.game.O5699||ig.game.portaller.startExitAreaTeleportingRequest();
else if("last"==b)ig.game.portaller.O4762();else if("home"==b)ig.game.O5442&&ig.game.portaller.O4154(ig.game.O5442);else if(b.length>=c&&b.length<=d||ig.game.O172.O4238(b))if(a||!ig.game.settings.guardToTeleports)this.O1410(b);else{a=ig.game.O4269.O6575.O8238();a.clickText=new UIClickText({x:0,y:0},a.O2383,a.font,"#FFFFFF",a.opacity);a.clickText.align=ig.Font.ALIGN.CENTER;
var e=this;a.clickText.onClick=function(){e.O1410(b)}}}},O1410:function(a){ig.game.isEditorHere?ig.game.portaller.O7714(a,!0):ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest(a,!0)},O5145:function(){if(0==ig.game.O4269.vel.y&&1<=this.O7267.length){if(2<=this.O7267.length)for(var a=0;a<this.O7267.length;a++)this.say("_c"+this.O7267[a]);this.O7267=[]}},O5606:function(a){a||
this.O2407();ig.game.O4269.O572=null;this.say("_nl")},O2407:function(){var a=this.O4966.slice().reverse().join("");"/"==a.substr(0,1)?(a=a.substr(1),ig.game.O6401.O1665("sees",a)):(ig.game.O6401.O1665("sees",a)||ig.game.O6401.O1665("hears",a),this.O1935(a)||ig.game.O4269.O4866("amplifies")?ig.game.O6401.O5038(ig.game.O4269,
"shouts",a.toLowerCase()):ig.game.O6401.O5038(ig.game.O4269,"says",a));ig.game.O6401.O5038(ig.game.O4269,"does",a);ig.game.motionDialog.O1951(a)},O1935:function(a){return a&&a==a.toUpperCase()&&a!=parseInt(a)&&a.match(/[a-z]/i)},O5444:function(){if(this.O3340||ig.ua.mobile)1<=this.O4966.length&&this.O4966.shift(),this.say("_~")},O2361:function(){this.O3833()?
this.say("_|"):ig.game.O7510.O7485(ig.game.O4269,!0)},O2127:function(a){if(null==this.O6259||0.25<=this.O6259.delta()){this.O6259=new ml.Timer;this.thumbing=null;var b=ig.game.O4269.O4866("amplifies");ig.game.O4269.O6575.addItem("_s"+a,b);setTimeout(function(){ig.game.O884.O5606(!0)},500)}},O8271:function(a){if(!this.O5126||1.5<=
this.O5126.delta()){this.O5126=new ml.Timer;0<=["centerTooClose","placenameAlreadyPlaced","tooManyPeopleAround","editorOnly","nonPublicAreasOnly"].indexOf(a)&&ig.game.sounds.nocando.play();var b=0<=["editorOnly","howToCollect"].indexOf(a);this.say(a,b);"tiredFromActionLessMoving"!=a&&this.say("_nl")}},say:function(a,b){this.O1706++;if(15<this.O1706)!ig.game.O6310&&(null!=ig.game.O7649.O663&&45<=ig.game.O7649.O663&&
(!ig.game.writableDialog||!ig.game.writableDialog.isOpen))&&ig.game.portaller.O7714("peacepark");else{this.thumbing=null;var c=ig.game.O4269.O4866("amplifies");ig.game.O4269.O6575.addItem(a,c);b||ig.game.O4349.O2316(a)}},thumbUp:function(){this.thumbing="up"},O2418:function(){this.thumbing="down"},O4847:function(){ig.game.O7673(!0,!0);this.O3340=!0;localStorage.ignoreWasdMovement="true"},
endFreeSpeech:function(){this.O3340&&(this.say("_nl"),this.O3340=!1,delete localStorage.ignoreWasdMovement)},O6549:function(a){return"_c"==a.substring(0,2)}})});ig.baked=!0;
ig.module("game.core.errormanager").defines(function(){window.ErrorManager=ig.Class.extend({focusDeathOn:!0,O7988:!0,O4825:null,O5839:3E3,O2053:1E4,O3988:null,O690:null,O4353:100,O6062:null,O6211:3E3,O2397:{},O7987:!1,init:function(){window.onerror=function(a,b,c,d){"string"!==typeof b&&(b="");var e=b.toLowerCase();if(0===b.indexOf("http://manyland.com/")||
0===b.indexOf("https://manyland.com/")||0===b.indexOf("http://127.0.0.1:3000/"))b="";else{if(0<=e.indexOf("ympb")||0<=e.indexOf("ps48b0f32296093349b79b6a684f1fcee35373de4e"))return;b+=" | "}a=String(a);0<=a.indexOf("SyntaxError: Unexpected token ")&&(a="Uncaught SyntaxError: Unexpected token [token e.g. ^, ?, o, b, ), ... omitted to bundle error msg]");c=a+" | "+b+"v "+ig.game.version+", line "+c+", pos "+d;a=ig.game&&ig.game.O4269&&ig.game.O4269.screenName;b=ig.game.errorManager&&ig.game.errorManager.O8442();
d=-1!=window.location.href.indexOf("127.0.0.1");a={user:a,debugCtx:b};ig.game.O966&&""!==ig.game.O966?a.area=ig.game.O966:ig.game.O172&&(a.area=(1==ig.game.O172.O6722?"outer ring":"inner ring")+" area "+String(ig.game.O172.currentArea));d||Raven&&Raven.captureException(c,{tags:a});ig.game.errorManager.O7973(c)};window.tabHasFocus=!0;jQuery(window).blur(function(){ig.input.actions={};ig.input.presses={};ig.input.locks={};ig.input.delayedKeyup=
{};window.tabHasFocus=!1;ig.game.errorManager.O1508()});jQuery(window).focus(function(){window.tabHasFocus=!0;ig.game.errorManager&&ig.game.errorManager.O3136()})},kicked:function(a){ig.game.debug.O8137?(window.alert("kicked"),ig.system.O3187()):(ig.game.errorManager.warn("user forwarded to space time rift page"),window.location.replace("/info-rift"+(a?"#"+a:"")))},maintenance:function(){},O7973:function(a){a&&ig.game.O1501&&console.log(a+" ["+(Date.now()-
ig.game.O1501)+"]");this.O7331();this.O1967(a)},O5208:function(a,b){this.closeSidenoteError();if(ig.game.playerDialog){var c="javascript:ig.game.playerDialog.openForPlayerId('"+b+"')",d=ig.game.strings.O4334(a),c='Oops, <a href="'+c+'">someone</a> triggered an error...   <a href="javascript:ig.game.errorManager.closeSidenoteError()">[x]</a><br/><br/>"'+ig.game.strings.replaceAll(d," | ","<br/>")+'"';jQuery('<div id="lowEmphasisWarning">'+c+"</div>").appendTo("body")}},
closeSidenoteError:function(){jQuery("#lowEmphasisWarning").remove()},O1500:function(a,b){var c=b&&b.status,d="Oops, there were loading issues ("+a+")";c&&(d+=" ["+c+"]");ig.game.errorManager.O7973(d)},O4910:function(){ig.game.debug.O8137?(window.alert("session expired (would now refresh)"),ig.system.O3187()):(console.log("Redirect - expired session"),window.location.replace("/"))},warn:function(a,b,c){if(void 0==a||null==a)a="Unspecified";ig.game.errorManager&&
ig.game.strings&&(a=ig.game.strings.replaceAll(a," ","_"));var d=ig.game&&ig.game.O4269&&ig.game.O4269.screenName,e=ig.game.errorManager&&ig.game.errorManager.O8442(),f=-1!=window.location.href.indexOf("127.0.0.1");console.warn(a);!f&&c&&(c={user:d,debugCtx:e,level:"warning"},b&&(c.itemId=b),Raven&&Raven.captureMessage("Warning: "+a,{tags:c}))},logInfo:function(a){ig.game.errorManager&&(ig.game.strings&&a)&&(a=ig.game.strings.replaceAll(a," ","_"));var b=-1!=window.location.href.indexOf("127.0.0.1"),
c=ig.game&&ig.game.O4269&&ig.game.O4269.screenName;a&&!b&&(b={user:c,level:"warning"},Raven&&Raven.captureMessage("Info: "+a,{tags:b}))},setContext:function(a){this.O2397[a]=!0},O3784:function(a){this.O2397[a]=!1;delete this.O2397[a]},O8442:function(){var a="",b;for(b in this.O2397)!0==this.O2397[b]&&(a+=b+", ");return a},O1255:function(){ig.system.O3187();jQuery("#loadingAnimation").remove()},O4924:function(){this.O6859();
this.O4824()},connectionFailureLevel3:function(a){ig.game&&ig.game.removeShroud();this.O6859();this.O8168(a);ig.game&&ig.game.errorManager.warn("Connection issue occurred connectionFailureLevel3")},O406:function(){ig.game&&ig.game.removeShroud();this.O6859();this.O8168("Wrong WS - restarting");setTimeout(function(a){console.log("Reloading - connected to wrong WS");location.reload(!0)},this.O6211);
ig.game&&ig.game.errorManager.warn("Connection issue occurred - Wrong WS")},O6005:function(){this.O260();ig.system.O670()},O7331:function(){ig.game.O4349&&ig.game.O4349.wsclose();ig.system&&ig.system.O3187();var a=document.getElementById("shroud");a&&(a.style.display="none");ig.game&&(ig.game.O1132=0);if(a=document.getElementById("loadingAnimation"))a.style.display="none";this.O6859();this.O7987=!0},O4824:function(){0==
jQuery("#suspendOverlay").length&&(jQuery('<div id="suspendOverlay" class="domElement"></div>').appendTo("body"),jQuery("#suspendOverlay").animate({opacity:".4"},1E3))},O260:function(){jQuery("#suspendOverlay").remove()},O6605:function(){iAmNotDefinedAndWillCauseAnError()},O1967:function(a){var b;void 0==a&&(a="No error string available.");b='<div id="failwhale" class="start">    <div class="introDialog">';b+='        <a id="failWhaleCloseButton" href=".">x</a>';b+=
'        <div class="header"><span class="oops">Oops...</span> there was an error.</div>';b+='        <div class="content"><div class="errorString">'+ig.game.strings.O4334(a)+"</div></div>";b+='           <div id="footer" class="footerError">';b=ig.ua.steam?b+"        Please contact us at manyland.com/support if this issue persists":b+'        Please <a href="/support" target="_blank">see here</a>. Also, <a href="/">refresh</a>.</a>';b+="        </div>";b+="    </div>";b+="</div>";jQuery(b).appendTo("body");
if(a)if(0<=a.indexOf("QuotaExceededError"))ig.game.O914.O5770();else if(0<=a.indexOf(" ws")){var c=0<=a.indexOf("ws21")?"5":"3";setTimeout(function(){window.location="/"+c},3E3)}},O8168:function(a){a='<div id="failwhale" class="start connectionIssue"><div class="introDialog">';a+='<div class="header"><span id="welcomeTo"><span class="oops">Oops...</span> there are connection problems.</div>';a+='<div class="content"><div class="errorString"></div></div>';
a+='<div id="footer" class="footerError">Does your internet work? Is it fast? If so, try a <a href="/">refresh</a>.<br/>(If this problem persists, please <a href="/support" target="_blank">see here</a>.)</div>';a+="</div>";a+="</div>";jQuery(a).appendTo("body");Boolean(ig.game.O4504)&&window.open(ig.game.O4504.alarmSongUrl,"_blank")},O6859:function(){try{ig&&(ig.game&&ig.game.writableDialog&&ig.game.writableDialog.isOpen)&&ig.game.writableDialog.close()}catch(a){}},O1508:function(){if(!ig.game.O4269||
!ig.game.O4269.attachments||!ig.game.O4269.attachments.br)if(ig.game.O4269&&ig.game.gameStartTimer&&!(1>ig.game.gameStartTimer.delta())&&!(ig.game.O4269.O2865==ig.game.O4269.O2558.CLIMBING||ig.game.O4269.standing&&2>Math.abs(ig.game.O4269.vel.y)&&2>Math.abs(ig.game.O4269.vel.x))&&this.focusDeathOn)console.log("FK"),ig.game.O4269.kill(ig.game.deathTypes.FOCUS)},O3136:function(){ig.game.O4349&&ig.game.O4349.O5499()},
pauseForMapLoad:function(){ig.system.O3187();this.O4824()},O8201:function(){ig.system.O670();this.O260()}})});ig.baked=!0;
ig.module("game.core.O1817").defines(function(){window.O7572=ig.Class.extend({achievements:[],init:function(){},O8164:function(a){ig.game.isFullAccount&&a&&(this.achievements=a)},O7783:function(){this.achievements=[]},O1425:function(){this.register(this.types.MOVED)},register:function(a,b){if(ig.game.isFullAccount){var c=this;if(-1==this.achievements.indexOf(a)){var d=14<=a&&33>=a;if(d&&!ig.ua.steam)"function"===typeof b&&b();else{this.achievements.push(a);
var e=ig.game.O7421.O1870(a);e.done(function(){if(d){var e=c.O4681(a);ig.game.steamManager.setAchievement(e,function(a){a&&console.error(a);"function"===typeof b&&b(a)})}else"function"===typeof b&&b()});e.fail(function(){"function"===typeof b&&b(Error("Request failed"))})}}else"function"===typeof b&&b()}},check:function(a){return-1!=this.achievements.indexOf(a)},O4681:function(a){var b=null,c;for(c in this.types)if(this.types[c]==a){b=c;break}return b},types:{MOVED:0,
OPENED_CHNG_BODY:4,OPENED_PEOPLE:5,PASSED_CTEST:6,ISSUED_CTEST:7,ADDED_SNAPSHOT:8,TELEPORTED:9,DID_INWORLD_BUILD:10,DID_INWORLD_REMOVE:11,USED_MEET:12,TRIGGERED_WELCOME_INVITATION:13,SAVED_CREATION:14,CREATED_AREA_SNAPSHOT:15,USED_FILL_BUILD:16,SAVED_CLONED_CREATION:17,SAW_FRIEND_ON_FRIENDS_LIST:18,SAVED_SPECIFIC_INTERACTING:19,CHANGED_BODY:20,SAVED_WRITABLE_COMMENT:21,SAVED_SPECIFIC_FLYING_MOUNT:22,USED_MOVE_BACKWARDS_BOOST:23,USED_ALTERNATIVE_COLORS_VIEW:24,SEARCHED_IN_BIN:25,CONSUMED_HOT_EDIBLE:26,
CAUGHT_ITEM_FROM_ITEM_THROWER:27,PLAYED_CHORD_WITH_KEYS:28,PLACED_FILL_LIGHT:29,ATTACHED_MOTION:30,SAT_DOWN_IN_BUSY_CREATED_AREA:31,PLACED_SOMETHING_IN_GRID_HOLDER:32,TELEPORTED_HOME:33,SOLVED_BASE_POST_KEY:34,DID_CREATE_AREA:35,BLOCKED_AD:36,SAW_DIALOG_REVIEW_MOBILE:37,SAW_DIALOG_REVIEW_STEAM:38,SAW_DIALOG_MOBILE_VERSION_AVAILABLE:39}})});ig.baked=!0;
ig.module("game.core.O3528").defines(function(){window.O7590=ig.Class.extend({x:0,y:0,O7409:null,O2674:null,init:function(a,b){this.x=a;this.y=b;this.O2674=ig.game.O5405.getImage(ig.game.O5405.O2674);setTimeout(function(){ig.system.running&&(ig.game.O4269&&"undefined"!==typeof ig.game.O4269.rank)&&ig.game.O4132.getFreshRank()},5E3);if(ig.game.O4269&&ig.game.isFullAccount&&!this.O7409){var c=1==ig.game.O4269.rank?
0.5:20;ig.game.O4932&&1>c&&(c=1);this.O7409=setInterval(function(){ig.system.running&&(ig.game.O4269&&"undefined"!==typeof ig.game.O4269.rank)&&ig.game.O4132.getFreshRank()},parseInt(6E4*c))}},O4115:function(a){this.rank=a},O2502:function(a){return void 0==ig.game.O4269.rank||null==ig.game.O4269.rank||ig.game.O4269.rank<a?(this.O2959(),!1):!0},O1198:function(a){return ig.game.O4269.rank<a?!1:!0},
getFreshRank:function(){var a=this;ig.game.O7421.O6495(this).done(function(b){ig.game.didSomeoneLogoutWhileBeingSoftbannedRecently()&&(b=0);b>ig.game.O4269.rank?ig.game.O876||(ig.game.O3329=b,ig.game.O4269.rank=b,ig.game.O4349.O4231()):b<ig.game.O4269.rank&&(ig.game.O3329=b,ig.game.O4269.rank=b,ig.game.O4349.O4231(),0==b&&a.reactToSoftBan());ig.game.bottomMenu&&ig.game.bottomMenu.showFlagsAlertIfNeeded()})},
reactToSoftBan:function(){ig.game.O7510.O6068(ig.game.O4269,!0);ig.game.O4269.O2741();ig.game.O7510.O7069(ig.game.O4269,ig.game.O7510.slots.BODY,!0)},O3829:{FREE_SPEECH_SPEAK:1,FREE_SPEECH_HEAR:0,CREATE:1,EDIT_MAP:1,VOTE:1,REPORT_PERSON:1},O569:function(){0==ig.game.O4269.rank&&(this.x=ig.game.topLeftUIPos.x,ig.system.context.globalAlpha=ig.game.bottomMenu.alpha,ig.game.O5405.draw(this.x+4,
this.y,ig.game.bottomMenu.alpha,ig.game.O5405.rank0),ig.system.context.globalAlpha=1,this.O2674.draw(this.x+10,this.y-3))},O2959:function(){ig.game.isFullAccount&&(ig.game.O4269&&0>=ig.game.O4269.rank?this.O1730():ig.game.alertDialog.O1846("Please wait until later before using this"))},O1730:function(){if(ig.game.alertDialog){var a;a='<p>Oops, you may have received too many flags by other long-term manyzens and are temporarily locked. The first lock fades out after some time, the second lock takes longer. Please check the <span class="pseudoLink" onclick="ml.Misc.openUrl(\'//manyland.com/info#etiquette\')">etiquette and terms</span>. ';
ig.ua.steam&&(a+=" Please also contact us at <strong>we@manyland.com</strong> if you have any questions. ");ig.game.alertDialog.open(a+"Thanks!</p>",!0)}}})});ig.baked=!0;
ig.module("game.core.searchquery").defines(function(){window.SearchQuery=ig.Class.extend({getNormalized:function(a){if(a){var b=[" and "," or "];a=(" "+a+" ").toLowerCase();a=ig.game.strings.replaceAll(a,"-"," ");a=ig.game.strings.replaceAll(a,"in:bin","in bin");var c=0<=a.indexOf('"');a=a.replace(/[^0-9a-z? ]/g,"");a=ig.game.strings.replaceAll(a,"in bin","in:bin");0<=a.indexOf("in:bin")&&0<=a.indexOf("by me")&&(a=ig.game.strings.replaceAll(a,"by me"," "));for(var d=0;d<b.length;d++)a=ig.game.strings.replaceAll(a,
b[d]," ");a=ig.game.strings.replaceAll(a,"  "," ");ig.game.O4269&&ig.game.O4269.screenName&&(a=ig.game.strings.replaceAll(a," by me "," u:"+ig.game.O4269.screenName+" "));a=ig.game.strings.replaceAll(a," by "," u:");c||(a=this.convertToTypeSearchIfNeeded(a,"t:"));a=ig.game.strings.trim(a);a=ig.game.strings.replaceAll(a,"  "," ");a=a.split(" ");a=this.O4663(a,"u:");a.sort(function(a,b){return 0<=a.indexOf(":")});a=a.join(" ");a=ig.game.strings.trim(a);0<=
a.indexOf("in:bin")&&ig.game.O4803.register(ig.game.O4803.types.SEARCHED_IN_BIN);ig.game.universeSearchChecked&&(a+=" in:universe");0<=a.indexOf("in:universe")&&!ig.game.hasMinfinity&&(a=ig.game.strings.replaceAll(a,"in:universe",""))}return a},O4663:function(a,b){for(var c=[],d=0;d<a.length;d++)if(0===a[d].indexOf(b)){console.log("now merging remainder");for(var e=a[d],d=d+1;d<a.length;d++)e+="___"+a[d];c.push(e);break}else c.push(a[d]);return c},
convertToTypeSearchIfNeeded:function(a,b){for(var c=this.O798(),c=this.O3033(c),d=0;d<c.length;d++){var e=c[d].title,e=e.toLowerCase(e),e=ig.game.strings.replaceAll(e,"-"," "),e=e.replace(/[^0-9a-z? ]/g,""),f=c[d].key;if(f&&(a=ig.game.strings.replaceAllWords(a,e,b+f),-1==ig.game.strings.trim(a).indexOf(" ")))for(var e=this.O3060(e),g=0;g<e.length;g++)a=ig.game.strings.replaceAll(a,e[g],b+f)}return a},O798:function(){var a=
[],b;for(b in window.Item.prototype.BASE_TYPES){var c=window.Item.prototype.BASE_TYPES[b],c=c.verbose?c.verbose:c.name,c=c.toLowerCase();a.push({key:b,title:c})}return a},O3033:function(a){a.sort(function(a,c){return a.title.length>c.title.length?-1:1});return a},O3060:function(a){var b=[],c={climbable:["climb","ladder"],"flipping living":["living"],body:["skin"],crumbling:["crumbler","crumbles","crumble"],pushing:["pushing","pushes","pushy","push"],"holdable item":["holdable",
"item"],"one-way":["oneway"],bouncy:["bouncey","bounces"],slidey:["slides","slidy"],"top light":["light gradient","gradient light"],mountable:["mount"],"flying mountable":["flying"],"place name":["place"],liquid:["water"],activator:["activater","button"],"open on activate":["opens","open"],wearable:["wears","wear"],transporting:["transport"]};c[a]&&(b=c[a]);return b}})});ig.baked=!0;
ig.module("game.core.strings").defines(function(){window.Strings=ig.Class.extend({arrows:{left:"&#9664;",up:"&#9650;",right:"&#9654;",down:"&#9660;"},init:function(){ig.ua.iOS&&(this.arrows.left="&lt;",this.arrows.right="&gt;")},O5728:function(a){var b=a;if(1E3<=a){for(var b=Math.floor((""+a).length/3),c="",d=2;1<=d&&!(c=parseFloat((0!=b?a/Math.pow(1E3,b):a).toPrecision(d)),3>(c+"").replace(/[^a-zA-Z 0-9]+/g,"").length);d--);0!=c%1&&c.toFixed(1);b=c+["","k","m","b","t"][b]}if(void 0==b||
null==b)b="";return b.toString()},O4733:function(a){return parseInt(a).toLocaleString()},O652:function(a,b){var c="";a&&b&&(c=Math.floor(((new Date(b)).getTime()-(new Date(a)).getTime())/1E3),c=this.O3807(c));return c},O5864:function(a,b,c){var d="";a&&(a=Math.floor((Date.now()-a.getTime())/1E3),d=this.O3807(a,b,c));return d},O1466:function(a,b,c){var d="";a&&(a=Math.floor((Date.now()-(new Date(a)).getTime())/1E3),
d=this.O3807(a,b,c));return d},O3807:function(a,b,c){var d="";void 0==c&&(c="");if(0>a)return"";d=a+c+this.O7398("sec",a);if(60<=a&&(a=Math.floor(a/60),d=a+c+this.O7398("min",a),60<=a&&(a=Math.floor(a/60),d=a+c+this.O7398("hr",a),24<=a))){a=Math.floor(a/24);if(b)return d=this.O5728(Math.round(a))+" "+this.O7398("day",a);d=a+c+this.O7398("day",a);30.44<=a&&(b=Math.floor(a/30.44),d=b+c+this.O7398("month",
b),12<=b&&(d=Math.floor(b/12),d=d+c+this.O7398("year",d)))}return d+" ago"},O7398:function(a,b){return 1>=b?a:a+"s"},trim:function(a){a&&(a=a.replace(/^\s+|\s+$/g,""));return a},O1288:function(a,b,c){return this.O2833(a,b,c)},O2833:function(a,b,c){if(null!=a&&void 0!=a&&"string"==typeof a){if(void 0===b||null==b)b=10;if(void 0===c||null==c)c=!1;if(c&&a.length-2>b||!c&&a.length>b)a=a.substr(0,b-2)+".."}else a="";return a},O4334:function(a){a=
String(a);a=this.replaceAll(a,"&","&amp;");a=this.replaceAll(a,'"',"&quot;");a=this.replaceAll(a,"'","&#39;");a=this.replaceAll(a,"<","&lt;");return a=this.replaceAll(a,">","&gt;")},O2390:function(a){a=ig.game.strings.replaceAll(a,"https://","//");return a=ig.game.strings.replaceAll(a,"http://","//")},O4187:function(a){a&&(a=a.replace(/((https?:\/\/)(manyland\.com\/)([-a-zA-Z0-9]*))/ig,function(a,c,d,e,f){c="";a=ig.game.strings.O2390(a);e=f.length>=
ig.game.areaDialog.O2499&&0!==f.toLowerCase().indexOf("info")&&"support"!=f.toLowerCase();d=ig.game.O172.O4238(f);if(e||d){a=a.toLowerCase();e="";d?e=d=ig.game.staticResourcePrefix+"media/ring-thumb/"+ig.game.strings.O4334(f)+".png":(e=ig.game.strings.replaceAll(f,"-","_"),e=e.toLowerCase(),d=ig.game.O3754.O3190(e),e=d+"?r="+ig.game.O5167(1E6,9E6));var g=ig.game.staticResourcePrefix+"media/empty-area-thumb.png?v="+ig.game.version;
console.log("fullUrl",a);c+=' <a href="'+ig.game.strings.O4334(a)+'"><img src="'+ig.game.strings.O4334(e)+'" alt="" class="areaThumb" oncontextmenu="window.open(\''+ig.game.strings.O4334(d)+"')\" onerror=\"this.onerror=null;this.src='"+g+"';\" /></a> ";c+='<a href="'+ig.game.strings.O4334(a)+'">manyland.com/'+ig.game.strings.O4334(f)+"</a> "}else c=a;return c}));return a},O4621:function(a,b,c){0<=a.indexOf("/#")&&(c=!1);c&&0<=a.indexOf("://manyland.com/")&&(c=!1);return a=
a.replace(/(\s|^)(https?:\/\/(\S+))(?![^<>]*>)/ig,function(a,b,f,g,h){a=25;ig.ua.phone&&ig.system.height>=ig.system.width&&(c=!0,a=18);g="ml.Misc.openUrl('"+ig.game.strings.O4334(f)+"')";f=ig.game.strings.replaceAll(f,"https://www.","");f=ig.game.strings.replaceAll(f,"http://www.","");f=ig.game.strings.replaceAll(f,"https://","");f=ig.game.strings.replaceAll(f,"http://","");c&&(f=ig.game.strings.O2833(f,a));f=ig.game.strings.O4334(f);return 0<=f.indexOf("&amp;lt;")||0<=f.indexOf("&amp;gt;")||
0<=f.indexOf("[")||0<=f.indexOf("]")?b+"":b+'<span class="pseudoLink" onclick="'+g+'">'+f+"</span>"})},O6033:function(a,b,c){return a=a.replace(/(\s|^)(writable:\/\/(\S+))(?![^<>]*>)/ig,function(a,b,c,g,h){a="";c=ig.game.strings.replaceAll(c,"writable://","");c=c.split("/");2==c.length&&(ig.game.validations.O7613(c[0])&&ig.game.validations.O7613(c[1]))&&(a="'"+ig.game.strings.O4334(c[0])+"'",c="'"+ig.game.strings.O4334(c[1])+"'",a=b+'<span class="pseudoLink" onclick="'+
("ig.game.writableDialog.O2958("+a+","+c+")")+'">Link</span>');return a})},O6547:function(a){a&&(a=a.replace(/(https?:\/\/i\.manyland\.com\/[a-zA-Z0-9]*\.png)/ig,function(a){return ig.ua.firefox?'<img src="'+a+'" alt="" onload="'+("this.width = this.naturalWidth * "+ig.system.scale+";this.height = this.naturalHeight * "+ig.system.scale)+'" class="pixelPerfectResize"/>':'<img src="'+a+'" alt="" style="'+("zoom: "+ig.system.scale)+'" class="pixelPerfectResize"/>'}));
return a},replaceAll:function(a,b,c){b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return a.replace(RegExp(b,"g"),c)},replaceAllCaseInsensitive:function(a,b,c){b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return a.replace(RegExp(b,"ig"),c)},O2060:function(a,b,c){b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return a.replace(RegExp(b),c)},replaceAllWords:function(a,b,c){return a.replace(RegExp("\\b"+b+"\\b","g"),c)},O948:function(a,b){return RegExp("(\\b"+
b+"\\b)").test(a)},O2708:function(a){a=a.replace(/([a-z])([A-Z])/g,"$1 $2");return a.toLowerCase()},O3620:function(a){return a.trim().toLowerCase().replace(/\s(.)/g,function(a,c){return c.toUpperCase()})},contains:function(a,b){for(var c=!1,d=0;d<b.length;d++)if(0<=a.indexOf(b[d])){c=!0;break}return c},O4423:function(a,b){var c=[a];if(0<=a.indexOf("\r"))c=a.split("\r");else if(a.length>=b&&-1==a.indexOf(" "))c=[this.O2833(a,b-2)];else if(a.length>=b-
2&&-1!=a.indexOf(" ")&&(c=a.split(" "),3<=c.length)){for(var c=Math.floor(a.length/2),d=0,e=0,f=c;0<f;f--)if(" "==a.charAt(f)){d=f;break}for(f=c+1;f<a.length;f++)if(" "==a.charAt(f)){e=f;break}c=Math.abs(c-d)<Math.abs(c-e)?d:e;c=[a.substr(0,c).trim(),a.substr(c).trim()]}return c},O1848:function(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},O2213:function(a){0===a.indexOf("manyland.com/")&&(a="https://"+a);a=ig.game.strings.replaceAll(a,
"www.manyland.com","manyland.com");a=ig.game.strings.replaceAll(a,"\rmanyland.com/","\rhttps://manyland.com/");return a=ig.game.strings.replaceAll(a," manyland.com/"," https://manyland.com/")},O522:function(a,b,c){ig.game.debug.O8137&&(console.log("---- O522 before ----"),console.log(a));a=this.O8160(a);a=this.replaceAll(a,"\r\n","\r");a=this.replaceAll(a,"\n","\r");a=this.replaceAll(a,"%30"," [chrome bug trigger string auto-removed] ");
a=this.O4317(a);a=this.replaceAll(a,"javascript:","");a=this.replaceAll(a,"onclick:","");a=this.replaceAll(a,"onmouseover:","");a=this.O4334(a);a=this.O1387(a);a=this.O789(a);ig.game&&(ig.game.settings&&!ig.game.settings.photosensitiveGuard)&&(a=this.convertImageUrlsToInlineImages(a));var d=a=this.O4081(a);a=this.convertSoundcloudUrlsToPlayableSounds(a);d=d!=a;a=this.O2213(a);a=this.O4187(a);a=this.O8415(a);
d||(a=this.O4621(a,!0,!0));a=this.O6033(a);a=this.replaceAll(a,"<a href=",'<a rel="noreferrer nofollow" href=');a=this.replaceAll(a,"\r","<br/>");a=this.O4730(a,b,c);ig.ua.phone&&ig.system.height>=ig.system.width||(a=this.convertIndentionToPreformatted(a));a=this.O2258(a);a=this.O2723(a);a=this.replaceAll(a,"<em>blank","_blank");a=this.replaceAll(a,"</em>blank","_blank");a=this.replaceAll(a,"src='//snapshot.manyland.com/","src='//d1olji6pwd1iw7.cloudfront.net/");
a=this.replaceAll(a,"src='http://snapshot.manyland.com/","src='//d1olji6pwd1iw7.cloudfront.net/");a=this.replaceAll(a,"src='https://snapshot.manyland.com/","src='//d1olji6pwd1iw7.cloudfront.net/");a=this.O5695(a);ig.game.debug.O8137&&(console.log("---- O522 after ----"),console.log(a));return a},O4317:function(a){a=this.replaceAllCaseInsensitive(a,"we@manyland.com","[ https://manyland.com/support ]");a=this.replaceAllCaseInsensitive(a,
"we[at]manyland.com","[ https://manyland.com/support ]");a=this.replaceAllCaseInsensitive(a,"we @ manyland.com","[ https://manyland.com/support ]");a=this.replaceAllCaseInsensitive(a,"we@ manyland.com","[ https://manyland.com/support ]");a=this.replaceAllCaseInsensitive(a,"we @manyland.com","[ https://manyland.com/support ]");a=this.replaceAllCaseInsensitive(a,"philipp@manyland.com","[ https://manyland.com/support ]");a=this.replaceAllCaseInsensitive(a,"philipp[at]manyland.com","[ https://manyland.com/support ]");
a=this.replaceAllCaseInsensitive(a,"scott@manyland.com","[ https://manyland.com/support ]");return a=this.replaceAllCaseInsensitive(a,"scott[at]manyland.com","[ https://manyland.com/support ]")},O2723:function(a){return a.replace(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])(?![^<>]*>)/g,'<span class="emoji">$1</span>')},O5695:function(a,b){void 0===b&&(b=50);for(var c="",d=!1,e=0,f=!1,g=0;g<a.length;g++){var h=
a[g];switch(h){case "<":if(d){f=!0;break}d=!0;break;case ">":d=!1;e=0;break;case " ":e=0}c+=h;e++;e>=b&&!d&&(e=0,c+=" ")}f&&(c=a);return c},O2258:function(a){var b="",c=!1,d=!1;if(a)for(var e=[8217,8220,8221],f=0;f<a.length;f++){var g=a.substr(f,1);if(d)">"==g&&(d=!1);else if(d="<"==g,!d){var h=g.charCodeAt();255<h&&-1==e.indexOf(h)?c||(g='<span class="nonDefaultFont">'+g,c=!0):c&&(g="</span>"+g,c=!1)}b+=g}return b},O4730:function(a,b,c){if(a){a=a.split("<br/>");c="font-size: 130%; padding-bottom: 3px; padding-top: 45px; border-bottom: "+
ig.system.scale+"px solid rgb("+c+")";for(b=a.length-2;0<=b;b--)0===a[b+1].indexOf("===")&&(a[b]='<div style="'+c+'">'+a[b]+"</div>",a.splice(b+1,1));a=a.join("<br/>")}return a},O1387:function(a,b){a&&(b=!!b,a=this.replaceAll(a,"\\*","[[asterisk]]"),a=this.replaceAll(a,"\\_","[[underscore]]"),a=this.replaceAll(a,"\\~","[[tilde]]"),a=this.replaceAll(a,"\\^","[[caret]]"),a=a.replace(/\*\*([^*]+?)\*\*/g,'<strong style="font-size: 115%">$1</strong>'),a=a.replace(/\_([^*]+?)\_/g," <em>$1</em>"),
a=a.replace(/>\_([^*]+?)\_/g,"><em>$1</em>"),a=a.replace(/\~\~([^*]+?)\~\~/g,"<del>$1</del>"),a=a.replace(/\^\^([^*]+?)\^\^/g,'<span class="lessImportantText">$1</span>'),a=this.O4433(a),b||(a=this.O6069(a),a=this.convertAlignTags(a),a=this.O4310(a)),a=this.replaceAll(a,"[[caret]]","^"),a=this.replaceAll(a,"[[tilde]]","~"),a=this.replaceAll(a,"[[underscore]]","_"),a=this.replaceAll(a,"[[asterisk]]","*"));return a},O4433:function(a){if(a){for(var b="black white gray red green blue cyan brown orange pink purple teal yellow coral olive chocolate lime magenta navy plum salmon tan wheat silver gold crimson beige transparent".split(" "),
c=0;c<b.length;c++){var d=b[c],e="-"+d+"-([^*]+?)-"+d+"-",e=RegExp(e,"gi");a=a.replace(e,'<span style="color: '+d+'">$1</span>')}for(c=0;c<b.length;c++)d=b[c],e="-"+d+" back-([^*]+?)-"+d+" back-",e=RegExp(e,"gi"),a=a.replace(e,'<span style="background-color: '+d+'">$1</span>')}return a},O6069:function(a){if(a)for(var b=5;355>=b;b+=5)a=a.replace(RegExp("-rotate"+b+"-([^*]+?)-rotate"+b+"-","gi"),'<span style="'+("display: inline-block; transform: rotate("+b+"deg)")+'">$1</span>');return a},
convertAlignTags:function(a){if(a)for(var b=["center","right"],c=0;c<b.length;c++){var d=b[c];a=a.replace(RegExp("-"+d+"-([^*]+?)-"+d+"-","gi"),'<div style="text-align: '+d+'">$1</div>')}return a},O4310:function(a){if(a)for(var b=["blink","blinksoft","glow","case"],c=0;c<b.length;c++){var d=b[c],e=RegExp("-"+d+"-([^*]+?)-"+d+"-","gi"),f=d;switch(d){case "blink":case "blinksoft":case "glow":f=d+"Animation";break;case "case":f="mixedCase"}a=a.replace(e,'<span class="'+f+'">$1</span>')}return a},
convertImageUrlsToInlineImages:function(a){var b="<img src='$1' alt='' class='commentInlineImage'/>";ig.ua.mobile||(b='<span onclick="ml.Misc.openUrl(\'$1\')" class="pseudoLink">'+b+"</span>");a=a.replace(/(https?:\/\/(i.imgur.com|snapshot.manyland.com)\/(\w+)\.(png|jpg|gif))/g,b);a=a.replace(/(https?:\/\/(imgur.com)\/(\w+))/g,"<img src='http://i.imgur.com/$3.png' alt='' class='commentInlineImage' rel='noreferrer' onclick=\"ml.Misc.openUrl('http://i.imgur.com/$3.png')\" />");return a=a.replace(/(https?:\/\/cdn.discordapp.com\/attachments\/(\w+\/\w+\/\w+)\.(png|jpg|gif))/g,
"<img src='https://cdn.discordapp.com/attachments/$2.$3' alt='' class='commentInlineImage' rel='noreferrer' onclick=\"ml.Misc.openUrl('https://cdn.discordapp.com/attachments/$2.$3')\" />")},O4081:function(a){return a=a.replace(/(?:https:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?((\w|-){11})/g,'<iframe id="videoIframe" width="96%" height="315" src="//www.youtube.com/embed/$1?rel=0&amp;autohide=1&amp;showinfo=0" frameborder="0" allowfullscreen sandbox="allow-scripts allow-same-origin allow-pointer-lock" ></iframe>')},
convertSoundcloudUrlsToPlayableSounds:function(a){return a=a.replace(/(\s|^)(https?:\/\/soundcloud\.com(\S+))(?![^<>]*>)/ig,function(a){var c="";a===ig.game.strings.O4334(a)?(a=ig.game.strings.replaceAll(a,"\r",""),a=a.trim(a),c=' <span class="pseudolink writableSoundLink" onclick="'+("ml.Misc.O6896('"+a+"','"+ig.game.O4269.O2507+"',null,true)")+'">'+a+"</span> "):c=a;return c})},O8415:function(a){return a=a.replace(/(https?:\/\/manyland\.com\/\#(\w+))/i,'<a href="#$2" onclick="ig.game.O5051.O5184(\'$2\')">$1</a>')},
convertIndentionToPreformatted:function(a){if(a){a=a.split("<br/>");for(var b=0;b<a.length;b++){var c=a[b];0===c.indexOf("    ")&&72>=c.length&&(a[b]="<pre>"+c.substr(2)+"</pre>")}a=a.join("<br/>");a=this.replaceAll(a,"</pre><br/><pre>","\r");a=this.replaceAll(a,"</pre><br/><br/><pre>","\r\r")}return a},O789:function(a){var b={spoiler:"spoiler spoilers spoiler: spoilers: SPOILER Spoiler".split(" "),more:["more","more:","MORE","MORE:"],show:["show","show:","SHOW","SHOW:"]},c;for(c in b)for(var d=
b[c],e=0;e<d.length;e++){var f=d[e],g=a.indexOf("\r"+f+"\r");-1==g&&0===a.indexOf(f+"\r")&&(g=0);0<=g&&(g="spoiler"+ig.game.O5167(1,1E8),a=a.replace(f+"\r",'<span class="spoilerLink pseudolink" onclick="'+("jQuery('#"+g+"').slideToggle()")+'">'+c+" "+this.arrows.down+'</span>\r<div class="spoiler" id="'+g+'">'),a+="\r</div>")}return a},O6443:function(a){if(a&&"string"===typeof a){var b=a.toLowerCase();if(0<=b.indexOf("suicide")||0<=b.indexOf("kill myself"))a+="<br/>"+
this.O917()}return a},O917:function(a){void 0===a&&(a="font-size: 85%; opacity: .8");return'<span class="selfHelpInfo" style="'+a+'">[Google: <a href="https://www.google.com/?#q=suicide+hotline" target="_blank">suicide hotline</a> | International: <a href="http://befrienders.org" target="_blank">befrienders.org</a> | USA: <a href="http://suicidepreventionlifeline.org" target="_blank">SuicidePreventionLifeline.org</a>] </span>'},toUpperCaseFirst:function(a){return a.charAt(0).toUpperCase()+
a.slice(1)},O5151:function(a){var b="";void 0===a&&(a=16);for(var c=0;c<a;c++)b+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(ig.game.O5167(0,61));return b},O3410:function(a){a=this.O535(a);return a=this.O4099(a)},O535:function(a){return a.replace(/\/\*([\s\S]*?)\*\//g,"")},O4099:function(a){a=a.split("\n");for(var b=0;b<a.length;b++){var c=a[b];if(0<=c.indexOf("//")){var c=
ig.game.strings.replaceAll(c,"://","[[urlIndicator]]"),d=c.indexOf("//");0<=d&&(c=c.substr(0,d),c=ig.game.strings.replaceAll(c,"[[urlIndicator]]","://"),a[b]=c)}}return a.join("\n")},O3802:function(a,b,c){var d="",e=a.indexOf(b);0<=e&&(e+=b.length,b=a.indexOf(c,e+1),b>e&&(d=a.substring(e,b)));return d},O428:function(a){var b="";if(a&&"string"==typeof a)for(var c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);32<=e&&126>=e&&(b+=d)}return b},O7219:function(a){var b=
this;return a=a.replace(/([0-9]{4}\-[0-9]{2}\-[0-9]{2}\s[0-9]{2}\:[0-9]{2}\s\M\T)/gi,function(a,d){var e=b.O1127(a),f;f=""+('<span class="pseudolink manylandTime" onclick="ig.game.writableDialog.loadCalendar()">'+ig.game.strings.O4334(a)+"</span> ");return f+='<span class="yourTime">('+b.pad(e.getHours())+":"+b.pad(e.getMinutes())+" your time)</span>"})},O1127:function(a){a=a.substr(0,16);return new Date(Date.UTC(parseInt(a.substr(0,4)),parseInt(a.substr(5,
2)-1),parseInt(a.substr(8,2)),parseInt(a.substr(11,2)),parseInt(a.substr(14,2))))},pad:function(a){1==String(a).length&&(a="0"+String(a));return a},O16:function(a){return 9>=a?"0"+a.toString():a},O6583:function(a){a||(a=new Date);return a.getFullYear()+"-"+this.pad(a.getMonth()+1)+"-"+this.pad(a.getDate())},O6374:function(a){a=a?a:new Date;return a.getFullYear()+"-"+this.pad(a.getMonth()+1)+"-"+this.pad(a.getDate())+" "+this.pad(a.getHours())+":"+this.pad(a.getMinutes())+
":"+this.pad(a.getSeconds())},O7082:function(a,b,c){for(var d;a!=d;)d=a,a=this.replaceAll(a,b,c);return a},O5446:function(a){var b,c={},d,e,f="",g=[],h=256;for(b=0;256>b;b+=1)c[String.fromCharCode(b)]=b;for(b=0;b<a.length;b+=1)d=a.charAt(b),e=f+d,c.hasOwnProperty(e)?f=e:(g.push(c[f]),c[e]=h++,f=String(d));""!==f&&g.push(c[f]);return g=JSON.stringify(g)},O2532:function(a,b){if(void 0==b||null==b)b=24;a=a.replace("://www.youtube.com","://youtube.com");a=a.replace("http://",
"");a=a.replace("https://","");return a=ig.game.strings.O2833(a,b,!0)},O1933:function(a){a=String(a);return Boolean(0<=a.indexOf("<")||0<=a.indexOf(">"))},O1360:function(a,b){0===a.indexOf(b)&&(a=a.substr(b.length));return a},O5466:function(a){var b=0;if(0<a.length){var c,d,e;c=0;for(e=a.length;c<e;c++)d=a.charCodeAt(c),b=(b<<5)-b+d,b|=0}return b},O2521:function(a){return Number(a).toLocaleString()},O4700:function(a,b,c){return a.substr(0,b)+
c+a.substr(b+c.length)},O8160:function(a){a=this.O7948(a,8216,"'");a=this.O7948(a,8217,"'");a=this.O7948(a,8220,'"');a=this.O7948(a,8221,'"');return a=this.O7948(a,8230,"...")},O7948:function(a,b,c){if(a&&1<=a.length)for(var d=0;d<a.length;d++)a.charCodeAt(d)==b&&(a=ig.game.strings.O4700(a,d,c));return a},O7229:function(a,b){var c=ig.game.strings.O4334(a);b||
(b="");c=ig.game.strings.O4621(c,!0);c=ig.game.strings.replaceAll(c,"\r\n","\r");c=ig.game.strings.replaceAll(c,"\n","\r");c=ig.game.strings.replaceAll(c,"\r","<br/>");return'<p style="'+b+'">'+c+"</p>"}})});ig.baked=!0;
ig.module("game.core.portaller").defines(function(){window.Portaller=ig.Class.extend({isRingPortalling:!1,O2720:null,O5185:3,O6684:!1,O4844:null,O90:3,O2166:null,O3389:1E3,init:function(){},update:function(){this.isRingPortalling&&this.O2720.delta()>this.O5185&&this.O4138();this.O6684&&this.O4844.delta()>this.O90&&this.O1005()},
O5468:function(a,b,c){a&&(this.O62=ig.game.O7715.O2398(a.x,a.y),ig.game.O4349.O2947(ig.game.O4269.pos,this.O62,b,c),ig.game.O4269.pos.x=this.O62.x+6,ig.game.O4269.pos.y=this.O62.y,ig.game.O4269.vel.x=b.x,ig.game.O4269.vel.y=b.y,ig.game.O4269.O6609=c,ig.game.sounds.portallingWhoosh.play())},O8065:function(a,b,c,d){ig.game.O4349.O6014(a,
b,c,d);this.isRingPortalling=!0;this.O2720=new ml.Timer;ig.game.O4269.fallTimer=null;this.O2166=this.O3178()},O7849:function(){ig.game.O7673();ig.game.O231.O6526(this.O2166)},O4138:function(){this.isRingPortalling=!1;this.O2720=null},O4409:function(){var a;a=ig.game.O5699||!ig.game.O966?"elsewhere":ig.game.O966;
ig.game.O914.setItem("portaller_lastAreaGroupName",localStorage.getItem("portaller_currentAreaGroupName"));ig.game.O914.setItem("portaller_currentAreaGroupName",a)},O4762:function(){var a=localStorage.getItem("portaller_lastAreaGroupName");a&&("elsewhere"==a?this.startExitAreaTeleportingRequest():this.startToAreaButNotSubAreaTeleportingRequest(a))},O4154:function(a){ig.game.O4349.O5801(a);this.O6684=
!0;this.O4844=new ml.Timer;this.O2166=this.O3178()},O2880:function(a,b,c,d){ig.game.O4349.O6986(a,b,c,d);this.O6684=!0;this.O4844=new ml.Timer;this.O2166=this.O3178()},startExitAreaTeleportingRequest:function(){var a=localStorage.portaller_lastAreaGroupName;a&&0<=ig.game.O2814.indexOf(a)&&-1===ig.game.O2814.indexOf(ig.game.O966)?
this.O7714(a):(ig.game.O4349.O523(),this.O6684=!0,this.O4844=new ml.Timer,this.O2166=this.O3178())},O7714:function(a,b){ig.game.O4349.O8273(String(a),ig.game.O4269.O2507);b||(this.O6684=!0);this.O4844=new ml.Timer;this.O2166=this.O3178()},startToAreaButNotSubAreaTeleportingRequest:function(a,
b){ig.game.O4349.O8273(String(a),null);b||(this.O6684=!0);this.O4844=new ml.Timer;this.O2166=this.O3178()},O8108:function(a,b){ig.game.O4349.O8273(String(a),b);this.O6684=!0;this.O4844=new ml.Timer;this.O2166=this.O3178()},O5486:function(){ig.game.O2675=null},
acceptedForTeleport:function(a){ig.game.O7673(!1,!0);ig.game.O231.teleported(this.O2166,a)},O1005:function(){this.O6684=!1;this.O4844=null},O3178:function(){var a=jQuery.Deferred();setTimeout(function(){a.resolve()},this.O3389);return a.promise()}})});ig.baked=!0;
ig.module("game.core.O6698").defines(function(){window.O7526=ig.Class.extend({O250:!1,O5709:!1,O5680:!1,init:function(){},update:function(){this.O5680=this.O5709=this.O250=!1},O6849:function(a,b,c,d){b=b<=ig.input.mouse.y&&ig.input.mouse.y<=d;return a<=ig.input.mouse.x&&ig.input.mouse.x<=c&&b},O4290:function(){var a=!1;ig.game.O4269&&(a=this.O6849(ig.game.O4269.pos.x-
ig.game.screen.x-3,ig.game.O4269.pos.y-ig.game.screen.y-3,ig.game.O4269.pos.x+ig.game.O4269.size.x+3-ig.game.screen.x,ig.game.O4269.pos.y+ig.game.O4269.size.y-ig.game.screen.y));return a},O4678:function(a,b,c,d){return!ig.input.pressed("click")?!1:this.O6849(a,b,c,d)},O5674:function(a,b,c,d){return!ig.input.pressed("rightclick")?!1:this.O6849(a,b,c,d)},O4277:function(a,b,c){return this.O6849(a.x1+b,a.y1+c,a.x2+b,a.y2+
c)},O7014:function(a,b,c){(a=null!=a&&this.O6849(a.x1+b,a.y1+c,a.x2+b,a.y2+c))&&this.O4013();return a&&this.O5632()},O6375:function(a){this.O250=!0;a&&ig.game.sounds.click.play()},O1788:function(a){this.O5709=!0;a&&ig.game.sounds.click.play()},O4013:function(){this.O5680=!0},O5632:function(){return ig.input.pressed("click")&&!this.O250},O2757:function(){return ig.input.pressed("rightclick")&&
!this.O5709},O4009:function(a,b,c,d){return!this.O5680&&this.O6849(a,b,c,d)},O4260:function(){return{x:ig.input.mouse.x+ig.game.screen.x,y:ig.input.mouse.y+ig.game.screen.y}}})});ig.baked=!0;
ig.module("game.core.O5421").defines(function(){window.O2640=ig.Class.extend({lastPressedControlTimer:null,O3425:!1,O5918:1,O5328:function(a){var b=ig.game.O4269,c=null;!this.O3550(b)&&(!this.O243(b)&&!b.O2031("actionable"))&&(c=this.O1966());if(c)c.O1291&&ig.game.O4803.register(ig.game.O4803.types.CAUGHT_ITEM_FROM_ITEM_THROWER),
this.O107(c,c.itemId,b),ig.game.O4349.O4489(c.originatorId,c.throwId);else if(!a)if((a=this.O4992())&&!("BRAIN"==a.base&&b.attachments.br)){if((c=this.O969(a.base))&&!ig.game.settings.getGlue(c))b.O5989=null,this.O4416(b,c,a.thingTypeId,null,a.base),c==this.slots.MOUNTABLE&&this.O5199(a)}else if(this.O7120(b))if(b.attachments.h&&0<=["STACKHOLD","EQUIPMENT","CONSUMAB",
"LINER"].indexOf(b.attachments.h.base)&&ig.game.O6401.O4380()){a=b.attachments.h.id;var d="EQUIPMENT"==b.attachments.h.base?"touches":"gets",c="EQUIPMENT"==b.attachments.h.base?ig.game.O6401.O1665(d,b.attachments.h.name,b.attachments.h):ig.game.O6401.O1665(d,b.attachments.h.name);if("gets"==d&&b.attachments.h.id==a)if(c)this.O7485(b,!0);else if("CONSUMAB"==b.attachments.h.base)this.O7485(b);else{if("STACKHOLD"==
b.attachments.h.base||"LINER"==b.attachments.h.base)(a=ig.game.O6401.O5099())&&a[0].O276==b.attachments.h.interactingId?this.O7485(b):"STACKHOLD"==b.attachments.h.base&&this.O3769(b,b.attachments.h.name,a)}else b.O2264(!0)}else if(b.attachments.h&&("EQUIPMENT"==b.attachments.h.base||0<=b.attachments.h.name.indexOf("sword")))(!ig.game.O8430.O7339(b.attachments.h.attributes)||
this.O8211())&&b.O2264();else if(this.O3550(b)){if(!ig.game.O8430.O7339(b.attachments.h.attributes)||this.O8211())this.O42(b),this.O1353(b),this.O826(b),b.attachments.h&&"CONSUMAB"==b.attachments.h.base&&ig.game.O6401.O5038(b,"consumes",b.attachments.h.name)}else if(this.O243(b)){if(a=
b.O2031("slowerToUse")?0.85:0.25,(c=b.attachments&&b.attachments.w?b.attachments.w.emitsId:null)&&(!b.O910||b.O910.delta()>=a)){var e=ig.game.O4961.getItemBasic(c,"attachment_manager action_press"),f=this;e.imagesBeingGenerated.done(function(){if(b&&b.attachments.w&&b.attachments.w.dynathingEntity&&b.attachments.w.dynathingEntity.subEntities.e1){var a=e.attributes?e.attributes:{};if(b.attachments.w&&b.attachments.w.dynathingEntity&&!ig.game.O8430.O7339(a)||
f.O8211())f.O849(b),b.attachments.w.dynathingEntity&&b.attachments.w.dynathingEntity.O7933(!0)}})}}else b.O2031("actionable")&&b.attachments.w.dynathingEntity?b.attachments.w.dynathingEntity.O7933(!0):(a=this.O7485(b),b.O4102&&(a==this.slots.HOLDABLE&&b.O5989)&&(ig.game.O7510.O2135(b,a,b.O5989),ig.game.O4349.O3168(a,b.O5989)),
b.O5989=null);else b.O2264()},O3769:function(a,b,c){var d=-10>a.vel.y,e=90<=Math.abs(a.vel.x);if(d||e||"INDIVIDUALS"!=ig.game.O2714)this.O7485(a);else{b=0<=b.indexOf("bomb")||0<=b.indexOf("rock")||0<=b.indexOf("stone")||0<=b.indexOf("ball");d=!1;if(c)for(e=0;e<c.length;e++){var f=c[e];if(f&&f.attributes&&!f.attributes.nonFlipping){d=!0;break}}f=!1;if(c)for(e=0;e<c.length&&!(f=c[e],f=15>=Math.abs(f.pos.x-a.pos.x)?!0:f.pos.x<
a.pos.x&&!a.O6609||f.pos.y>a.pos.y&&a.O6609);e++);(b&&!d||!f)&&this.O7485(a)}},O8211:function(){var a=!0;"INDIVIDUALS"!=ig.game.O2714&&((a=ig.game.O172.O3820())&&ig.game.O4269.say(ig.game.O172.O7190()),a=!a);return a},O1353:function(a){var b=this.O5833(a),c=b.slowerToUse?0.85:0.25;if(!a.O910||a.O910.delta()>=c){var c={},
d=a.O4354();c.opp={x:Math.floor(a.pos.x-a.offset.x+d.x),y:Math.floor(a.pos.y-a.offset.y+d.y)};c.opv={x:Math.floor(a.vel.x),y:Math.floor(a.vel.y)};b.randomized&&(b.flies&&b.lightweight?c.opv.y=this.distort(c.opv.y,15):(c.opv.x=this.distort(c.opv.x,25),c.opv.y=this.distort(c.opv.y,25)));c.tid=a.O2125++;this.O5498(a,this.slots.HOLDABLE,!0,c);a.O910=new ml.Timer;b.bumpsSelf&&(a.vel.y-=ig.game.O5167(50,100),a.vel.x+=ig.game.O5167(100,150)*(a.O6609?
-1:1))}},O849:function(a,b){if(a||a.attachments||a.attachments.w){if(null===b||void 0===b)b=!0;var c=ig.game.O4961.getItemBasic(a.attachments.w.emitsId,"attachment_manager throw_emitting"),d=this;c.imagesBeingGenerated.done(function(){if(a&&a.attachments.w&&a.attachments.w.dynathingEntity&&a.attachments.w.dynathingEntity.subEntities.e1){var e=c.attributes?c.attributes:{},f={},g=a.attachments.w.dynathingEntity;f.opp={x:Math.floor(g.pos.x+g.size.x/2+g.subEntities.e1.pos.x),y:Math.floor(g.pos.y+
g.size.y/2+g.subEntities.e1.pos.y-9)};f.opv={x:Math.floor(a.vel.x),y:Math.floor(a.vel.y)};e.randomized&&(e.flies&&e.lightweight?f.opv.y=d.distort(f.opv.y,15):(f.opv.x=d.distort(f.opv.x,25),f.opv.y=d.distort(f.opv.y,25)));f.tid=a.O2125++;d.O5498(a,d.slots.WEARABLE,b,f,e);a.O910=new ml.Timer}})}},O5199:function(a){if(ig.game.O4269.rank>=this.O715(a.thingTypeId)){var b=ml.Misc.getGridNeighborOfTypes(a.O5309,["POINTER"]);b&&(ig.game.O8412(a.thingTypeId),
a=ig.game.O7715.O2398(a.O5309.x,a.O5309.y),a.x-=8,a.y-=8,ig.game.O4269.pos=a,ig.game.O4269.vel={x:0,y:0},ig.game.O4269.accel={x:0,y:0},ig.game.O4269.forceSend=!0,ig.game.O7421.O384(b.url).done(function(a){ig.game.O5051.O248OnAutoPilot(a)}))}},O3550:function(a){return a&&a.attachments&&a.attachments.h&&("EMITTER"==a.attachments.h.base||"HOOK"==a.attachments.h.base||a.attachments.h.attributes&&
(a.attachments.h.attributes.many||a.attachments.h.attributes.hook))},O243:function(a){return a&&a.attachments&&a.attachments.w&&"DYNATHING"==a.attachments.w.base&&a.attachments.w.emitsId},O4992:function(a){for(var b=null,c=["betweenDefaultAndPlayer","default","light","decoEffects"],d=0;d<c.length;d++){var e=ig.game.O413[c[d]];if(e)for(var f=0;f<e.length;f++){var g=e[f];if(!g._killed&&(g.isStack||a)&&ig.game.O4269.touches(g)&&!g.O4305){b={base:g.baseType,
thingTypeId:g.thingTypeId,O5309:g.O5309,O4917:g.O4917};break}}}return b},O1966:function(){var a=null,b=ig.game.O413.foreground;if(b)for(var c=0;c<b.length;c++){var d=b[c];if(d instanceof EntityThrownItem&&!d._killed&&0<=this.O4498.indexOf(d.O8247)&&ig.game.O4269.touches(d)&&(!d.thingTypeId||ig.game.O4269.rank>=this.O715(d.thingTypeId))){a=d;break}}return a},O4144:function(a,
b){for(var c=null,d=ig.game.O594("EntityThrownItem"),e=0;e<d.length;e++)if(d[e].originatorId==a&&d[e].throwId==b){c=d[e];break}return c},O107:function(a,b,c){this.O2135(c,this.slots.HOLDABLE,b);c.O4102&&(c.lastCatch||(c.lastCatch={}),c.lastCatch.originatorId=a.originatorId,c.lastCatch.throwId=a.throwId,ig.game.O6401.O5038(c,"catches",a.O2068));ig.game.decorator.O5087(c);ig.game.sounds.O7086(ig.game.sounds.pickup,
c,0.75);a&&a.kill()},O6011:function(a,b){ig.game.O4269.O6786()&&ig.game.O4269.lastCatch&&(ig.game.O4269.lastCatch.originatorId==a&&ig.game.O4269.lastCatch.throwId==b)&&(ig.game.O4269.attachments[this.slots.HOLDABLE]=null)},O6571:function(a,b){b||(b={});var c,d;for(d in this.slots)(c=this.slots[d])&&this.O2135(a,c,b[c],!0)},O2135:function(a,b,c,d,e,f){if(!(a.attachments[b]&&a.attachments[b].id==c||!a.attachments[b]&&
!c))if(c){var g=ig.game.O4961.getItemBasic(c,"attachment_manager set"),h=this;this.lastPressedControlTimer=null;g.imagesBeingGenerated.done(function(){g.base||ig.game.errorManager.warn("Base info still missing after image done");if((b==h.slots.WEARABLE||b==h.slots.WEARABLE_PLUS)&&null!==a.rank&&void 0!==a.rank&&a.rank<h.O5918)a.O4102&&ig.game.O884&&ig.game.O884.O8271("uprankToUse");else{a.attachments.b&&ig.game.O6401.O5038(a,
"unembodies",a.attachments.b.name);a.attachments[b]={};a.attachments[b].base=g.base;a.attachments[b].id=c;a.attachments[b].offset=ig.game.O5662(g.offset);a.attachments[b].name=g.name;a.attachments[b].attributes=g.attributes;g.specs&&(a.attachments[b].specs=g.specs);g.soundId&&(a.attachments[b].soundId=g.soundId);g.emitsId&&(a.attachments[b].emitsId=g.emitsId);e&&(a.attachments[b].interactingId=e);g.motionId&&(a.attachments[b].motionId=g.motionId);g.textSize&&(a.attachments[b].textSize=g.textSize);
f&&(!g.attributes||!g.attributes.effectsFree)&&ig.game.decorator.O7239(a);if(!d){var k="STACKHOLD LINER STACKWEAR MNTGROUND MNTAIR EQUIPMENT BRAIN".split(" ");a.attachments[b].soundId&&0<=k.indexOf(g.base)?ig.game.sounds.playIncludedSound(a,a.attachments[b].soundId):0<=["STACKHOLD","EQUIPMENT","LINER"].indexOf(g.base)&&(g.name&&0<=g.name.toLowerCase().indexOf("sword"))&&ig.game.sounds.O7005("sword_draw_2")}g.boundingBox2&&(a.attachments[b].boundingBox2=ig.game.O5662(g.boundingBox2));
g.rgb&&(a.attachments[b].rgb=g.rgb);switch(b){case h.slots.BODY:h.O1168(a,g.base,g,d);break;case h.slots.WEARABLE:case h.slots.WEARABLE_PLUS:h.O1196(a,g.base,g,b);break;case h.slots.HOLDABLE:h.O8026(a,g.base,g);break;case h.slots.MOUNTABLE:h.O4346(a,g.base,g);break;case h.slots.BRAIN:h.O3913(a,g.base,g)}}})}else this.O3306(a,b,!1,null)},O8461:function(a){return!!("EMITTER"==a.base||
"AIMABLE"==a.base||a.attributes&&a.attributes.flies&&a.attributes.lightweight&&a.attributes.many)},O1168:function(a,b,c,d){var e=b=ig.game.tileSize,f=c.img.width/ig.game.O1509!=parseInt(c.img.width/ig.game.O1509);b=c.img.width/(f?ig.game.O2565:ig.game.O1509);var e=c.img.height,g={};c=new ml.AnimationSheet(null,b,e,c.img);g.idle=new ml.Animation(c,1,[0]);g.run=new ml.Animation(c,0.15,[1,0]);g.jump=new ml.Animation(c,1,[2]);g.fall=new ml.Animation(c,
1,[3]);g.climbing=new ml.Animation(c,0.2,[4,4]);g.climbingidle=new ml.Animation(c,1,[4]);g.swimming=new ml.Animation(c,0.15,[1,0]);g.swimmingidle=new ml.Animation(c,1,[1]);g.creating=new ml.Animation(c,0.4,[5,5]);g.harm=new ml.Animation(c,1,[2]);g.blink=new ml.Animation(c,1,[f?6:7]);g.afk=new ml.Animation(c,1,[f?6:0]);g.sit=new ml.Animation(c,1,[f?0:6]);g.talk=new ml.Animation(c,1,[f?0:8]);a.attachments.b.animSheet=c;a.attachments.b.anims=g;a.attachments.b.isOld=f;b==ig.game.tileSize&&e==ig.game.tileSize?
(a.size={x:a.sizeDefault.x,y:a.sizeDefault.y},a.offset={x:3,y:3}):(a.size={x:a.sizeDefault.x,y:a.sizeDefault.y},a.offset={x:b-ig.game.tileSize+3,y:3+(e-ig.game.tileSize)},17>=b&&(a.size.x=b,11>=b&&(a.offset.x+=7)));a.offsetDefault=ig.game.O5662(a.offset);d||(a.pos.y-=e-a.sizeDefault.y);a.attachments.m&&this.setSizeAndOffsetForMountedPlayer(a);d||ig.game.O6401.O5038(a,"embodies",a.attachments.b.name);a.O4102&&(ig.game.motionDialog&&(ig.game.motionDialog.O2617=
[]),d||ig.game.O4803.register(ig.game.O4803.types.CHANGED_BODY))},O1196:function(a,b,c,d){"DYNATHING"==b?this.O5906(a,b,c,d):this.O5203(a,b,c,d)},O5906:function(a,b,c,d){c.text&&0<=c.text.indexOf("pivot")&&(a.O6609=!1);b={thingTypeId:c.id,animSheet:ig.game.entityManager.getAnimationForEntity(c,0,0),rotation:0,attributes:ig.game.O5662(c.attributes),
O3637:!0,text:c.text,givenName:c.name,soundId:c.soundId,emitsId:c.emitsId,O6257:a.O6609,O2274:a.O6609};b.attributes||(b.attributes={});d==this.slots.WEARABLE_PLUS&&(b.isWearablePlus=!0,!b.attributes.follows&&(a.O918&&a.O918.wearablePlusFollows)&&(b.attributes.follows=!0,b.attributes.closelyFollows=!1,b.attributes.attachable=!1));!b.attributes.attachable&&(!b.attributes.follows&&!b.attributes.closelyFollows)&&(b.attributes.attachable=
!0);a.attachments[d].dynathingEntity=new ig.global.EntityDynathing(a.pos.x,a.pos.y,b);a.attachments[d].dynathingEntity.update(a);d==this.slots.WEARABLE&&a.attachments[d]&&ig.game.O6401.O5038(a,"attaches",a.attachments.w.name);if(c.emitsId){var e=ig.game.O4961.getItemBasic(c.emitsId,"attachment_manager set_wearable");e.imagesBeingGenerated.done(function(){if(a&&a.attachments&&a.attachments[d]){var b=new ml.AnimationSheet(null,e.img.width,e.img.height,e.img),c={};c.normal=
new ml.Animation(b,1,[0]);c.normal.pivot.x=7;c.normal.pivot.y=2;a.attachments[d].animSheet=b;a.attachments[d].anims=c;a.attachments[d].O1457=c.normal}})}a.O4102&&a.attachments[d]&&a.O6927(d)},O5203:function(a,b,c,d){b=c.img.width/2;var e=c.img.height,f,g={};f=new ml.AnimationSheet(null,b,e,c.img);g.normal=new ml.Animation(f,1,[0]);g.back=new ml.Animation(f,1,[1]);b==ig.game.tileSize&&e==ig.game.tileSize?(g.normal.pivot.x=9,g.normal.pivot.y=
12.5):(g.normal.pivot.x=18,g.normal.pivot.y=25);a.attachments[d].animSheet=f;a.attachments[d].anims=g;ig.game.addStat(a.O2507,"worn",c.name);a.O4102&&(ig.game.O7510.O257(),a.attachments[d]&&a.O6927(d));"w"==d&&ig.game.O6401.O5038(a,"wears",a.attachments[d].name)},O257:function(){ig.game.O4269.O2031("seeAllEvents")&&(ig.game.statsDialog?ig.game.statsDialog.open():
setTimeout(function(){ig.game.O7510.O257()},1E3))},O3913:function(a,b,c){a.O4102&&ig.game.brainManager.O7736(c);a.attachments.br&&ig.game.O6401.O5038(a,"equips",a.attachments.br.name)},O4346:function(a,b,c){var d=c.img.width/2,e=c.img.height,f,g={};f=new ml.AnimationSheet(null,d,e,c.img);"MNTAIR"==b?(g.wingDown=new ml.Animation(f,1,[0]),g.wingUp=new ml.Animation(f,1,[1]),g.wingFlap=
new ml.Animation(f,0.4,[1,0])):(g.idle=new ml.Animation(f,1,[0]),g.moving=new ml.Animation(f,0.2,[1,0]));a.attachments.m.animSheet=f;a.attachments.m.anims=g;a.attachments.m.O1457="MNTAIR"==b?g.wingDown:g.idle;c.mountOffset||(c.mountOffset={x:0,y:0});a.attachments.m.mountOffset=ig.game.O5662(c.mountOffset);a.attachments.m.avatarOffset={x:-1*c.mountOffset.x,y:-1*c.mountOffset.y};a.attachments.m.pivot={x:0.25*d,y:-(d/2-e)};"MNTAIR"==b?(g.wingDown.pivot.x=g.wingDown.pivot.x=a.attachments.m.pivot.x,
g.wingUp.pivot.x=g.wingUp.pivot.x=a.attachments.m.pivot.x,g.wingFlap.pivot.x=g.wingFlap.pivot.x=a.attachments.m.pivot.x,g.wingDown.pivot.y=g.wingDown.pivot.y=a.attachments.m.pivot.y,g.wingUp.pivot.y=g.wingUp.pivot.y=a.attachments.m.pivot.y,g.wingFlap.pivot.y=g.wingFlap.pivot.y=a.attachments.m.pivot.y):(g.idle.pivot.x=g.moving.pivot.x=a.attachments.m.pivot.x,g.idle.pivot.y=g.moving.pivot.y=a.attachments.m.pivot.y);this.setSizeAndOffsetForMountedPlayer(a);"MNTGROUND"==b?(a.friction=ig.game.O5662(a.frictionMountableGround),
a.O8409=ig.game.O5662(a.frictionMountableGround),a.maxVel=ig.game.O5662(a.maxVelMountableGround),a.O3983=ig.game.O5662(a.maxVelMountableGround)):"MNTAIR"==b&&(a.friction=ig.game.O5662(a.frictionMountableAir),a.O8409=ig.game.O5662(a.frictionMountableAir),a.maxVel=ig.game.O5662(a.maxVelMountableAir),a.O199=a.O4404,a.getMountableHasAttribute("heavy")&&(a.maxVel.x=100,a.maxVel.y+=700,a.O199=a.O5602),
a.O3983=ig.game.O5662(a.maxVel));c.attributes&&(c.attributes.slower&&(a.O3983.x=Math.round(0.5*a.O3983.x),a.O3983.y=Math.round(0.5*a.O3983.y),a.maxVel.x=Math.round(0.5*a.maxVel.x),a.maxVel.y=Math.round(0.5*a.maxVel.y)),c.attributes.verticalOnly?(a.O3983.x=0,a.maxVel.x=0):c.attributes.horizontalOnly&&(a.O3983.y=0,a.maxVel.y=0));if(!c.attributes||c.attributes&&void 0===c.attributes.toStand||null===c.attributes.toStand)a.attachments.m.attributes||
(a.attachments.m.attributes={}),a.attachments.m.attributes.toStand=ig.game.strings.contains(c.name,"wing cape pack suit board skate body armor".split(" "));a.pos.y-=e-a.sizeDefault.y;ig.game.addStat(a.O2507,"mounted",c.name);ig.game.O6401.O5038(a,"mounts",a.attachments.m.name)},O8026:function(a,b,c){var d=c.img.width,e=c.img.height;2==c.cellCount&&(d=c.img.width/2);var f={},d=new ml.AnimationSheet(null,d,e,c.img);f.normal=2==c.cellCount?new ml.Animation(d,
1,[0,1]):new ml.Animation(d,1,[0]);f.normal.pivot.x=7;f.normal.pivot.y=2;a.attachments.h.animSheet=d;a.attachments.h.anims=f;a.attachments.h.O1457=f.normal;"LINER"==b&&(a.attachments.h.rgb=c.rgb?c.rgb.split(","):[255,255,255],a.attachments.h.rgb2=c.rgb2?c.rgb2.split(","):[255,255,255],a.attachments.h.lines=[],a.attachments.h.linesData={pulse:{value:0,vel:1},hue:{value:0,vel:1},hoverX:{value:ig.game.O5167(-10,10),vel:0.1},hoverY:{value:ig.game.O5167(-10,10),vel:0.1},O1018:null,
atKeyword:c.atKeyword,O3992:ml.Misc.O22(a.attachments.h.rgb)},c.environmentId&&ig.game.O6775.O6833(a,c.environmentId),a.attachments.h.attributes||(a.attachments.h.attributes={}));"AIMABLE"==b&&ig.game.O3777.O7181(a);ig.game.addStat(a.O2507,"held",c.name);ig.game.O6401.O5038(a,"takes",a.attachments.h.name);a.O4102&&(ig.game.motionDialog&&ig.game.motionDialog.O5076("take"),a.O6927("h"))},
setSizeAndOffsetForMountedPlayer:function(a){var b,c,d={x:0,y:0};b=a.attachments.m.animSheet.width;c=a.attachments.m.animSheet.height;d=ig.game.O5662(a.attachments.m.avatarOffset);ig.game.O5662(a.offset);a.offset={x:0,y:0};var e={};e.x=b;0>d.x&&(e.x+=Math.abs(d.x));d.x+a.size.x>e.x&&(e.x+=d.x-a.size.x);e.y=c;0>d.y&&(a.offset.y=d.y,e.y+=Math.abs(d.y),a.pos.y+=-1);d.y+a.size.y>e.y&&(a.size.y=a.O1457&&a.O1457.sheet&&a.O1457.sheet.height?a.O1457.sheet.height:ig.game.tileSize,
e.y=a.size.y+d.y,a.pos.y-=2);if(b=a.attachments.b&&a.attachments.b.animSheet&&a.attachments.b.animSheet.width)if(c=a.attachments.b.animSheet.height,!(b==ig.game.tileSize||16==b)&&b>ig.game.tileSize&&c>ig.game.tileSize)a.attachments.m.avatarOffset.x+=Math.round(ig.game.tileSize-b),c>ig.game.tileSize+5&&(a.attachments.m.avatarOffset.y-=Math.round(ig.game.tileSize-c/2));a.size=ig.game.O5662(e)},O969:function(a){var b=null;-1!=this.O2070_body.indexOf(a)?b=this.slots.BODY:
-1!=this.O4572.indexOf(a)?b=this.slots.WEARABLE:-1!=this.O7810.indexOf(a)?b=this.slots.MOUNTABLE:-1!=this.O4498.indexOf(a)?b=this.slots.HOLDABLE:-1!=this.O1447.indexOf(a)&&(b=this.slots.BRAIN);return b},O5292:function(a,b,c){var d=this.O969(b);d&&this.O4416(a,d,c,null,b)},O715:function(a){return 1},O4053:function(a){return Boolean(a&&
a.attachments&&a.attachments.b&&a.attachments.b.id&&0<=a.attachments.b.id.indexOf("00000000000000"))},O4416:function(a,b,c,d,e,f){var g=this.O715(c);!e&&!a.O4102&&(g=1);c&&(!a.attachments[b]||b==this.slots.BODY)?a.rank>=g?(b==this.slots.BODY&&(a.O4102&&this.O3306(a,this.slots.MOUNTABLE,!0),a.O2741()),this.O2135(a,b,c,void 0,void 0,b!=this.slots.MOUNTABLE),ig.game.sounds.O7086(ig.game.sounds.pickup,a),a.O4102&&!f&&ig.game.O4349.O3168(b,
c)):a.O4102&&ig.game.O4132.O2959():this.O3306(a,b,a.O4102,d)},O3306:function(a,b,c,d){if(a.attachments[b]){this.lastPressedControlTimer=null;if(b==this.slots.MOUNTABLE){ig.game.O6401.O5038(a,"unmounts",a.attachments[b].name);var e=a.attachments[b].attributes;if(!e||!e.noFlyOffAtEnd)e={O198:a.attachments[b],O1117:{x:a.vel.x,y:a.vel.y}},ig.game.O6879(EntityGhost,a.pos.x,a.pos.y,e);a.O3919(a.O3836);
a.O3983=ig.game.O5662(a.O3836);a.O8425(a.frictionWalking);a.O8409=ig.game.O5662(a.frictionWalking);a.O1457.angle=0;this.O7436(a);a.O199=a.O4085;ig.game.sounds.O7086(ig.game.sounds.whoosh,a);a.fallTimer=new ml.Timer;a.O4102&&ig.game.O5051.O3717&&(ig.game.O5051.O3931(),ig.game.O4269.vel={x:0,y:0},ig.game.O4269.accel={x:0,y:0})}else if(b==this.slots.HOLDABLE&&
a.attachments[b]&&d){if(!a.attachments[b].animSheet)return;e=this.O7870(a,b,d);ig.game.O6879(EntityThrownItem,d.opp.x,d.opp.y,e);!a.O4866("edible")&&!a.O4866("drinkable")&&ig.game.sounds.O7086(ig.game.sounds.whoosh,a);a.O215(b)}else{"STACKWEAR"==a.attachments[b].base?(a.O4102&&(a.O2031("seeAllEvents")&&ig.game.statsDialog)&&ig.game.statsDialog.close(),ig.game.O6401.O5038(a,
"unwears",a.attachments[b].name),a.O5223()&&(a.fallTimer&&(a.fallTimer=new ml.Timer),a.O199=1),a.O215(b)):"DYNATHING"==a.attachments[b].base?(ig.game.O6401.O5038(a,"unattaches",a.attachments[b].name),a.O5223()&&(a.fallTimer&&(a.fallTimer=new ml.Timer),a.O199=1),a.O215(b)):"BRAIN"==a.attachments[b].base&&(ig.game.O6401.O5038(a,"unequips",a.attachments[b].name),a.O4102&&
(ig.game.userScriptEditor&&ig.game.userScriptEditor.isOpen)&&ig.game.userScriptEditor.close());b==this.slots.HOLDABLE&&a.O215(b);if(!a.attachments[b].attributes||!a.attachments[b].attributes.effectsFree)ig.game.decorator.O7239(a),ig.game.sounds.O7086(ig.game.sounds.putdown,a);if(a.attachments[b].attributes&&(a.attachments[b].attributes.slowsFall||a.attachments[b].attributes.slowsFallALot))a.fallTimer&&(a.fallTimer=new ml.Timer),a.O199=1}this.O7069(a,
b);e="AIMABLE"==a.attachments[b].base;a.attachments[b]=null;e&&ig.game.O3777.O5724(a);c&&ig.game.O4349.O3168(b,null,d);b==this.slots.BODY&&a.O2741()}},O5498:function(a,b,c,d,e){if((b==this.slots.HOLDABLE||b==this.slots.WEARABLE)&&(a.attachments[b]&&d)&&a.attachments[b].animSheet)e=this.O7870(a,b,d,e),ig.game.O6879(EntityThrownItem,d.opp.x,d.opp.y,e),b==this.slots.WEARABLE&&a.attachments.w&&a.attachments.w.emitsId&&
a.attachments.w.soundId?ig.game.sounds.playIncludedSound(a,a.attachments.w.soundId):!a.O4866("edible")&&!a.O4866("drinkable")&&ig.game.sounds.O7086(ig.game.sounds.whoosh,a),("EMITTER"==a.attachments[b].base||"AIMABLE"==a.attachments[b].base||a.attachments[b].emitsId)&&ig.game.O6401.O5038(a,"emits",a.attachments[b].name),c&&ig.game.O4349.O6822(b,null,d)},O7870:function(a,b,c,d){return{O198:{width:a.attachments[b].animSheet.width,
height:a.attachments[b].animSheet.height,flipX:("w"==b||"h"==b)&&a.O1457&&a.O1457.flip?a.O1457.flip.x:a.attachments[b].O1457.flip.x,path:a.attachments[b].animSheet.image.path,animSheet:a.attachments[b].animSheet},itemId:a.attachments[b].emitsId?a.attachments[b].emitsId:a.attachments[b].id,O8247:a.attachments[b].base,attributes:d?d:a.attachments[b].attributes,O2068:a.attachments[b].name,O1117:c.opv,originatorId:a.O2507,O508:a.O4135edByUs,
originatorHasBrainAttached:a.attachments&&a.attachments.br,O8020:a.rank,O7309:a.isEditorHere,throwId:c.tid,O6909:a.O4102,rgb:a.attachments[b].rgb,soundId:a.attachments[b].soundId,boundingBox2:a.attachments[b].boundingBox2}},O7485:function(a,b){var c=null,d=[];ig.game.settings.glueHoldable||d.push(this.slots.HOLDABLE);ig.game.settings.glueMountable||d.push(this.slots.MOUNTABLE);ig.game.settings.glueWearable||d.push(this.slots.WEARABLE);a.O1038()&&
(d=[this.slots.MOUNTABLE,this.slots.HOLDABLE,this.slots.WEARABLE]);a.attachments.w&&("DYNATHING"==a.attachments.w.base&&!ig.game.O2066)&&(d=ml.Misc.O3056(d,this.slots.WEARABLE));a.attachments.w&&("STACKWEAR"==a.attachments.w.base&&!ig.game.O3643)&&(d=ml.Misc.O3056(d,this.slots.WEARABLE));ig.game.O7995||(d=ml.Misc.O3056(d,this.slots.HOLDABLE));ig.game.O4280||(d=ml.Misc.O3056(d,
this.slots.MOUNTABLE));ig.game.O4973||(d=ml.Misc.O3056(d,this.slots.BRAIN));for(var e,f=0;f<d.length;f++)if(e=d[f],a.attachments[e]){var g;e==this.slots.HOLDABLE&&!b&&(g={},c=a.O4354(),g.opp={x:Math.floor(a.pos.x-a.offset.x+c.x),y:Math.floor(a.pos.y-a.offset.y+c.y)},g.opv={x:Math.floor(a.vel.x),y:Math.floor(a.vel.y)},g.tid=a.O2125++);c=e;if(e==this.slots.HOLDABLE&&a.attachments.h&&"AIMABLE"==a.attachments.h.base)this.O3306(a,e,!0);else{e==
this.slots.HOLDABLE&&a.attachments.h&&0<=["STACKHOLD","EMITTER","CONSUMAB","LINER"].indexOf(a.attachments.h.base)?a.O2264()?c=null:(d="CONSUMAB"==a.attachments.h.base?a.attachments.h.name:null,this.O42(a),this.O3306(a,e,!0,g),d&&ig.game.O6401.O5038(a,"consumes",d)):this.O3306(a,e,!0,g);break}}return c},O42:function(a){(a=a.attachments.h)&&("CONSUMAB"==a.base&&
a.attributes&&a.attributes.edible&&a.attributes.hot)&&ig.game.O4803.register(ig.game.O4803.types.CONSUMED_HOT_EDIBLE)},O6068:function(a,b){var c,d;for(d in this.slots)c=this.slots[d],a.attachments[c]&&this.O3306(a,c,b)},O785:function(a,b){a.attachments[this.slots.MOUNTABLE]&&this.O3306(a,this.slots.MOUNTABLE,b,null)},O7436:function(a){if(a.O1457&&a.O1457.sheet){var b=a.O1457,c=a.attachments.b&&
a.attachments.b.O1457?a.attachments.b.O1457:null;c&&c.sheet?(b.pivot.x=0.5*c.sheet.width,b.pivot.y=0.5*c.sheet.height,c.pivot.x=b.pivot.x,c.pivot.y=b.pivot.y):(b.pivot.x=0.5*b.sheet.width,b.pivot.y=0.5*b.sheet.height)}a.attachments[this.slots.HOLDABLE]&&a.attachments[this.slots.HOLDABLE].O1457&&(a.attachments[this.slots.HOLDABLE].O1457.pivot=ig.game.O5662(a.attachmentDefaultPivots.holdable));a.attachments[this.slots.WEARABLE]&&a.attachments[this.slots.WEARABLE].O1457&&
(a.attachments[this.slots.WEARABLE].O1457.pivot=ig.game.O5662(a.attachmentDefaultPivots.wearable))},O7069:function(a,b,c){c&&(a.offsetDefault={x:3,y:3});(b==this.slots.BODY&&!a.attachments[this.slots.MOUNTABLE]||b==this.slots.MOUNTABLE)&&this.O6875(a)},O6875:function(a){a.size=ig.game.O5662(a.sizeDefault);a.offset=ig.game.O5662(a.offsetDefault)},O6137:function(a){if(!a.attachments.m||!a.attachments.m.avatarOffset)console.log("Cant getAvatarOffsetForThisFlip when no mountable");
else{var b,c,d=16;a.attachments.b&&(a.attachments.b.animSheet&&a.attachments.b.animSheet.width)&&(d=a.attachments.b.animSheet.width,d<=ig.game.tileSize&&(d=16));a.O6609?(b=a.attachments.m.animSheet.width-a.attachments.m.avatarOffset.x-d,c=a.attachments.m.avatarOffset.y):(b=a.attachments.m.avatarOffset.x,c=a.attachments.m.avatarOffset.y,16!=d&&(b+=3));a.avatarMountOffsetForThisFlip={x:b,y:c}}},O4164:function(a){a.O1457.pivot.x=a.attachments.m.O1457.pivot.x-
a.avatarMountOffsetForThisFlip.x;a.O1457.pivot.y=a.attachments.m.O1457.pivot.y-a.avatarMountOffsetForThisFlip.y;a.O1457.angle=a.attachments.m.O1457.angle;a.attachments.b&&a.attachments.b.O1457&&(a.attachments.b.O1457.pivot.x=a.O1457.pivot.x,a.attachments.b.O1457.pivot.y=a.O1457.pivot.y);a.attachments.w&&a.attachments.w.O1457&&(a.attachments.w.O1457.pivot.x=a.O1457.pivot.x,a.attachments.w.O1457.pivot.y=a.O1457.pivot.y-
a.attachmentDrawOffsets.wearable.y);a.attachments.h&&a.attachments.h.O1457&&(a.attachments.h.O1457.pivot.x=a.O1457.pivot.x,a.attachments.h.O1457.pivot.y=a.O1457.pivot.y-a.attachmentDrawOffsets.holdable.y)},O305:function(a){var b,c;for(c in this.slots)if(b=this.slots[c],a.attachments[b])return!0;return!1},O7120:function(a){var b,c;for(c in this.slots)if(b=this.slots[c],b!=this.slots.BODY&&b!=this.slots.WEARABLE_PLUS&&a.attachments[b])return!0;
return!1},O1975:function(a,b){var c=!1;return c="DYNATHING"==a?b&&(b.attachable||b.follows||b.closelyFollows):Boolean(-1!=this.O2070.indexOf(a))},O4588:function(a){return-1!=this.O7810.indexOf(a)},O5379:function(a){if(a.O1457)if(a.O6454||a.O5579){var b=a.pos.x-a.offset.x-ig.game._rscreen.x,c=a.pos.y-a.offset.y-ig.game._rscreen.y;a.O1457.draw(b,c)}else b=a.pos.x-a.offset.x-ig.game._rscreen.x,
c=a.pos.y-a.offset.y-ig.game._rscreen.y,a.O1457.draw(b+9-5,c+ig.game.tileSize-a.O1457.sheet.height,!0)},O1961:function(a,b){if(a.O1457){var c=a.pos.x-a.offset.x-ig.game._rscreen.x,d=a.pos.y-a.offset.y-ig.game._rscreen.y,e=a.O1457.sheet.height,f=c+5,g=d+ig.game.tileSize+4;if("STACKWEARB"==b){if(null==this.O8095||void 0==this.O8095)this.O8095=ig.game.O5405.getImage(ig.game.O5405.stackback);this.O8095.draw(c,
d+16);a.O1457.draw(f-5,g-e);this.isOld||a.anims.blink.draw(f-5,g-e)}else c=-5,d=0,a.size.x==ig.game.tileSize&&a.size.x==ig.game.tileSize||(c=-15,d=15),a.O1457.draw(f+c,g-e+d,!0)}},O875:function(a){a.O1457&&a.O1457.draw(a.pos.x-a.offset.x-ig.game._rscreen.x-Math.floor(a.O1457.sheet.width/4),a.pos.y-a.offset.y-ig.game._rscreen.y+ig.game.tileSize-a.O1457.sheet.height,!0)},O5437:function(a){ig.game.motionDialog.isOpen||(a.O557()?
ig.game.O4047()&&(this.O3306(a,this.slots.MOUNTABLE,!0),a.doJump()):a.attachments[this.slots.MOUNTABLE]&&("MNTGROUND"==a.attachments[this.slots.MOUNTABLE].base?this.O6795(a):"MNTAIR"==a.attachments[this.slots.MOUNTABLE].base&&this.O3703(a)))},O6795:function(a){ig.game.O1253()?(a.accel.x=-a.O6213,a.O6609=!1,this.O3249(a,!0)):ig.game.O7584()?(a.accel.x=
a.O6213,a.O6609=!0,this.O3249(a,!1)):(a.standing&&(a.jumping=!1,a.O199=a.O4085),a.accel.x=0);a.O2193()?ig.game.motionDialog.tryOpen():a.standing&&(a.canJump&&!a.O3328()&&ig.game.O4047())&&a.doJump();a.O7247();a.setAnim(a.anims.idle)},O3703:function(a){ig.game.O1253()?(a.accel.x=-a.O4817,a.O6609=!1,this.O3249(a,
!0)):ig.game.O7584()?(a.accel.x=a.O4817,a.O6609=!0,this.O3249(a,!1)):(a.standing&&(a.jumping=!1),a.accel.x=0);ig.game.O4047()&&(a.getMountableHasAttribute("heavy")?a.vel.y-=a.O5266:a.getMountableHasAttribute("lightweight")?a.vel.y-=a.O1918:a.vel.y-=a.O4125,ig.game.sounds.O7086(ig.game.sounds.softWhoosh,a,0.5),ig.game.O4269.forceSend=!0);ig.game.O3332()&&
(this.lastPressedControlTimer=new ml.Timer,this.O3425=!1);a.O2193()&&ig.game.motionDialog.tryOpen();a.O7247();a.setAnim(a.anims.idle)},O3249:function(a,b){if(a.attachments.m.O1457&&a.attachments.m.O1457.sheet.height){var c=a.attachments.m.O1457.sheet.height+a.attachments.m.mountOffset.y/2,d=a.O6609?0:a.attachments.m.O1457.sheet.width,d=d-4,e=100<=Math.abs(a.vel.x)||100<=Math.abs(a.vel.y);if(a.standing&&
(b&&-50<a.vel.x||!b&&50>a.vel.x))ig.game.chance(20)&&ig.game.O6879(EntityFootdust,a.pos.x+d,a.pos.y+c,{direction:a.O6609?-1:1}),e&&(ig.game.chance(5)&&!this.O7171(a))&&ig.game.sounds.O7086(ig.game.sounds.screeching,a,0.5);a.standing&&0==Math.abs(a.vel.x)&&ig.game.chance(20)&&ig.game.O6879(EntityFootdust,a.pos.x+d,a.pos.y+c,{direction:a.O6609?-1:1});0==a.vel.x&&(this.O3446(a)?
ig.game.sounds.O7086(ig.game.sounds.engine_starts,a):(this.O5068(a)||this.O7410(a)&&!this.O7171(a))&&ig.game.sounds.O7086(ig.game.sounds.footfalls,a));if(e)if(ig.game.chance(0.15))if(a.attachments.m.soundId)ig.game.sounds.playIncludedSound(a,a.attachments.m.soundId);else{c=ig.game.sounds.O3679(a.attachments.m.name);for(d=0;d<c.length;d++)ig.game.sounds.O7086(c[d],a)}else ig.game.chance(1)?(this.O5068(a)||
this.O7410(a)&&!this.O7171(a))&&ig.game.sounds.O7086(ig.game.sounds.footfalls,a):ig.game.chance(0.5)&&this.O3446(a)&&ig.game.sounds.O7086(ig.game.sounds.motor,a)}},O3446:function(a){var b=!1;a.attachments.m&&a.attachments.m.name&&(a=a.attachments.m.name.toLowerCase(),b=0<=a.indexOf("car")||0<=a.indexOf("auto")||0<=a.indexOf("truck"));return b},O7171:function(a){var b=!1;a.attachments.m&&a.attachments.m.name&&
(a=a.attachments.m.name.toLowerCase(),b=0<=a.indexOf("bird")||0<=a.indexOf("snake"));return b},O7410:function(a){var b=!1;a.attachments.m&&a.attachments.m.name&&(b=1<=ig.game.sounds.O3679(a.attachments.m.name).length);return b},O5068:function(a){var b=!1;a.attachments.m&&a.attachments.m.attributes&&(b=a.attachments.m.attributes&&a.attachments.m.attributes.hasLegs);return b},O4502:function(a,b){var c=b.collision.slope&&(b.collision.slope.tile==
Item.prototype.COL_TYPES.SLOPE_LD||b.collision.slope.tile==Item.prototype.COL_TYPES.SLSLOPE_LD||b.collision.slope.tile==Item.prototype.COL_TYPES.PASSABLE_SLOPE_LD),d=b.collision.slope&&(b.collision.slope.tile==Item.prototype.COL_TYPES.SLOPE_RD||b.collision.slope.tile==Item.prototype.COL_TYPES.SLSLOPE_RD||b.collision.slope.tile==Item.prototype.COL_TYPES.PASSABLE_SLOPE_RD);if(c||d){a.O1464=!0;a.O199=a.O4085;var e=b.collision.slope.tile==Item.prototype.COL_TYPES.SLOPE_LD||
b.collision.slope.tile==Item.prototype.COL_TYPES.PASSABLE_SLOPE_LD,f=b.collision.slope.tile==Item.prototype.COL_TYPES.SLOPE_RD||b.collision.slope.tile==Item.prototype.COL_TYPES.PASSABLE_SLOPE_RD;if((e&&ig.game.O7584()||f&&ig.game.O1253())&&100>a.vel.y)a.vel.x*=1.2;if(e&&0<a.vel.y&&ig.game.O7584()||f&&0<a.vel.y&&ig.game.O1253())a.vel.y=0;if(50<=Math.abs(a.vel.x)||50<=Math.abs(a.vel.y))e?a.attachments[ig.game.O7510.slots.MOUNTABLE].O1457.angle=
-0.8:f&&(a.attachments[ig.game.O7510.slots.MOUNTABLE].O1457.angle=0.8)}a.O6379(b);a.O6617(b);if(a.attachments.m){if(b.collision.slope)if(a.O6609&&c||!a.O6609&&c)a.attachments.m.anims.idle.pivot.x=a.attachments.m.anims.moving.pivot.x=a.size.x-a.attachments.m.pivot.x;else{if(a.O6609&&d||!a.O6609&&d)a.attachments.m.anims.idle.pivot.x=a.attachments.m.anims.moving.pivot.x=a.attachments.m.pivot.x}else a.attachments.m.anims.idle.pivot.x=
a.attachments.m.anims.moving.pivot.x=a.O6609?a.size.x-a.attachments.m.pivot.x:a.attachments.m.pivot.x;a.attachments.m.O1457=0!=a.vel.x?a.attachments.m.anims.moving:a.attachments.m.anims.idle;a.attachments.m.O1457.update();!a.standing&&a.O2865==a.O2558.RUNNING?(a.frictionModifier=a.O986MountableGround,a.attachments[ig.game.O7510.slots.MOUNTABLE].O1457.angle=a.O6609?(a.vel.y-200)/1E3:(-a.vel.y+200)/1E3):b.collision.slope||(a.attachments[ig.game.O7510.slots.MOUNTABLE].O1457.angle=
0);1>=Math.abs(a.vel.x)&&1>=Math.abs(a.vel.y)&&(a.attachments[ig.game.O7510.slots.MOUNTABLE].O1457.angle=0);a.O2531(b);a.O4102&&(a.getMountableHasAttribute("goneOnImpact")&&b.collision&&b.collision.x)&&5<=Math.abs(a.vel.x)&&(ig.game.sounds.collide.play(),this.O3306(a,"m",!0));a.parent(b)}},O3411:function(a,b){var c=a.getMountableHasAttribute("heavy");a.O6379(b);a.O6617(b);if(a.attachments.m){a.O199=
c?a.O5602:a.O4404;var d=10;c&&(d=20);this.lastPressedControlTimer||(this.lastPressedControlTimer=new ml.Timer);if(a.O4102&&this.O3196(a))if(c=this.lastPressedControlTimer.delta(),this.O3425){if(310<=c){this.O3306(a,ig.game.O7510.slots.MOUNTABLE,a.O4102);return}}else 300<=c&&(ig.game.O884.O8271("tiredFromActionLessMoving"),this.O3425=!0);if(Math.abs(a.vel.y)<=d)a.attachments.m.O1457=
a.attachments.m.anims.wingDown;else if(a.vel.y>=d){if(a.attachments.m.O1457=a.attachments.m.anims.wingUp,a.O4102&&a.vel.y>=a.maxVelMountableAir.y&&!a.O557())if(c=this.lastPressedControlTimer.delta(),this.O3425){if(310<=c){this.O3306(a,ig.game.O7510.slots.MOUNTABLE,a.O4102);return}}else 300<=c&&(ig.game.O884.O8271("tiredFromActionLessMoving"),this.O3425=!0,a.vel.y=0.15*a.maxVelMountableAir.y)}else a.vel.y<=
d&&(a.attachments.m.O1457=a.attachments.m.anims.wingFlap);-175>a.vel.y&&(a.vel.y=-175);if(a.standing||a.O2865!=a.O2558.RUNNING)10<Math.abs(a.vel.x)&&(a.attachments.m.O1457=a.attachments.m.anims.wingFlap),a.vel.x=a.vel.x.limit(-100,100);a.attachments.m.O1457.update();a.O2531(b);if(a.O4102&&a.getMountableHasAttribute("goneOnImpact")&&b.collision&&(b.collision.x||b.collision.y))d=!0,!b.collision.x&&b.collision.y&&(d=0>a.vel.y||50<a.vel.y),d&&(ig.game.sounds.collide.play(),
this.O3306(a,"m",!0));a.parent(b)}},O3196:function(a){return!(!a||!a.attachments.m||!a.attachments.m.attributes||!a.attachments.m.attributes.autoSpeedLeft&&!a.attachments.m.attributes.autoSpeedRight&&!a.attachments.m.attributes.autoSpeedUp&&!a.attachments.m.attributes.autoSpeedDown)},O4721:function(a){var b=!1,c=a.attributes;a.emitsId?b=!0:c&&(b=c.slowsFall||c.heavy||c.enablesDoubleJump||c.enablesTripleJump||c.enablesQuadrupleJump||c.enablesQuintupleJump||c.enablesInfiniteJump||
c.breather||c.invisibility||c.heatResistant||c.coldResistant||c.stormWindResistant||c.bumpResistant||c.slowsFall||c.slowsFallALot||c.heavy||c.veryHeavy||c.fast||c.veryFast||c.higherJump||c.reducesDamage25percent||c.reducesDamage50percent||c.reducesDamage75percent||c.reducesDamage100percent||c.disablesInteracting||c.slidey||c.verySlidey||c.pushFlying||c.hoverFlying||c.disablesGrabbing||c.disablesTransport||c.passThroughSolids);return b},O8157:function(a,b,c,d){if(a)if("MOTION"==
a.base)ig.game.O7510.O4044(ig.game.O4269,a.id,b),ig.game.O4349.O7033(a.id,a.name);else if(this.O1975(a.base,a.attributes)){b=!0;if(c||d)b=!0;else if("DYNATHING"==a.base||"STACKWEAR"==a.base)ig.game.isEditorHere||ig.game.O7804||!this.O4721(a)?b=!0:(b=!1,ig.game.O884.O8271("editorOnly"));else if(("STACKHOLD"==a.base||"AIMABLE"==a.base||"EQUIPMENT"==a.base||"EMITTER"==a.base||"HOOK"==a.base||
"LINER"==a.base||"CONSUMAB"==a.base||"MNTGROUND"==a.base||"MNTAIR"==a.base)&&!ig.game.isEditorHere&&!ig.game.O7804)b=!1,ig.game.O884.O8271("editorOnly");b&&(c=this.O969(a.base),this.O4416(ig.game.O4269,c,a.id,null,a.base))}},O4044:function(a,b,c){var d=!1;if(a){var e=this.O4287(a);e&&e.kill();var f=ig.game.O4961.getItemBasic(b,"attachment_manager motion");f&&f.imagesBeingGenerated.done(function(){a&&
(ig.game.O6879(EntityMotion,a.pos.x,a.pos.y,{img:f.img,attributes:f.attributes,O2777:a.O2507,soundId:f.soundId,emitsId:f.emitsId}),d=!0,a.O4102&&(!c&&f.attributes&&f.attributes.spoken)&&ig.game.O884.O2127(f.name),ig.game.O6401.O1665("sees",f.name),ig.game.O6401.O5038(a,"does",f.name),ig.game.brainManager.O4307(a,"does",f.name))});return d}},O5833:function(a){var b=
{};a.attachments.h&&a.attachments.h.attributes&&(b=a.attachments.h.attributes);return b},distort:function(a,b){return a+ig.game.O5167(-b,b)},O4287:function(a){var b=null;if(a.attachments&&a.attachments.b){var c=ig.game.O413.O7046;if(c)for(var d=0;d<c.length;d++){var e=c[d];if(!e._killed&&e.O2777==a.O2507){b=e;break}}}return b},O826:function(a){if(a.O4102&&a.attachments.h&&a.attachments.h.motionId){var b=
a.attachments.h.motionId,c=ig.game.O4961.getItemBasic(b,"attachment_manager trigger_holdable");c&&c.imagesBeingGenerated.done(function(){ig.game.O7510.O4044(a,b);ig.game.O4349.O7033(b,null)})}},O7206:function(a){for(var b=[this.slots.HOLDABLE,this.slots.MOUNTABLE,this.slots.WEARABLE],c=0;c<b.length;c++){var d=b[c];a.attachments[d]&&this.O3306(a,d,!0)}},O1856:function(a,b,c,d){var e=0;d=0;if(a&&a.O1457&&
a.O1457.sheet){var f=!a.O1457.flip.x;a&&(a.animSheet&&a.animSheet.width)&&(c=a.animSheet.width);e=c/2-ig.game.O1990-1;f||(e-=1);e=Math.round(e)}a&&(a.O1457&&b&&b.O1457&&b.O1457.sheet&&b.O1457.sheet.width==ig.game.O5286)&&(f=!a.O1457.flip.x,e-=11,f||(e+=3),d-=6);return{x:e,y:d}},O7582:function(a){a=a.attachments;return Boolean(a&&(a.w||a.m||a.h||a.br))},O6971:function(a){var b=[];switch(a){case this.slots.BODY:b=
this.O2070_body;break;case this.slots.WEARABLE:b=this.O4572;break;case this.slots.WEARABLE_PLUS:b=this.O4572Plus;break;case this.slots.MOUNTABLE:b=this.O7810;break;case this.slots.BRAIN:b=this.O1447;break;case this.slots.HOLDABLE:b=this.O4498}return b},slots:{BODY:"b",WEARABLE:"w",MOUNTABLE:"m",HOLDABLE:"h",BRAIN:"br",WEARABLE_PLUS:"wp"},O2070:"STACKWEARB STACKWEAR DYNATHING MNTGROUND MNTAIR MNTWATER STACKHOLD EMITTER AIMABLE EQUIPMENT CONSUMAB HOOK STACKINSTR LINER BRAIN".split(" "),
O2070_body:["STACKWEARB"],O4572:["STACKWEAR","DYNATHING"],O4572Plus:"STACKWEAR DYNATHING SOLID SLOPE SLIDEY SLSLOPE BOUNCEY BOUNCEYT DECOBG DECO DECOFG DECOBIG DECOVBIG PUSH PUSHDIAG CLIMB WALKABLE PASS STICKY PASSSLOPE".split(" "),O7810:["MNTGROUND","MNTAIR"],O1447:["BRAIN"],O4498:"STACKHOLD EMITTER AIMABLE EQUIPMENT CONSUMAB HOOK STACKINSTR MNTGROUND MNTAIR STACKWEAR DYNATHING LINER".split(" ")})});
ig.baked=!0;
ig.module("game.core.O65").defines(function(){window.O2966=function(){this.usePregeneratedImages=!0;this.sectorLoadingColor="rgba(10,10,50,0.5)";this.sectorHiddenColor="rgba(200,50,50,0.5)";this.sectorEmptyColor="rgba(50,50,50,0.5)";this.sectorImageSize=32;this.dataPrimed=!1};window.O2966.prototype.O4256=function(){this.dataPrimed=!1;var a=ig.game.O172.O6722,b=ig.game.O172.currentArea,c=ig.game.userMapDialog.rendererStartSector.x-1,
d=ig.game.userMapDialog.rendererStartSector.y-1,e=this;ig.game.O7421.O4780(a,b,c,d,c+ig.game.userMapDialog.sectorsFitOnMap.x,d+ig.game.userMapDialog.sectorsFitOnMap.y).done(function(c){c&&(c.sectors&&c.sectors.length)&&e.O5161(a,b,c.sectors);e.dataPrimed=!0})};window.O2966.prototype.O3163=function(a){ig.game.isFullAccount?ig.game.O7421.O3958(a).done(function(a){if(a){var c=ig.game.O172.O139({x:a.sx,
y:a.sy},{x:a.x,y:a.y});c.p=a.p;c.a=a.a;ig.game.userMapDialog.O7191(c)}}):ig.game.bottomMenu.showLoginDialog(!0)};window.O2966.prototype.O3166=function(a,b,c,d){var e=this.imageCache.get(a,b,c,d);if(e&&e.s!=O2966.states.VISIBLE){var f=this;setTimeout(function(){f.O1226(a,b,c,d)},500)}};window.O2966.prototype.O2121=function(a,b,c,d,e,f){if(this.dataPrimed){var g=this.imageCache.get(a,b,c,d);g?g.s!=O2966.states.LOADING&&
(g.s==O2966.states.VISIBLE&&g.i)&&(ig.system.context.globalAlpha=g.i.opacity||0,g.i.draw(e,f),ig.system.context.globalAlpha=1,1>g.i.opacity&&(g.i.opacity=Math.min(1,g.i.opacity+0.07))):this.O1226(a,b,c,d)}};window.O2966.prototype.O2462=function(a,b,c){ig.system.context.fillStyle=c;ig.system.context.fillRect(a*ig.system.scale,b*ig.system.scale,this.sectorImageSize*ig.system.scale,this.sectorImageSize*ig.system.scale)};window.O2966.prototype.isSectorExplored=
function(a,b,c,d){return(a=this.imageCache.get(a,b,c,d))&&a.s==O2966.states.VISIBLE};window.O2966.prototype.O1226=function(a,b,c,d){this.imageCache.set(a,b,c,d,{s:O2966.states.LOADING,i:null});var e=this;ig.game.O7421.O4633(a,b,c,d).done(function(f){if(f){var g=f.id;f=f.pn;g?(e.O1301(g,a,b,c,d),f&&f.length&&e.placenameCache.set(a,b,c,d,f)):e.imageCache.get(a,b,c,d).s=O2966.states.HIDDEN}else console.log("No data returned from usermap!")})};
window.O2966.prototype.O5161=function(a,b,c){for(var d,e,f,g,h=0;h<c.length;h++)d=c[h],e=d.id,f=d.pn,g=d.x,d=d.y,this.imageCache.set(a,b,g,d,{s:O2966.states.LOADING,i:null}),e?(this.O1301(e,a,b,g,d),f&&f.length&&this.placenameCache.set(a,b,g,d,f)):this.imageCache.get(a,b,g,d).s=O2966.states.HIDDEN};window.O2966.prototype.O1301=function(a,b,c,d,e){a=this.usePregeneratedImages?ig.game.O3754.getSectorImageUrl(a):ig.game.O3754.O515(b,
c,d,e);var f=this;a=new ml.Image(a,function(){f.imageCache.get(b,c,d,e).s=O2966.states.VISIBLE;f.imageCache.get(b,c,d,e).i&&(f.imageCache.get(b,c,d,e).i.opacity=0)},this);this.imageCache.get(b,c,d,e).i=a};window.O2966.prototype.imageCache={_cache:[[],[],[]],set:function(a,b,c,d,e){var f=window.O2966.prototype.imageCache._cache;f[a][b]||(f[a][b]=[]);f[a][b][d]||(f[a][b][d]=[]);f[a][b][d][c]=e},get:function(a,b,c,d){var e=window.O2966.prototype.imageCache._cache;
return e[a]&&e[a][b]&&e[a][b][d]&&e[a][b][d][c]}};window.O2966.prototype.placenameCache={_cache:[[],[],[]],set:function(a,b,c,d,e){var f=window.O2966.prototype.placenameCache._cache;f[a][b]||(f[a][b]=[]);f[a][b][d]||(f[a][b][d]=[]);f[a][b][d][c]=e},get:function(a,b,c,d){var e=window.O2966.prototype.placenameCache._cache;return e[a]&&e[a][b]&&e[a][b][d]&&e[a][b][d][c]}};window.O2966.states={EMPTY:0,HIDDEN:1,LOADING:2,VISIBLE:3}});ig.baked=!0;
ig.module("game.core.boostmanager").defines(function(){window.BoostManager=ig.Class.extend({names:{interactions:"interaction_1 interaction_2 interaction_3 interaction_4 interaction_5 interaction_6 interaction_7 interaction_8 interaction_9 interaction_10".split(" "),insight:"dynamicOrigin myMostCollectedCreations myMostPlacedCreations numberOfPlacementsIMade numberOfThingsIMade numberOfDistinctPlacedItemsInUniverse numberOfAreasInUniverse numberOfThingsICollected numberOfPlacementsInUniverse numberOfMinfinityDays receivedPings".split(" "),
everyoneAround:"everyoneFloating selection everyoneIsInvisible behindEveryone aboveEveryone everyoneRollMoving".split(" "),personNextToMe:"nextToMeFloating nextToMeMovementTrail nextToMeMultiple nextToMeRollMoving nextToMeBlendingIn nextToMeBrightLight arrivalFromAboveThem arrivalFromBelowThem behindThem giveWhatIHold".split(" "),me:"transport transportToCenter focusOnMe movementTrail onMe behindMe aboveMe multipleMe iBlendIn brightLightMe darkLightMe reverseMe meRollMoving crumbleJump moveBackwards waggleWhatIHold meFloating closeMyEyes toRandomArea showAreasFriendsAre".split(" "),
surrounding:"sound_1 sound_2 sound_3 sound_4 sound_5 sound_6 sound_7 sound_8 lightning quake rain snow stop clouds changeLiquid colorGlitter".split(" "),thingsAndBeings:"arrivalFromAbove arrivalFromBelow arrivalFromLeft arrivalFromRight thingsMovingUp thingsMovingDown thingsMovingRight thingsMovingLeft thingsEverywhere upwardsBursting downwardsBursting".split(" "),customization:"resetTabIcons changeCollectedTabIcon changeCreatedTabIcon changeSearchTabIcon resetProfileItems setProfileItem_6 setProfileItem_5 setProfileItem_4 setProfileItem_3 setProfileItem_2 setProfileItem_1 changePanel_red changePanel_green changePanel_cyan changePanel_blue changePanel_purple changePanel_black changePanel_yellow changePanel_white changePanel_orange changePanel_pink defaultPanelColor setProfileBack clearProfileBack setProfileDynamic clearProfileDynamic".split(" "),
myVoice:"myVoiceChanges_bulky myVoiceChanges_elegance myVoiceChanges_shapes myVoiceChanges_faint myVoiceChanges_wild myVoiceChanges_cute myVoiceChanges_high myVoiceChanges_low myVoiceChanges_action myVoiceChanges_inverted myVoiceChanges_strict myVoiceChanges_melodic defaultVoice myVoiceChanges_smooth myVoiceChanges_casual myVoiceChanges_wide".split(" "),light:"cyanLight weakColorsLight strongColorsLight changingLight darkness brightness redLight greenLight blueLight yellowLight purpleLight".split(" ")},
namesInO1778Order:["quake","multipleMe","arrivalFromBelow","closeMyEyes","sound","brightLightMe","darkLightMe","iBlendIn","myVoiceChanges_inverted","myVoiceChanges_strict","reverseMe","thingsEverywhere","behindEveryone","clouds","crumbleJump","focusOnMe","weakColorsLight","snow","selection","lightning","rain","myVoiceChanges_action","arrivalFromAbove","arrivalFromRight","myVoiceChanges_faint","arrivalFromAboveThem","myVoiceChanges_melodic",null,"movementTrail","everyoneIsInvisible","meRollMoving",
"everyoneRollMoving","myVoiceChanges_elegance","myVoiceChanges_shapes","myVoiceChanges_wild","myVoiceChanges_cute","changingLight","strongColorsLight","myVoiceChanges_low","arrivalFromLeft","surrounding","thingsAndBeings","light","everyoneAround","meFloating","everyoneFloating","personNextToMe","me","myVoice","onMe","arrivalFromBelowThem","behindMe","behindEveryone","aboveMe","aboveEveryone","thingsMovingUp","thingsMovingDown","thingsMovingRight","thingsMovingLeft","upwardsBursting","downwardsBursting",
"darkness","brightness","redLight","greenLight","blueLight","yellowLight","purpleLight","cyanLight","defaultVoice","myVoiceChanges_high","changeLiquid","nextToMeFloating","nextToMeMovementTrail","nextToMeMultiple","nextToMeRollMoving","nextToMeBlendingIn","nextToMeBrightLight","behindThem","moveBackwards","giveWhatIHold","colorGlitter","stop","waggleWhatIHold","interactions","interaction","happening","transport","changePanel_red","changePanel_green","changePanel_cyan","changePanel_purple","changePanel_black",
"changePanel_yellow","changePanel_white","changePanel_orange","changePanel_pink","defaultPanelColor","changeCollectedTabIcon","changeCreatedTabIcon","changeSearchTabIcon","resetTabIcons","setProfileItem_1","setProfileItem_2","resetProfileItems","changePanel_blue","toRandomArea","showAreasFriendsAre","happenings","customization","setProfileBack","clearProfileBack","myVoiceChanges_smooth","myVoiceChanges_casual","myVoiceChanges_wide","myVoiceChanges_bulky","transportToCenter","insight","myMostCollectedCreations",
"myMostPlacedCreations","numberOfPlacementsIMade","numberOfThingsIMade","numberOfDistinctPlacedItemsInUniverse","numberOfAreasInUniverse","numberOfThingsICollected","numberOfPlacementsInUniverse","receivedPings","setProfileItem_3","setProfileDynamic","clearProfileDynamic","setProfileItem_4","setProfileItem_5","numberOfMinfinityDays","setProfileItem_6","dynamicOrigin"],O6708:"darkness everyoneIsInvisible focusOnMe transport everyoneFloating behindEveryone aboveEveryone everyoneRollMoving interaction_1 interaction_2 interaction_3 interaction_4 interaction_5 interaction_6 interaction_7 interaction_8 interaction_9 interaction_10".split(" "),
manualLabel:{giveWhatIHold:"give what i hold",waggleWhatIHold:"waggle what i hold",numberOfPlacementsIMade:"number of placements i made",numberOfThingsIMade:"number of things i made",numberOfThingsICollected:"number of things i collected",receivedPings:"pings received",numberOfMinfinityDays:"number of minfinity days"},O6075:20,O1579:0,O1330:"redLight greenLight blueLight yellowLight purpleLight cyanLight".split(" "),O893:"onMe behindMe behindEveryone behindThem aboveMe aboveEveryone selection thingsMovingUp thingsMovingDown thingsMovingRight thingsMovingLeft arrivalFromAbove arrivalFromBelow arrivalFromLeft arrivalFromRight arrivalFromAboveThem arrivalFromBelowThem thingsEverywhere upwardsBursting downwardsBursting sound_1 sound_2 sound_3 sound_4 sound_5 sound_6 sound_7 sound_8 interaction_1 interaction_2 interaction_3 interaction_4 interaction_5 interaction_6 interaction_7 interaction_8 interaction_9 interaction_10 happening_1 happening_2 happening_3 happening_4 happening_5 happening_6 happening_7 happening_8 happening_9 happening_10 happening_11 happening_12 changeCollectedTabIcon changeCreatedTabIcon changeSearchTabIcon setProfileItem_1 setProfileItem_2 setProfileItem_3 setProfileItem_4 setProfileItem_5 setProfileItem_6 setProfileBack setProfileDynamic".split(" "),
freeNames:"defaultVoice stop transport closeMyEyes defaultPanelColor resetTabIcons resetProfileItems clearProfileBack transportToCenter dynamicOrigin clearProfileDynamic".split(" "),isRunning:!1,O4644:null,O7404:null,O1616:null,O3685:null,O2512:null,O7310:!1,O3100:[],entities:[],O1611:[],O6307:null,data:{},O1592:0,O2235:null,O4191:!1,O1929:!1,O7322:0,O2774:!1,
soundFreeNames:["waggleWhatIHold"],O5265:null,receivedPings:[],receivedPingsSeenIndex:-1,O4713:function(){for(var a in this.names);},O4516:function(a,b){var c=!1,d;for(d in this.names){if(d==a&&!b)c=!0;else for(var e=0;e<this.names[d].length;e++)if(this.names[d][e]==a){c=!0;break}if(c)break}return c},start:function(a,b,c,d,e){0<=this.O6708.indexOf(a)&&b&&!b.isEditorHere||(this.O5265={name:a,O3685:b,O7404:c,O7310:d,
O1616:e})},doStart:function(a,b,c,d,e){if(ig.game.O4269&&(b||(b=ig.game.O4269),this.isRunning&&this.stop(),b&&1<=b.rank&&!this.isRunning&&0<=this.O4516(a,!0)&&(-1===this.O893.indexOf(a)||c)))ig.game.isFullAccount&&(!b.O4102&&ig.game.O4120.O2144(b.O2507))&&this.O7815(a)?-1===a.indexOf("sound_")&&ig.game.O4349.O225(b.O2507):(this.O7404=c,this.O3685=
b,this.O7310=Boolean(d),this.O1616=e,this.O2512=null,this.data={},this.O1616&&(this.O2512=ml.Misc.O2849(this.O1616)),"selection"==a&&b.O4102&&(this.O1616=this.O6670()),b.O4102&&ig.game.O4349.O1294(a,c,this.O7310,this.O1616),this.initBoost(a),b.O4102&&ig.game.motionDialog&&ig.game.motionDialog.O5076("boost"),b.O4102&&
(ig.game.boostDialog&&ig.game.boostDialog.isOpen)&&ig.game.boostDialog.close())},O7815:function(a){return 0<="nextToMeFloating nextToMeMovementTrail nextToMeMultiple nextToMeRollMoving nextToMeBlendingIn nextToMeBrightLight arrivalFromAboveThem arrivalFromBelowThem behindThem giveWhatIHold everyoneFloating everyoneIsInvisible behindEveryone aboveEveryone everyoneRollMoving sound_1 sound_2 sound_3 sound_4 interaction_1 interaction_2 interaction_3 interaction_4 interaction_5 interaction_6 interaction_7 interaction_8 interaction_9 interaction_10 happening_1 happening_2 happening_3 happening_4 happening_5 happening_6 happening_7 happening_8 happening_9 happening_10".split(" ").indexOf(a)},
initBoost:function(a){var b={x:0,y:-29};this.O3685.O4102&&-1===this.freeNames.indexOf(a)&&this.O1579--;this.O4191=!0;this.O4644=a;this.isRunning=!0;this.O1929=!1;this.O2235=new ml.Timer;this.O1592=this.O6075;var c=this.O3396(this.O4644);"stop"==a?(this.O6134(),this.stop()):"myVoice"==c&&this.O7310?((c="defaultVoice"==a?null:a.substr(15))&&(c=ig.game.strings.replaceAll(c,"Font","")),ig.game.areaTitleFont=
c,ig.game.areaDialog.doAutoSave=!0,ig.game.areaDialog.open(),this.O6134(),this.stop()):0<=a.indexOf("TabIcon")?(this.O3685.O4102&&this.O280(),this.stop()):0<=a.indexOf("ProfileItem")?(this.O3685.O4102&&this.O5073(),this.stop()):"setProfileBack"==a||"clearProfileBack"==a?(this.O3685.O4102&&this.O7499(),this.stop()):"setProfileDynamic"==a||"clearProfileDynamic"==a?(this.O3685.O4102&&
this.O117(),this.stop()):"toRandomArea"==a?(this.O8445(),this.O3685.O4102&&this.O5862(),this.stop()):"insight"==c&&"dynamicOrigin"!=a?(this.O8445(),this.stop()):"transportToCenter"==a?(this.O8445(),this.O3685.O4102&&ig.game.O5211.fadeInShroud(function(){ig.game.O231.resetSpawnPoint()}),this.stop()):"showAreasFriendsAre"==a?(this.O8445(),this.O3685.O4102&&
ig.game.areaList&&ig.game.areaList.O2823(),this.stop()):0===a.indexOf("changePanel_")||"defaultPanelColor"==a?(this.O3685.O4102&&(this.O7310?(this.O3107(),this.stop()):("defaultPanelColor"==a?(ig.game.settings.set("panelColor",null),this.O6134()):(c=a.substr(12),ig.game.settings.set("panelColor",c),this.O8445()),ig.game.O5211.fadeInShroud(function(){window.location.reload()}))),this.stop()):(0===a.indexOf("myVoiceChanges_")||
"defaultVoice"==a)&&!this.O7310?(c="defaultVoice"==a?null:a.substr(15),this.O3685.voice=c,"cute"==c?ig.game.sounds.click.play():c?this.O8445():this.O6134(),this.stop()):"closeMyEyes"==a?(this.O3685.keepEyesClosedDueToBoost=!0,this.stop()):"giveWhatIHold"==a?(this.O7404&&(this.O2512&&this.O2512.O4102)&&(ig.game.O7510.O2135(this.O2512,"h",this.O7404),ig.game.O4349.O3168("h",
this.O7404)),this.stop()):this.O4644&&0===this.O4644.indexOf("interaction_")?(this.O1592=15,this.O431()):0===a.indexOf("sound_")&&(ig.game.sounds.O7220(this.O7404),this.stop());this.O4644&&(c=0<=this.soundFreeNames.indexOf(a),!c&&-1===["focusOnMe"].indexOf(a)&&this.O1611.push({type:"growingStartCircle",radius:5,energy:60,rgb:[255,255,255],O6315:this.O3685,O7518:"lighter"}),c||this.O8445(),
"waggleWhatIHold"==a&&ig.game.sounds.actionSoft.play());var c=this.O7310?"hue":"overlay",d=this.O7310?-10:0;switch(this.O4644){case "brightness":this.O5281([255,255,255],"overlay",80);break;case "darkness":this.O7310?this.O5281([0,0,0],"source-over",100):this.O5281([0,0,75],"multiply",50);break;case "clouds":this.O2730();break;case "weakColorsLight":this.O5281([200,200,200],"saturation",85);break;case "strongColorsLight":this.O7080("saturate(4)");
break;case "changingLight":this.O7080("hue-rotate("+50*(this.O7310?-1:1)+"deg)");break;case "everyoneIsInvisible":this.O4856();break;case "focusOnMe":this.O6756();break;case "everyoneFloating":this.O1592-=10;break;case "transport":this.O1592=3;this.data={didTransport:0};break;case "movementTrail":this.O1592+=5;break;case "multipleMe":this.O1592+=5;break;case "meRollMoving":this.O1592+=5;break;case "crumbleJump":this.O1592+=
5;break;case "moveBackwards":this.O1592-=5;break;case "waggleWhatIHold":this.O1592-=16;break;case "redLight":this.O5281([255,40,40],c,80+d);break;case "greenLight":this.O5281([20,240,20],c,70+d);break;case "blueLight":this.O5281([50,50,255],c,70+d);break;case "yellowLight":this.O5281([200,200,0],c,70+d);break;case "purpleLight":this.O5281([220,0,220],c,60+d);break;case "cyanLight":this.O5281([0,180,180],c,80+d);break;case "onMe":this.O2449();
break;case "behindMe":this.O2449(null,!0);break;case "aboveMe":this.O2449(b);break;case "behindThem":this.O5094(null,!0);break;case "behindEveryone":this.O2405(null,!0);break;case "aboveEveryone":this.O2405(b);break;case "thingsEverywhere":this.O7001()}this.O2336()&&(this.O3685.O4102?(this.O5035(),this.O1592=15):this.stop());this.O4644&&(this.O7322=this.O1592-
0.25,0<=["brightness","darkness"].indexOf(a)&&(this.O7322=this.O1592-0.75));"moveBackwards"==this.O4644&&this.O3685.O4102&&ig.game.O4803.register(ig.game.O4803.types.USED_MOVE_BACKWARDS_BOOST)},O3396:function(a){var b,c;for(c in this.names)if(0<=this.names[c].indexOf(a)){b=c;break}return b},O280:function(){switch(this.O4644){case "changeCollectedTabIcon":ig.game.settings.set("collectedTabItemId",this.O7404);
ig.game.panelSet.tabImage.collected.image=null;this.O8445();break;case "changeCreatedTabIcon":ig.game.settings.set("createdTabItemId",this.O7404);ig.game.panelSet.tabImage.created.image=null;this.O8445();break;case "changeSearchTabIcon":ig.game.settings.set("searchTabItemId",this.O7404);ig.game.panelSet.tabImage.search.image=null;this.O8445();break;case "resetTabIcons":ig.game.panelSet.tabImage.collected.image=null,ig.game.panelSet.tabImage.created.image=
null,ig.game.panelSet.tabImage.search.image=null,ig.game.settings.O1356(),this.O6134()}},O5073:function(){if("resetProfileItems"==this.O4644)ig.game.O7421.O10(0,null).done(function(a){ig.game.O7421.O10(1,null).done(function(a){ig.game.O7421.O10(2,null).done(function(a){ig.game.O7421.O10(3,null).done(function(a){ig.game.O7421.O10(4,null).done(function(a){ig.game.O7421.O10(5,
null).done(function(a){ig.game.playerDialog&&ig.game.playerDialog.O3657();ig.game.O3501.O6134()})})})})})});else{var a=this.O4644.split("_"),a=parseInt(a[1])-1;ig.game.O7421.O10(a,this.O7404).done(function(a){ig.game.playerDialog&&ig.game.playerDialog.O3657()});this.O8445()}},O7499:function(){switch(this.O4644){case "setProfileBack":ig.game.O7421.O4694(this.O7404).done(function(a){ig.game.playerDialog&&
ig.game.playerDialog.O3657()});this.O8445();break;case "clearProfileBack":ig.game.O7421.O4694(null).done(function(a){ig.game.playerDialog&&ig.game.playerDialog.O3657()}),this.O6134()}},O117:function(){switch(this.O4644){case "setProfileDynamic":ig.game.O7421.O848(this.O7404).done(function(a){ig.game.playerDialog&&ig.game.playerDialog.O3657()});this.O8445();break;case "clearProfileDynamic":ig.game.O7421.O848(null).done(function(a){ig.game.playerDialog&&
ig.game.playerDialog.O3657()}),this.O6134()}},O3107:function(){var a=null;"defaultPanelColor"==this.O4644?this.O6134():(a=ig.game.strings.replaceAll(this.O4644,"changePanel_",""),this.O8445());ig.game.O7421.O6025(a?ig.game.colors.enum[a]:null).done(function(a){ig.game.playerDialog&&ig.game.playerDialog.O3657()})},O5035:function(){var a=this.O3685?ig.game.O5662(this.O3685.pos):
null;this.O8439(this.O7404,this.O3685,null,null,a)},O4475:function(a,b){this.isRunning&&this.O7815(this.O4644)&&(this.O3100.push(a),this.O2512&&this.O2512.O2507==a?this.stop():this.O4820(a),ig.game.O4269.O2507==b&&(!ig.game.isEditor&&2<=this.O3100.length)&&(this.O2774=!0))},O4820:function(a){for(var b=
this.entities.length-1;0<=b;b--){var c=this.entities[b];c&&(!c._killed&&c.O2512&&c.O2512Id==a)&&(c.energy=0)}},O6603:function(a){return 0<=this.O3100.indexOf(a.O2507)},stop:function(){this.O1592=this.O6075;this.O2235=this.O4644=null;this.isRunning=this.O4191=!1;this.data={};this.O3174();this.O1611=[];this.O6307&&this.O6307.tidyUp&&this.O6307.tidyUp();this.O7404=
this.O2512=this.O1616=this.O6307=null;this.O3100=[];this.O3685&&(this.O3685.O7105=[]);this.O3685=null;this.O6564();this.O7308()},O7308:function(){var a=ig.game.O413.player;if(a)for(var b=0;b<a.length;b++){var c=a[b];c&&(c.boostData=null)}},update:function(){this.O5265&&(this.doStart(this.O5265.name,this.O5265.O3685,
this.O5265.O7404,this.O5265.O7310,this.O5265.O1616),this.O5265=null);if(this.isRunning&&this.O3685&&ig.game.O4269){this.O3075();switch(this.O4644){case "quake":this.update_quake();break;case "clouds":this.update_clouds();break;case "rain":this.update_rain();break;case "snow":this.update_snow();break;case "colorGlitter":this.O6204();break;case "lightning":this.update_lightning();
break;case "thingsMovingRight":this.O923(1,0);break;case "thingsMovingLeft":this.O923(-1,0);break;case "thingsMovingDown":this.O923(0,1);break;case "thingsMovingUp":this.O923(0,-1);break;case "upwardsBursting":this.O923(0,-1);break;case "downwardsBursting":this.O923(0,1);break;case "arrivalFromLeft":this.O923(1,0);break;case "arrivalFromRight":this.O923(-1,0);break;case "arrivalFromAbove":case "arrivalFromAboveThem":this.O923(0,
1);break;case "arrivalFromBelow":case "arrivalFromBelowThem":this.O923(0,-1);break;case "selection":this.O923(0,1)}this.O6307&&this.O6307.update();var a=this.O2235?this.O2235.delta():0;a>=this.O1592?this.stop():a>=this.O7322&&!this.O1929&&(this.O1929=!0,-1===this.soundFreeNames.indexOf(this.O4644)&&this.O6134());this.O4191=!1}},O7925:function(){if(ig.input.pressed("middleclick")&&
this.O8448("transport","me")){var a=ig.game.O6099.O4260(),b=ig.game.O4269;ml.Misc.O7969(b.pos,a)<=ig.game.O8283?(b.O6609=a.x>b.pos.x,a=b.pos,b.pos=ig.game.O6099.O4260(),ig.game.sounds.portallingWhoosh.play(),ig.game.decorator.O753(a.x,a.y,0,0,3),ig.game.decorator.O753(b.pos.x,b.pos.y,0,0,6),ig.game.O4349.O2947(a,b.pos,{x:0,y:0},b.O6609)):ig.game.sounds.actionSoft.play()}},
O3075:function(){for(var a=this.entities.length-1;0<=a;a--){var b=this.entities[a];b&&(0>=b.energy?(b._killed=!0,b.tidyUp&&b.tidyUp(),delete this.entities[a]):(b.update(),this.O8003(b)))}},O1283:function(){this.isRunning&&this.O2336()&&this.O7156()},O212:function(){this.isRunning&&!this.O2336()&&this.O8119()},draw:function(){this.isRunning&&(this.O2336()?this.O7156():this.O7474(!1),
this.O6307&&this.O6307.O1668())},O188:function(){this.isRunning&&(this.O2336()?this.O7156():this.O7474(!0),this.O4459())},O7474:function(a){for(var b=0;b<this.entities.length;b++){var c=this.entities[b];c&&(!c._killed&&!c.isBehindPlayer&&c.isFrontLayer==a)&&c.draw()}},O7156:function(){for(var a=0;a<this.entities.length;a++){var b=this.entities[a];b&&!b._killed&&b.draw()}},O8119:function(){for(var a=
0;a<this.entities.length;a++){var b=this.entities[a];b&&b.isBehindPlayer&&b.draw()}},O4459:function(){for(var a=this.O1611.length-1;0<=a;a--){var b=this.O1611[a];if(b&&0<b.energy)switch(b.type){case "growingStartCircle":this.O7897(b);break;case "screenCoveringRectangle":this.O8082(b)}else delete this.O1611[a]}},O7897:function(a){a.O6315?(a.radius+=0.2*ig.game.targetFps*
ig.system.tick,a.pos=a.O6315.O369(),a.pos={x:a.pos.x-ig.game._rscreen.x+6,y:a.pos.y-ig.game._rscreen.y},this.O4860(a.pos,a.radius,this.O2751(a),a.O7518),a.energy-=1*ig.game.targetFps*ig.system.tick):a.energy=0},O8082:function(a){a&&0<a.energy&&(this.O2235.delta()>=this.O1592-1&&(a.O4465=-Math.abs(a.O4465)),a.energy=(a.energy+a.O4465).limit(a.minEnergy,a.maxEnergy),this.O4426(a.pos,a.size,
this.O2751(a),a.O7518))},O2751:function(a){var b=[0,0,0,0];a&&a.rgb&&(b=ig.game.O5662(a.rgb),b[3]=0<a.energy&&100>=a.energy?a.energy/100:0);return b},O4860:function(a,b,c,d){var e=ig.system.context;d&&ml.Misc.O1651(d);e.beginPath();e.arc(a.x*ig.system.scale,a.y*ig.system.scale,b*ig.system.scale,0,2*Math.PI,!1);e.lineWidth=2*ig.system.scale;e.strokeStyle="rgba("+c.join(",")+")";e.stroke();d&&ml.Misc.O13()},O4426:function(a,b,c,d){var e=
ig.system.context;d&&ml.Misc.O1651(d);e.fillStyle="rgba("+c.join(",")+")";e.fillRect(a.x*ig.system.scale,a.y*ig.system.scale,b.x*ig.system.scale,b.y*ig.system.scale);d&&ml.Misc.O13()},update_quake:function(){if(ig.game.chance(10)||this.O4191)ig.game.camera.shake(),this.O1734("quake",10);if(ig.game.chance(15)||this.O4191){var a=ig.game.O5662(ig.game.O4269.pos);a.x+=ig.game.O5167(-ig.system.widthHalf,ig.system.widthHalf);a.y+=ig.game.O5167(-ig.system.O8417,
ig.system.O8417);var b=ig.game.O7715.O3379(a);if(b){var c=ig.game.O5167(2,6);this.O2624(b,a,null,null,c)}}},update_clouds:function(){if(ig.game.chance(5)||this.O4191){var a=this.O2716(),b={x:ig.game.O5167(5,20),y:0};ig.game.chance(50)&&(b.x*=-1);b.x+=ig.game.O6225;ml.Misc.O4768(b);this.spawnEntity(a,b,{O3726:ig.game.O5405.mist,O1271:0.25,O4895:80,O5561:4,
fadingInc:1},"mist");this.O1734("wind",25)}},update_rain:function(){if(ig.game.chance(40)||this.O4191){var a=this.O2716();a.y-=3*ig.game.tileSize;var b={x:ig.game.O6225,y:this.distort(130,5)};this.spawnEntity(a,b,{O3726:ig.game.O5405.whiteLineVertical,opacity:60},"rainCloud");this.O1734("raindrop",15)}},update_snow:function(){if(ig.game.chance(50)||this.O4191){var a=this.O2716();a.y-=
3*ig.game.tileSize;var b={x:this.distort(ig.game.O6225,10),y:this.distort(20,5)};this.spawnEntity(a,b,null,"snowCloud")}},O6204:function(){if(ig.game.chance(90)||this.O4191){var a=this.O2716(),b={x:this.distort(ig.game.O6225,15),y:this.distort(10,15)},c={O5561:0.75,O1271:20,fadingInc:7.5,O4895:100,O1018:!1},d=ig.game.O5167(1,6);c.O3726=ig.game.O5405["glitter"+d];c.O1018=ig.game.chance(50);
c.decorative=!c.O1018;this.spawnEntity(a,b,c,"boostColorGlitter")}},update_lightning:function(){if(ig.game.chance(1)||this.O4191){var a=this.O2716();a.y-=3*ig.game.tileSize;this.spawnEntity(a,{x:0,y:0},{O3726:ig.game.O5405.lightning,O5561:0.5,fadingInc:5,O2824:!0},"lightning");this.O1734("lightning",100)}},distort:function(a,b){return a+ig.game.O5167(-b,b)},O2716:function(){var a={},
b=ig.system.widthHalf+50;a.x=ig.game.O4269.pos.x+ig.game.O5167(-b,b);a.y=ig.game.O4269.pos.y+ig.game.O5167(-b,b);a.x+=(ig.game.camera.screenTarget.x-ig.game.O4269.pos.x)/4;a.y+=(ig.game.camera.screenTarget.y-ig.game.O4269.pos.y)/4;return a},spawnEntity:function(a,b,c,d,e){e||(e=EntitySpot);c||(c={});b||(b={x:0,y:0});c.vel={x:b.x,y:b.y};c.attribute=d;ig.game.O6879(e,a.x,a.y,c)},O2449:function(a,b){this.O8439(this.O7404,
this.O3685,a,b);if(this.O7310)for(var c=0,d=2*Math.PI/8,e=0;8>e;e++){var f=a?ig.game.O5662(a):{x:0,y:0};f.x+=Math.round(30+30*Math.cos(c)-30);f.y+=Math.round(30+30*Math.sin(c)-30);f.x=this.distort(f.x,2);f.y=this.distort(f.y,2);c+=d;this.O8439(this.O7404,this.O3685,f,b)}},O5094:function(a,b){this.O8439(this.O7404,this.O2512,a,b)},O2405:function(a,b){var c=ig.game.O413.player;if(c)for(var d=
0;d<c.length;d++){var e=c[d];e&&!e._killed&&(this.O3685.O2507!=e.O2507||this.O7310)&&this.O8439(this.O7404,e,a,b)}},O7001:function(){for(var a=1;50>=a;a++){var b=ig.game.chance(60),c=b?3:0.25,d=this.O2716(),c={x:ig.game.O5167(-c,c),y:ig.game.O5167(-c,c)};this.O8439(this.O7404,null,null,null,d,c,b)}},O923:function(a,b){var c=0<=this.O4644.indexOf("Bursting"),d=0<=this.O4644.indexOf("arrival")||
"selection"==this.O4644;if(!d&&ig.game.chance(3)||this.O4191){var e=100,f=ig.game.O5167(60,80);this.O7310&&!d&&(f*=3);var g={x:f*a,y:f*b},h=this.O2716(),k=null,l=this.O7310?ig.game.O5167(3,9):1,m=null,n=["selection","arrivalFromAboveThem","arrivalFromBelowThem"];if(0!=a)if(d)for(f=1;f<=l;f++)k=0<=n.indexOf(this.O4644)?ml.Misc.O2849(this.O1616):this.O3685,h.x=k.pos.x+(ig.system.widthHalf+e)*-1*
a,h.y=k.pos.y-ig.game.O5286,1!=f&&(m={x:ig.game.O5167(-40,40),y:ig.game.O5167(-40,40)},h.x+=m.x,h.y+=m.y,g.x+=ig.game.O5167(-15,15)),this.O8439(this.O7404,null,null,null,h,g,!0,k,m);else h.x=ig.game.O4269.pos.x+(ig.system.widthHalf+e)*-1*a,this.O8439(this.O7404,null,null,null,h,g,!0,k,m);if(0!=b)if(d){k=0<=n.indexOf(this.O4644)?ml.Misc.O2849(this.O1616):this.O3685;for(f=1;f<=l;f++)h.x=k.pos.x-
8,h.y=k.pos.y+(ig.system.O8417+e)*-1*b,1!=f&&(m={x:ig.game.O5167(-40,40),y:ig.game.O5167(-40,40)},h.x+=m.x,h.y+=m.y,g.y+=ig.game.O5167(-15,15)),this.O8439(this.O7404,null,null,null,h,g,!0,k,m)}else h.y=ig.game.O4269.pos.y+(ig.system.O8417+e)*-1*b,this.O8439(this.O7404,null,null,null,h,g,!0,k)}if(c){if(ig.game.chance(4*(this.O7310?2:1)))if((c=this.entities[ig.game.O5167(0,this.entities.length-1)])&&0<c.energy&&("upwardsBursting"==
this.O4644&&c.pos.y<=this.O3685.pos.y+ig.game.O5286||"downwardsBursting"==this.O4644&&c.pos.y>=this.O3685.pos.y-ig.game.O5286))(e=c.givenName&&(0<=c.givenName.indexOf("water")||0<=c.givenName.indexOf("liquid")))?ig.game.sounds.splash.play():ig.game.sounds["burst"+ig.game.O5167(1,2)].play(),ig.game.decorator.burst(c,null,!0,e),c.energy=0}else if(d)for(f=0;f<this.entities.length;f++)if((c=this.entities[f])&&!c.arrived&&c.O2512)if(e=0>c.vel.y?
50:65,d=ig.game.O5662(this.O3685.pos),c.targetOffset&&(d.x+=c.targetOffset.x,d.y+=c.targetOffset.y),0<c.vel.x&&c.pos.x>=d.x-e||0>c.vel.x&&c.pos.x<=d.x+e||0<c.vel.y&&c.pos.y>=d.y-e||0>c.vel.y&&c.pos.y<=d.y+e)c.vel.x*=0.9,c.vel.y*=0.9,c.arrived=0.01>=Math.abs(c.vel.x)&&0.01>=Math.abs(c.vel.y),c.arrived&&(c.vel.x=ig.game.O5167(-1,1),c.vel.y=ig.game.O5167(-1,1),0==c.vel.x&&0==c.vel.y&&(c.vel.y=-1),c.O6753&&c.O6753("action"))},O6670:function(){var a=
null,b=ig.game.O413.player;b&&(a=b[ig.game.O5167(0,b.length-1)].O2507);return a},O8439:function(a,b,c,d,e,f,g,h,k){if(a){var l=this,m=this.O6476(this.O4644),n=ig.game.O4961.getItemBasic(a,"boost_add_entity");n.imagesBeingGenerated.done(function(){if(0<=m.indexOf(n.base)&&!ig.game.O7510.O4721(n)){var a={thingTypeId:n.id,flip:0,attributes:n.attributes,animSheet:ig.game.entityManager.getAnimationForEntity(n,0,0),givenName:n.name,
O5579:!0};f&&(a.vel=f);ig.game.entityManager.O6079(n.O7062(),n,a,!0);var q={x:0,y:0};e&&(q=e);var s="Entity"+ig.game.strings.toUpperCaseFirst(n.base.toLowerCase());ig.global[s]||(s="EntityDefault");var r=l.entities.length;l.entities[r]=new ig.global[s](q.x,q.y,a);l.entities[r].base=n.base;l.entities[r].isBehindPlayer=Boolean(d);l.entities[r].O2512=h;l.entities[r].targetOffset=k;b&&("HAPPENING"==n.base?n.attributes&&n.attributes.follows&&(l.entities[r].O6315=
b):(l.entities[r].followParentEntity=!0,l.entities[r].O6315ToFollow=b,c||(c={x:0,y:0}),l.entities[r].offsetToParent=c));"DYNATHING"==n.base&&(l.entities[r].O3637=!0,l.entities[r].isStack=!1);l.entities[r].isFrontLayer=Boolean(g);l.entities[r].energy=1;"EntityDefault"==s&&(l.entities[r].update=function(){});l.entities[r].update();l.O8003(l.entities[r]);l.O32(n,l.entities[r]);"DYNATHING"==n.base&&l.entities[r].O6753("move")}})}},O32:function(a,
b){if("DYNATHING"==a.base&&a.attributes&&(a.attributes.attachable||a.attributes.follows||a.attributes.closelyFollows)){var c=!1;if(c="arrivalFromLeft"==this.O4644||"thingsMovingRight"==this.O4644?!0:"arrivalFromRight"==this.O4644||"thingsMovingLeft"==this.O4644?!1:ig.game.chance(50))b.O2769=-1,b.O6257=!0,b.reset(),b.update()}},O8003:function(a){if(ig.game.O4269)if(a.followParentEntity)if(a.O6315ToFollow&&!a.O6315ToFollow._killed&&
a.O6315ToFollow.pos){a.O1457&&a.O6315ToFollow.O1457&&(a.O1457.flip=ig.game.O5662(a.O6315ToFollow.O1457.flip));a.pos=ig.game.O5662(a.O6315ToFollow.pos);a.animSheet&&(a.pos.x-=a.animSheet.width/2,a.pos.y-=a.animSheet.height/2);if(a.O1457&&a.O1457.sheet){var b=a.O1457.sheet.height;a.pos.x+=a.O1457.sheet.width/8;a.pos.y+=b/8}a.offsetToParent&&(a.pos.x+=a.offsetToParent.x,a.pos.y+=a.offsetToParent.y);"DECOBIG"==a.base?
(a.pos.x+=a.size.x/4,a.pos.y+=a.size.y/4):"DECOVBIG"==a.base&&(a.pos.x+=a.size.x/6,a.pos.y+=a.size.y/6)}else a.energy=0;else a._killed||(b=ig.game.O4269.pos,0>a.vel.x&&a.pos.x<b.x-ig.system.widthHalf-100||0<a.vel.x&&a.pos.x>b.x+ig.system.widthHalf+100||0>a.vel.y&&a.pos.y<b.y-ig.system.O8417-100||0<a.vel.y&&a.pos.y>b.y+ig.system.O8417+100?(a.energy-=2,a.isFading=!0,0>a.energy&&(a.energy=0)):a.isFading||(a.energy+=2,100<a.energy&&(a.energy=100)),a.pos.y+=a.vel.y*ig.system.tick,a.pos.x+=
a.vel.x*ig.system.tick,ig.game.chance(0.05)&&ig.game.sounds.playIncludedSound(a),0<a.energy&&a.O1457&&(a.O1457.alpha=a.energy/100))},O5281:function(a,b,c){c||(c=60);b||(b="lighter");this.O1611.push({type:"screenCoveringRectangle",pos:{x:0,y:0},size:{x:ig.system.width,y:ig.system.height},energy:0.1,O4465:1,minEnergy:0,maxEnergy:c,rgb:a,O7518:b})},O6756:function(){this.O1592=6;jQuery("body").css("transform","scale(2,2)")},O7080:function(a){jQuery("body").css("filter",
a).css("webkitFilter",a).css("mozFilter",a).css("oFilter",a).css("msFilter",a)},O6564:function(){this.O7080("none");jQuery("body").css("zoom","none");jQuery("body").css("transform","none")},O2730:function(){this.O1611.push({type:"screenCoveringRectangle",pos:{x:0,y:0},size:{x:ig.system.width,y:ig.system.height},energy:0.1,O4465:1,minEnergy:0,maxEnergy:20,rgb:[235,235,255],O7518:"lighter"})},O431:function(){var a=this.O7404,
b=ig.game.O4961.getItemBasic(a,"boost_init_inter"),c=this;jQuery.when(b.imagesBeingGeneratedPromise,b.basicDataLoading.promise()).then(function(){var d={thingTypeId:a,animSheet:ig.game.entityManager.getAnimationForEntity(b,0,0),rotation:0,attributes:b.attributes,O5309:null,O4591:!0,O5579:!0};void 0!==b.name&&(d.givenName=b.name);void 0!==b.checksNears&&(d.checksNears=b.checksNears);void 0!==b.textSize&&(d.textSize=b.textSize);void 0!==b.reactsTo&&(d.reactsTo=
b.reactsTo);void 0!==b.boundingBox&&(d.boundingBox=b.boundingBox);c.O6307=new ig.global.EntityInteract(0,0,d)})},O4856:function(){this.O1611.push({type:"screenCoveringRectangle",pos:{x:0,y:0},size:{x:ig.system.width,y:ig.system.height},energy:0.1,O4465:1,minEnergy:0,maxEnergy:30,rgb:[0,0,0]})},O1734:function(a,b){if(ig.game.chance(b)){var c=ig.game.O5167(1,ig.game.sounds.environmentSounds[a]);ig.ua.iPad&&(c=1);ig.game.sounds["environment_"+
a+"_"+c].play()}},O946:function(a){a.offsetY+=a.O6966;0>a.O6966&&a.offsetY<-a.O5626?(a.O6966=Math.abs(a.O6966),a.offsetY=-a.O5626):0<a.O6966&&a.offsetY>a.O5626&&(a.O6966=-Math.abs(a.O6966),a.offsetY=a.O5626)},O3174:function(){for(var a=this.entities.length-1;0<=a;a--)this.entities[a]&&this.entities[a].tidyUp&&this.entities[a].tidyUp(),delete this.entities[a];this.entities=[]},O2624:function(a,b,c,d,
e){c||(c=1);a=a.thing.img.data;e=e?e:3;for(var f=e*ig.system.scale,g=1;g<=c;g++){var h=ig.game.O5167(0,2),k=ig.game.chance(75)?0:ig.game.O5167(0,2),l=document.createElement("canvas");l.width=f;l.height=f;l.getContext("2d").drawImage(a,h*f,k*f,f,f,0,0,f,f);h=new ml.Image(null,null,null,l);l=new ml.AnimationSheet(null,e,e,h);h=ig.game.O5662(b);h.y+=10;k={x:0,y:0};d&&(k={x:ig.game.O5167(-70,70),y:ig.game.O5167(-200,-50)});ml.Misc.O4768(k);l={animSheet:l,
O199:1,O5561:3,O1018:!1};l.decorative=ig.game.chance(75);l.opacity=100;ig.game.O3501.spawnEntity(h,k,l)}d&&ig.game.sounds.collapse.play()},O2055:function(a){if(this.isRunning&&"crumbleJump"==this.O4644&&this.O3685.O2507==a.O2507&&a.O274&&a.O274.thing&&a.O274.thing.img){var b=ig.game.O5167(3,6);this.O2624(a.O274,ig.game.O5662(a.pos),b,
!0)}},O6476:function(a){a=0===a.indexOf("sound_")?["SOUND"]:0===a.indexOf("interaction_")?["INTERACT"]:0<=a.indexOf("TabIcon")&&"resetTabIcons"!=a?["DECO"]:"setProfileBack"==a?["DECO","DECOBIG","DECOVBIG"]:"setProfileDynamic"==a?["DYNATHING"]:0===a.indexOf("happening_")?["HAPPENING"]:0===a.indexOf("setProfileItem_")?this.getAllBaseTypesArray():"DECO DECOANIM DECOBIG DECOVBIG LIVELY DYNATHING SOLID STACKHOLD CONSUMAB LIVING LIVANIM STACKWEARB MNTGROUND MNTAIR".split(" ");return ig.game.O5662(a)},
getAllBaseTypesArray:function(){var a=[],b;for(b in window.Item.prototype.BASE_TYPES)window.Item.prototype.BASE_TYPES[b].publicKey&&a.push(b);return a},O7889:function(a){return this.isRunning&&("everyoneFloating"==this.O4644||"meFloating"==this.O4644&&a.O4102)},O7811:function(){var a=0;this.isRunning&&(0===this.O4644.indexOf("thingsMoving")?a=this.O7310?5:50:0===this.O4644.indexOf("arrivalFrom")||0<=this.O4644.indexOf("wardsBurst")?
a=100:"thingsEverywhere"==this.O4644?a=100:0<=["onMe","behindMe","aboveMe"].indexOf(this.O4644)&&this.O7310&&(a=50));return ig.game.O5167(0,a)},O1841:function(a,b){var c=null;0==b.indexOf("thingsMoving")||0<=b.indexOf("wardsBursting")?c="faster":0==b.indexOf("darkness")?c="darker":0==b.indexOf("arrivalFrom")?c="many":"multipleMe"==b||"nextToMeMultiple"==b?c="more":0<=b.indexOf("changePanel")?c="change profile":"defaultPanelColor"==b?c="default profile":0<=["onMe","behindMe",
"aboveMe"].indexOf(b)?c="more":"changingLight"==b?c="even":"movementTrail"==b||"nextToMeMovementTrail"==b?c="bright":0<=this.O1330.indexOf(b)?c="different":"everyoneAround"==a&&"selection"!=b?c="me too":"waggleWhatIHold"==b?c="rotate":"myMostCollectedCreations"==b||"myMostPlacedCreations"==b?c="Second Most":"myVoice"==a&&(c="Area Title");return c},O31:function(a){var b=0;this.isRunning&&("waggleWhatIHold"==this.O4644&&this.O3685&&a.O2507==this.O3685.O2507)&&
(void 0===this.data.waggle&&(this.data.waggle=this.O7310?{angle:0,vel:-0.08}:{angle:0,vel:-0.03,max:0.4}),b=this.data.waggle,b.angle+=b.vel,void 0!=this.data.waggle.max&&(0>b.vel&&b.angle<-b.max?(b.angle=-b.max,b.vel=Math.abs(b.vel)):0<b.vel&&b.angle>b.max&&(b.angle=b.max,b.vel=-Math.abs(b.vel))),b=b.angle,a.O6609&&(b*=-1));return b},O8445:function(){ig.game.sounds.O733(ig.game.sounds.boost,0.3)},O6134:function(){ig.game.sounds.O733(ig.game.sounds.boostEnd,
0.3)},O8448:function(a,b,c){var d=!1,e=ig.game.isEditorHere&&"INDIVIDUALS"==ig.game.O2714,f=0<=this.O6708.indexOf(a),g=(0<=["light","everyoneAround"].indexOf(b)||0<=a.indexOf("Bursting")||"thingsEverywhere"==a)&&-1===a.indexOf("sound_"),h=ig.game.O413&&ig.game.O413.player&&8<=ig.game.O413.player.length,k=ig.game.O4269&&ig.game.O172.O4036(ig.game.O4269.pos)&&ig.game.O707;ig.game.O4367?
"myVoice"==b&&c?ig.game.isEditorHere?ig.game.O707?ig.game.O884.O8271("nonPublicAreasOnly"):d=!0:ig.game.O884.O8271("editorOnly"):"receivedPings"==a&&0==this.receivedPings.length?ig.game.O4269.say("i received no pings"):ig.game.O5182?d=!0:"transport"==a&&"INDIVIDUALS"!=ig.game.O2714?d=!0:"transportToCenter"==a?(d=ig.game.isEditorHere||ig.game.theyCanMapTeleport)||ig.game.O4269.say("i need to go to an area where i can edit"):
ig.ua.steam&&("everyoneRollMoving"==a||"nextToMeRollMoving"==a)?ig.game.O4269.say("i currently can't use this boost"):("meRollMoving"==a||"reverseMe"==a)&&ig.game.O4269.attachments.b&&ig.game.O4269.attachments.b.animSheet&&ml.Misc.O4473(ig.game.O4269.attachments.b.animSheet)?ig.game.O4269.say("i can't use this boost with this body"):e?d=!0:0<=a.indexOf("setProfileItem")?d=!0:"setProfileBack"==a||"clearProfileBack"==a||"setProfileDynamic"==
a||"clearProfileDynamic"==a?d=!0:c&&(0<=a.indexOf("changePanel_")||"defaultPanelColor"==a)?d=!0:0<=a.indexOf("Panel")||0<=a.indexOf("TabIcon")?ig.game.isEditorHere?d=!0:ig.game.O4269.say("i need to go to an area where i can edit"):"transport"==a&&ig.game.isEditorHere&&(5<=ig.game.O4269.rank||!ig.game.O707)?d=!0:f?ig.game.O4269.say("i need to go to an area where i'm in the editor's list"):g&&k?ig.game.O4269.say(ig.game.O172.O7190()):g&&h?ig.game.O4269.say("there's too many people around and i'm not in the editor's list here"):
(d=!0,console.log("can it")):ig.game.O4269.say("i can't boost here now");return d},O2336:function(){return this.O4644&&0===this.O4644.indexOf("happening_")},O1292:function(a){return this.isRunning&&"everyoneIsInvisible"==this.O4644&&this.O3685&&(this.O7310||!this.O3685.O2507==a.O2507)},O4101:function(){return this.isRunning&&"transport"==this.O4644&&this.O3685&&ig.game.O4269&&this.O3685.O2507==
ig.game.O4269.O2507},O1403:function(){if(this.O4101()&&!this.data.didTransport){var a=ig.game.O6099.O4260();ml.Misc.O7969(ig.game.O4269.pos,a)<=ig.game.O8283?(ig.game.O4269.O6609=a.x>ig.game.O4269.pos.x,ig.game.O4269.pos=ig.game.O6099.O4260(),ig.game.sounds.portallingWhoosh.play(),this.data.didTransport=!0):ig.game.sounds.actionSoft.play()}else return!1},O5862:function(){ig.game.O7421.O1901().done(function(a){if(a&&
a.names&&2<=a.names.length)for(var b=!1;!b;){var c=ig.game.O5167(0,a.names.length-1),c=a.names[c];c!=ig.game.O966&&(b=!0,ig.game.portaller.startToAreaButNotSubAreaTeleportingRequest(c))}})},O800:function(a,b){switch(a){case "setProfileBack":case "setProfileDynamic":this.O8196(b)}},O8196:function(a){ig.game.O7421.getItemImageDataFromPng_P(a).done(function(a){if(a&&a.imageData&&a.imageData.pixels){for(var c=!1,d=a.imageData.pixels[0],
e=0;e<d.length&&!c;e++)for(var f=0;f<d[0].length&&!c;f++){var g=a.imageData.colors[d[e][f]];0<g.alpha&&(c=g.r+g.g+g.b,c=225<=(c?c/3:0))}c||ig.game.alertDialog.O1846("Only colors brighter than the profile background will show, so you may want to use lighter colors.")}})},O7798:function(a,b){var c;switch(a){case "myMostCollectedCreations":case "myMostPlacedCreations":if(ig.game.itemListDialog){var d=this.O7310?1:0,e=a;this.O7310&&(e=ig.game.strings.replaceAll(e,"Most",
"SecondMost"));e=ig.game.strings.O2708(e);ig.game.itemListDialog.open(JSON.parse(b),"myMostCollectedCreations"==a?"timesCd":"timesPd",e,d)}break;case "numberOfPlacementsIMade":c="i made "+ig.game.strings.O4733(b)+" placements";break;case "numberOfThingsIMade":c="i made "+ig.game.strings.O4733(b)+" things";break;case "numberOfDistinctPlacedItemsInUniverse":c="there's "+ig.game.strings.O4733(b)+" items";break;case "numberOfAreasInUniverse":c="there's "+ig.game.strings.O4733(b)+
" areas";break;case "numberOfThingsICollected":c="i collected "+ig.game.strings.O4733(b)+" things";break;case "numberOfPlacementsInUniverse":b=parseInt(b);1E6<b?(b=Math.floor(b/1E6),c="there's "+b+" million placements"):c="there's "+ig.game.strings.O4733(b)+" placements";break;case "receivedPings":ig.game.alertDialog.open({html:this.O4763(),O3468:!0});break;case "numberOfMinfinityDays":c="i have "+b,setTimeout(function(){ig.game.O4269&&ig.game.O884.O2127("minfinity days")},
1500)}c&&ig.game.O4269&&ig.game.O884.O2127(c);this.O7310=!1},O8121:function(a,b,c){this.receivedPings.push({senderId:a,O6057:b,areaHtml:c,time:new Date})},O4763:function(){var a="";if(1<=this.receivedPings.length){for(var b=this.receivedPings.length-1;0<=b;b--)var c=this.receivedPings[b],d="ig.game.playerDialog.openForPlayerId('"+c.senderId+"')",a=a+('<p style="'+(this.receivedPingsSeenIndex<b?"color: green":"color: #666")+'">'),a=a+('<span class="pseudolink" onclick="'+
d+'">'+ig.game.strings.O4334(c.O6057)+"</span> "),a=a+("pinged you from "+c.areaHtml),a=a+(" "+ig.game.strings.O5864(c.time,void 0," ")),a=a+".</p>";this.receivedPingsSeenIndex=this.receivedPings.length-1}else a='<p style="opacity: 0.5; margin-top: 30px">No pings received</p>';return a}})});ig.baked=!0;
ig.module("game.core.socialintegration").defines(function(){window.SocialIntegration=ig.Class.extend({getFacebookPostUrl:function(a){var b=ig.game.areaName?ig.game.strings.O1848(ig.game.areaName):"Manyland",c="I was here in Manyland,",d="a world we all create.";ig.game.O1054&&(c="",d=ig.game.strings.O1848(ig.game.O1054));var e=ig.game.O45?ig.game.O3754.O6727(ig.game.O45):"http://manyland.com";a=a?ig.game.O3754.O5021(a):
ig.game.O3754.O3190(ig.game.O45);var f;f="https://www.facebook.com/dialog/feed?"+("app_id="+ig.game.O1034+"&");f+="redirect_uri="+encodeURIComponent("http://manyland.com")+"&";f+="caption="+encodeURIComponent(c)+"&";f+="link="+encodeURIComponent(e)+"&";f=f+("picture="+a+"&")+("name="+encodeURIComponent(b)+"&");return f+="description="+encodeURIComponent(d)+"&"}})});ig.baked=!0;
ig.module("game.core.iapmanager").defines(function(){window.IapManager=ig.Class.extend({paypalJsLoaded:!1,paypalJsUrl:"https://www.paypalobjects.com/js/external/dg.js",O2530:5,processing:!1,init:function(){},O1803:function(){if(!this.paypalJsLoaded){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src",this.paypalJsUrl);this.paypalJsLoaded=!0}},O2301:function(a){ig.game.O7421.O5225(a).done(function(a){a.redirectTo&&
(ig.game.O231.O7538(),window.location.href=a.redirectTo)}).fail(function(a){})},O3327:function(a){if(!this.processing){this.processing=!0;var b=document.getElementById("getMinfinityButton");(!b||!b)&&ig.game.errorManager.O7973("Something went wrong during payment process, please contact we@manyland.com");b.innerHTML="Please Wait";b=this.O2530;if(a)console.log("starting minfinity subscription purchase call. Amount: "+b),ig.game.O7421.O447(b).done(function(a){a.redirectTo?
(console.log("redirecting to payment provider"),localStorage.isAboutToPayForSubscription=!0,ig.game.O231.O7538(),window.location.href=a.redirectTo):ig.game.errorManager.O7973("Something went wrong during payment process, please contact we@manyland.com")}).fail(function(){ig.game.errorManager.O7973("Something went wrong during payment process, please contact we@manyland.com")});else{console.log("starting minfinity one time purchase call. Amount: "+b);
var c=this;ig.game.O7421.O5302(b).done(function(a){localStorage.isAboutToPayForSubscription=!0;a.redirectTo?(console.log("redirecting to payment provider"),ig.game.O231.O7538(),window.location.href=a.redirectTo):ig.ua.steam?(console.log("waiting for steam overlay interaction"),c.processing=!1,ig.game.alertDialog.close()):ig.game.errorManager.O7973("Something went wrong during payment process, please contact we@manyland.com")}).fail(function(){ig.game.errorManager.O7973("Something went wrong during payment process, please contact we@manyland.com")})}}}})});
ig.baked=!0;
ig.module("game.core.iapdialogmanager").defines(function(){window.IapDialogManager=ig.Class.extend({playedMinfinitySoundThisSession:!1,O1452:function(){this.O5360();this.O7940()},O7940:function(){if(this.O7850()){localStorage.minfinityLastExpiredReminded=ig.game.minfinityLastExpired;var a="";ig.game.lastMinfinityAmount&&(a+="<p>Thanks for having gotten Minfinity, and for supporting Manyland!</p>");ig.game.alertDialog.open(a+
"<p>A new month has started.</p>",!0,function(){ig.game.alertDialog.close();setTimeout(function(){ig.game.iapDialogManager.openMainDialog()},350)})}},O7850:function(){return!ig.game.hasMinfinity&&ig.game.minfinityLastExpired&&(!localStorage.minfinityLastExpiredReminded||String(localStorage.minfinityLastExpiredReminded)!=String(ig.game.minfinityLastExpired))&&20<=ig.game.O5210},openMainDialog:function(){ig.game.alertDialog.isOpen&&ig.game.alertDialog.close();ig.game.hasMinfinity?
this.O6974():this.O8180()},O5267:function(){ig.game.alertDialog.open({html:'<p>Please get <span class="pseudoLink" onclick="ig.game.iapDialogManager.openMainDialog()">Minfinity</span> for this</p>',O3468:!0})},O8180:function(){var a="";ig.game.painter.isRunning?ig.game.painter.close():ig.game.boostDialog.isOpen&&ig.game.boostDialog.close();var a=a+'<div style="max-width: 700px; position: relative; margin-left: auto; margin-right: auto">',
b='<img src="'+ml.Misc.O8018("minfinity-icon",2)+'" alt=""/>',a=a+("<p>"+b+" <strong>Minfinity</strong> gets you:</p>")+this.O133(12);ig.ua.mobile?(a+="<p><em>We're sorry, but getting Minfinity isn't yet available on this device. We hope to add it in the future!</em></p>",ig.game.alertDialog.open(a,!0)):(a+='<div style="margin-top: 15px; text-transform: uppercase"><span id="getMinfinityButton" class="pseudoLink" style="'+("background-color: gold; padding: 8px; padding-left: 15px; padding-right: 15px; border-radius: 5px; display: inline-block; border-bottom: "+
ig.system.scale+"px solid #994; border-top: "+ig.system.scale+"px solid white;")+'" onclick="ig.game.iapDialogManager.O3327(false)">&gt;&gt; Get It for $'+ig.game.iapManager.O2530+"/ 1 month</span></div>",a+='<p style="color: rgb(108,108,108)">Non-renewing, via PayPal (or see <a href="//store.steampowered.com/app/342280/Manyland/" target="_blank" style="color: inherit">Steam version</a>)</p>',a+='<p style="opacity: .4; font-size: 90%; border-top: '+ig.system.scale+'px solid rgba(0,0,0,.4); margin-top: 50px">Manyland is made together with all of our passion and heart. We hope to put it on a stable financial fundament. Whether or not you get Minfinity, <strong>thank you</strong> for being in Manyland!</p>',
a+="</div>",ig.game.alertDialog.open(a,!0,null,null,!0,!0));ig.game.sounds.whoosh.play()},O133:function(a){for(var b="",c=["Giving of Mifts for free & infinite Boosts",!ig.ua.mobile&&!ig.ua.steam?"Disable ads in the settings":null,"Search for items in whole universe","Paste links in chat","One extra creatable area per day","... and you help cover Manyland's costs"],d=0;d<c.length;d++)null!=c[d]&&(b+='<div style="margin-bottom: '+a+'px; text-transform: uppercase; color: rgb(80,145,0)">+ '+
c[d]+"!</div>");return b},O7779:function(){jQuery("#oldAmount").hide();jQuery("#getMinfinityAmountSelect").show();ig.game.sounds.click.play()},O5360:function(){localStorage.isAboutToPayForSubscription&&(delete localStorage.isAboutToPayForSubscription,ig.game.hasMinfinity&&this.O6974(!0))},O3327:function(a){jQuery("#getMinfinityButton").css("opacity",".5");ig.game.iapManager.O3327(a)},O6974:function(a){a=
'<p style="font-size: 110%; color: rgb(100,100,0); margin-top: 30px">Thanks for getting Minfinity and supporting Manyland! You appear in the <span class="pseudoLink" onclick="ml.Misc.openUrl(\'/info#minfinity\')">credits</span>. ';a+="Minfinity gives you:";a+=this.O133(4);a+="</p>";ig.game.alertDialog.open({html:a});jQuery("#alertDialog").css("background-color","rgb(255,255,200)");this.playedMinfinitySoundThisSession?ig.game.sounds.whoosh.play():(this.playedMinfinitySoundThisSession=
!0,setTimeout(function(){ig.game.sounds.minfinity.play()},2E3))}})});ig.baked=!0;
ig.module("game.core.farbackmanager").defines(function(){window.FarBackManager=ig.Class.extend({maxCoordinate:void 0,O3605:void 0,O1468:Math.PI/180,O7063:1E4,O3904:"rotate",O6190:"mirror",O6806:"flip",O3080:function(a,b,c,d){this.O4214(d);d=100;var e=0,f=[];if(a&&"string"==typeof a){a=a.toLowerCase();a=ig.game.strings.replaceAll(a,"\r\n","\r");a=ig.game.strings.replaceAll(a,"\n","\r");a=this.O5756(a);
var g=a.split("\r"),h=b.diversifyPoints||b.diversifyPointsStronger||b.diversifyPointsStrongest||b.diversifyPointsOld;h&&(ig.game.seedableRandom.setSeed(a.length),b.diversifyPoints?e=2:b.diversifyPointsStronger?e=5:b.diversifyPointsStrongest&&(e=10),d*=3);for(a=0;a<g.length;a++){var k={},l=g[a],l=ig.game.strings.O4099(l),l=l.trim(),m=l.split(" "),l=0,n=m.indexOf(this.O3904);if(0<=n){var p=n+1;p<m.length&&(l=m[p],m.splice(n,2))}n=!1;p=m.indexOf(this.O6190);0<=p&&(n=
!0,m.splice(p,1));var p=!1,q=m.indexOf(this.O6806);0<=q&&(p=!0,m.splice(q,1));k.cellDoFlipHorizontal;var s=q=void 0,r=void 0,v=void 0,u=void 0,t=m.indexOf("cell");-1===t&&3==m.length?(q=m[0],s=m[1],r=m[2],u=v=0):2===t?(q=m[0],s=m[1],r=m[3],6==m.length?(v=m[4],u=m[5]):u=v=0):0===t?(r=m[1],v=m[2],u=m[3]):(q=m[0],s=m[1]);h&&(1<=f.length&&void 0!==q&&void 0!==s&&a<g.length-1)&&(m=f[f.length-1],void 0!==m.x&&void 0!==m.y&&(t={},t.x=Math.round(0.66*m.x+0.33*q),t.y=Math.round(0.66*m.y+0.33*s),b.diversifyPointsOld?
(t.x+=a%4,t.y+=a%3):(t.x+=ig.game.seedableRandom.O5167(-e,e),t.y+=ig.game.seedableRandom.O5167(-e,e)),f.push(t),t={},t.x=Math.round(0.33*m.x+0.66*q),t.y=Math.round(0.33*m.y+0.66*s),b.diversifyPointsOld?(t.x-=a%3,t.y-=a%4):(t.x+=ig.game.seedableRandom.O5167(-e,e),t.y+=ig.game.seedableRandom.O5167(-e,e)),f.push(t)));k.cellOffset={x:0,y:0};this.O1029(q)&&(this.O1029(s)&&this.O4233(q,1<=r)&&this.O4233(s,1<=r))&&(k.x=parseInt(q),k.y=parseInt(s));
this.O1029(r)&&(1<=r&&r<=c)&&(k.cell=parseInt(r),this.O1029(v)&&(this.O1029(u)&&v>=-this.O3605&&v<=this.O3605&&u>=-this.O3605&&u<=this.O3605)&&(k.cellOffset.x=parseInt(v),k.cellOffset.y=parseInt(u)),l&&ml.Misc.O6680(l)?(l=parseInt(l).limit(-this.O7063,this.O7063),k.cellRotation=l*this.O1468):k.cellRotation=0,k.cellFlipX=n,k.cellFlipY=p);f.push(k);if(f.length>=d)break}}return f},O1029:function(a){return void 0!==
a&&a==parseInt(a)},O4214:function(a){a?this.O3605=this.maxCoordinate=100:(this.maxCoordinate=500,this.O3605=300)},O4233:function(a,b){var c=!1;a==parseInt(a)&&(c=b?this.O3605:this.maxCoordinate,a=parseInt(a),c=a>=-c&&a<=c);return c},O5756:function(a){for(var b=null;a!=b;)b=a,a=ig.game.strings.replaceAll(a,"  "," "),a=ig.game.strings.replaceAll(a,"\r\r","\r");return a},O5939:function(a,b){var c=0,
d=a.attributes&&a.attributes.muchFurtherInFront,e=b.attributes&&b.attributes.muchFurtherInFront;d&&!e?c=1:!d&&e?c=-1:(d=a.attributes&&(a.attributes.furtherInFront||a.attributes.muchFurtherInFront),e=b.attributes&&(b.attributes.furtherInFront||b.attributes.muchFurtherInFront),d&&!e?c=1:!d&&e?c=-1:a.pos.y<b.pos.y?c=-1:a.pos.y>b.pos.y?c=1:(d=a.O5309?a.O5309.x%2:0,e=b.O5309?b.O5309.x%2:0,d<e?c=1:d>e?c=-1:a.pos.x<b.pos.x?c=-1:a.pos.x>b.pos.x&&(c=1)));return c},O8431:function(a){var b=
a.attributes&&a.attributes.muchFurtherInFront,c=b?0.045:0.09;a={x:(ig.game.O4269.pos.x-a.pos.x)*c,y:(ig.game.O4269.pos.y-a.pos.y)*c};b=b?2:1;c=(ig.game._rscreen.x-ig.game.camera.screenTarget.x)/(10*b);a.x+=c;c=(ig.game._rscreen.y-ig.game.camera.screenTarget.y)/(10*b);c+=ig.game.camera.O691/(8.5*b);a.y+=c;return a}})});ig.baked=!0;
ig.module("game.core.seedablerandom").defines(function(){window.SeedableRandom=ig.Class.extend({N:624,M:397,MATRIX_A:2567483615,UPPER_MASK:2147483648,LOWER_MASK:2147483647,mt:null,mti:null,setSeed:function(a){void 0===a&&this.setSeed(Date.now());this.mt=Array(this.N);this.mti=this.N+1;this.init_genrand(a)},random:function(){return this.genrand_int32()*(1/4294967296)},chance:function(a){return this.random()<=a/100},O5167:function(a,b){return parseInt(Math.floor((b+1-a)*this.random()+a),10)},
init_genrand:function(a){this.mt[0]=a>>>0;for(this.mti=1;this.mti<this.N;this.mti++)a=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((a&4294901760)>>>16)<<16)+1812433253*(a&65535)+this.mti,this.mt[this.mti]>>>=0},genrand_int32:function(){var a,b=[0,this.MATRIX_A];if(this.mti>=this.N){var c;this.mti==this.N+1&&this.init_genrand(5489);for(c=0;c<this.N-this.M;c++)a=this.mt[c]&this.UPPER_MASK|this.mt[c+1]&this.LOWER_MASK,this.mt[c]=this.mt[c+this.M]^a>>>1^b[a&1];for(;c<this.N-
1;c++)a=this.mt[c]&this.UPPER_MASK|this.mt[c+1]&this.LOWER_MASK,this.mt[c]=this.mt[c+(this.M-this.N)]^a>>>1^b[a&1];a=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK;this.mt[this.N-1]=this.mt[this.M-1]^a>>>1^b[a&1];this.mti=0}a=this.mt[this.mti++];a^=a>>>11;a^=a<<7&2636928640;a^=a<<15&4022730752;return(a^a>>>18)>>>0}})});ig.baked=!0;
ig.module("game.core.steammanager").defines(function(){window.SteamManager=ig.Class.extend({pseudoSteamForLocalTesting:!1,init:function(){if(!this.pseudoSteamForLocalTesting||window.steam_setMicroTxnAuthorizationHandler)window.steam_initResult||ig.game.errorManager.O7973("Greenworks was not loaded or initialized"),window.steam_setMicroTxnAuthorizationHandler(this.O3618),this.O987()},O7116:function(){"true"==localStorage.windowAlwaysOnTop&&
ig.game.settings.O2181();var a=ig.game.O414?this.O414/60:0;ig.game.O966!=ig.game.O5975&&(120>=a||1>=ig.game.O4269.rank)&&this.O5643(!0)},O987:function(){document.addEventListener("dragover",function(a){a.preventDefault();a.stopPropagation()},!1);document.addEventListener("drop",function(a){a.preventDefault();a.stopPropagation()},!1)},O3618:function(a,b){console.log("Got MicroTxnAuthorizationResponse");
console.log("Got MicroTxnAuthorizationResponse. orderId: "+a);b?ig.game.O7421.O2284(a).done(function(a){console.log("Reloading - minfinity purchase completed");location.reload(!1)}).fail(function(){ig.game.errorManager.O7973("Transaction could not be completed - please contact support at we@manyland.com")}):(console.log("Not authorized by user"),ig.game.O7421.O7719(a))},openUrl:function(a){"/info"!==a&&(0===a.indexOf("http://")||0===a.indexOf("https://")||
(a=ig.game.isLocal?"127.0.0.1:3000"+a:"//manyland.com"+a));this.openBrowserWindow(a)},O5643:function(a){window.location.hash=a?"offerGuidanceBeforeClosing":""},openDevTools:function(){window.steam_openDevTools()},isWindowAlwaysOnTop:function(){return window.steam_isWindowAlwaysOnTop()},setWindowAlwaysOnTop:function(a){window.steam_setWindowAlwaysOnTop(a)},isWindowFullScreen:function(){return window.steam_isWindowFullScreen()},setWindowFullScreen:function(a){return window.steam_setWindowFullScreen(a)},
openBrowserWindow:function(a){window.steam_openBrowserWindow(a)},closeWindow:function(){window.steam_closeWindow()},setAchievement:window.steam_setAchievement})});ig.baked=!0;
ig.module("game.coms.httpapi").defines(function(){window.HttpApi=ig.Class.extend({useCdn:!0,O3496:!0,O6801:!0,O7185:null,O8030:0,init:function(){var a={dataType:"json",timeout:12E3,retryMax:3};this.useCdn=!ml.Misc.O5752();this.O3496=!ml.Misc.O5752();ig.ua.iexplorer&&(a.cache=!1);this.itemDefUrl="/j/i/def/";this.bigItemDefUrl="/j/i/bd/";this.isSecure="https:"===document.location.protocol;this.O3496&&
(this.itemDefUrl="//d2h9in11vauk68.cloudfront.net/",this.bigItemDefUrl="//d2ayxksa523le6.cloudfront.net/");a.beforeSend=function(a,c){var d=ig.game.O2612?ig.game.O2612:ml.Misc.O03("act");d&&!c.crossDomain&&a.setRequestHeader("X-CSRF",d);ig.game.sci&&-1<c.url.indexOf("j1.manyland.com")&&a.setRequestHeader("X-CSRF",d)};jQuery.ajaxSetup(a);$(document).ajaxError(function(a,c,d,e){})},O8067:function(a){var b="";if("string"===typeof a){for(var b=a.split("/"),
c=[],d=0;d<b.length;d++){var e=b[d],e=5>=e.length?e:"...";c.push(e)}b=c.join("/");c="/j/m/placer/ /j/m/di/ /j/m/sp/ /j/m/sps/ /j/m/rp/ /j/m/plfdt/ /j/m/dms/ /j/e/esi/ /j/e/esl/ /j/e/esr/".split(" ");for(d=0;d<c.length;d++)if(e=c[d],0===a.indexOf(e)){b=e+"...";break}}return b},O867:function(a){a="urlCacheAppend_"+a;sessionStorage[a]||(sessionStorage[a]=ig.game.strings.O5151());return"?"+sessionStorage[a]},O4220:function(a){delete sessionStorage["urlCacheAppend_"+a]},
getItemDef:function(a,b,c){var d=this;jQuery.ajax({url:this.itemDefUrl+a,success:function(a){c(a)},error:function(b,d,g){console.warn("Httpapi ajax call failed for getItemDef of id "+String(a));c({id:a,O2103:!0})},statusCode:{404:function(){d.O6715(a,b)}}})},getItemDef_P:function(a,b,c){var d=this;return jQuery.ajax({url:this.itemDefUrl+a,context:c,statusCode:{404:function(){d.O6715(a,b)}}})},O6715:function(a,b){100>this.O8030&&
(this.O8030++,jQuery.ajax({url:"/j/i/rmi/",type:"POST",data:{itemId:a,areaId:ig.game.O172.currentArea,context:b}}))},getItemBigData_P:function(a,b){return jQuery.ajax({url:this.bigItemDefUrl+a,context:b})},getItemStats_P:function(a){return jQuery.ajax({url:"/j/i/st/"+a})},O3957:function(a,b,c){return jQuery.ajax({url:"/j/i/gcr/"+a+"/"+b+this.O867("createdItems"),context:c})},O1921:function(a,b,c,d){return jQuery.ajax({url:"/j/s/i/",
type:"POST",data:{qs:a,start:b,end:c},context:d})},O4518:function(a,b,c,d){return jQuery.ajax({url:"/j/s/ib/",type:"POST",data:{qs:a,p:b,s:c},context:d})},O378:function(a,b){return jQuery.ajax({url:"/j/i/cin/"+a,context:b})},O1637:function(a,b){return jQuery.ajax({url:"/j/i/tcr/"+a+"/",context:b})},O3334:function(a,b){this.O4220("createdItems");return jQuery.ajax({url:"/j/i/c/",type:"POST",data:{itemData:a},
context:b})},O1810:function(a){return jQuery.ajax({url:"/j/i/ccq/",type:"POST",context:a})},O247:function(a){this.O4220("createdItems");return jQuery.ajax({url:"/j/i/d/",type:"POST",data:{itemId:a}})},getItemImageData_P:function(a,b){return jQuery.ajax({url:"j/i/dat/"+a,context:b})},getItemImageDataFromPng_P:function(a,b){return jQuery.ajax({url:"j/i/datp/"+a,context:b})},O5598:function(a,b){return jQuery.ajax({url:"/j/i/cols/"+a,context:b})},
flagAbusiveItem_P:function(a,b,c){return jQuery.ajax({url:"/j/i/f/",type:"POST",data:{itemId:a,mapLoc:b},context:c})},O4852:function(a,b){return jQuery.ajax({url:"/j/i/chkf/"+a,context:b})},getItemUnlisted_P:function(a,b){return jQuery.ajax({url:"/j/i/gu/",type:"POST",data:{id:a},context:b})},setItemUnlisted_P:function(a,b,c){return jQuery.ajax({url:"/j/i/su/",type:"POST",data:{id:a,isUnlisted:b},context:c})},O2136:function(a,b,c,d){return jQuery.ajax({url:"/j/m/placer/"+
a.x+"/"+a.y+"/"+b+"/"+c,context:d})},O7145:function(a,b,c,d){return jQuery.ajax({url:"/j/m/di/"+a.x+"/"+a.y+"/"+b+"/"+c,context:d})},O7023:function(a,b,c,d){if(0===c&&this.O6801){var e=new jQuery.Deferred;this.O1676(c,d).then(jQuery.ajax({url:"/j/m/spl/"+a+"/"+b+"/"+c+"/"+d+"?"+this.O7185}).done(e.resolve).fail(e.reject));return e.promise()}return jQuery.ajax({url:"/j/m/sp/"+a+"/"+b+"/"+c+"/"+d})},O4782:function(a,
b,c){return jQuery.ajax({type:"POST",url:"/j/m/s/",data:{s:JSON.stringify(c),p:a,a:b}})},O5154:function(a,b,c){var d=new jQuery.Deferred;jQuery.ajax({type:"POST",url:"/j/m/sv/",data:{s:JSON.stringify(c),p:a,a:b}}).done(function(d){jQuery.ajax({type:"GET",url:"/j/m/sv/",data:{s:JSON.stringify(c),p:a,a:b}})}).fail(d.reject);return d.promise()},O1676:function(a,b){var c=this,d=jQuery.ajax({type:"POST",url:"/j/m/cmv/",data:{p:a,a:b}});d.done(function(a){c.O7185=
a.v}).fail(function(){console.log("Could not get vMap");ig.game.errorManager.warn("Could not get vMap",b,!0)});return d},O5970:function(a,b,c){return jQuery.ajax({url:"/j/m/rp/"+a+"/"+b,context:c})},O3851:function(a,b,c,d,e){return jQuery.ajax({url:"/j/m/plfdt/"+a+"/"+b+"/"+c+"/"+d,context:e})},O7773:function(a,b,c,d){return jQuery.ajax({url:"/j/m/dms/"+a+"/"+b+"/"+c+"/"+d})},O5535:function(a,b,c){return jQuery.ajax({type:"POST",
url:"/j/m/dmss/",data:{s:a,p:b,a:c}})},mnt_P:function(a){var b=ig.game.O172;return jQuery.ajax({type:"POST",url:"/j/m/mnt/",data:{p:b.O6722,a:b.currentArea,sx:b.O2998.x,sy:b.O2998.y,c:a}})},O5663:function(a,b,c){return jQuery.ajax({url:"/j/c/r/"+a+"/"+b+this.O867("collectedItems"),context:c})},O3821:function(a,b,c){this.O4220("collectedItems");return jQuery.ajax({url:"/j/c/c",type:"POST",
data:{itemId:a,index:b},context:c})},O201:function(a,b){this.O4220("collectedItems");return jQuery.ajax({url:"/j/c/d",type:"POST",data:{itemId:a},context:b})},O2760:function(a,b){return jQuery.ajax({url:"/j/c/check/"+a+"/",context:b})},O4301:function(a,b){return jQuery.ajax({url:"/j/u/tip/"+a,context:b})},O1818:function(a,b,c){return jQuery.ajax({url:"/j/u/pi/",type:"POST",data:{id:a,
planeId:b,areaId:c}})},O1870:function(a,b){return jQuery.ajax({url:"/j/u/a/",type:"POST",data:{id:a},context:b})},O2836:function(a,b,c){return jQuery.ajax({url:"/j/u/sus/",type:"POST",data:{name:a,value:b},context:c})},O10:function(a,b,c){return jQuery.ajax({url:"/j/u/spi/",type:"POST",data:{index:a,id:b},context:c})},O6025:function(a,b){return jQuery.ajax({url:"/j/u/spc/",type:"POST",data:{color:a},context:b})},O4694:function(a,
b){return jQuery.ajax({url:"/j/u/spb/",type:"POST",data:{backId:a},context:b})},O848:function(a,b){return jQuery.ajax({url:"/j/u/spd/",type:"POST",data:{dynaId:a},context:b})},O6495:function(a){return jQuery.ajax({url:"/j/u/gfr/",type:"POST",context:a})},O3855:function(a){return jQuery.ajax({url:"/j/u/tu/",type:"POST",context:a})},O1859:function(a,b,c){return jQuery.ajax({url:"/j/u/f/",type:"POST",data:{uid:a,reason:b},context:c})},O6253:function(a,
b){return jQuery.ajax({url:"/j/u/rav/"+a,context:b})},O698:function(){return jQuery.ajax({url:"/j/u/p/",type:"POST"})},O7395:function(){return jQuery.ajax({url:"/j/u/toc/"})},O4883:function(a){return jQuery.ajax({url:"/j/u/gcn/"+a})},O3871:function(a){return jQuery.ajax({url:"/j/u/glt/",type:"POST",context:a})},O3649:function(a,b){return jQuery.ajax({url:"/auth/token/",type:"POST",data:{token:a},context:b})},O6343:function(a){return jQuery.ajax({url:"/j/u/fab/",
context:a})},O3677:function(a){return jQuery.ajax({url:"/j/u/oof/",context:a})},O6370:function(a,b){return jQuery.ajax({url:"/j/mp/c",type:"POST",data:{id:a},context:b})},O2369:function(a,b){return jQuery.ajax({url:"/j/mp/d",type:"POST",data:{id:a},context:b})},O2039:function(a,b){return jQuery.ajax({url:"/j/u/bfs",type:"POST",data:{id:a},context:b})},O4539:function(a,b){return jQuery.ajax({url:"/j/mbp/c",type:"POST",data:{id:a},
context:b})},O7495:function(a,b){return jQuery.ajax({url:"/j/mbp/d",type:"POST",data:{id:a},context:b})},O4901:function(a,b){return jQuery.ajax({url:"/j/u/ps/"+a,context:b})},O1460:function(a,b){return jQuery.ajax({type:"POST",url:"/j/u/pss/",data:{ids:a},context:b})},O2586:function(a,b){return jQuery.ajax({url:"/j/u/pslu/"+a,context:b})},O6527:function(a,b){return jQuery.ajax({url:"/j/u/pt/",type:"POST",
data:{state:a},context:b})},O2240:function(a,b,c){return jQuery.ajax({url:"/j/v/loc/"+a+"/"+b,context:c})},O1462:function(a,b){return jQuery.ajax({url:"/j/v/loc/"+a,context:b})},O384:function(a,b){return jQuery.ajax({url:"/j/v/cds/"+a,context:b})},O1911:function(a,b){return jQuery.ajax({url:"/j/v/sca/"+a,context:b})},O5101:function(a,b,c){return jQuery.ajax({url:"/j/v/pla/"+a+"/"+b,
context:c})},O4072:function(a,b,c,d,e,f,g){return jQuery.ajax({url:"/j/v/c",type:"POST",data:{shortCode:a,loc:b,imgDataUrl:c,imgThumbDataUrl:d,isListed:e,isPrivate:f},context:g})},O4122:function(a,b){return jQuery.ajax({url:"/j/v/svs/",type:"POST",data:{shortCode:a,listed:b}})},O6691:function(a,b){return jQuery.ajax({url:"/j/v/svp/",type:"POST",data:{shortCode:a,isPrivate:b}})},O5599:function(a){return jQuery.ajax({url:"/j/v/shl/",
type:"POST",data:{id:a}})},O2347:function(a){return jQuery.ajax({url:"/j/v/sc/",context:a})},O5524:function(a){return jQuery.ajax({headers:{"cache-control":"no-cache"},url:"/j/i/",type:"POST",data:{urlName:a,buster:Date.now()}})},O3982:function(a){return jQuery.ajax({url:"/timeout",context:a})},O7906:function(a){return jQuery.ajax({url:"/j/n/gln/",context:a})},O7803:function(){return jQuery.ajax({url:"/j/n/guc/"})},O607:function(a){return jQuery.ajax({url:"/j/u/s/",
type:"POST",data:{status:a}})},O2559:function(a){return jQuery.ajax({url:"/j/u/gi/"+a})},setUserIcon_P:function(a){return jQuery.ajax({url:"/j/u/si/",type:"POST",data:{iconId:a}})},O194:function(a){return jQuery.ajax({url:"/j/i/mo/"+a})},O3258:function(a,b,c){return jQuery.ajax({url:"/j/i/am/",type:"POST",data:{mid:a,bid:b,pos:c}})},O8438:function(a,b){return jQuery.ajax({url:"/j/i/dm/",type:"POST",data:{mid:a,bid:b}})},O6158:function(a,
b){return jQuery.ajax({url:"/j/i/mp/",type:"POST",data:{bid:a,mp:b}})},O4633:function(a,b,c,d){return jQuery.ajax({url:"/j/e/esi/"+c+"/"+d+"/"+a+"/"+b})},O4780:function(a,b,c,d,e,f){return jQuery.ajax({url:"/j/e/esr/"+c+"/"+d+"/"+e+"/"+f+"/"+a+"/"+b})},O1578:function(a,b,c,d){return jQuery.ajax({url:"/j/e/esl/"+c+"/"+d+"/"+a+"/"+b})},O3958:function(a){return jQuery.ajax({url:"/j/e/mlp/"+
a})},createArea_P:function(a){return jQuery.ajax({url:"/j/a/c/",type:"POST",data:{areaData:a}})},O5500:function(a,b){return jQuery.ajax({url:"/j/a/u/",type:"POST",data:{id:a,areaData:b}})},O2979:function(a,b,c,d){return jQuery.ajax({url:"/j/a/st/",type:"POST",data:{id:a,thumb:b,width:c,height:d}})},O3311:function(a){return jQuery.ajax({url:"/j/a/nel/"+a})},O2438:function(a){return jQuery.ajax({url:"/j/a/nu/"+a})},O4962:function(a){return jQuery.ajax({url:"/j/a/ane/"+
a})},O5262:function(a,b){return jQuery.ajax({url:"/j/a/nug/"+a+"/"+b})},O5019:function(a){return jQuery.ajax({url:"/j/a/nad/"+a})},O128:function(){return jQuery.ajax({url:"/j/a/mal/"+(ig.game.areaGroupId?ig.game.areaGroupId:"")})},O2441:function(a){return jQuery.ajax({url:"/j/a/cf/",type:"POST",data:{id:a}})},O1685:function(a,b){return jQuery.ajax({url:"/j/a/sf/",type:"POST",data:{id:a,reason:b}})},O1901:function(){return jQuery.ajax({url:"/j/a/gr/"})},
addForumThreadAndFirstComment_P:function(a,b,c,d){return jQuery.ajax({url:"/j/f/at/",type:"POST",data:{forumId:a,title:b,content:c,items:d}})},O1948:function(a,b,c){return jQuery.ajax({url:"/j/f/ac/",type:"POST",data:{threadId:a,content:b,items:c}})},O2395:function(a,b){return jQuery.ajax({url:"/j/f/sc/",type:"POST",data:{threadId:a,clarification:b}})},O647:function(a,b,c,d){return jQuery.ajax({url:"/j/f/ec/",type:"POST",data:{commentId:a,
newContent:b,newItems:c,newTitle:d}})},O5402:function(a,b){return jQuery.ajax({url:"/j/f/gf/",type:"POST",data:{forumId:a,olderThan:b}})},O5125:function(a,b){return jQuery.ajax({url:"/j/f/gt/",type:"POST",data:{threadId:a,newerThan:b}})},O909:function(a,b,c){return jQuery.ajax({url:"/j/f/gc/",type:"POST",data:{threadId:a,olderThan:b,newerThan:c}})},O1100:function(a,b,c){return jQuery.ajax({url:"/j/f/ge/",type:"POST",data:{forumId:a,startDate:b,
endDate:c}})},O6504:function(a){return jQuery.ajax({url:"/j/f/glci/"+a})},O1593:function(a){return jQuery.ajax({url:"/j/f/gfs/"+a})},O6342:function(a){return jQuery.ajax({url:"/j/f/tfs/",type:"POST",data:{commentId:a}})},O1789:function(a){return jQuery.ajax({url:"/j/f/rl/",type:"POST",data:{commentId:a}})},O8104:function(a){return jQuery.ajax({url:"/j/f/tl/",type:"POST",data:{commentId:a}})},O1675:function(a){return jQuery.ajax({url:"/j/f/hc/",
type:"POST",data:{id:a}})},O3315:function(a,b){return jQuery.ajax({url:"/j/f/sth/",type:"POST",data:{id:a,isHidden:b}})},O5325:function(a,b){return jQuery.ajax({url:"/j/f/stl/",type:"POST",data:{id:a,isLocked:b}})},O3458:function(a,b){return jQuery.ajax({url:"/j/f/sts/",type:"POST",data:{id:a,isSticky:b}})},O5870:function(a){return jQuery.ajax({url:"/j/f/gs/",type:"POST",data:{id:a}})},O7449:function(a){return jQuery.ajax({url:"/j/f/gse/",
type:"POST",data:{id:a}})},O4802:function(a){return jQuery.ajax({url:"/j/f/gan/",type:"POST",data:{id:a}})},O2363:function(a,b){return jQuery.ajax({url:"/j/f/spk/",type:"POST",data:{id:a,key:b}})},O2365:function(a,b){return jQuery.ajax({url:"/j/f/cpk/",type:"POST",data:{id:a,key:b}})},O3557:function(a){return jQuery.ajax({url:"/j/h/gc/"+a})},O3042:function(a,b,c){return jQuery.ajax({url:"/j/h/sc/",type:"POST",data:{holderId:a,pageNo:b,
contents:c}})},O2912:function(a){return jQuery.ajax({url:"/j/t/gt/"+a})},O5653:function(a,b){return jQuery.ajax({url:"/j/t/st/",type:"POST",data:{multithingId:a,itemProps:b.itemProps,staticItemsPropIndexAndXY:b.staticItemsPropIndexAndXY,movableItemsPropIndexAndXY:b.movableItemsPropIndexAndXY,settings:b.settings}})},O4758:function(a,b,c){return jQuery.ajax({url:"/j/aps/s/",type:"POST",data:{areaGroupId:a,ids:b,vals:c}})},O558:function(){return jQuery.ajax({url:"/j/b/ged/"})},
setUserScriptEditorData_P:function(a){return jQuery.ajax({url:"/j/b/sed/",type:"POST",data:{contents:a}})},O5622:function(a,b,c,d){return jQuery.ajax({url:"/j/mf/grm/",type:"POST",data:{olderThan:a,newerThan:b,setSize:c,id:d&&d.id,priv:!(!d||!d.priv)}})},O7358:function(){return jQuery.ajax({url:"/j/mf/umc/"})},O6627:function(a){return jQuery.ajax({url:"/j/mf/gms/",type:"POST",data:{id:a}})},O1915:function(a){return jQuery.ajax({url:"/j/mf/sbr/",
type:"POST",data:{id:a}})},O3069:function(a){return jQuery.ajax({url:"/j/mf/sbs/",type:"POST",data:{id:a}})},O267:function(a){return jQuery.ajax({url:"/j/mf/sp/",type:"POST",data:{id:a}})},O3684:function(a){return jQuery.ajax({url:"/j/mf/sh/",type:"POST",data:{id:a}})},O1299:function(a){return jQuery.ajax({url:"/j/mf/cs/",type:"POST",data:{id:a}})},O6924:function(a){return jQuery.ajax({url:"/j/a/as/",type:"POST",
data:{qs:a}})},O447:function(a){return jQuery.ajax({url:"/j/p/sub/ns/",type:"POST",data:{amount:a}})},O2839:function(){return jQuery.ajax({url:"/j/p/sub/cs/",type:"POST"})},O5302:function(a){return jQuery.ajax({url:"/j/p/mfo/",type:"POST",data:{amount:a}})},O5225:function(a){return jQuery.ajax({url:"/j/p/cp/",type:"POST",data:{id:a}})},O2284:function(a){return jQuery.ajax({url:"/j/p/suc/",
type:"POST",data:{id:a}})},O7719:function(a){return jQuery.ajax({url:"/j/p/can/",type:"POST",data:{id:a}})},O4439:function(a,b,c,d){return jQuery.ajax({url:"/j/a/aab/",type:"POST",data:{areaId:a,userId:b,minutesOrNullIfPermanent:c,reason:d}})},O717:function(a,b){return jQuery.ajax({url:"/j/a/rab/",type:"POST",data:{areaId:a,userId:b}})},O3120:function(a,b){return jQuery.ajax({url:"/j/a/ubs/",type:"POST",data:{areaId:a,
userId:b}})},O152:function(){return jQuery.ajax({url:"/j/bo/ga/",type:"POST"})},O5815:function(a,b){return jQuery.ajax({url:"/j/bo/sa/",type:"POST",data:{name:a,id:b}})},O6195:function(a){return jQuery.ajax({url:"/j/msc/gst/",type:"POST",data:{url:a}})},O2761:function(a,b,c){return jQuery.ajax({url:"/j/msc/sac",type:"POST",data:{areaName:a,title:b,impressions:c}})},O656:function(a,b,c,d){return jQuery.ajax({url:"/j/msc/uac",
type:"POST",data:{id:a,areaName:b,title:c,paused:d}})},O4915:function(){return jQuery.ajax({url:"/j/msc/gaa",type:"POST"})}})});ig.baked=!0;
ig.module("game.coms.O4107").defines(function(){window.O4246=ig.Class.extend({O4577:32,tileSize:19,O5361:null,O6722:1,currentArea:1,O2998:{x:0,y:0},O2287:{x:0,y:0},O3089:null,O4574:100,init:function(){this.O5361=this.O4577*this.tileSize},O5683:function(a,b,c){if(b||c)this.O6722=b,this.currentArea=c,ig.game.areaId&&this.currentArea!=ig.game.areaId&&ig.game.errorManager.warn("AreaId missmatch",
null,!0);a=this.O7020(a);return a.x!=this.O2998.x||a.y!=this.O2998.y?(this.O2287=this.O2998,this.O2998=a,this.O2998.x>this.O2287.x&&(this.O3089=this.O3089s.EAST),this.O2998.x<this.O2287.x&&(this.O3089=this.O3089s.WEST),this.O2998.y>this.O2287.y&&(this.O3089=this.O3089s.SOUTH),this.O2998.y<this.O2287.y&&(this.O3089=
this.O3089s.NORTH),!0):!1},O6396:function(a){a.x=Math.floor(a.x/this.O4577);a.y=Math.floor(a.y/this.O4577);return a},O139:function(a,b){var c={};c.x=a.x*this.O4577+b.x;c.y=a.y*this.O4577+b.y;return c},O330:function(a){var b={},c={};b.x=Math.floor(a.x/this.O4577);b.y=Math.floor(a.y/this.O4577);c.x=a.x-b.x*this.O4577;c.y=a.y-b.y*this.O4577;return{sector:b,offset:c}},O6080:function(a){var b=
{},c={};b.x=Math.floor(a.x/this.O4577/19);b.y=Math.floor(a.y/this.O4577/19);c.x=a.x-19*b.x*this.O4577;c.y=a.y-19*b.y*this.O4577;return{sector:b,offset:c}},O3782:function(a){return a&&a.p==this.O6722&&a.a==this.currentArea},O363:function(){var a=ig.game.O7715.O1414(ig.game.O4269.pos.x,ig.game.O4269.pos.y);return{p:this.O6722,a:this.currentArea,x:a.x,y:a.y}},O7020:function(a){a=
ig.game.O7715.O1414(a.pos.x,a.pos.y);return this.O6396(a)},O332:function(a){return{x:a.pos.x-Math.floor(a.pos.x/this.O5361)*this.O5361,y:a.pos.y-Math.floor(a.pos.y/this.O5361)*this.O5361}},O3023:function(a){for(var b=this.O4816(),c=0;8>=c;c++)if(this.O5735(Math.round(a.pos.x+8),Math.round(a.pos.y+8),b[c].x,b[c].y))return!0},
gameCoordsInCurrentSectorPlus:function(a){for(var b=this.O4816(),c=0;8>=c;c++)if(this.O5735(a.x,a.y,b[c].x,b[c].y))return!0},O5735:function(a,b,c,d){c=this.O7523(c,d);return a>=c.x1&&a<=c.x2&&b>=c.y1&&b<=c.y2},O7523:function(a,b){var c={};c.x1=a*this.O4577*ig.game.tileSize;c.y1=b*this.O4577*ig.game.tileSize;c.x2=(a+1)*this.O4577*ig.game.tileSize-1;c.y2=(b+1)*this.O4577*
ig.game.tileSize-1;return c},O4816:function(){var a=[],b=this.O2998.x,c=this.O2998.y;a[0]={x:b-1,y:c-1};a[1]={x:b,y:c-1};a[2]={x:b+1,y:c-1};a[3]={x:b-1,y:c};a[4]={x:b,y:c};a[5]={x:b+1,y:c};a[6]={x:b-1,y:c+1};a[7]={x:b,y:c+1};a[8]={x:b+1,y:c+1};return a},O5081:function(a,b){var c={};c.x1=a*this.O4577;c.y1=b*this.O4577;c.x2=(a+1)*this.O4577-1;c.y2=(b+1)*this.O4577-1;return c},O905:function(){var a=
this.O4816(),b={};b.x1=a[0].x*this.O4577;b.y1=a[0].y*this.O4577;b.x2=(a[8].x+1)*this.O4577-1;b.y2=(a[8].y+1)*this.O4577-1;return b},O1140:function(){var a=this.O2998.x,b=this.O2998.y,c,d,e,f;this.O3089==this.O3089s.NORTH?(c=a-1,d=a+1,e=b-1,f=b-1):this.O3089==this.O3089s.SOUTH?(c=a-1,d=a+1,e=b+1,f=b+1):this.O3089==this.O3089s.EAST?(c=a+1,d=a+1,e=b-1,f=
b+1):this.O3089==this.O3089s.WEST&&(c=a-1,d=a-1,e=b-1,f=b+1);a={};a.x1=c*this.O4577;a.y1=e*this.O4577;a.x2=(d+1)*this.O4577-1;a.y2=(f+1)*this.O4577-1;return a},O7557:function(a){return this.O2901(a.pos.x,a.pos.y)},O2901:function(a,b){var c=this.O4816(),d,e,f;d=c[0].x*this.O4577+3;e=c[0].y*this.O4577+3;f=(c[8].x+1)*this.O4577-1-3;var c=(c[8].y+1)*this.O4577-
1-3,g=ig.game.O7715.O1414(a,b);return g.x>=d&&g.x<=f&&g.y>=e&&g.y<=c},O6913:function(){var a=ig.game.O172.O7523(ig.game.O172.O2998.x,ig.game.O172.O2998.y),b=a.x1-ig.game.screen.x,c=a.x2-ig.game.screen.x,d=a.y1-ig.game.screen.y,a=a.y2-ig.game.screen.y,e=ig.system.context;e.beginPath();e.rect(b*ig.system.scale,d*ig.system.scale,c*ig.system.scale-b*ig.system.scale,a*ig.system.scale-d*ig.system.scale);
e.lineWidth=2;e.strokeStyle="#ffffff";e.stroke();var f=ig.game.O172.O2998.x+" , "+ig.game.O172.O2998.y;e.font="24px monospace";e.fillStyle="#ffffff";e.fillText(f,b*ig.system.scale+10,d*ig.system.scale+20);e.fillText(f,c*ig.system.scale-60,d*ig.system.scale+20);e.fillText(f,b*ig.system.scale+10,a*ig.system.scale-20);e.fillText(f,c*ig.system.scale-60,a*ig.system.scale-20);e.fillText(f,b*ig.system.scale+10,(a-8*this.O4577)*ig.system.scale);e.fillText(f,c*ig.system.scale-
60,(a-8*this.O4577)*ig.system.scale)},O3089s:{NORTH:"n",SOUTH:"s",EAST:"e",WEST:"w"},O5014:function(a,b){return ig.game.O4269&&380<ml.Misc.O7969(a,ig.game.O4269.pos)&&380>=ml.Misc.O7969(b,ig.game.O4269.pos)},O5460:function(){return!this.O1689()&&!ig.game.O5699},O1689:function(){return ig.game.O6845},O3574:function(a){a=ml.Misc.O8132({x:ig.game.areaCenterLocation.x*
ig.game.tileSize,y:ig.game.areaCenterLocation.y*ig.game.tileSize},a);return 0<a?Math.round(a/ig.game.tileSize):0},O6043:function(){return ig.game.O8053?ig.game.areaGroupId:this.currentArea},O3820:function(){return this.O3574(ig.game.O4269.pos)<=this.O4574},O4036:function(a){return this.O3574(a)<=this.O4574},O7190:function(){var a=
"";return a=ig.game.O4269&&0>=ig.game.O4269.rank?"oops, you may have received too many flag reports and are currently locked.":"i need to get "+Math.abs(this.O3574(ig.game.O4269.pos)-this.O4574)+" more steps away from center"},O4238:function(a){var b=parseInt(a);return b==a&&1<=b&&8>=b},O1312:function(){return 2==this.O6722&&1==this.currentArea},O4675:function(){return ig.game.O5699||ig.game.O966&&
0<=ig.game.O2814.indexOf(ig.game.O966)}})});ig.baked=!0;
ig.module("game.coms.wsbinary").defines(function(){var a=0,b=!1;ml.WsBinary=function(c,d){this.wscoms=c;this.playerAcceptedPromise=d;setInterval(function(){b||(a=0)},1E3)};ml.WsBinary.prototype.binIdByteLength=24;ml.WsBinary.prototype.receive=function(a){var b=(new DataView(a)).getUint8(a.byteLength-1);b===this.O1260.O2251?this.receive_StateChanged(a):b===this.O1260.ECHO?this.receive_echo(a):console.log("Unknown binary message")};ml.WsBinary.prototype.receive_echo=function(a){};
ml.WsBinary.prototype.receive_StateChanged=function(a){var b=this.O545(a),e=this.O949(b);if(b){if(!this.isOurId(b)){var f=new DataView(a,this.binIdByteLength);a={x:f.getFloat32(0,!0),y:f.getFloat32(4,!0)};var b=f.getFloat32(8,!0),g=f.getFloat32(12,!0),h=f.getFloat32(16,!0),k=f.getFloat32(20,!0),l=f.getInt8(24),m=f.getInt8(25),n=f.getInt8(26),f=f.getInt8(27),p=ig.game.O8412(e);if(p){p.lastSyncedPos&&ig.game.O172.O5014(p.lastSyncedPos,
a)&&ig.game.O4349.O3457(e,"per");Infinity!==a.x&&(p.pos.x=a.x);Infinity!==a.y&&(p.pos.y=a.y);p.vel.x=ml.Misc.O6736(b);p.vel.y=ml.Misc.O6736(g);p.accel.x=ml.Misc.O6736(h);p.accel.y=ml.Misc.O6736(k);p.O2865=f?f:0;p.O850(l,m);switch(n){case 1:p.O199=p.O4387;break;case 2:p.O199=p.O4085;break;case 3:p.O199=p.O7438}p.lastSynced=
Date.now();p.lastSyncedPos={x:a.x,y:a.y};p.justSynced=!0}else ig.game.O172.O2901(a.x,a.y)&&ig.game.O4349.O3457(e,"upm")}}else console.error("sc message without bid")};ml.WsBinary.prototype.O1679=function(){return ig.game.O413&&ig.game.O413.player&&1<ig.game.O413.player.length};ml.WsBinary.prototype.O3235=function(a,b,e,f,g,h,k){var l=new ArrayBuffer(29);a=this.O8398(l,
[a.x,a.y,b.x,b.y,e.x,e.y],0);a=this.O4854(l,[f,g,h,k],a);this.O4854(l,[this.O1260.O2251],a);this.O1449(l)};ml.WsBinary.prototype.O6696=function(a,b,e){var f=4*b.length;a=new Int32Array(a,e,b.length);for(var g=0;g<f;g++)a[g]=b[g];return e+f};ml.WsBinary.prototype.O4854=function(a,b,e){var f=b.length;a=new Uint8Array(a,e,b.length);for(var g=0;g<f;g++)a[g]=b[g];return e+f};ml.WsBinary.prototype.O8398=function(a,b,e){var f=4*b.length;
a=new Float32Array(a,e,b.length);for(var g=0;g<f;g++)a[g]=b[g];return e+f};ml.WsBinary.prototype.O1449=function(c){if(!b)if(150<++a)b=!0,window.location.href="/peacepark";else if(this.wscoms.ws.readyState==WebSocket.OPEN){var d=this;this.playerAcceptedPromise.done(function(){d.wscoms.ws.send(c)})}};ml.WsBinary.prototype.O5901=function(a){if(a.length!=this.binIdByteLength)throw Error("uid must be 24 char string");for(var b=new ArrayBuffer(this.binIdByteLength),e=new Uint8Array(b),f=0;24>f;f++)e[f]=
a[f];return b};ml.WsBinary.prototype.O949=function(a){if(a.byteLength!=this.binIdByteLength)throw Error("binId length must be 24");a=new Uint8Array(a);for(var b="",e=0;24>e;e++)b+=String.fromCharCode(a[e]);return b};ml.WsBinary.prototype.O545=function(a){return(new Uint8Array(a)).subarray(0,this.binIdByteLength)};ml.WsBinary.prototype.isOurId=function(a){return ig.game.O4269&&this.O7016(a,ig.game.O4269.binId)};ml.WsBinary.prototype.O7016=function(a,
b){if(a.byteLength!==this.binIdByteLength||b.byteLength!==this.binIdByteLength)throw Error("Not ids");for(var e=!0,f=new Uint8Array(a),g=new Uint8Array(b),h=0;h<this.binIdByteLength;h++)if(f[h]!==g[h]){e=!1;break}return e};ml.WsBinary.prototype.O1260={O2251:5,ECHO:46}});ig.baked=!0;
ig.module("game.coms.wsminifier").defines(function(){ml.WsMinifier=function(){};ml.WsMinifier.prototype.doLogMinifyInfo=!1;ml.WsMinifier.prototype.doReversalSanityCheck=!1;ml.WsMinifier.prototype.O1062=function(a,b){for(var c="",d=b?this.minificationMappingClientToServer:this.minificationMappingServerToClient,e=JSON.stringify(a),c=e,f=!1,g=0;g<d.length&&!f;g++)f=0<=c.indexOf(d[g][0]);if(!f)if("{"==c.substring(0,1)){c=c.substring(1);for(g=0;g<d.length;g++)c=ig.game.strings.replaceAll(c,
d[g][1],d[g][0]);this.doReversalSanityCheck&&(d=JSON.stringify(this.O7824(e,b)),e!=d&&(c=e,console.warn("Minifier reversal sanity check failed! Original: "+e+" | Reverted: "+d)))}else console.warn("JSON ws send string did not start with {! "+e);return c};ml.WsMinifier.prototype.O7824=function(a,b){if("{"!=a.substring(0,1)){for(var c=b?this.minificationMappingClientToServer:this.minificationMappingServerToClient,d=c.length-1;0<=d;d--)a=ig.game.strings.replaceAll(a,c[d][0],c[d][1]);
a="{"+a}return JSON.parse(a)};ml.WsMinifier.prototype.minificationMappingClientToServer=[["A",'"vel":{"x":0,"y":0},"acl":{"x":0,"y":0},"ani":"idle","flp":false,"g":'],["B",'"vel":{"x":0,"y":0},"acl":{"x":0,"y":0},"ani":"idle","flp":true,"g":'],["J",'"m":"st","data":{"pos":{"x":'],["C",'"m":"sh","data":{"key":"_c'],["D",'","rotation":0,"flip":0},"'],["&",'"m":"rq","data":null}'],["E",'"m":"rm","data":null}'],["F",',"def":null,"rId":"'],["G",'"vel":{"x":0,"y":0}'],["H",'"acl":{"x":0,"y":0}'],["K",'"m":"me","data":{'],
["~",'"ani":"swimming'],["L",',"def":{"tid":"'],["M",'"ani":"idle"'],["N",'"ani":"jump"'],["O",'"ani":"fall"'],["P",'"ani":"afk"'],["Q",'"ani":"run"'],["R",'"flp":false'],["W",'"pos":{"x":'],["X",'"acl":{"x":'],["V",'"vel":{"x":'],["S",'"flp":true'],["T",'"m":"hb"}'],["U",',"data":{'],["!",'"act":'],["@",'"g":'],["Y",'"x":'],["Z",'"y":'],["?",'"}}'],["%","}}"],["^","},"],["*",'",'],["=","1"],[";","2"],["<","3"],[">","4"],["(","0"],[")","5"]];ml.WsMinifier.prototype.minificationMappingServerToClient=
[["A",'"vel":{"x":0,"y":0},"acl":{"x":0,"y":0},'],["B",'"m":"mu","data":{"loc":{"x":'],["C",'"m":"st","data":{"rid":"'],["/",'"m":"sh","data":{"rid":"'],["D",'"m":"np","data":{'],["E",'"flp":false,"g":'],["F",'"flp":true,"g":'],["G",'"ani":"idle"'],["H",'"ani":"jump"'],["J",'"ani":"fall"'],["O",'"flp":false,'],["K",'"ani":"afk"'],["L",'"pos":{"x":'],["M",'"vel":{"x":'],["N",'"acl":{"x":'],["P",'"ani":"run"'],["Q",'"flp":true,'],["R",'"map":{"p":'],["@",'","data":{'],["T",'},"sta":0'],["U",'},"sta":1'],
["?",'"key":"_'],["V",'"ach":"'],["W",'"rid":"'],["X",'"aid":"'],["Y",'"snm":"'],["S",'"wid":'],["Z",'"r":'],["!",'"x":'],["#",'"y":'],[">",'"}}'],["%","}}"],["^","},"],["*",'",'],["=","1"],[";","2"],["<","3"],["(","0"],[")","5"]]});ig.baked=!0;
ig.module("game.coms.websocketcomsws").requires("game.coms.wsbinary","game.coms.wsminifier").defines(function(){window.WebSocketComs=ig.Class.extend({isReady:!1,ws:null,O7979:[],O7645:0,O6164:1,O8435:null,O960:null,O3540:1E4,O6562:150,O5006:0,O5761:0,O3863:!1,O7958:!1,O7691:{},O3171:0,
CLOSE_CODE_NORECONNECT:4101,CLOSE_CODE_MUST_RELOAD:4102,CLOSE_CODE_IMMEDIATE:4103,RECONNECT_PERIOD:1500,MAX_RECONNECT_ATTEMPTS:6,O5750:!1,O5905:!1,delayedSlotOffsetSaving:{w:{timer:null,offset:null},h:{timer:null,offset:null},wp:{timer:null,offset:null}},wsProtocol:"ws://",isSecure:"https:"===document.location.protocol,init:function(a,b){var c=this;setInterval(function(){c.O3863||(c.O5006=0);c.O7691={}},1E3);this.wsProtocol=this.isSecure?
"wss://":"ws://";this.isSecure&&(b=443);this.O7979[this.O7645]=this.O8113(this.wsProtocol+a+":"+b);this.ws=this.O7979[this.O7645];this.minifier=new ml.WsMinifier;this.O8435=jQuery.Deferred();this.playerAcceptedPromise=this.O8435.promise();this.binary=new ml.WsBinary(this,this.playerAcceptedPromise);this.O6699(a)},O6699:function(a){this.O960=setTimeout(function(){ig.game.errorManager.O1500("Could not connect to WS server - "+
(a&&a.split(".")[0]))},this.O3540)},O3135:function(){clearTimeout(this.O960)},O7468:function(a){var b=this;a.onopen=function(){console.log("WS OPEN - CONNECTED TO: "+a.url);ig.game.errorManager.O6005();b.O3171=0};a.onerror=function(b){console.error(b);ig.game.errorManager.warn("ws:"+b.message,a.url,b&&""!==b&&"undefined"!==b)};a.onclose=function(c){var d=!1,e="";if(!c||!c.code||1006==c.code)console.warn("WS connection terminated abnormally",
c.code,c.reason,c.wasClean),e="Could not connect over websockets, or connection terminated abnormally",d=!0;else if(1E3==c.code)console.warn("WS connection terminated by server"),e="Websockets connection terminated",d=!0;else if(c.code==ig.game.O4349.CLOSE_CODE_IMMEDIATE)console.warn("WS connection terminated by server - no reconnect.."),e="Websockets connection terminated..",d=!1;else if(c.code==ig.game.O4349.CLOSE_CODE_NORECONNECT)console.warn("WS connection terminated by server - no reconnect"),
e="Websockets connection terminated.",d=!1;else{if(c.code===ig.game.O4349.CLOSE_CODE_MUST_RELOAD){ig.game.errorManager.O406();return}console.warn("WS connection terminated in an unknown way",c.code,c.reason,c.wasClean);e="Websockets connection terminated: "+c.code+" "+c.reason;d=!0}if(d)if(ig.game.errorManager.O1255(),b.O3171<b.MAX_RECONNECT_ATTEMPTS){b.O3171++;b.O3171>b.MAX_RECONNECT_ATTEMPTS/2&&ig.game.errorManager.O4924();
var f=ig.game.O4349.O7979[ig.game.O4349.O7645].url;setTimeout(function(){ig.game.O4349.O7979[ig.game.O4349.O7645]=b.O8113(f);b.ws=ig.game.O4349.O7979[ig.game.O4349.O7645]},b.RECONNECT_PERIOD)}else ig.game.errorManager.connectionFailureLevel3(e);else a.closedByClient||ig.game.errorManager.kicked()};a.onmessage=function(a){if("string"!==typeof a.data)b.binary.receive(a.data);
else{a=b.minifier.O7824(a.data,!1);var d=a.m,e=a.data,f=e?e.rid:null;try{b.O7419(!1,a,d,e)}catch(g){f&&ig.game.errorManager&&ig.game.errorManager.O5208(g.message,f)}}}},O7419:function(a,b,c,d){if(c===this.O1260.O338)this.socketManagerId=d.smi,this.O8435.resolve(d),this.O3135();else if(c===this.O1260.O3022)this.O1358(this,d);else if(c===this.O1260.O6166)this.O236(this,
d);else if(c===this.O1260.O6166S)this.O7686(this,d);else if(c===this.O1260.O2251)this.O2304(this,d);else if(c==this.O1260.O4279){if(!this.O4070(d.rid)){var e=ig.game.O8412(d.rid);e&&(e.kill(d.dt),ig.game.O4120.O2342())}}else if(c==this.O1260.O7597){if(!this.O4070(d.rid)&&(e=ig.game.O8412(d.rid)))ig.game.decorator.O7239(e),ig.game.O4120.O983(e)}else if(c==
this.O1260.O6440){var f=null;this.O4070(d.rid)||(a=ig.game.O7715.O2398(d.x,d.y),ig.game.O172.gameCoordsInCurrentSectorPlus(a)&&(d.def?(ig.game.O7715.O3236(d.def,{x:d.x,y:d.y},!0),ig.game.addStat(d.rid,"built",null,d.def.tid)):((f=ig.game.O7715.deleteThingAt(d.x,d.y,!0))&&f.name&&ig.game.addStat(d.rid,"removed",f.name),b=ig.game.O172.O6396({x:d.x,y:d.y}),ig.game.O7715.requestDeletionMarkersForSector(b)),
ml.Misc.O7388(a)&&(e=ig.game.O8412(d.rid),d.def?((f=ig.game.O4961.getItemBasic(d.def.tid,"ws_map_edit"))&&f.isLiquid()?ig.game.sounds.splash.play():ig.game.sounds.putdown.play(),ig.game.decorator.O8456(a),e&&ig.game.decorator.O2922(e,{x:d.x,y:d.y})):(f&&f.isLiquid()?ig.game.sounds.waterleave.play():ig.game.sounds.bin.play(),ig.game.decorator.O3382(a),e&&ig.game.decorator.O5666(e,a)))))}else if(c==this.O1260.O2282){d.def&&
d.def.tid?ig.game.O7715.O3236(d.def,{x:d.x,y:d.y},!0):ig.game.O7715.deleteThingAt(d.x,d.y,!0);switch(d.rsn){case this.O6209.OK:break;case this.O6209.THROTTLED:ig.game.O884.O8271("tired");break;case this.O6209.RANKRESTRICTED:ig.game.O4132.O2959();break;case this.O6209.NEARPLAYER:ig.game.sounds.nocando.play();break;case this.O6209.PLACENAMEDUP:ig.game.O884.O8271("placenameAlreadyPlaced");
break;case this.O6209.R5OUTERPROTECT:ig.game.O884.O8271("rank5OuterProtect");break;default:ig.game.sounds.nocando.play()}ig.game.O7715.O1623()}else if(c==this.O1260.O4076)this.O4070(d.rid)||(e=ig.game.O8412(d.rid))&&ig.game.decorator.O4712(e,{x:d.x,y:d.y});else if(c==this.O1260.PORTAL){if(!this.O4070(d.rid)&&(e=ig.game.O8412(d.rid)))ig.game.decorator.O753(e.pos.x,e.pos.y,
e.vel.x,e.vel.y,3),ig.game.decorator.O753(d.pos.x,d.pos.y,d.vel.x,d.vel.y,6),ig.game.sounds.O7198(ig.game.sounds.portallingWhoosh,e.pos,d.pos),e.pos=d.pos,e.vel=d.vel,e.O6609=d.flp}else if(c==this.O1260.PORTALRING)if(this.O4070(d.rid))ig.game.portaller.O7849();else{if(e=ig.game.O8412(d.rid))ig.game.decorator.O753(e.pos.x,e.pos.y,e.vel.x,e.vel.y,3),ig.game.sounds.O7086(ig.game.sounds.portallingWhoosh,
e),e.isRingPortalling=!0,setTimeout(function(){ig.game.O4120.O983(e)},300)}else if(c==this.O1260.TELEPORT)if(this.O4070(d.rid))ig.game.portaller.acceptedForTeleport(d.gun);else{if(e=ig.game.O8412(d.rid))ig.game.decorator.O7239(e),ig.game.sounds.O7086(ig.game.sounds.portallingWhoosh,e),e.O6684=!0,setTimeout(function(){ig.game.O4120.O983(e)},200)}else if(c==this.O1260.TRANSPORT_REJECTED)this.O4070(d.rid)&&
(ig.game.O4269.say("oops! "+d.arn+" is full"),setTimeout(function(){ig.game.O4269.say("at the moment")},1E3));else if(c==this.O1260.O190)ig.game.O4760&&ig.game.entityManager.O114(d);else if(c==this.O1260.SPEECH){if(!this.O4070(d.rid)&&(e=ig.game.O8412(d.rid))&&(e.O6575&&d.key&&"string"===typeof d.key)&&(e.isFullAccount||ig.game.O1591&&ig.game.O707||ig.game.nonLoggedInChatIfEditorAround&&
ml.Misc.O2616()))a=e.O4866("amplifies"),f={exceededMax:!1},e.O6575.addItem(d.key,a,f),f.exceededMax||e.O662(d.key,!0)}else if(c==this.O1260.O11)this.O4070(d.rid)||(e=ig.game.O8412(d.rid))&&e.O7497(d.aid);else if(c==this.O1260.PING_FRIEND)this.O4070(d.rid)||ig.game.bottomMenu&&ig.game.bottomMenu.receivedPing(d.rid,d.scn,d.arn,d.ato);else if(c==this.O1260.MIFT_ALERT)ig.game.bottomMenu&&
ig.game.bottomMenu.O4773();else if(c==this.O1260.AREA_BAN)d.aid==ig.game.O172.O6043()&&(ig.game.O1132=0.1,this.wsclose(),location.reload(!0));else if(c==this.O1260.ADDED_LINES)this.O4070(d.rid)||ig.game.O6775.O1179(d.rid,d.lines);else if(c==this.O1260.CLEAR_LINES)this.O4070(d.rid)||ig.game.O6775.O6169(d.rid);else if(c==this.O1260.O8296)this.O4070(d.rid)||
(e=ig.game.O8412(d.rid))&&(!ig.game.O5555||e.isFullAccount)&&e.O4517(d.n);else if(c==this.O1260.CHANGE_ATTACHMENT_OFFSET)this.O4070(d.rid)||(e=ig.game.O8412(d.rid))&&e.O1071(d.slt,d.wof);else if(c==this.O1260.CHANGE_ATTACHMENT)if(a=d.b,this.O4070(d.rid))d.b&&d.ats&&(ig.game.O884&&ig.game.O884.O8271("itemBlocked"),ig.game.sounds.nocando.play(),a=d.a,d.ats==ig.game.O7510.slots.BODY&&
a?ig.game.O7510.O4416(ig.game.O4269,d.ats,a,void 0,void 0,!0):ig.game.O7510.O3306(ig.game.O4269,d.ats,!1,null));else{if(!a&&(a=ig.game.O8412(d.rid)))!d.ats&&!d.ati?ig.game.O7510.O6068(a,!1):(d.opp&&d.opv&&(f={opp:d.opp,opv:d.opv,tid:d.tid},f.opp&&(Infinity===f.opp.x&&(f.opp.x=0),Infinity===f.opp.y&&(f.opp.y=0)),f.opv&&(f.opv.x=ml.Misc.O6736(f.opv.x),f.opv.y=ml.Misc.O6736(f.opv.y))),
ig.game.O7510.O4416(a,d.ats,d.ati,f))}else if(c==this.O1260.THROW_ATTACHMENT){if(!this.O4070(d.rid)&&(e=ig.game.O8412(d.rid))){var g;d.opp&&d.opv&&(g={opp:d.opp,opv:d.opv,tid:d.tid});e&&e.attachments&&!e.attachments.h&&e.attachments.w&&e.attachments.w.emitsId?ig.game.O7510.O849(e,!1):ig.game.O7510.O5498(e,d.ats,d.ati,g)}}else if(c==this.O1260.PASTE)ml.Misc.O1220(d.text,d.rid)&&!this.O4070(d.rid)&&
ml.Misc.O6896(d.text,d.rid);else if(c==this.O1260.INSTRUMENT_NOTE){if(!this.O4070(d.rid)&&(f=d.i,b=d.o,c=d.n,g=d.k,a=ig.game.O8412(d.rid)))ig.game.sounds.O6567(f)?(ig.game.decorator.playingInstrumentKitNumber(a,f,g),ig.game.sounds.O2318(f,g,!1,a)):(ig.game.decorator.O8039(a,f,b,c),ig.game.sounds.O8389(f,b,c,!1,a))}else if(c==this.O1260.BOOST_STARTED)(a=ml.Misc.O2849(d.rid))&&
(!a.O4102&&ig.game.O3501)&&ig.game.O3501.start(d.name,a,d.tid,d.alt,d.selectedRid);else if(c==this.O1260.BOOST_RESPONSE)this.O4070(d.rid)&&ig.game.O3501&&ig.game.O3501.O7798(d.name,d.response);else if(c==this.O1260.BOOST_REJECTED)(a=ml.Misc.O2849(d.rid))&&(!a.O4102&&ig.game.O3501)&&ig.game.O3501.O4475(d.rid,d.boosterId);else if(c==this.O1260.SNAPSHOT_TAKEN)(a=ml.Misc.O2849(d.rid))&&
(!a.O4102&&ig.game.O5211)&&ig.game.O5211.O7494(a);else if(c==this.O1260.AREA_SETTINGS_EDITED)(a=ml.Misc.O2849(d.rid))&&!a.O4102&&ml.Misc.O4478();else if(c==this.O1260.HOLDABLE_INTERACTION)b=d.oid,c=d.tid,a=ig.game.O8412(d.rid),f=ig.game.O7510.O4144(b,c),a&&f&&(ig.game.O7510.O6011(b,c),ig.game.O7510.O107(f,
f.itemId,a));else if(c==this.O1260.EQUIPMENT_ACTION){if(b=d.oid,(a=ig.game.O8412(d.rid))&&!a.O4102)ig.game.brainManager.O4307(a,"acts"),a.O2031("actionable")&&a.attachments.w.dynathingEntity?(a.attachments.w.dynathingEntity.O7933(),a.informBrainDidAction=!0):a.O5523()}else c==this.O1260.HOLDER_VIEWED?ig.game.O3985&&ig.game.O3985.O7236&&ig.game.O3985.O7236(d.rid,
d.mapLoc,d.state):c==this.O1260.MOVER_BODY_HEALTH_CHANGE?(a=ig.game.O8412(d.rid))&&(!a.O4102&&ig.game.O7019&&ig.game.O4269)&&ig.game.O7019.O1827(d.bodyId,d.health):c==this.O1260.MULTITHING_ACTIVITY?(a=ml.Misc.O2849(d.rid),ig.game.multithingManager.O8278(a,d.pack)):c==this.O1260.PAINTER_ACTIVITY?ig.game.painter&&(a=ml.Misc.O2849(d.rid),ig.game.painter.O8278(d.pack,a)):
c==this.O1260.CLOCK_SYNC_PING?ig.game.O1638.O417(d.ms):c==this.O1260.INTERACTING_ACTIVITY?(b=d.oid,(a=ig.game.O8412(d.rid))&&!a.O4102&&ig.game.O6401.O955(a,d.eid,d.text,d.mid,d.commands,d.has,d.hasnt,d.numbers,d.throws,d.tid,d.sid,d.rumblesSeconds,d.resultId,d.font,d.useFontOnce)):c==this.O1260.MOTION?(f=d.mid,d=d.rid,this.O4070(d)||(a=ig.game.O8412(d))&&ig.game.O7510.O4044(a,
f)):c==this.O1260.O1333?(d=d.r,"WSL"==d?ig.game.portaller.O7714("peacepark"):(this.O5905=!0,ig.game.errorManager.kicked(d))):c==this.O1260.O6498?ig.game.errorManager.maintenance():c==this.O1260.O4056?(a=d.h,d=d.p,this.isSecure&&(d=443),this.O6737(a,d)):c==this.O1260.RELOAD?window.location.reload(!1):c==this.O1260.RANKUPDATE?ig.game.O4132.getFreshRank():c==this.O1260.LATENCY_CHECK?
this.O5387(d&&d.ts):c!=this.O1260.WSLIMIT&&(console.error("Received unknown WS message type",c),console.error(b))},O1358:function(a,b){if(!a.O4070(b.rid)){var c=ig.game.O8412(b.rid);c?a._updateExistingPlayerData(a,b,c):a.O2935(a,b)}},O236:function(a,b){if(!a.O4070(b.rid)){var c=ig.game.O8412(b.rid);c?a._updateExistingPlayerData(a,b,c):a.O2935(a,b)}},O7686:function(a,b){var c,
d;if(b&&b.length)for(var e=0;e<b.length;e++)if((c=b[e])&&!a.O4070(c.rid))(d=ig.game.O8412(c.rid))?a._updateExistingPlayerData(a,c,d):a.O2935(a,c)},O2935:function(a,b){ig.game.O4120.O1980();var c=ig.game.spawnEntity(EntityPlayer,b.pos&&b.pos.x||0,b.pos&&b.pos.y||0,{O4102:!1,O2507:b.rid,O7237:b.aid,rank:b.r,O6609:b.flp,screenName:b.snm,O2865:b.act,isEditorHere:b.ieh,isFullAccount:b.ifa,voice:b.vce,O2082:b.wof,
O918:b.shs});c&&(c.O850(b.ani,b.flp),b.att&&ig.game.O7510.O6571(c,b.att),ig.game.gameStartTimer&&5<=ig.game.gameStartTimer.delta()&&(ig.game.decorator.O7239(c),ig.game.statsDialog&&ig.game.statsDialog.isOpen&&(ig.game.statsDialog.O3301(c),ig.game.addStat(c.O2507,"joined"))),ig.game.O8110&&(c.binId=a.binary.O5901(b.rid)),c.viewingMultithingPlacementId=b.viewingMultithingPlacementId,c.viewingMultithingSince=b.viewingMultithingSince)},
_updateExistingPlayerData:function(a,b,c){c.O7237=b.aid;c.rank=b.r;c.screenName=b.snm;c.voice=b.vce;c.O2082=b.wof;c.O918=b.shs;c.viewingMultithingPlacementId=b.viewingMultithingPlacementId;c.viewingMultithingSince=b.viewingMultithingSince;b.aid&&c.O2862(b.aid);ig.game.O7510.O6571(c,b.att)},O2304:function(a,b){if(!a.O4070(b.rid)){var c=ig.game.O8412(b.rid);c?(c.lastSyncedPos&&ig.game.O172.O5014(c.lastSyncedPos,
b.pos)&&(console.log("** refresh"),a.O3457(b.rid)),c.pos.x=b.pos.x,c.pos.y=b.pos.y,c.vel.x=b.vel.x,c.vel.y=b.vel.y,c.accel.x=b.acl.x,c.accel.y=b.acl.y,b.act?b.act==c.O2558.CLIMBING?c.O2865=c.O2558.CLIMBING:b.act==c.O2558.SWIMMING&&(c.O2865=c.O2558.SWIMMING):c.O2865=c.O2558.RUNNING,c.O850(b.ani,b.flp),1==b.g?c.O199=c.O4387:2==b.g?c.O199=c.O4085:3==b.g&&(c.O199=
c.O7438),c.lastSynced=Date.now(),c.lastSyncedPos={x:b.pos.x,y:b.pos.y},c.justSynced=!0):ig.game.O172.O2901(b.pos.x,b.pos.y)&&a.O3457(b.rid)}},O6737:function(a,b){console.log("Migrating websocket to "+a+":"+b);var c=this;(this.O7979[this.O6164]=this.O8113(this.wsProtocol+a+":"+b)).onopen=function(a){console.log("New WS Con Open");c.O8435=jQuery.Deferred();
c.playerAcceptedPromise=c.O8435.promise();c.O3886(c);c.O7979[c.O6164].onclose=null;c.O7979[c.O6164].close(4900);c.O5499()}},O3886:function(a){0==a.O7645?(a.O7645=1,a.O6164=0):(a.O7645=0,a.O6164=1);a.ws=a.O7979[a.O7645]},O8113:function(a){a=new WebSocket(a);
a.binaryType="arraybuffer";this.O7468(a);return a},O2529:function(){return ig.game.O4349.O7979[ig.game.O4349.O7645]},O1679:function(){return ig.game.O413&&ig.game.O413.player&&1<ig.game.O413.player.length},O3235:function(a){this.wssend(this.ws,this.O1260.O2251,a)},O8101:function(a){this.O5750=!0;this.wssend(this.ws,this.O1260.O4279,{dt:a})},O349:function(a){this.wssend(this.ws,
this.O1260.O6440,a)},O1871:function(a){this.wssend(this.ws,this.O1260.O4076,a)},O12:function(){this.wssend(this.ws,this.O1260.O2261,null)},O3457:function(a,b){console.log("sp req "+b+": "+a);ig.game.O1298?2<=ig.game.O1298.delta()&&this.wssend(this.ws,this.O1260.O4846,{rid:a}):console.warn("tsp called and no starttmr")},O5499:function(){this.wssend(this.ws,
this.O1260.O3312HOT,null)},O4639:function(a){this.wssend(this.ws,this.O1260.O5174,a)},O5390:function(){this.wssend(this.ws,this.O1260.REO5174)},O5017:function(a){this.wssend(this.ws,this.O1260.O11,{aid:a})},O2475:function(a,b){this.wssend(this.ws,this.O1260.PING_FRIEND,{to:a,tot:b})},O7252:function(a){this.O1679()&&this.wssend(this.ws,
this.O1260.ADDED_LINES,{lines:a})},O5605:function(){this.O1679()&&this.wssend(this.ws,this.O1260.CLEAR_LINES)},O2137:function(a){this.wssend(this.ws,this.O1260.O8296,{n:a})},O7073:function(a,b,c){this.wssend(this.ws,this.O1260.CHANGE_ATTACHMENT_OFFSET,{slt:a,wof:b,sdb:Boolean(c)});if(!c){this.delayedSlotOffsetSaving[a].timer&&clearTimeout(this.delayedSlotOffsetSaving[a].timer);var d=this;this.delayedSlotOffsetSaving[a].offset=
b;this.delayedSlotOffsetSaving[a].timer=setTimeout(function(){d.O7073(a,d.delayedSlotOffsetSaving[a].offset,!0)},1E3)}},O3168:function(a,b,c){c?this.wssend(this.ws,this.O1260.CHANGE_ATTACHMENT,{ats:a,ati:b,opp:c.opp,opv:c.opv,tid:c.tid}):this.wssend(this.ws,this.O1260.CHANGE_ATTACHMENT,{ats:a,ati:b})},O6822:function(a,b,c){c?this.wssend(this.ws,this.O1260.THROW_ATTACHMENT,{ats:a,ati:b,opp:c.opp,opv:c.opv,tid:c.tid}):
this.wssend(this.ws,this.O1260.THROW_ATTACHMENT,{ats:a,ati:b})},O6577:function(a){this.O1679()&&this.wssend(this.ws,this.O1260.PASTE,{text:a})},O2947:function(a,b,c,d){a={x:Math.round(100*a.x)/100,y:Math.round(100*a.y)/100};Math.round(1E3*c.x);Math.round(1E3*c.y);this.wssend(this.ws,this.O1260.PORTAL,{pos:a,end:b,vel:c,flp:d})},O6014:function(a,b,c,d){Math.round(1E3*c.x);Math.round(1E3*c.y);this.wssend(this.ws,this.O1260.PORTALRING,
{loc:a,ptp:b,vel:c,flp:d})},O5801:function(a){this.wssend(this.ws,this.O1260.TELEPORT,{lid:a})},O6986:function(a,b,c,d){var e=a==ig.game.O172.O6722&&b==ig.game.O172.currentArea;this.wssend(this.ws,this.O1260.TELEPORT,{p:a,a:b,x:c,y:d,theyCanMapTeleport:ig.game.theyCanMapTeleport&&e})},O523:function(){this.wssend(this.ws,this.O1260.TELEPORT,null)},O8273:function(a,
b){this.wssend(this.ws,this.O1260.TELEPORT,{tol:a,iid:b})},O740:function(a,b){this.wssend(this.ws,this.O1260.TRIGGER,{loc:a,trd:b})},O2316:function(a){this.O1679()&&(a&&"string"===typeof a&&1E3>=a.length)&&this.wssend(this.ws,this.O1260.SPEECH,{key:a})},O5482:function(a){this.wssend(this.ws,this.O1260.O2389,{id:a})},O4231:function(){this.wssend(this.ws,this.O1260.RANKUPDATE)},O6221:function(){var a=
!1;ig.ua.kindle&&(a=!0);a?this.wssend(this.ws,this.O1260.HEARTBEAT,{v:ig.game.version}):this.wssend(this.ws,this.O1260.HEARTBEAT)},O2976:function(a,b,c){this.O1679()&&this.wssend(this.ws,this.O1260.INSTRUMENT_NOTE,{i:a,o:b,n:c})},O1294:function(a,b,c,d,e){a={name:a};b&&(a.tid=b);c&&(a.alt=c);d&&(a.selectedRid=d);this.wssend(this.ws,this.O1260.BOOST_STARTED,a)},O7119:function(){this.O1679()&&
this.wssend(this.ws,this.O1260.SNAPSHOT_TAKEN,{})},O2738:function(a){if(this.O1679()){var b={};a&&(b={affectsOnlyThisPlayerId:a});this.wssend(this.ws,this.O1260.AREA_SETTINGS_EDITED,b)}},O225:function(a){this.O1679()&&this.wssend(this.ws,this.O1260.BOOST_REJECTED,{boosterId:a})},O3608:function(a,b){this.O1679()&&this.wssend(this.ws,this.O1260.INSTRUMENT_NOTE,
{i:a,k:b})},O4489:function(a,b){this.wssend(this.ws,this.O1260.HOLDABLE_INTERACTION,{oid:a,tid:b})},O3143:function(){this.O1679()&&this.wssend(this.ws,this.O1260.EQUIPMENT_ACTION)},O253:function(a,b){this.O1679()&&this.wssend(this.ws,this.O1260.HOLDER_VIEWED,{mapLoc:a,state:b})},O3645:function(a,b,c,d,e,f,g,h,k,l,m,n,p,q){this.O1679()&&(a={eid:a},
b&&(a.text=b),c&&(a.mid=c),d&&(a.commands=d),e&&(a.has=e),f&&(a.hasnt=f),g&&(a.numbers=g),h&&(a.throws=h),k&&(a.tid=k),l&&(a.sid=l),m&&(a.rumblesSeconds=parseInt(m)),n&&(a.resultId=parseInt(n)),p&&(a.font=p),q&&(a.useFontOnce=q),this.wssend(this.ws,this.O1260.INTERACTING_ACTIVITY,a))},O7033:function(a,b){this.O1679()&&this.wssend(this.ws,this.O1260.MOTION,{mid:a,n:b})},O5387:function(a){this.wssend(this.ws,this.O1260.LATENCY_CHECK,{ts:a})},
transmitNewPlayer:function(){this.wssend(this.ws,this.O1260.O3022,{})},O532:function(a,b){this.O1679()&&this.wssend(this.ws,this.O1260.MOVER_BODY_HEALTH_CHANGE,{bodyId:a,health:b})},O953:function(a,b,c){if("startViewing"==a||"stopViewing"==a||this.O1679())c||(c={}),"itemChange"==a&&(a="i"),void 0!==c.state&&(c.s=c.state),delete c.state,void 0!==c.rot&&(c.r=c.rot,delete c.rot),this.wssend(this.ws,
this.O1260.MULTITHING_ACTIVITY,{pack:[a,b,c]})},O5807:function(a){a&&this.O1679()&&this.wssend(this.ws,this.O1260.PAINTER_ACTIVITY,{pack:a})},O7548:function(){this.wssend(this.ws,this.O1260.CLOCK_SYNC_PING,{})},O1260:{O3022:"qv",SIM_O3022:"po",O6166:"uq",O6166S:"qq",O338:"on",O2251:"ej",O4279:"ud",O7597:"lm",O6440:"bd",O2282:"th",O2261:"eh",
O4846:"zd",O3312HOT:"sd",O5174:"jq",REO5174:"xu",O11:"ok",O8296:"pw",CHANGE_ATTACHMENT_OFFSET:"wf",TELEPORT:"lr",PORTAL:"lc",PORTALRING:"fc",O190:"iy",TRIGGER:"zr",SPEECH:"en",O4076:"it",O2389:"mo",PLAYER_VOTE_DOWN:"ss",PLAYER_ADD_FLAG:"zo",PLAYER_REMOVE_FLAG:"si",O1333:"dy",O6498:"ot",O4056:"ba",RELOAD:"rl",RANKUPDATE:"rk",HEARTBEAT:"md",O7408:"qj",CHANGE_ATTACHMENT:"us",
THROW_ATTACHMENT:"mw",PASTE:"zc",INSTRUMENT_NOTE:"xf",WELCOME_INVITATION:"cf",HOLDABLE_INTERACTION:"ef",MOTION:"ff",EQUIPMENT_ACTION:"ub",HOLDER_VIEWED:"qw",INTERACTING_ACTIVITY:"nv",MODIFY_POSSESSION_SET:"ep",LATENCY_CHECK:"fd",ECHO:"wf",PING_FRIEND:"lh",ADDED_LINES:"rj",CLEAR_LINES:"cl",MIFT_ALERT:"ua",AREA_BAN:"dm",EDITOR_RIGHTS_CHANGE:"ux",BOOST_STARTED:"zn",BOOST_RESPONSE:"ex",BOOST_REJECTED:"rt",SNAPSHOT_TAKEN:"bn",AREA_SETTINGS_EDITED:"gh",MOVER_BODY_HEALTH_CHANGE:"le",CLOCK_SYNC_PING:"pe",
TRANSPORT_REJECTED:"oj",MULTITHING_ACTIVITY:"od",WSLIMIT:"ey",PAINTER_ACTIVITY:"pa"},O2558:{RUNNING:0,CLIMBING:1,SWIMMING:2},dataKeys:{pos:"pos",vel:"vel",acl:"acl",ani:"ani",flp:"flp",gravity:"g",rid:"rid",opt:"opt",act:"act"},O6209:{OK:0,BAD:1,THROTTLED:2,RANKRESTRICTED:3,NEARPLAYER:4,SOFTBAN:5,PLACENAMEDUP:6,R5OUTERPROTECT:7},wssend:function(a,b,c){if(!this.O3863)if(++this.O5006>this.O6562)this.O3863=!0,window.location.href=
"/peacepark";else{switch(b){case this.O1260.PASTE:if(this.O7691[b]){window.location.href="/peacepark";return}this.O7691[b]=!0}this.O7958&&this.O5006>this.O5761&&(this.O5761=this.O5006,console.log("ws message rate peak = "+this.O5761));if(a.readyState==WebSocket.OPEN){var d={};d.m=b;d.data=c;var e=this;this.playerAcceptedPromise.done(function(){var b=
e.minifier.O1062(d,!0);a.send(b)})}}},wsclose:function(){this.ws.closedByClient=!0;this.ws.close(this.CLOSE_CODE_NORECONNECT)},O4070:function(a){return ig.game.O4269&&a===ig.game.O4269.O2507},O1256:function(){}})});ig.baked=!0;
ig.module("game.coms.O3317").defines(function(){window.O2595=ig.Class.extend({locationImageOverlayCSSId:"locationImageOverlay",init:function(){},O3972:function(a){return window.location.protocol+"//"+ig.game.root+"/"+(ig.game.O45?String(ig.game.O45):"")+"#"+a},O6727:function(a){return window.location.protocol+"//"+ig.game.root+"/"+a},O7148:function(a){a=ig.game.strings.O4334(a);return ig.game.root+"/"+(ig.game.O45?
String(ig.game.O45):"")+"#"+a},O5021:function(a,b){a=ig.game.strings.O4334(a);return window.location.protocol+"//"+(b?"d1olji6pwd1iw7.cloudfront.net":ig.game.snaproot)+"/"+a+".png"},O2908:function(a,b){a=ig.game.strings.O4334(a);return window.location.protocol+"//"+(b?"dv3g9b4gmxvw9.cloudfront.net":ig.game.snapthmroot)+"/"+a+".png"},O6006:function(a){a=ig.game.strings.O4334(a);var b=new jQuery.Deferred,c=new Image;c.crossOrigin=
"anonymous";c.onload=function(){b.resolve(c)};c.src=this.O2908(a,!0);return b.promise()},O4434:function(a){return'<div id="locationImageOverlay" class="snapshotZoomBack">    <div class="snapshotZoomDialog">        <div class="snapshotZoomUrl"><input type="text" readonly="true" value="'+a+'" onclick="this.select()"/></div>        <div class="snapshotZoomImage"><img src="'+a+'" alt=""/></div>        <div class="snapshotZoomDialogCloseButton"></div>    </div></div>'},
showLocationImageOverlay:function(a){a=ig.game.strings.O4334(a);a=this.O4434(this.O5021(a));a=jQuery("<div/>",{id:this.locationImageOverlayCSSId}).html(a);jQuery("body").append(a);jQuery(".snapshotZoomDialogCloseButton").click(function(){ig.game.O3754.O2808()})},O2808:function(){0<jQuery("#"+this.locationImageOverlayCSSId).length&&(jQuery("#"+this.locationImageOverlayCSSId).remove(),ig.system.canvas.focus())},
getSectorImageUrl:function(a){return"production"==ig.game.mlenv?ig.game.sectorImageResourcePrefix+a:ig.game.sectorImageResourcePrefix+a+".png"},O515:function(a,b,c,d){return window.location.protocol+"//"+ig.game.root+"/noauth/m/ifs/"+c+"/"+d+"/"+a+"/"+b},O3190:function(a,b){var c=ig.game.strings.replaceAll(a,"-","_");return c=ml.Misc.O5752()&&!b?"/areathumbs/"+c+".png":window.location.protocol+"//thumb.manyland.com/"+c+".png"}})});ig.baked=!0;
ig.module("plugins.mland-backgroundmapextensions").requires("impact.background-map").defines(function(){ig.BackgroundMap.inject({O8060:function(a){null!=a?(a instanceof ml.Image?(this.O6403=a.path,this.tiles=a):(this.O6403=a,this.tiles=new ml.Image(this.O6403)),this.O3697=null):this.tiles={loaded:!0}},O1208:function(){if(0<=this.O6403.indexOf("background"))ig.game.O731?(ig.system.context.fillStyle="rgb("+ig.game.O731+")",ig.system.context.fillRect(0,
0,ig.system.realWidth,ig.system.O1709)):this.parent();else{var a,b,c=(this.scroll.x/this.tilesize).toInt()+ig.game.O7715.originX,d=(this.scroll.y/this.tilesize).toInt()+ig.game.O7715.originY,e=this.scroll.x%this.tilesize;a=this.scroll.y%this.tilesize;for(var f=-e-this.tilesize,e=ig.system.width+this.tilesize-e,g=ig.system.height+this.tilesize-a,h=-1,k=-a-this.tilesize;k<g;h++,k+=this.tilesize)for(var l=h+d,m=-1,n=f;n<e;m++,n+=this.tilesize){var p=m+c;if(a=ig.game.O7715.O8268({x:p,
y:l}))b=ig.game.O4961.getItemBasic(a.tid,"bme2",!0),this.O5670(b,p,l,n,k),b.fg||b.O7417(n,k,a.rotation,a.flip,1)}ig.game.O500&&this.O7109()}},O4952:function(){var a,b,c=(this.scroll.x/this.tilesize).toInt()+ig.game.O7715.originX,d=(this.scroll.y/this.tilesize).toInt()+ig.game.O7715.originY,e=this.scroll.x%this.tilesize;a=this.scroll.y%this.tilesize;for(var f=-e-this.tilesize,e=ig.system.width+this.tilesize-e,g=ig.system.height+
this.tilesize-a,h=-1,k=-a-this.tilesize;k<g;h++,k+=this.tilesize)for(var l=h+d,m=-1,n=f;n<e;m++,n+=this.tilesize)if(a=ig.game.O7715.O8268({x:m+c,y:l}))b=ig.game.O4961.getItemBasic(a.tid,"bme1",!0),b.fg&&b.O7417(n,k,a.rotation,a.flip,1)},O5186:function(){for(var a=(this.scroll.x/this.tilesize).toInt()+ig.game.O7715.originX,b=(this.scroll.y/this.tilesize).toInt()+ig.game.O7715.originY,c=this.scroll.x%this.tilesize,d=this.scroll.y%this.tilesize,
e=-c-this.tilesize,c=ig.system.width+this.tilesize-c,f=ig.system.height+this.tilesize-d,g=ig.system.scale,h=ig.system.context,k=-1,d=-d-this.tilesize;d<f;k++,d+=this.tilesize)for(var l=k+b,m=-1,n=e;n<c;m++,n+=this.tilesize)ig.game.O7715.O8268({x:m+a,y:l})&&(h.beginPath(),h.rect(n*g,d*g,this.tilesize*g,this.tilesize*g),h.lineWidth=g,h.strokeStyle="rgba(50,255,50,0.8)",h.stroke())},O5670:function(a,b,c,d,e){a.takesBackFill&&(a=this.O7363(b,c))&&
(a.isALiquid?a.draw(d,e,0,0,ig.game.O7649.O3452?0.6:0.75):a.O7417(d,e,0,0,1))},O7363:function(a,b){for(var c=null,d=0,e=0,f={},g=-1;1>=g;g++)for(var h=1;-1<=h;h--)if(!(0==g&&0==h)){f.x=a+g;f.y=b+h;var k=ig.game.O7715.O8268(f);if(null!=k){if((k=ig.game.O4961.getItemBasic(k.tid,"bme3",!0))&&k.givesBackFill&&(!k.horizontalBackFillOnly||0==h)&&(!k.verticalBackFillOnly||0==g))null==c&&!k.isWindow&&(c=k),d++}else if(2<=++e)return null}return 1<=
e&&1==d?null:c},O7109:function(){if(!ig.input.state("click"))return!1;for(var a=(this.scroll.x/this.tilesize).toInt()+ig.game.O7715.originX,b=(this.scroll.y/this.tilesize).toInt()+ig.game.O7715.originX,c=this.scroll.x%this.tilesize,d=this.scroll.y%this.tilesize,e=-c-this.tilesize,c=ig.system.width+this.tilesize-c,f=ig.system.height+this.tilesize-d,g=ig.input.mouse.x,h=ig.input.mouse.y,k=-1,d=-d-this.tilesize;d<f;k++,d+=this.tilesize)for(var l=k+b,m=-1,n=e;n<c;m++,n+=this.tilesize){var p=
m+a;this.O2599(n,d,this.tilesize,g,h)&&(ig.game.O50={x:p,y:l},!ig.game.O7715.O282(ig.game.O50)&&!(ig.input.mouse.x>ig.game.panelSet.panelPos.x)&&ig.game.O5405.O3303(n-2,d-2))}},O2983:function(){for(var a=(this.scroll.x/this.tilesize).toInt()+ig.game.O7715.originX,b=(this.scroll.y/this.tilesize).toInt()+ig.game.O7715.originX,c=this.scroll.x%this.tilesize,d=this.scroll.y%this.tilesize,
e=-c-this.tilesize,c=ig.system.width+this.tilesize-c,f=ig.system.height+this.tilesize-d,g=ig.input.mouse.x,h=ig.input.mouse.y,k=-1,d=-d-this.tilesize;d<f;k++,d+=this.tilesize)for(var l=k+b,m=-1,n=e;n<c;m++,n+=this.tilesize){var p=m+a;this.O2599(n,d,this.tilesize,g,h)&&(ig.game.O50={x:p,y:l},ig.game.O7715.O6047(ig.game.O50)&&!(ig.input.mouse.x>ig.game.panelSet.panelPos.x)&&ig.game.O5405.O7655(n,
d))}},O4963:function(a,b,c){ig.system.context.fillStyle="rgba(200,200,200,0.1)";!c||0===c||2===c?ig.system.context.fillRect(a*ig.system.scale,(b-ig.game.tileSize*Math.floor(ig.game.O6100/2))*ig.system.scale,ig.game.tileSize*ig.system.scale,ig.game.tileSize*ig.game.O6100*ig.system.scale):ig.system.context.fillRect((a-ig.game.tileSize*Math.floor(ig.game.O6100/2))*ig.system.scale,b*ig.system.scale,ig.game.tileSize*ig.game.O6100*ig.system.scale,ig.game.tileSize*
ig.system.scale)},O2599:function(a,b,c,d,e){return a<=d&&d<a+c&&b<=e&&e<b+c},O3559:function(a,b){ig.game.O5405.O3559(a,b)}})});ig.baked=!0;
ig.module("plugins.mland-collisionmapextension120").requires("impact.impact","impact.collision-map").defines(function(){ig.O4041.inject({O2919:function(a,b,c,d,e,f,g,h,k,l){a.pos.x+=d;a.pos.y+=e;var m=0;if(d){var n=0<d?f:0,p=0>d?this.tilesize:0,m=Math.floor(c/this.tilesize),q=Math.ceil((c+g)/this.tilesize);d=Math.floor((a.pos.x+n)/this.tilesize);var s=Math.floor((b+n)/this.tilesize);if(0<l||d==s)s=null;for(var r=m;r<q&&(!s||!(m=ig.game.O7715.O7150At({y:r,x:s}),1<m&&m<=this.lastSlope&&
this.O3193(a,m,b,c,h,k,f,g,s,r)));r++)if(m=ig.game.O7715.O7150At({y:r,x:d}),1==m||m>this.lastSlope||1<m&&this.O3193(a,m,b,c,h,k,f,g,d,r)){if(1<m&&m<=this.lastSlope&&a.collision.slope){a.collision.slope.tile=m;break}a.collision.x=!0;a.tile.x=m;b=a.pos.x=d*this.tilesize-n+p;h=0;break}}if(e){n=0<e?g:0;e=0>e?this.tilesize:0;m=Math.floor(a.pos.x/this.tilesize);p=Math.ceil((a.pos.x+f)/this.tilesize);r=Math.floor((a.pos.y+n)/this.tilesize);q=Math.floor((c+n)/this.tilesize);if(0<
l||r==q)q=null;for(d=m;d<p&&(!q||!(m=ig.game.O7715.O7150At({y:q,x:d}),1<m&&m<=this.lastSlope&&this.O3193(a,m,b,c,h,k,f,g,d,q)));d++)if(m=ig.game.O7715.O7150At({y:r,x:d}),1==m||m>this.lastSlope||1<m&&this.O3193(a,m,b,c,h,k,f,g,d,r)){if(1<m&&m<=this.lastSlope&&a.collision.slope){a.collision.slope.tile=m;break}a.collision.y=!0;a.tile.y=m;a.pos.y=r*this.tilesize-n+e;break}}}})});ig.baked=!0;
ig.module("plugins.mland-soundextensions").requires("impact.sound").defines(function(){ig.O1520.inject({get:function(a){a=this.clips[a];for(var b=0,c;c=a[b++];)if(c.paused||c.ended)return c.ended&&(c.O6918=0),c;try{return a[0].pause(),a[0].O6918=0,a[0]}catch(d){return null}}});ig.Sound.inject({isLoaded:!1,init:function(a,b,c){this.path=a;this.O6326=!1!==b;if(null==c||void 0==c)c=!0;if(c){var d=this;this.load(function(){d.isLoaded=!0})}},play:function(){if(ig.game.settings.doPlaySound&&
(!ig.game.O4269||!ig.game.O4269.O2031("mutesAll"))&&ig.Sound.enabled)if(this.isLoaded){if(this.O6256=ig.O3970.get(this.path))this.O6256.volume=ig.O3970.volume*this.volume,this.O6256.play(),ig.game.brainManager&&ig.game.brainManager.O828(this.path)}else{var a=this;this.load(function(){a.isLoaded=!0;a.play()})}}})});ig.baked=!0;
ig.module("plugins.mland-inputmultitouch").requires("impact.game","impact.input").defines(function(){var a=function(a,c,d,e){this.x=a;this.y=c;this.id=d;this.state=e};ig.Input.inject({touches:{},O5776:[],O5637:!1,O1960:function(){if(!this.O7196){this.O7196=!0;var a=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",a,!1);ig.system.canvas.addEventListener("DOMMouseScroll",a,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),
!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.system.canvas.addEventListener("touchstart",this.O3860.bind(this),!1);ig.system.canvas.addEventListener("touchmove",this.O3860.bind(this),!1);ig.system.canvas.addEventListener("touchend",this.O3860.bind(this),!1)}},keydown:function(b){this.parent(b);"mousedown"==
b.type&&(this.touches.mouse=new a(this.mouse.x,this.mouse.y,"mouse","down"))},keyup:function(a){this.parent(a);"mouseup"==a.type&&(this.touches.mouse||(this.touches.mouse={}),this.touches.mouse.state="up",this.touches.mouse.x=this.mouse.x,this.touches.mouse.y=this.mouse.y,this.O5776.push("mouse"))},mousemove:function(a){this.parent(a);this.state("click")&&this.touches.mouse&&(this.touches.mouse.x=this.mouse.x,this.touches.mouse.y=this.mouse.y)},O3472:function(){this.parent();for(var a=
this.O5776.length;a--;)delete this.touches[ig.input.O5776[a]];this.O5776=[]},O3860:function(a){a.stopPropagation();a.preventDefault();for(var c=a.changedTouches.length;c--;){var d=a.changedTouches[c];this["multi"+a.type]((d.clientX-ig.system.canvas.offsetLeft)/ig.system.scale,(d.clientY-ig.system.canvas.offsetTop)/ig.system.scale,d.identifier)}},multitouchstart:function(b,c,d){this.mouse.x=b;this.mouse.y=c;var e=this.bindings[ig.KEY.MOUSE1];e&&(this.actions[e]=!0,this.presses[e]=
!0);this.touches[d]=new a(b,c,d,"down");ig.ua.iOS&&(ig.game.update(),this.presses.click=!1)},multitouchmove:function(a,c,d){this.mouse.x=a;this.mouse.y=c;this.touches[d]&&(this.touches[d].x=a,this.touches[d].y=c)},multitouchend:function(a,c,d){this.mouse.x=a;this.mouse.y=c;if(this.touches[d]&&(this.touches[d].state="up",this.O5776.push(d),a=this.bindings[ig.KEY.MOUSE1]))this.delayedKeyup[a]=!0,ig.ua.iOS&&(this.actions.click=this.locks.click=this.presses.click=!1,ig.game.update())},O4903:function(){return 2<=
this.O706()},O706:function(){var a=0,c;for(c in this.touches)a++;return a},O1562:function(a){for(var c in a)return!1;return!0}})});ig.baked=!0;
ig.module("plugins.mland-fontextensions").requires("impact.font").defines(function(){ig.Font.inject({drawCustom:function(a,b,c,d,e){e||(e=ig.system.context);"string"!=typeof a&&(a=a.toString());if(-1!==a.indexOf("\n")){a=a.split("\n");e=this.height+this.O5173;for(var f=0;f<a.length;f++)this.draw(a[f],b,c+f*e,d)}else{if(d==ig.Font.ALIGN.RIGHT||d==ig.Font.ALIGN.CENTER)f=this.O6540(a),b-=d==ig.Font.ALIGN.CENTER?f/2:f;1!==this.alpha&&(e.globalAlpha=this.alpha);for(f=0;f<a.length;f++)d=a.charCodeAt(f),
b+=this.O6142(d-this.firstChar,b,c,e);1!==this.alpha&&(e.globalAlpha=1);ig.Image.drawCount+=a.length}},O6142:function(a,b,c,d){if(!this.loaded||0>a||a>=this.indices.length)return 0;d||(d=ig.system.context);var e=ig.system.scale,f=this.widthMap[a]*e,g=(this.height-2)*e;d.drawImage(this.data,this.indices[a]*e,0,f,g,b,c,f,g);return this.widthMap[a]+this.O2670},O5640:function(a){this.height=a.height-1;this.widthMap=[];this.indices=[];var b=ig.$new("canvas");
b.width=a.width;b.height=a.height;b=b.getContext("2d");b.drawImage(a,0,0);for(var b=b.getImageData(0,a.height-1,a.width,1),c=0,d=0,e=0;e<a.width;e+=ig.system.scale)0!=b.data[4*e+3]?d++:d&&(this.widthMap.push(d),this.indices.push(e/ig.system.scale-d),c++,d=0);this.widthMap.push(d);this.indices.push(e/ig.system.scale-d);this.height=a.height/ig.system.scale}})});ig.baked=!0;
ig.module("game.main").requires("impact.game","impact.font","mlframe.image","mlframe.animation","mlframe.misc","game.entities.player","game.entities.deadplayer","game.entities.thrownitem","game.entities.motion","game.entities.moving.moving","game.entities.moving.deadlymv","game.entities.immobile.default","game.entities.immobile.livmov","game.entities.immobile.light","game.entities.immobile.lighttop","game.entities.immobile.vignette","game.entities.immobile.helper","game.entities.immobile.holder",
"game.entities.immobile.musicsheet","game.entities.immobile.filllight","game.entities.immobile.deadly","game.entities.immobile.portal","game.entities.immobile.portaldir","game.entities.immobile.portalr","game.entities.immobile.musical","game.entities.immobile.music","game.entities.immobile.harmflip","game.entities.immobile.harm","game.entities.immobile.harmanim","game.entities.immobile.medium","game.entities.immobile.environm","game.entities.immobile.glow","game.entities.immobile.living","game.entities.immobile.interact",
"game.entities.immobile.livanim","game.entities.immobile.lqdflip","game.entities.immobile.liquid","game.entities.immobile.crumbling","game.entities.immobile.activator","game.entities.immobile.openable","game.entities.immobile.decoact","game.entities.immobile.decofb","game.entities.immobile.multithing","game.entities.immobile.decotch","game.entities.immobile.gather","game.entities.immobile.deadlyem","game.entities.immobile.decoanim","game.entities.immobile.sparkling","game.entities.immobile.flexible",
"game.entities.immobile.pointer","game.entities.immobile.placename","game.entities.immobile.writable","game.entities.immobile.readable","game.entities.immobile.sound","game.entities.immobile.decobig","game.entities.immobile.decovbig","game.entities.immobile.farback","game.entities.immobile.furry","game.entities.immobile.drifty","game.entities.immobile.clothy","game.entities.immobile.lively","game.entities.immobile.viewable","game.entities.immobile.dynathing","game.entities.immobile.transform","game.entities.immobile.happening",
"game.entities.immobile.changer","game.entities.immobile.brain","game.entities.immobile.liner","game.entities.immobile.stackhold","game.entities.immobile.emitter","game.entities.immobile.aimable","game.entities.immobile.interenv","game.entities.immobile.equipment","game.entities.immobile.consumab","game.entities.immobile.hook","game.entities.immobile.stackwear","game.entities.immobile.stackwearb","game.entities.immobile.thrower","game.entities.immobile.mntground","game.entities.immobile.mntair","game.entities.immobile.stackinstr",
"game.ui.panelset","game.ui.playerdialog","game.ui.mylocationdialog","game.ui.areadialog","game.ui.clonehistorydialog","game.ui.itemlistdialog","game.ui.actioninfo","game.ui.instrumentdialog","game.ui.boostdialog","game.ui.randomareasdialog","game.ui.debugdialog","game.ui.alertdialog","game.ui.interactingdialog","game.ui.userscripteditor","game.ui.areasearchdialog","game.ui.adcampaignsdialog","game.ui.arealist","game.ui.thingreferencesdialog","game.ui.friendsdialog","game.ui.statsdialog","game.ui.holderdialog",
"game.ui.multithing","game.ui.motiondialog","game.ui.mediadialog","game.ui.writabledialog","game.ui.albumdialog","game.ui.customsnapshotdialog","game.ui.readabledialog","game.ui.musicrecorder","game.ui.viewabledialog","game.ui.virtualjoystick","game.ui.virtualkeyboard","game.ui.healthbar","game.ui.bottommenu","game.ui.painter","game.ui.itemcontextmenu","game.ui.deletionmarkerdialog","game.ui.usermapdialog","game.data.speechdata","game.core.loader","game.core.sounds","game.core.screencapturer","game.core.coreimages",
"game.core.itemcache","game.core.O4664","game.core.colors","game.core.O8216","game.core.O5043","game.core.O7802","game.core.settings","game.core.linermanager","game.core.movermanager","game.core.syncedclock","game.core.aimablemanager","game.core.areagenerator","game.core.O3408","game.core.O1036","game.core.userscriptmanager","game.core.brainmanager","game.core.O3405","game.core.O3676","game.core.O1741","game.core.O4045",
"game.core.holdermanager","game.core.multithingmanager","game.core.O1919","game.core.itemsearchmanager","game.core.O1847","game.core.O2970","game.core.O148","game.core.decorator","game.core.backgrounddecorator","game.core.camera","game.core.spritesheet","game.core.spritesheetboostdialog","game.core.playerstatusobserver","game.core.validations","game.core.mapplacementvalidation","game.core.O7785","game.core.O3247","game.core.errormanager",
"game.core.O1817","game.core.O3528","game.core.searchquery","game.core.strings","game.core.portaller","game.core.O6698","game.core.O5421","game.core.O65","game.core.boostmanager","game.core.socialintegration","game.core.iapmanager","game.core.iapdialogmanager","game.core.farbackmanager","game.core.seedablerandom","game.core.steammanager","game.coms.httpapi","game.coms.O4107","game.coms.websocketcomsws","game.coms.O3317","plugins.mland-backgroundmapextensions",
"plugins.mland-collisionmapextension120","plugins.mland-soundextensions","plugins.mland-inputmultitouch","plugins.mland-fontextensions").defines(function(){window.MLand=ig.Game.extend({gravity:800,O361:1,O5603:1,O6100:7,O500:!1,O50:null,tileSize:19,O1990:9.5,O1761:38,O5286:38,O8356:57,panelSet:null,O2050:!1,O5647:0.6,O2277:0,topLeftUIPos:{x:26,y:6},O3362:null,O143:"",
gameStartTimer:null,O1298:null,isFullAccount:!1,isEditorHere:!1,O2052:!1,currentMapCoordsForMouse:{x:0,y:0},sounds:{},O5997:10,O6108:!1,O4515:!0,O6310:!1,O4990:0,O3331:0,O413:{},O440:!1,O1132:1,O1886:!0,O2930:!1,O4760:!1,O3899:!1,O3459:!ig.ua.mobile,O835:1,O3626:2,O2794:2,O1012:100,
cameraTrackPlayer:!0,canvasId:"canvas",O6319:16,ourPeople:null,O4342:null,O6225:0,O6997:0,O5881:0,O3675:0,O3902:null,O1034:null,O7277:null,O1173:45,maxCells:2,O1509:9,O2565:7,blockedTypesForTest:localStorage.blocked?JSON.parse(localStorage.blocked):null,O05:1.4,avatarBaseSize:{x:16,y:19},O5638:!1,O3966:"chair;sofa;cushion;bench;stool;couch;seat;bath tub;bathtub;pool;throne;beanbag;sittable;toilet".split(";"),
lieableNames:["bed","mattress","lieable"],O6649:"MNTGROUND MNTAIR MNTWATER GLOW DECOBIG POINTER PLACENAME STACKWEARB STACKWEAR DECOFB LIVING INTERACT LIVANIM LIVMOV MOTION INTERMOT FARBACK DYNATHING HAPPENING MUSICSHEET HOLDER FARBACK TRANSFORM MULTITHING".split(" "),O6825:["DECOVBIG"],O3577:"MNTGROUND MNTAIR MNTWATER LIVANIM LIVMOV STACKWEAR INTERACT PORTALAR DYNATHING HAPPENING MUSICSHEET FARBACK TRANSFORM".split(" "),O8283:480,fullAngle:2*Math.PI,O970:null,
O3329:void 0,O2473:void 0,O6576:[],O3687:void 0,O1412:void 0,O5307:void 0,O8380:void 0,targetFps:60,O2612:null,hasMinfinity:!1,O8284:!1,O4718:0.75,O4132:void 0,O5051:void 0,O914:void 0,O172:void 0,O3754:void 0,O7715:void 0,entityManager:void 0,O4120:void 0,O6858:void 0,O3985:void 0,
multithingManager:void 0,O7510:void 0,O7188:void 0,O7649:void 0,O6401:void 0,settings:void 0,O6775:void 0,O7019:void 0,O1638:void 0,O3777:void 0,areaGenerator:void 0,O4321:void 0,userScriptManager:void 0,brainManager:void 0,O5211:void 0,O4703:void 0,O8430:void 0,O231:void 0,O7053:void 0,O884:void 0,O3501:void 0,O4803:void 0,O6099:void 0,
userO6290:void 0,O4504:void 0,O6462:!1,O5975:"helptown",O2063:{},isLocal:0===window.location.href.indexOf("http://127.0.0.1")||0===window.location.href.indexOf("http://192.168.178.47"),O4932:!1,O4855:!1,colors:null,O8095:null,O2683:Math.sqrt(2),O2051:4,O250:!1,O5709:!1,O5680:!1,O843:160,screenPlusMargin:{x1:0,
x2:0,y1:0,y2:0},O414:0,O5210:0,O3252:!1,avoidDrawing:!1,areaName:"",O966:"",O45:"",O1054:"",areaId:null,areaGroupId:null,O6845:null,areaGlobalInteractingId:null,O2944:null,O461:!1,areaDrift:{angle:0,speed:0},areaCenterLocation:{x:15,y:15},O1507:!1,areaAngleDriftVelocity:{x:0,y:0},O2714:"ANY",O3595:void 0,O7443:void 0,
areaPossessions:null,O731:null,O4271:!1,O3603:!1,O7733:!1,O574:34,O3955:!1,O8073:0,O2814:"smalltown;newmountain;newville;first valley;welcometown;arrival mountain;green valley;startville;firstville;firsttown;freshtown;starttown;welcome mountain;first rock;start island;fresh springs;welcome springs;arrivalville;freshtopia;newtopia;startopia".split(";"),O329:!0,
theyCanDrown:!0,O4367:!0,O5182:!1,O5049:!0,theyCanMapTeleport:!1,O2066:!0,O7995:!0,O3643:!0,O4280:!0,O4973:!0,O7804:!1,O8422:!1,O1217:!1,autoHeals:!0,O5124:500,O5442:null,O4109:!1,O5298:!1,O67:!0,O18:!1,O796:0,O8110:!0,O3894:!1,
typesWithExternalBigData:["BRAIN","CHANGER"],O1850:["CHANGER"],O2675:null,O2164:!1,O1501:Date.now(),maxMapItemImageLoadWaitMS:2500,O5832:!1,universeSearchChecked:!1,O1386:"universeSearchChecked",O876:!1,O707:!1,O5699:!1,O8053:!1,O5555:!0,nonLoggedInChatIfEditorAround:!1,O1591:!1,availableFonts:{blackWhite:{O2670:-1},black:{},
white:{},whiteSmall:{},blackSmall:{},elegance:{O2670:-1},wild:{O2670:-1},shapes:{O2670:-1},cute:{O2670:-1},action:{O2670:-2},inverted:{O2670:-1},strict:{O2670:-1},faint:{O2670:-1},melodic:{O2670:-1},low:{O2670:-1},high:{O2670:-1},smooth:{O2670:-1},casual:{O2670:-1},wide:{O2670:-1},bulky:{O2670:-1}},init:function(){ig.game.loadStartTime=Date.now();this.O7002("World Initialization Starting",
"Transporting to universe");this.setup();ig.game.strings=new Strings;ig.game.colors=new Colors;ig.game.errorManager=new ErrorManager;ig.game.seedableRandom=new SeedableRandom;ig.ua.steam&&(ig.game.steamManager=new SteamManager);ml.Misc.O879();window.location&&"#avoidDrawing=true"==window.location.hash&&(ig.game.avoidDrawing=!0);ig.game.debug=new DebugDialog;this.O7002("Loading Spritesheet","Clearing fog");this.O5405=new O1778;this.O5405.O1823.fail(function(){ig.game.errorManager.O7973("Oops, there were loading issues. (Failed to load spritesheet.)")});
jQuery.when(ig.game.O5405.O1823).then(function(){ig.game.O914=new O6328;ig.game.O1638=new SyncedClock;ig.game.O7421=new HttpApi;ig.game.O172=new O4246;ig.game.O3754=new O2595;ig.game.O4961=new ItemCache;ig.game.O7715=new O6290;ig.game.entityManager=new O5588;ig.game.O4120=new O5916;ig.game.O6858=new O4039;ig.game.O3985=new HolderManager;
ig.game.multithingManager=new MultithingManager;ig.game.brainManager=new BrainManager;ig.game.O7510=new O2640;ig.game.O7188=new O7251;ig.game.O7649=new O3265;ig.game.O6401=new O3383;ig.game.settings=new Settings;ig.game.O6775=new LinerManager;ig.game.O7019=new MoverManager;ig.game.O3777=new AimableManager;ig.game.areaGenerator=new AreaGenerator;ig.game.O4321=new O6455;ig.game.userScriptManager=
new UserScriptManager;ig.game.O5211=new O2526;ig.game.O4703=new O1873;ig.game.itemSearchManager=new ItemSearchManager;ig.game.O8430=new O3046;ig.game.O231=new O2776;ig.game.O7053=new O5534;ig.game.decorator=new Decorator;ig.game.camera=new Camera;ig.game.validations=new Validations;ig.game.mapPlacementValidation=new MapPlacementValidation;ig.game.O884=new O1042;ig.game.O3501=
new BoostManager;ig.game.coreImages=new CoreImages;ig.game.O4803=new O7572;ig.game.portaller=new Portaller;ig.game.O6099=new O7526;ig.game.userO6290=new O2966;ig.game.actioninfo=new Actioninfo;ig.game.iapManager=new IapManager;ig.game.iapDialogManager=new IapDialogManager;ig.game.farBackManager=new FarBackManager;ig.game.O4156();ig.game.O7602();ig.game.topLeftUIPos={x:26,y:ig.system.height-14};ig.game.O7002("Loading start info",
"Assessing situation");ig.game.O1482().done(function(){ig.game.O7002("Establishing WebSockets Connection","Looking for atoms");ig.game.O4349=new WebSocketComs(ig.game.wshost,ig.game.wsport);ig.game.O4349.playerAcceptedPromise.done(ig.game.O3623);0!=ig.game.areaDrift.speed&&(ig.game.areaAngleDriftVelocity=ml.Misc.O7683());ig.game.backgroundDecorator=new BackgroundDecorator;ig.game.isEditorHere&&!ig.ua.mobile&&(ig.game.O2050=
!0,ig.game.camera.setOffset());ig.game.isEditorHere&&(ig.game.theyCanMapTeleport=!0,ig.game.O7804=!0);ig.game.O631()});ig.game.O1442();ig.game.O5051=new O4988;ig.game.searchQuery=new SearchQuery;ig.game.sounds=new Sounds;ig.game.O4342=new ScreenCapturer;ml.Misc.O1420()})},setup:function(){jQuery("body").on("contextmenu",function(a){return!1});ig.system.context.webkitImageSmoothingEnabled=!1;ig.system.context.mozImageSmoothingEnabled=
!1;ig.system.context.oImageSmoothingEnabled=!1;ig.system.context.imageSmoothingEnabled=!1;window.consoleref=window.console;"production"==window.mlenv&&!ig.game.O6108?this.O2266():"undefined"===typeof window.console&&(window.console={},window.console.log=window.console.assert=window.console.warn=window.console.error=window.console.time=window.console.timeEnd=window.console.clear=function(){});jQuery(window).resize(function(){ig&&ig.game&&ig.game.O6255()});Number.prototype.mod=
function(a){return(this%a+a)%a};this.O3902=window.oid;this.O1034=window.fai;this.root=window.root;this.staticroot=window.staticroot;this.imageroot=window.imageroot;this.snaproot=window.snaproot;this.snapthmroot=window.snapthmroot;this.sectorimageroot=window.sctroot;this.mlenv=window.mlenv;this.version=window.v;this.staticResourcePrefix="test"==ig.game.mlenv||"production"==ig.game.mlenv?"//"+this.staticroot+"/":"";this.itemImageResourcePrefix="test"==ig.game.mlenv||"production"==ig.game.mlenv?
"//"+this.imageroot+"/":"";this.sectorImageResourcePrefix="//"+this.sectorimageroot+"/"},O1482:function(){var a=jQuery.Deferred(),b=window.location.pathname&&window.location.pathname.replace(/\//g,"");ig.game.O7421.O5524(b).done(function(b){if(b.isAreaBannedFromAll)window.location="/support";else if(b.isAreaBanned)window.location="/info-area-lock"+(b.areaBannedMinutes?"#"+b.areaBannedMinutes:"");else{var d=b.rid;ig.game.O414=b.age;ig.game.O5442=b.hli;
ig.game.noIAP=b.noi;ig.game.flagsAlert=b.fla;ig.game.flagsAlertTags=b.flt&&Array.isArray(b.flt)?b.flt:[];ig.game.wshost=b.wsh;ig.game.wsport=b.wsp;ig.game.isFullAccount=b.ifa;ig.game.isEditorHere=b.ieh;ig.game.O2052=b.ish;ig.game.hasMinfinity=b.hmf;ig.game.O1217=ig.game.hasMinfinity;ig.game.lastMinfinityAmount=b.lma;ig.game.minfinityLastExpired=b.mle;ig.game.isBacker=b.isb;ig.game.areaId=b.aid;ig.game.areaGroupId=b.gid;ig.game.O6845=b.sub;ig.game.areaName=b.arn;ig.game.O966=
b.agn;ig.game.O45=b.aun;ig.game.O1054=b.ard;ig.game.areaGlobalInteractingId=b.iid;ig.game.O461=b.spe;ig.game.nonLoggedInChatIfEditorAround=b.ece;ig.game.O731=b.abo;ig.game.areaTitleFont=b.tfo;ig.game.O2714=b.apr;ig.game.O3595=b.aps?b.aps.ids:null;ig.game.O7443=b.aps?b.aps.values:null;ig.game.areaCenterLocation=b.acl;ig.game.O1507=Boolean(b.mro);ig.game.areaClosed=
Boolean(b.axx);ig.game.areaUnlisted=Boolean(b.aul);ig.game.O7421.O7185=b.mpv;ig.game.O3501.O1579=b.bbl;ig.game.O4932=Boolean(b.ise);ig.game.otherAreaWasFullInfo=b.fti;ig.game.O2164=!!b.wrc;ig.game.areaAdForDisplay=b.aad;ig.game.settings.O2946=b.stn;ig.game.O707=!ig.game.areaName||"INDIVIDUALS"!=ig.game.O2714;ig.game.O5699=!ig.game.areaName;ig.game.O8053=!ig.game.O5699;b.agi&&ig.game.areaGenerator.O8142(b.agi,
d);ig.game.O4932&&(ig.game.O461=!0);ig.game.O3595&&0==ig.game.O3595.length&&(ig.game.O3595=null);ig.game.O7443&&0==ml.Misc.O4361(ig.game.O7443)&&(ig.game.O7443=null);ig.game.O1507&&(ig.game.isEditorHere=!1,ig.game.O2473=ig.game.isEditorHere,
ig.game.O2052=!1);ig.game.universeSearchChecked="true"==localStorage.getItem(ig.game.O1386);ig.game.universeSearchChecked&&!ig.game.hasMinfinity&&(ig.game.universeSearchChecked=!1,localStorage.removeItem(ig.game.O1386));ig.game.O414&&(ig.game.O5210=Math.round(ig.game.O414/60/60/24));b.adr&&(ig.game.areaDrift=b.adr);ig.game.O45&&document.URL&&-1===document.URL.indexOf("/"+ig.game.O45)&&window.history?
window.history.pushState(void 0,"","/"+ig.game.O45+window.location.search+window.location.hash):!ig.game.O45&&(""!=window.location.pathname&&"/"!=window.location.pathname)&&window.history.pushState(void 0,"","/"+window.location.search+window.location.hash);ig.game.O966&&(document.title=ig.ua.steam?ig.game.strings.O1848(ig.game.O966)+" - Manyland":ig.game.strings.O1848(ig.game.O966));b.sci&&(window.console=window.consoleref,ig.game.sci=!0);!ig.game.isLocal&&
(!ig.ua.steam&&!ig.ua.firefox&&!ig.ua.iexplorer)&&(window.onbeforeunload=function(a){return ig.game&&0==ig.game.O1132&&ig.game.O4269&&1>=ig.game.O4269.rank&&!(localStorage&&"true"==localStorage.wasAskedAboutGuidance)&&ig.game.O966!=ig.game.O5975?(localStorage.wasAskedAboutGuidance="true",ig.game.O3955=!0,"Would you like guidance on Manyland?"):null});ig.game.O3211();a.resolve()}}).fail(function(a){ig.game.errorManager.O1500("Failed to load startinfo",
a)});return a.promise()},O3623:function(a){ig.game.O7002("Accepted by WebSockets server","Found atoms");ig.game.O7277=new ml.Timer;ig.game.didSomeoneLogoutWhileBeingSoftbannedRecently()&&(a.r=0);ig.game.O3329=a.r;ig.game.O4269=ig.game.spawnEntity("EntityPlayer",a.pos.x,a.pos.y,{O4102:!0,rank:a.r,O2375:a.dpt,O7237:a.aid,screenName:a.snm,isNew:a.neo,voice:a.vce,O2082:a.wof,O918:a.shs});a.att&&
ig.game.O7510.O6571(ig.game.O4269,a.att);ig.game.O4269.O2507=a.rid;ig.game.O8110&&(ig.game.O4269.binId=ig.game.O4349.binary.O5901(a.rid));ig.game.O1298=new ml.Timer;ig.game.bottomMenu=new BottomMenu;var b=JSON.parse(a.ach);ig.game.O4803.O8164(b);ig.game.O172.O5683(ig.game.O4269,a.map.p,a.map.a);ig.game.O7053.start();ig.game.O5051.O1564(a.trk);
ig.game.O5051.O930();b=ig.game.O7715.prime_P();b.done(function(){ig.game.O7002("Map data primed","Readying gravity")}).fail(function(){ig.game.errorManager.O7973("Oops, there were loading issues. (Map data prime failed)")});if(15>=(ig.game.O414?ig.game.O414/60:0))ig.game.maxMapItemImageLoadWaitMS=7500;var c=jQuery.Deferred(),d=c.promise();setTimeout(function(){"pending"===c.state()&&c.resolve()},ig.game.maxMapItemImageLoadWaitMS);
ig.game.O7715.initialItemImagesMidSectorLoading.always(function(){c.resolve()});ig.game.O4269.avatarLoadedPromise.done(function(){ig.game.O7002("Avatar loaded","Getting in shape")}).fail(function(){ig.game.errorManager.warn("Failed to load avatar",null,!0)});ig.game.areaName||(ig.game.topLeftUIPos.x+=33);ig.game.O1638.sendPingToServer();var e=a.ups;jQuery.when.apply(null,[b,d,ig.game.O5405.O1823,ig.game.O4120.O2078]).then(function(){if(!ig.game.errorManager.O7987){ig.game.O7002("Initialization Complete",
"World established");ig.game.O4760=!0;ig.game.O4349.O5499();ig.game.O4132=new O7590(ig.game.topLeftUIPos.x,ig.game.topLeftUIPos.y-2);ig.game.speechData=new SpeechData("en");ig.game.O2169=new PlaterStatusObserver(e);ig.game.panelSet=new UIPanelSet;ig.game.playerDialog=new PlayerDialog;ig.game.myLocationDialog=new MyLocationDialog;ig.game.areaDialog=new AreaDialog;ig.game.cloneHistoryDialog=new CloneHistoryDialog;
ig.game.itemListDialog=new ItemListDialog;ig.game.instrumentDialog=new InstrumentDialog;ig.game.boostDialog=new BoostDialog;ig.game.randomAreasDialog=new RandomAreasDialog;ig.game.alertDialog=new AlertDialog;ig.game.userScriptEditor=new UserScriptEditor;ig.game.areaSearchDialog=new AreaSearchDialog;ig.game.adCampaignsDialog=new AdCampaignsDialog;ig.game.areaList=new AreaList;ig.game.friendsDialog=new FriendsDialog;ig.game.statsDialog=new StatsDialog;ig.game.motionDialog=new MotionDialog;ig.game.holderDialog=
new HolderDialog;ig.game.multithing=new Multithing;ig.game.mediaDialog=new MediaDialog;ig.game.writableDialog=new WritableDialog;ig.game.albumDialog=new AlbumDialog;ig.game.customSnapshotDialog=new CustomSnapshotDialog;ig.game.readableDialog=new ReadableDialog;ig.game.musicRecorder=new MusicRecorder;ig.game.viewableDialog=new ViewableDialog;ig.game.userMapDialog=new UserMapDialog;ig.game.virtualJoystick=new VirtualJoystick;ig.game.virtualKeyboard=new VirtualKeyboard;ig.game.healthBar=new HealthBar;
ig.game.itemContextMenu=new ItemContextMenu;ig.game.deletionMarkerDialog=new DeletionMarkerDialog;ig.game.socialIntegration=new SocialIntegration;var a=19,b=-29;localStorage.portaller_currentAreaGroupName!=ig.game.O966&&(a=50,b=19);ig.game.screen.x=ig.game.O4269.pos.x-ig.system.widthHalf+a;ig.game.screen.y=ig.game.O4269.pos.y-ig.system.O8417+b;ml.Misc.O1649();ig.game.motionDialog.O5814();ig.game.areaGlobalInteractingId&&(ig.game.O8053&&
"INDIVIDUALS"==ig.game.O2714)&&ig.game.entityManager.O1854(ig.game.areaGlobalInteractingId);ig.game.O4349.transmitNewPlayer();ig.game.O3899=!0;jQuery("body").css("background-color",ig.ua.shouldGetAds?"rgb(80,80,80)":"#000");ig.game.O7002("Removing shroud","Readying view");jQuery("#loadingAnimation").remove();ig.game.removeShroud();ig.game.gameStartTimer=new ml.Timer;ig.game.painter=new Painter(ig.game.coreImages.painterBackground,ig.game.coreImages.painterO1778);
ml.Misc.O2307();ig.game.steamManager&&ig.game.steamManager.O7116();ig.game.portaller.O4409();ig.game.O5820();ig.game.iapDialogManager.O1452();ig.game.O2809()}},function(){ig.game.errorManager.O7973("Oops, there were loading issues. (Failed to properly load world.)")})},O2809:function(){if(ig.ua.mobile&&!ig.ua.isIOsUIWebView&&(window.location&&"#token"==window.location.hash||sessionStorage.getLoginTokenAfterLoggingIn&&
ig.game.isFullAccount))ig.game.isFullAccount?(ig.game.alertDialog.open({text:"please wait...",O3468:!0}),ig.game.O7421.O3871(this).done(function(a){ig.game.alertDialog.close();a='<p>Copy &amp; paste this into the Manyland app login field <span style="color: red">(don\'t&nbsp;share&nbsp;it)</span>:</p>'+('<textarea style="width: 90%; text-transform: none" onclick="this.focus();this.select()">'+ig.game.strings.O4334(a)+"</textarea>");ig.game.alertDialog.open({html:a,O3468:!0})}),
sessionStorage.removeItem("getLoginTokenAfterLoggingIn")):(sessionStorage.getLoginTokenAfterLoggingIn=!0,ig.game.bottomMenu.showLoginDialog(!0))},O5820:function(){ig.game.areaClosed&&(ig.game.alertDialog.open("SORRY, THIS AREA IS CLOSED FOR TERMS REASONS. \r\rYOU ARE NOW BEING TRANSFERRED TO ELSEWHERE...",!1,null,"",!0,void 0,!0),setTimeout(function(){ig.game.portaller.startExitAreaTeleportingRequest()},4E3))},O3211:function(){ig.game.O646();if(ig.ua.shouldGetAds){var a=
"position: absolute; display: block; right: 0; top: 0; width: "+ig.ua.adWidth+"px; height: 100%; overflow: hidden;",b="";jQuery("#canvas").on("mouseover",ig.game.O7755);var b=b+('<div style="'+a+'" onmouseover="ig.game.O7316()">\r'),c=jQuery(window).height(),d=17*ig.system.scale,a=ig.ua.adPaddingX,c=ig.ua.adHeight+d>=c?ig.ua.adPaddingX:d;ig.ua.useYollaAds&&(c=15);b+='<div style="'+("position: absolute; right: 0; top: "+c+"px; width: "+(ig.ua.adWidth-ig.ua.addPaddingX)+
"px")+'">\r';d=!!ig.game.areaAdForDisplay;b=ig.game.isLocal?ig.ua.useYollaAds?b+this.O5277(d):b+this.O7653():ig.ua.useYollaAds?b+this.O1187(d):b+this.O7349();b+="\r</div>";if(!ig.ua.useYollaAds){var e=280;10>=c&&(a=190,e=110);b+='<div style="'+("position: absolute; right: "+a+"px; top: 8px; width: "+e+"px; color: rgb(110,110,110); text-transform: uppercase; text-align: right; line-height: 1.6em; font-family: 'Press Start 2P', arial, helvetica, sans-serif; font-size: 10px; font-weight: bold; cursor: default; ")+
' text-decoration: underline;" onclick="ig.game.showAdInfo()">Ad</div>'}b=b+"\r</div>"+this.O5687(d);jQuery("body").append(b)}},O5687:function(a){a=""+('<div id="areaAds" style="'+(a?"top: 350px":"")+'">');var b="display: none";ig.game.areaAdForDisplay&&(a+="<p>"+ig.game.O6681()+"</p>",b="display: block");return a=a+('<p id="areaAdsInfo" style="'+b+'"><a href="javascript:ig.game.adCampaignsDialog.open()">Advertise your area here</a></p>')+"</div>"},O6681:function(a,
b){var c="",d=ig.game.areaAdForDisplay;if(d&&d.title&&d.areaName){var e=0<=["free minfinity"].indexOf(d.title.toLowerCase()),f=0<=["logout"].indexOf(d.areaName.toLowerCase());!e&&!f&&(a&&(c+='<span class="areaAdDisclaimer">Area ad'+(b?" &nbsp;":"")+"</span>"),c+='<a href="/'+ig.game.strings.O4334(d.areaName)+'">'+ig.game.strings.O4334(d.title)+"</a>")}return c},O7316:function(){ig.game.O5832=!0},O7755:function(){ig.game.O5832&&(ig.game.O5832=
!1,ig.system.canvas.focus())},O646:function(){"true"==localStorage.closeAd&&!ig.game.hasMinfinity&&(localStorage.removeItem("closeAd"),!ig.game.iapDialogManager.O7850()&&-1===window.location.href.indexOf("/peacepark")&&(window.location.href="/peacepark"))},showAdInfo:function(){if(ig.game.alertDialog&&!ig.game.alertDialog.isOpen){ig.game.sounds.click.play();var a;a=ig.game.isFullAccount?"ig.game.iapDialogManager.openMainDialog()":"ig.game.bottomMenu.showLoginDialog()";
a="<p>Ads support Manyland, so thank you!"+('<p>With <span onclick="'+(a+";ig.game.sounds.whoosh.play()")+'" class="pseudoLink">Minfinity</span>, you can disable ads.</p>');ig.game.alertDialog.open({html:a,O3468:!0})}},O7349:function(){var a;a='<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">\x3c/script>\r\n\x3c!-- Manyland side banner --\x3e\r\n';a+='<ins class="adsbygoogle"\r\n';a+='     style="display:inline-block;width:160px;height:600px"\r\n';
a+='     data-ad-client="ca-pub-4135663670627621"\r\n';a+='     data-ad-slot="1326378644"></ins>\r\n';a+="<script>\r\n";a+="(adsbygoogle = window.adsbygoogle || []).push({});\r\n";return a+="\x3c/script>\r\n"},O1187:function(a){var b;b="\r\n\x3c!-- Yolla banner --\x3e\r\n";b+='<div class="ympb_target_delay" data-type="desktop-medrec-template" data-subtype="336x280,300x250"></div>\r\n';a||(b+='<div style="height: 10px"></div>\r\n',b+='<div class="ympb_target_delay" data-type="desktop-medrec-template" data-subtype="336x280,300x250"></div>');
return b+="\r\n"},O5277:function(a){var b;b='\r\n<div style="display: inline-block; background-color: rgba(255,255,255,0.2); width: 336px; height: 280px;"></div>\r\n';a||(b+='<div style="height: 10px"></div>\r\n',b+='<div style="display: inline-block; background-color: rgba(255,255,255,0.2); width: 336px; height: 280px;"></div>\r\n');return b},O7653:function(){return'<div style="display:inline-block; background-color: rgb(130,130,130); width: 160px; height: 600px; border: 1px solid white;"></div>'},
didSomeoneLogoutWhileBeingSoftbannedRecently:function(){var a=!1;localStorage.someoneLoggedOutWhileBeingSoftbannedDateStamp&&((a=180>=(new Date-Date.parse(localStorage.someoneLoggedOutWhileBeingSoftbannedDateStamp))/1E3/60)||delete localStorage.someoneLoggedOutWhileBeingSoftbannedDateStamp);return a},O4156:function(){ig.game.O2846=new ig.O4041(this.tileSize,[0,0,0]);ig.O4041.lastSlope=99;ig.game.O2846.data=this.O7715.O2846Data;ig.game.O2846.width=
1E10;ig.game.O2846.height=1E10},O1442:function(){var a=new ig.BackgroundMap(this.tileSize,[0,0,0],null),b=ig.game.O5405.getImage(ig.game.O5405.gameBackground),b=new ig.BackgroundMap(213,[[1,1],[1,1]],b);b.repeat=!0;b.distance=1.1;ig.game.backgroundMaps[1]=a;ig.game.backgroundMaps[0]=b},O7602:function(){var a=!1;ml.Misc.O5752()||(a=!1);var b={blackFont:{indices:[0,3,5,9,15,21,28,34,36,40,44,50,56,59,64,66,71,76,79,83,87,92,96,100,104,109,113,115,118,122,
126,130,135,140,144,148,152,156,159,162,167,171,173,177,182,186,192,197,202,206,211,215,219,223,227,233,239,243,247,251,255,259,263,269,273,276,280,284,288,292,295,298,303,307,309,313,318,322,328,333,338,342,347,351,355,359,363,369,375,379,383,387,391,393,397],widthMap:[2,1,3,5,5,6,5,1,3,3,5,5,2,4,1,4,4,2,3,3,4,3,3,3,4,3,1,2,3,3,3,4,4,3,3,3,3,2,2,4,3,1,3,4,3,5,4,4,3,4,3,3,3,3,5,5,3,3,3,3,3,3,5,3,2,3,3,3,3,2,2,4,3,1,3,4,3,5,4,4,3,4,3,3,3,3,5,5,3,3,3,3,1,3,6]},blackWhiteFont:{indices:[0,5,9,15,23,31,
40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,214,222,230,238,246,254,262,270,275,282,290,297,306,315,323,331,340,348,356,365,373,382,391,400,409,417,423,429,435,443,449,454,460,466,472,478,483,488,495,501,505,511,518,524,532,539,546,552,559,565,571,577,583,591,599,605,611,617,623,627,633],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,7,7,7,7,7,7,7,7,4,6,7,6,8,8,7,7,8,6,7,8,7,8,8,8,8,7,5,5,5,7,5,4,5,5,5,5,4,4,6,
5,3,5,6,5,7,6,6,5,6,5,5,5,5,7,7,5,5,5,5,3,5,8]},blackSmallFont:{indices:[0,4,6,10,16,22,29,35,38,42,46,52,56,59,64,66,69,74,77,81,85,90,94,98,102,107,111,113,116,120,125,129,134,140,144,148,151,155,159,163,167,171,173,176,180,183,189,194,198,202,207,211,214,218,222,228,234,238,242,246,250,254,258,264,269,272,276,280,283,287,291,295,299,303,305,308,312,315,321,326,330,334,339,343,346,350,354,360,366,370,374,378,382,384,388,399],widthMap:[3,1,3,5,5,6,5,2,3,3,5,3,2,4,1,2,4,2,3,3,4,3,3,3,4,3,1,2,3,4,
3,4,5,3,3,2,3,3,3,3,3,1,2,3,2,5,4,3,3,4,3,2,3,3,5,5,3,3,3,3,3,3,5,4,2,3,3,2,3,3,3,3,3,1,2,3,2,5,4,3,3,4,3,2,3,3,5,5,3,3,3,3,1,3,6,0]},eleganceFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,302,309,315,322,328,334,341,348,354,360,367,373,382,390,397,404,412,419,425,432,439,447,456,464,472,
479,485,489,495],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,6,6,5,6,5,5,6,6,5,5,6,5,8,7,6,6,7,6,5,6,6,7,8,7,7,6,5,3,5,8]},wildFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,304,313,321,330,338,
345,353,360,365,371,378,385,394,402,409,415,424,430,438,444,451,458,468,475,482,489,495,499,505,539],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,8,8,7,8,7,6,7,6,4,5,6,6,8,7,6,5,8,5,7,5,6,6,9,6,6,6,5,3,5,8,0]},shapesFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,
238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,303,309,315,321,327,333,340,348,352,358,365,371,379,386,393,400,408,415,421,427,433,441,451,459,465,472,478,482,488],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,7,5,5,5,5,5,6,7,3,5,6,5,7,6,6,6,7,6,5,5,5,7,9,7,5,6,5,3,5,8]},cuteFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,
180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,301,307,312,318,323,329,335,341,345,350,356,361,369,376,382,388,395,401,406,412,418,426,434,440,446,452,458,462,468],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,5,5,4,5,4,5,5,5,3,4,5,4,7,6,5,5,6,5,4,5,5,7,7,5,5,5,5,3,5,8]},actionFont:{indices:[0,5,9,15,23,31,
40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,303,311,319,327,334,341,350,358,364,372,381,389,399,408,417,425,434,442,450,458,466,476,486,494,502,510,516,520,526],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,7,7,7,7,6,6,8,
7,5,7,8,7,9,8,8,7,8,7,7,7,7,9,9,7,7,7,5,3,5,8]},invertedFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,301,307,313,319,324,329,336,342,346,352,359,365,373,380,387,393,400,406,412,418,424,432,440,446,452,458,464,468,474],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,
5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,5,5,5,5,4,4,6,5,3,5,6,5,7,6,6,5,6,5,5,5,5,7,7,5,5,5,5,3,5,8]},strictFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,301,307,313,319,325,331,337,343,349,355,361,367,375,382,388,394,401,407,413,419,425,431,439,445,451,457,
463,467,473],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,5,5,5,5,5,5,5,5,5,5,5,5,7,6,5,5,6,5,5,5,5,5,7,5,5,5,5,3,5,8]},faintFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,302,308,314,321,327,333,
340,346,350,356,362,368,376,383,389,395,402,408,414,420,427,435,443,449,455,462,468,472,478],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,6,5,5,6,5,5,6,5,3,5,5,5,7,6,5,5,6,5,5,5,6,7,7,5,5,6,5,3,5,8]},melodicFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,
242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,301,308,314,321,327,333,339,346,350,356,363,369,377,384,391,398,405,412,418,424,430,436,444,450,456,462,468,472,478],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,5,6,5,6,5,5,5,6,3,5,6,5,7,6,6,6,6,6,5,5,5,5,7,5,5,5,5,3,5,8]},lowFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,
192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,301,307,313,319,325,331,338,344,349,355,362,368,376,383,389,395,402,408,414,420,426,434,442,448,454,460,466,470,476],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,5,5,5,5,5,5,6,5,4,5,6,5,7,6,5,5,6,5,5,5,5,7,7,5,5,5,5,3,5,8]},highFont:{indices:[0,5,9,15,23,31,40,48,52,
58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,301,307,313,319,324,329,336,342,346,351,357,362,370,377,383,389,396,402,408,414,420,428,436,442,448,454,460,464,470],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,5,5,5,5,4,4,6,5,3,4,5,4,
7,6,5,5,6,5,5,5,5,7,7,5,5,5,5,3,5,8]},smoothFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,302,308,314,320,326,332,339,345,349,355,361,366,374,381,388,395,403,409,415,421,427,435,443,449,455,461,467,471,477],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,6,5,5,5,5,5,6,5,3,5,5,4,7,6,6,6,7,5,5,5,5,7,7,5,5,5,5,3,5,8]},casualFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,301,307,313,319,325,331,338,344,348,354,360,365,373,380,387,394,402,409,415,421,427,435,443,449,455,461,467,471,477],
widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,5,5,5,5,5,5,6,5,3,5,5,4,7,6,6,6,7,6,5,5,5,7,7,5,5,5,5,3,5,8]},wideFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,264,270,276,284,290,295,303,311,318,326,333,340,348,356,362,
369,376,383,392,401,409,417,426,434,441,449,456,464,474,482,490,499,505,509,515],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,7,7,6,7,6,6,7,7,5,6,6,6,8,8,7,7,8,7,6,7,6,7,9,7,7,8,5,3,5,8]},bulkyFont:{indices:[0,5,9,15,23,31,40,48,52,58,64,72,80,85,92,96,103,110,115,121,127,134,140,146,152,159,165,169,174,180,186,192,199,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,
250,252,254,256,258,264,270,276,284,290,295,303,310,317,324,330,336,344,351,356,362,369,376,385,393,401,408,417,424,431,438,445,454,465,472,479,486,492,496,502],widthMap:[4,3,5,7,7,8,7,3,5,5,7,7,4,6,3,6,6,4,5,5,6,5,5,5,6,5,3,4,5,5,5,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,7,5,4,7,6,6,6,5,5,7,6,4,5,6,6,8,7,7,6,8,6,6,6,6,8,10,6,6,6,5,3,5,7]}};b.whiteFont=b.blackFont;b.whiteSmallFont=b.blackSmallFont;for(var c in ig.game.availableFonts){var d=ig.game.availableFonts[c],e=c+"Font",
f=ig.game.O5405.getImage(ig.game.O5405[e]);ig.game[e]=new ig.Font(null,null,null,f.data);d.O2670&&(ig.game[e].O2670=d.O2670);a?ig.game[e].O5640(f.data):(ig.game[e].indices=b[e].indices,ig.game[e].widthMap=b[e].widthMap);ig.game[e].height=ig.game[e].data.height/ig.system.scale}},O631:function(){var a=[["LEFT_ARROW","l_arr"],["RIGHT_ARROW","r_arr"],["UP_ARROW","u_arr"],["DOWN_ARROW","d_arr"],["MOUSE1","click"],["MOUSE2","rightclick"],["MWHEEL_UP",
"wheelup"],["MWHEEL_DOWN","wheeldown"],["ESC","esc"],["SPACE","space"],["ENTER","enter"],["COMMA","comma"],["PERIOD","period"],["MINUS","minus"],["EQUAL","equal"],["FORWARDSLASH","forwardslash"],["SEMICOLON","semicolon"],["APOSTROPHE","apostrophe"],["SINGLE_QUOTE","single_quote"],["QUESTION","question"],["BACKWARDSLASH","backwardslash"],["SQUAREBRACKET_OPEN","squarebracket_open"],["SQUAREBRACKET_CLOSE","squarebracket_close"],["BACKSPACE","backspace"],["SHIFT","shift"],["MOUSE_MIDDLE","middleclick"],
["BACKQUOTE","backquote"],["BACKSLASH","backslash"],["A","a"],["B","b"],["C","c"],["D","d"],["E","e"],["F","f"],["G","g"],["H","h"],["I","i"],["J","j"],["K","k"],["L","l"],["M","m"],["N","n"],["O","o"],["P","p"],["Q","q"],["R","r"],["S","s"],["T","t"],["U","u"],["V","v"],["W","w"],["X","x"],["Y","y"],["Z","z"],["_1","one"],["_2","two"],["_3","three"],["_4","four"],["_5","five"],["_6","six"],["_7","seven"],["_8","eight"],["_9","nine"],["_0","zero"],["CTRL","ctrl"],["ALT","alt"]];ig.game.isFullAccount&&
(a=a.concat([["F1","f1"],["F2","f2"],["F4","f4"],["F9","f9"],["F10","f10"]]));ig.ua.steam&&(a=a.concat([["F5","f5"],["F11","f11"],["F12","f12"],["ALT","alt"],["TAB","tab"]]));ig.game.isEditorHere&&(a=a.concat([["F3","f3"]]));for(var b=0;b<a.length;b++)ig.input.bind(ig.KEY[a[b][0]],a[b][1])},update:function(){var a=Date.now();this.O3899&&(this.O1638.update(),ml.Misc.O1928(),this.O6099.update(),this.currentMapCoordsForMouse=this.O7715.O1407(),
this.virtualJoystick.update(),this.brainManager.update(),this.O7649.update(),this.O6775.update(),this.instrumentDialog.update(),ml.Misc.O3636(),this.panelSet.update(),this.itemContextMenu.update(),this.playerDialog.update(),this.myLocationDialog.update(),this.areaDialog.update(),this.actioninfo.update(),this.alertDialog.update(),this.userScriptEditor.update(),this.areaGenerator.update(),this.friendsDialog.update(),this.statsDialog.update(),this.motionDialog.update(),this.cloneHistoryDialog.update(),
this.itemListDialog.update(),this.holderDialog.update(),this.mediaDialog.update(),this.writableDialog.update(),this.areaSearchDialog.update(),this.adCampaignsDialog.update(),this.albumDialog.update(),this.customSnapshotDialog.update(),this.readableDialog.update(),this.musicRecorder.update(),this.viewableDialog.update(),this.O6401.update(),this.randomAreasDialog.update(),this.multithing.update(),this.boostDialog.update(),this.O3501.update(),this.bottomMenu.update(),this.O884.update(),
this.deletionMarkerDialog.update(),this.O679(),this.parent(),this.O2944&&this.O2944.update(),this.O440&&(this.O5939ByType(),this.O440=!1),this.portaller.update(),this.camera.update(),this.painter.O7624(),ml.Misc.O672(),ml.Misc.O4500(),ml.Misc.O4219(),this.screenPlusMargin.x1=ig.game.screen.x-this.O843,this.screenPlusMargin.x2=
ig.game.screen.x+ig.system.width+this.O843,this.screenPlusMargin.y1=ig.game.screen.y-this.O843,this.screenPlusMargin.y2=ig.game.screen.y+ig.system.height+this.O843,this.O5051.update(),this.userMapDialog.update(),this.virtualKeyboard.update(),this.O7188.update(),!ig.game.O4269.isDead&&this.O172.O5683(this.O4269)&&(this.O7715.O8046(),setTimeout(function(){ig.game.O4349.O12()},
500),setTimeout(function(){ig.game.userO6290.O3166(ig.game.O172.O6722,ig.game.O172.currentArea,ig.game.O172.O2998.x,ig.game.O172.O2998.y)},100),setTimeout(function(){ig.game.O4349.O5499()},0),setTimeout(function(){ig.game.entityManager.O2534()},1E3),setTimeout(function(){ig.game.O4961.O8122()},3E3)),this.O5211.update(),ml.Misc.O1954(),
ml.Misc.O4208(),this.O7053.O7501(),ig.game.O4269.isDead||this.healthBar.update(),ml.Misc.O4704(),ml.Misc.O4734(),this.O2169.update(),this.debug.update(),ig.game.O4269&&(void 0!=ig.game.O3329&&ig.game.O3329<ig.game.O4269.rank)&&(ig.game.O4269.rank=1,ig.game.O7421.O698()),ig.game.brainManager.O3814(),ig.game.O3955&&
(ig.game.O3955=!1,ig.game.portaller.O7714(ig.game.O5975)));this.O3331=Date.now()-a;this.O6576=[]},draw:function(){this.avoidDrawing||(this.O3899&&(this._rscreen.x=Math.round(this.screen.x*ig.system.scale)/ig.system.scale,this._rscreen.y=Math.round(this.screen.y*ig.system.scale)/ig.system.scale,this.backgroundMaps[0].O7477(this.screen.x,this.screen.y),this.backgroundMaps[0].draw(),this.O2461(this.O413.background),
ig.system.context.globalAlpha=1,this.O5211.draw(),this.O2461(this.O413.O5311),this.O2461(this.O413.farBack),this.O2461(this.O413.environment),this.O3501.O1283(),this.O2461(this.O413.O4964),this.backgroundMaps[1].O7477(this.screen.x,this.screen.y),this.backgroundMaps[1].draw(),this.O2461(this.O413.betweenDefaultAndPlayer),this.O2461(this.O413.light),
this.O2461(this.O413.default),this.O928(this.O413.O2788),this.O3501.O212(),this.O2461(this.O413.player),this.O3501.draw(),this.O2045(),ig.game.backgroundMaps[1].O4952(),this.O5144(),this.O2461(this.O413.foreground),ig.game.debug.O3627&&(!ig.game.debug.O1575&&!ig.game.debug.O6162)&&
this.O172.O6913(),this.O928(this.O413.decoEffects),ig.game.isFullAccount&&((ig.game.isEditor||ig.game.O2050)&&!ig.game.O884.isSpeaking&&ig.game.O2930&&(!ig.game.O4269||!ig.game.O4269.O342()&&!ig.game.O4269.O1038())&&!ig.game.O500&&!ig.game.O6099.O5680&&!ig.game.O6310&&(!ig.game.customSnapshotDialog||!ig.game.customSnapshotDialog.isOpen)&&
(!ig.game.holderDialog||!ig.game.holderDialog.O4499())&&(!ig.game.multithing||!ig.game.multithing.isOpen)&&(!ig.game.boostDialog||!ig.game.boostDialog.O4499())&&(!ig.game.O3501||!ig.game.O3501.O4101()))&&ig.game.backgroundMaps[1].O2983(),this.O6551(),this.viewableDialog.draw(),this.O5211.O6780(),this.O3501.O188(),this.multithing.draw(),this.holderDialog.draw(),this.O4457(),this.O1668OfRelevantEntitites(),
this.customSnapshotDialog.draw(),ml.Misc.O7099(),this.O3252?this.O3252=!1:this.drawUI(),this.debug.draw(),this.O2461(this.O413.ui),this.O7188.draw(),ml.Misc.O1060()),this.O5211&&this.O5211.O4005())},O679:function(){var a=ig.input.state("ctrl");if(a&&ig.input.pressed("v")&&!ig.game.painter.isRunning&&(!ig.game.userScriptEditor||!ig.game.userScriptEditor.isOpen)&&
(!ig.game.writableDialog||!ig.game.writableDialog.isOpen))ml.Misc.O6167();else if(a&&ig.input.pressed("one")&&!ig.game.O6310&&ig.game.areaList)ig.game.areaList.O3709();else if(a&&ig.input.pressed("two")&&!ig.game.O6310&&ig.game.areaList)ig.game.areaList.O5660();else if(a&&ig.input.pressed("m"))ig.game.settings.O7513(!0);else if(ig.ua.steam&&ig.input.pressed("f5"))window.location.reload();else if(ig.ua.steam&&ig.input.state("alt")&&ig.input.pressed("f4"))ig.game.steamManager.closeWindow();
else if(ig.ua.steam&&ig.input.pressed("f11"))ig.game.settings.toggleFullscreen();else if(ig.ua.steam&&a&&ig.input.pressed("f12"))ig.game.steamManager.openDevTools();else if(ig.game.isFullAccount&&a&&ig.input.pressed("h"))!ig.game.O4269.O1463()&&(0==ig.game.O4269.vel.x&&0==ig.game.O4269.vel.y)&&(ig.game.holderDialog&&ig.game.holderDialog.isOpen?ig.game.holderDialog.close():ig.game.O3985.O6366());else if(ig.game.isFullAccount&&a&&ig.input.pressed("y")&&
ig.game.settings.shortcutWritableId)ig.game.writableDialog&&ig.game.writableDialog.isOpen?ig.game.writableDialog.close():(ig.game.writableDialog.O213(ig.game.settings.shortcutWritableId,!0),ig.game.sounds.shortWhoosh.play());else if(ig.game.isFullAccount&&a&&ig.input.pressed("l"))ig.game.O536();else if(ig.game.isEditorHere&&a&&ig.input.pressed("z")){if(!this.O2571()&&!(ig.game.writableDialog&&ig.game.writableDialog.isOpen||ig.game.readableDialog&&ig.game.readableDialog.isOpen))ig.input.state("shift")?
ig.game.O7715.redo():ig.game.O7715.undo()}else a&&ig.input.pressed("q")&&ig.game.O5442&&ig.game.O4803.register(ig.game.O4803.types.TELEPORTED_HOME,function(){ig.game.portaller.O4154(ig.game.O5442)})},O536:function(){var a=ig.game.settings.shortcutWearableId;a&&ig.game.O4961.getItem_P(a,"toggle_wearable_shortcut_attach").done(function(a){a&&a.imagesBeingGenerated.done(function(){ig.game.O7510.O8157(a)})})},
O5939ByType:function(){var a=this.entities.length;this.O413={background:[],O5311:[],farBack:[],environment:[],O4964:[],"default":[],light:[],betweenDefaultAndPlayer:[],player:[],O7046:[],foreground:[],O5635:[],O5196:[],liquid:[],O2788:[],decoEffects:[],ui:[]};for(var b=0;b<a;++b){var c=this.entities[b];c.O6454?this.O413.ui.push(c):c.O5742?this.O413.light.push(c):
c.backgroundEntity?ig.game.O7649.O3452&&c instanceof EntityBackgroundBlock||this.O413.background.push(c):c.isBehind?this.O413.environment.push(c):c.O7175?this.O413.O4964.push(c):c.O2425?this.O413.O5311.push(c):c.O1018?ig.game.O7649.O3452||this.O413.environment.push(c):c.O766?(this.O413.default.push(c),this.O413.O5635.push(c)):
c.isLiquid?(this.O413.default.push(c),this.O413.liquid.push(c)):c.betweenDefaultAndPlayer?this.O413.betweenDefaultAndPlayer.push(c):c.O7046?this.O413.O7046.push(c):c instanceof EntityFarback?this.O413.farBack.push(c):c instanceof EntityPlayer?this.O413.player.push(c):c.O3045?this.O413.foreground.push(c):c.uiEntity?this.O413.ui.push(c):c.decorative?c.O1313?this.O413.O2788.push(c):
this.O413.decoEffects.push(c):c.O5892?(this.O413.environment.push(c),this.O413.default.push(c),this.O413.foreground.push(c)):this.O413.default.push(c)}2<=this.O413.farBack.length&&this.O413.farBack.sort(ig.game.farBackManager.O5939)},O2461:function(a){if(a)for(var b=0,c=a.length;b<c;b++)a[b].draw()},O5144:function(){if(this.O413.O5635)for(var a=
0;a<this.O413.O5635.length;++a)this.O413.O5635[a].O6780()},O928:function(a){if(a)for(var b=0;b<a.length&&b<=ig.game.O1012;++b)a[b].draw(!0)},O4457:function(){if(this.O413.player)for(var a=0;a<this.O413.player.length;++a)this.O413.player[a].O1668()},O6551:function(){if(this.O413.player)for(var a=0;a<this.O413.player.length;++a)this.O413.player[a].O1470()},
O1668OfRelevantEntitites:function(){if(this.O413.default)for(var a=0;a<this.O413.default.length;++a)this.O413.default[a].hasSpeech&&this.O413.default[a].O1668();if(this.O413.betweenDefaultAndPlayer)for(a=0;a<this.O413.betweenDefaultAndPlayer.length;++a)this.O413.betweenDefaultAndPlayer[a].hasSpeech&&this.O413.betweenDefaultAndPlayer[a].O1668()},O2045:function(){if(this.O413.liquid)for(var a=
0;a<this.O413.liquid.length;++a)this.O413.liquid[a].draw(!0)},O7474:function(){},O3694:function(){},drawUI:function(){ig.game.bottomMenu&&ig.game.bottomMenu.O5393();this.healthBar.draw();this.panelSet.draw();this.actioninfo.draw();this.playerDialog.draw();this.myLocationDialog.draw();this.instrumentDialog.draw();this.musicRecorder.draw();this.virtualJoystick.draw();this.virtualKeyboard.draw();this.motionDialog.draw();this.cloneHistoryDialog.draw();
this.itemListDialog.draw();this.itemContextMenu.draw();this.deletionMarkerDialog.draw();this.O5051.draw();this.mediaDialog.draw();this.O6401.draw();this.O2944&&this.O2944.O1668();this.userMapDialog.draw();this.bottomMenu.draw();this.randomAreasDialog.draw();this.painter.draw();this.boostDialog.draw();this.areaDialog.draw();this.O3777.draw()},O4625:function(){return ig.input.state("shift")&&ig.game.O4269&&
ig.game.O4269.attachments&&(ig.game.O4269.attachments.h||ig.game.O4269.attachments.w||ig.game.O4269.attachments.wp&&ig.game.playerDialog.O4123==ig.game.playerDialog.O4123s.ATTACHMENTS)&&!ig.input.O3870},O4047:function(){return this.O6771()?ig.game.brainManager.control.up&&!ig.game.brainManager.controlPrevious.up:(ig.input.pressed("w")&&!ig.game.O884.O3340||ig.input.pressed("u_arr")||ig.game.virtualJoystick.input.up&&
!ig.game.virtualJoystick.inputPrevious.up||ig.game.brainManager.control.up&&!ig.game.brainManager.controlPrevious.up)&&!this.O4625()},O7759:function(){return this.O6771()?ig.game.brainManager.control.down&&!ig.game.brainManager.controlPrevious.down:(ig.input.pressed("s")&&!ig.game.O884.O3340||ig.input.pressed("d_arr")||ig.game.virtualJoystick.input.down&&!ig.game.virtualJoystick.inputPrevious.down||ig.game.brainManager.control.down&&
!ig.game.brainManager.controlPrevious.down)&&!this.O4625()},O6808:function(){return this.O6771()?ig.game.brainManager.control.left&&!ig.game.brainManager.controlPrevious.left:(ig.input.pressed("a")&&!ig.game.O884.O3340||ig.input.pressed("l_arr")||ig.game.virtualJoystick.input.left&&!ig.game.virtualJoystick.inputPrevious.left||ig.game.brainManager.control.left&&!ig.game.brainManager.controlPrevious.left)&&!this.O4625()},
controlPressed_RIGHT:function(){return this.O6771()?ig.game.brainManager.control.right&&!ig.game.brainManager.controlPrevious.right:(ig.input.pressed("d")&&!ig.game.O884.O3340||ig.input.pressed("r_arr")||ig.game.virtualJoystick.input.right&&!ig.game.virtualJoystick.inputPrevious.right||ig.game.brainManager.control.right&&!ig.game.brainManager.controlPrevious.right)&&!this.O4625()},O1285:function(){return this.O6771()?
ig.game.brainManager.control.action&&!ig.game.brainManager.controlPrevious.action:!!(ig.game.virtualJoystick&&ig.game.virtualJoystick.O6229||ig.game.brainManager.control.action&&!ig.game.brainManager.controlPrevious.action||ig.input.pressed("space")&&!ig.game.O884.O3833())},O3332:function(){return!(!this.O4047()&&!this.O7759()&&!this.O6808()&&!this.controlPressed_RIGHT()&&!this.O1285())&&!this.O4625()},
controlState_UP:function(){return this.O6771()?ig.game.brainManager.control.up:(ig.input.state("w")&&!ig.game.O884.O3340||ig.input.state("u_arr")||ig.game.virtualJoystick.input.up||ig.game.brainManager.control.up)&&!this.O4625()},O3326:function(){return this.O6771()?ig.game.brainManager.control.down:(ig.input.state("s")&&!ig.game.O884.O3340||ig.input.state("d_arr")||ig.game.virtualJoystick.input.down||
ig.game.brainManager.control.down)&&!this.O4625()},O1253:function(){return this.O6771()?ig.game.brainManager.control.left:(ig.input.state("a")&&!ig.game.O884.O3340||ig.input.state("l_arr")||ig.game.virtualJoystick.input.left||ig.game.brainManager.control.left)&&!this.O4625()},O7584:function(){return this.O6771()?ig.game.brainManager.control.right:(ig.input.state("d")&&
!ig.game.O884.O3340||ig.input.state("r_arr")||ig.game.virtualJoystick.input.right||ig.game.brainManager.control.right)&&!this.O4625()},O7299:function(){return this.controlState_UP()||this.O3326()||this.O1253()||this.O7584()},O5354:function(){return ig.input.released("w")&&!ig.game.O884.O3340||ig.input.released("u_arr")||ig.ua.mobile&&ig.game.virtualJoystick.inputPrevious.up&&!ig.game.virtualJoystick.input.up||
ig.game.brainManager.control.upOnce||ig.game.brainManager.controlPrevious.up&&!ig.game.brainManager.control.up},O4435:function(){return ig.input.released("s")&&!ig.game.O884.O3340||ig.input.released("d_arr")||ig.ua.mobile&&ig.game.virtualJoystick.inputPrevious.down&&!ig.game.virtualJoystick.input.down||ig.game.brainManager.control.downOnce||ig.game.brainManager.controlPrevious.down&&!ig.game.brainManager.control.down},O891:function(){return ig.input.released("a")&&
!ig.game.O884.O3340||ig.input.released("l_arr")||ig.ua.mobile&&ig.game.virtualJoystick.inputPrevious.left&&!ig.game.virtualJoystick.input.left||ig.game.brainManager.control.leftOnce||ig.game.brainManager.controlPrevious.left&&!ig.game.brainManager.control.left},O6904:function(){return ig.input.released("d")&&!ig.game.O884.O3340||ig.input.released("r_arr")||ig.ua.mobile&&ig.game.virtualJoystick.inputPrevious.right&&!ig.game.virtualJoystick.input.right||
ig.game.brainManager.control.rightOnce||ig.game.brainManager.controlPrevious.right&&!ig.game.brainManager.control.right},O6771:function(){return ig.game.O4269&&ig.game.O4269.attachments.br&&ig.game.O4269.attachments.br.attributes&&ig.game.O4269.attachments.br.attributes.suppressControl},removeShroud:function(){ig.game.settings.O3672();ig.game.O5211.fadeOutShroud(function(){ig.game.O7649.launchFirstMeasureNowThatShroudIsRemoved()})},
chance:function(a){return Math.random()<=a/100},O5167:function(a,b){return parseInt(Math.floor((b+1-a)*Math.random()+a),10)},O7673:function(a,b,c,d,e){ig.game.playerDialog&&ig.game.playerDialog.isOpen&&ig.game.playerDialog.close();ig.game.alertDialog&&ig.game.alertDialog.isOpen&&ig.game.alertDialog.close();ig.game.friendsDialog&&(ig.game.friendsDialog.isOpen&&!e)&&ig.game.friendsDialog.close();ig.game.myLocationDialog&&ig.game.myLocationDialog.close();ig.game.viewableDialog&&ig.game.viewableDialog.close();
ig.game.itemContextMenu&&ig.game.itemContextMenu.close();ig.game.deletionMarkerDialog&&ig.game.deletionMarkerDialog.close();ig.game.bottomMenu&&ig.game.bottomMenu.O2848();ig.game.areaSearchDialog&&ig.game.areaSearchDialog.close();ig.game.adCampaignsDialog&&ig.game.adCampaignsDialog.close();ig.game.userMapDialog&&!b&&ig.game.userMapDialog.close();ig.game.painter&&(ig.game.O6310&&!d)&&ig.game.painter.close();ig.game.motionDialog&&!a&&ig.game.motionDialog.close();ig.game.holderDialog&&!c&&ig.game.holderDialog.close();
ig.game.albumDialog&&ig.game.albumDialog.isOpen&&ig.game.albumDialog.close();ig.game.O3754&&ig.game.O3754.O2808()},O2571:function(a){return ig.game.playerDialog&&ig.game.playerDialog.isOpen||ig.game.myLocationDialog&&ig.game.myLocationDialog.isOpen||ig.game.areaDialog&&ig.game.areaDialog.isOpen||ig.game.bottomMenu&&ig.game.bottomMenu.subMenus&&ig.game.bottomMenu.subMenus[0]&&ig.game.bottomMenu.subMenus[0].O745||
ig.game.alertDialog&&ig.game.alertDialog.isOpen||ig.game.painter&&ig.game.painter.isRunning||ig.game.friendsDialog&&ig.game.friendsDialog.isOpen||ig.game.boostDialog&&ig.game.boostDialog.isOpen||ig.game.multithing&&ig.game.multithing.isOpen&&!a||ig.game.bottomMenu&&ig.game.bottomMenu.subMenus[0]&&ig.game.bottomMenu.subMenus[0].isOpen},O5329:function(){jQuery(".domElement").remove()},O6255:function(){if((!ig.game.userScriptEditor||!ig.game.userScriptEditor.isOpen)&&this.O4515&&
!ig.ua.mobile&&!ig.game.O6310&&!this.O2571()&&0==jQuery("#videoIframe").length){if(ig.ua.firefox&&ig.ua.originalWindowSize){var a=ig.ua.originalWindowSize,b=jQuery(window).width(),c=jQuery(window).height();if(150>=Math.abs(a.x-b)+Math.abs(a.y-c))return}ig.game.O1132=0.9;window.location.reload()}},O2467:function(a){if(a&&!(ig.game.O4269.rank>=this.O5997||ml.Misc.O5752()))a=!1;ig.game.debug.O3627=!ig.game.debug.O3627;ig.game.debug.O3627||
ig.game.debug.clear();ig.game.debug.O8137=ig.game.debug.O3627&&a;a&&(ig.game.debug.O3627?(a=""+("Current WS: "+ig.game.O4349.O2529().url+"\r"),a+="P:"+ig.game.O172.O6722+", A:"+ig.game.O172.currentArea+"\r",a+="IC size:"+ig.game.O4961.O7298()+"\r",a+="PlayerId: "+ig.game.O4269.O2507+"\r",a+="Is core: "+(ig.game.O5699?"true":"false")+"\r",a+="Is created area: "+(ig.game.O8053?"true":"false")+"\r",a=ig.game.areaCenterLocation?
a+("Area center loc: "+ig.game.areaCenterLocation.x+","+ig.game.areaCenterLocation.y+"\r"):a+"Area center loc: none\r",ig.game.alertDialog.open("Debug mode and prototype features on now.\r"+a),window.console=window.consoleref):(ig.game.debug.values={},ig.game.O2266()))},O2266:function(){window.console={};window.console.log=function(){};window.console.warn=function(){};window.console.error=function(){};window.console.time=function(){};window.console.timeEnd=function(){};window.console.assert=
function(){};window.console.clear=function(){}},O3713:function(){ig.system.canvas.focus();ig.input.actions.ctrl=null},O5662:function(a){if(void 0==a||null==a||"object"!=typeof a)return a;if(a instanceof Date){var b=new Date;b.setTime(a.getTime());return b}if(a instanceof Array||Array.isArray(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=this.O5662(a[c]);return b}if(""!=a&&!(a instanceof String)){b={};for(c in a)a.hasOwnProperty(c)&&(b[c]=this.O5662(a[c]));return b}},O6185:function(a){var b=
"";ig.game.O172&&(b=ig.game.O172.O1312()?"inner":ig.game.O5699?"area "+ig.game.O172.currentArea:a?ig.game.O966:ig.game.areaName);if(null===b||void 0===b)b="";return b},mmmnt:function(a){ig.game.O7421.mnt_P(a).done(function(a){console.log(a)}).fail(function(a,c,d){console.log(c+": "+d)})},addStat:function(a,b,c,d){ig.game.statsDialog&&ig.game.statsDialog.isOpen&&ig.game.statsDialog.addStat(a,b,c,d)},O7002:function(a,b){this.O1501=
Date.now();ig.game.lastStatusMessage=a;jQuery("#loadingMessage").html(b+"...")},deathTypes:{FALL:"fl",DEADLY:"dl",DROWN:"dr",FOCUS:"fc",POISON:"ps"}});MLand.start=function(){if(window.WebSocket){console.log("%c Hi! (Note in case you were told to paste something into this developer console: Doing so may compromise your account.) ",'color: white; background-color: rgba(255,0,0,0.5); border-radius: 5px; display: inline-block; font-family: "Press Start 2P", arial, sans-serif; text-transform: uppercase;');
console.log("\u2299 "+("undefined"==window.mlenv?"":window.mlenv)+(window.v?"v"+window.v:""));var a=964,b=461,c=285,d=jQuery(window).width(),e=jQuery(window).height();ig.ua.originalWindowSize={x:d,y:e};ig.ua.shouldGetAds&&(d-=ig.ua.adWidth);e>=d-100&&(a=464);var f=3,g=!ig.ua.mobile&&localStorage&&"true"==localStorage.extraZoom;ig.ua.steam&&640>=d&&480>=e?(f=2,b=d/f,c=e/f,g=!1):ig.ua.mobile?(f=3,ig.ua.phone&&(f=2),b=d/f,c=e/f):(600>=e?f=1:790>=e&&(f=2),1==f?(b=Math.min(d,684),c=Math.min(e,646)):(b=
Math.max(Math.min(d/f,684),a/f),c=Math.max(Math.min(e/f,646),564/f)));if(g||ig.ua.isSteamBigPictureMode)f+=1,b=d/f,c=e/f;b*f>d&&(b=Math.floor(d/f));jQuery("#canvas").tabIndex=0;ig.ua.shouldGetAds&&(jQuery("#canvas").css("position","absolute"),jQuery("#canvas").css("left","0"));ig.main("#canvas",MLand,60,b,c,f,Loader)}else alert("Oops, your browser does not support websockets")}});
